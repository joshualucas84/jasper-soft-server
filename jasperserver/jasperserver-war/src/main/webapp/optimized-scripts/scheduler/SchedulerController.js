function isMacOS(){return isOS("mac")}function isWindowsOS(){return isOS("win")}function isLinuxOS(){return isOS("linux")}function isOS(e){return navigator.appVersion.toLowerCase().include(e)}function isSupportsTouch(){return isIPad()||isAndroid()}function isMozilla(){return"Netscape"===navigator.appName}function isFirefox(){return navigator.userAgent.toLowerCase().include("firefox")}function isWebKitEngine(){return Prototype.Browser.WebKit}function isChrome(){return navigator.userAgent.toLowerCase().include("chrome")}function isIPad(){return"iPad"==navigator.platform}function isAndroid(){return navigator.userAgent.toLowerCase().include("android")}function isIE(){return"Microsoft Internet Explorer"===navigator.appName||navigator.userAgent.indexOf("Trident/")>=0}function isIE6(){return isIEVersion(6)}function isIE7(){return isIEVersion(7)}function isIE8(){return isIEVersion(8)}function isIE9(){return isIEVersion(9)}function isIE10(){return isIEVersion(10)}function isIE11(){return isIEVersion(11)}function isIEVersion7Upwards(){return getIEVersion()>=7}function isIEVersion(e){return getIEVersion()===e}function getIEVersion(){var e=0;if(getIEVersion.version>=0)return getIEVersion.version;if(isIE())if("Netscape"===navigator.appName){var t=navigator.userAgent,i=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})");null!=i.exec(t)&&(e=parseFloat(RegExp.$1))}else{var n=navigator.appVersion.split("MSIE")[1];e=parseFloat(n)}return getIEVersion.version=e,e}function doNothing(){}function addDataToForm(e,t){var i=function(t,i){var n=jQuery("<input>").attr("type","hidden").attr("name",t).val(i);jQuery(e).append(jQuery(n))};_.each(t,function(e,t){_.isArray(e)?_.each(e,function(e){i(t,e)}):i(t,e)})}function updateYearMonth(e,t,i){return e&&(e.setFullYear(t),e.setMonth(i),e.getMonth()!==i&&e.setMonth(i)),e}function getTZOffset(e,t){if(!e)return 0;var i,n={"africa/abidjan":{utc:0,utc_dst:0},"africa/accra":{utc:0,utc_dst:0},"africa/addis_ababa":{utc:3,utc_dst:3},"africa/algiers":{utc:1,utc_dst:1},"africa/asmara":{utc:3,utc_dst:3},"africa/asmera":{utc:3,utc_dst:3},"africa/bamako":{utc:0,utc_dst:0},"africa/bangui":{utc:1,utc_dst:1},"africa/banjul":{utc:0,utc_dst:0},"africa/bissau":{utc:0,utc_dst:0},"africa/blantyre":{utc:2,utc_dst:2},"africa/brazzaville":{utc:1,utc_dst:1},"africa/bujumbura":{utc:2,utc_dst:2},"africa/cairo":{utc:2,utc_dst:2},"africa/casablanca":{utc:0,utc_dst:1},"africa/ceuta":{utc:1,utc_dst:2},"africa/conakry":{utc:0,utc_dst:0},"africa/dakar":{utc:0,utc_dst:0},"africa/dar_es_salaam":{utc:3,utc_dst:3},"africa/djibouti":{utc:3,utc_dst:3},"africa/douala":{utc:1,utc_dst:1},"africa/el_aaiun":{utc:0,utc_dst:0},"africa/freetown":{utc:0,utc_dst:0},"africa/gaborone":{utc:2,utc_dst:2},"africa/harare":{utc:2,utc_dst:2},"africa/johannesburg":{utc:2,utc_dst:2},"africa/juba":{utc:3,utc_dst:3},"africa/kampala":{utc:3,utc_dst:3},"africa/khartoum":{utc:3,utc_dst:3},"africa/kigali":{utc:2,utc_dst:2},"africa/kinshasa":{utc:1,utc_dst:1},"africa/lagos":{utc:1,utc_dst:1},"africa/libreville":{utc:1,utc_dst:1},"africa/lome":{utc:0,utc_dst:0},"africa/luanda":{utc:1,utc_dst:1},"africa/lubumbashi":{utc:2,utc_dst:2},"africa/lusaka":{utc:2,utc_dst:2},"africa/malabo":{utc:1,utc_dst:1},"africa/maputo":{utc:2,utc_dst:2},"africa/maseru":{utc:2,utc_dst:2},"africa/mbabane":{utc:2,utc_dst:2},"africa/mogadishu":{utc:3,utc_dst:3},"africa/monrovia":{utc:0,utc_dst:0},"africa/nairobi":{utc:3,utc_dst:3},"africa/ndjamena":{utc:1,utc_dst:1},"africa/niamey":{utc:1,utc_dst:1},"africa/nouakchott":{utc:0,utc_dst:0},"africa/ouagadougou":{utc:0,utc_dst:0},"africa/porto-novo":{utc:1,utc_dst:1},"africa/sao_tome":{utc:0,utc_dst:0},"africa/timbuktu":{utc:0,utc_dst:0},"africa/tripoli":{utc:2,utc_dst:2},"africa/tunis":{utc:1,utc_dst:1},"africa/windhoek":{utc:1,utc_dst:2},akst9akdt:{utc:-9,utc_dst:-8},"america/adak":{utc:-10,utc_dst:-9},"america/anchorage":{utc:-9,utc_dst:-8},"america/anguilla":{utc:-4,utc_dst:-4},"america/antigua":{utc:-4,utc_dst:-4},"america/araguaina":{utc:-3,utc_dst:-3},"america/argentina/buenos_aires":{utc:-3,utc_dst:-3},"america/argentina/catamarca":{utc:-3,utc_dst:-3},"america/argentina/comodrivadavia":{utc:-3,utc_dst:-3},"america/argentina/cordoba":{utc:-3,utc_dst:-3},"america/argentina/jujuy":{utc:-3,utc_dst:-3},"america/argentina/la_rioja":{utc:-3,utc_dst:-3},"america/argentina/mendoza":{utc:-3,utc_dst:-3},"america/argentina/rio_gallegos":{utc:-3,utc_dst:-3},"america/argentina/salta":{utc:-3,utc_dst:-3},"america/argentina/san_juan":{utc:-3,utc_dst:-3},"america/argentina/san_luis":{utc:-3,utc_dst:-3},"america/argentina/tucuman":{utc:-3,utc_dst:-3},"america/argentina/ushuaia":{utc:-3,utc_dst:-3},"america/aruba":{utc:-4,utc_dst:-4},"america/asuncion":{utc:-4,utc_dst:-3},"america/atikokan":{utc:-5,utc_dst:-5},"america/atka":{utc:-10,utc_dst:-9},"america/bahia":{utc:-3,utc_dst:-2},"america/bahia_banderas":{utc:-6,utc_dst:-5},"america/barbados":{utc:-4,utc_dst:-4},"america/belem":{utc:-3,utc_dst:-3},"america/belize":{utc:-6,utc_dst:-6},"america/blanc-sablon":{utc:-4,utc_dst:-4},"america/boa_vista":{utc:-4,utc_dst:-4},"america/bogota":{utc:-5,utc_dst:-5},"america/boise":{utc:-7,utc_dst:-6},"america/buenos_aires":{utc:-3,utc_dst:-3},"america/cambridge_bay":{utc:-7,utc_dst:-6},"america/campo_grande":{utc:-4,utc_dst:-3},"america/cancun":{utc:-6,utc_dst:-5},"america/caracas":{utc:-4.5,utc_dst:-4.5},"america/catamarca":{utc:-3,utc_dst:-3},"america/cayenne":{utc:-3,utc_dst:-3},"america/cayman":{utc:-5,utc_dst:-5},"america/chicago":{utc:-6,utc_dst:-5},"america/chihuahua":{utc:-7,utc_dst:-6},"america/coral_harbour":{utc:-5,utc_dst:-5},"america/cordoba":{utc:-3,utc_dst:-3},"america/costa_rica":{utc:-6,utc_dst:-6},"america/creston":{utc:-7,utc_dst:-7},"america/cuiaba":{utc:-4,utc_dst:-3},"america/curacao":{utc:-4,utc_dst:-4},"america/danmarkshavn":{utc:0,utc_dst:0},"america/dawson":{utc:-8,utc_dst:-7},"america/dawson_creek":{utc:-7,utc_dst:-7},"america/denver":{utc:-7,utc_dst:-6},"america/detroit":{utc:-5,utc_dst:-4},"america/dominica":{utc:-4,utc_dst:-4},"america/edmonton":{utc:-7,utc_dst:-6},"america/eirunepe":{utc:-4,utc_dst:-4},"america/el_salvador":{utc:-6,utc_dst:-6},"america/ensenada":{utc:-8,utc_dst:-7},"america/fort_wayne":{utc:-5,utc_dst:-4},"america/fortaleza":{utc:-3,utc_dst:-3},"america/glace_bay":{utc:-4,utc_dst:-3},"america/godthab":{utc:-3,utc_dst:-2},"america/goose_bay":{utc:-4,utc_dst:-3},"america/grand_turk":{utc:-5,utc_dst:-4},"america/grenada":{utc:-4,utc_dst:-4},"america/guadeloupe":{utc:-4,utc_dst:-4},"america/guatemala":{utc:-6,utc_dst:-6},"america/guayaquil":{utc:-5,utc_dst:-5},"america/guyana":{utc:-4,utc_dst:-4},"america/halifax":{utc:-4,utc_dst:-3},"america/havana":{utc:-5,utc_dst:-4},"america/hermosillo":{utc:-7,utc_dst:-7},"america/indiana/indianapolis":{utc:-5,utc_dst:-4},"america/indiana/knox":{utc:-6,utc_dst:-5},"america/indiana/marengo":{utc:-5,utc_dst:-4},"america/indiana/petersburg":{utc:-5,utc_dst:-4},"america/indiana/tell_city":{utc:-6,utc_dst:-5},"america/indiana/vevay":{utc:-5,utc_dst:-4},"america/indiana/vincennes":{utc:-5,utc_dst:-4},"america/indiana/winamac":{utc:-5,utc_dst:-4},"america/indianapolis":{utc:-5,utc_dst:-4},"america/inuvik":{utc:-7,utc_dst:-6},"america/iqaluit":{utc:-5,utc_dst:-4},"america/jamaica":{utc:-5,utc_dst:-5},"america/jujuy":{utc:-3,utc_dst:-3},"america/juneau":{utc:-9,utc_dst:-8},"america/kentucky/louisville":{utc:-5,utc_dst:-4},"america/kentucky/monticello":{utc:-5,utc_dst:-4},"america/knox_in":{utc:-6,utc_dst:-5},"america/kralendijk":{utc:-4,utc_dst:-4},"america/la_paz":{utc:-4,utc_dst:-4},"america/lima":{utc:-5,utc_dst:-5},"america/los_angeles":{utc:-8,utc_dst:-7},"america/louisville":{utc:-5,utc_dst:-4},"america/lower_princes":{utc:-4,utc_dst:-4},"america/maceio":{utc:-3,utc_dst:-3},"america/managua":{utc:-6,utc_dst:-6},"america/manaus":{utc:-4,utc_dst:-4},"america/marigot":{utc:-4,utc_dst:-4},"america/martinique":{utc:-4,utc_dst:-4},"america/matamoros":{utc:-6,utc_dst:-5},"america/mazatlan":{utc:-7,utc_dst:-6},"america/mendoza":{utc:-3,utc_dst:-3},"america/menominee":{utc:-6,utc_dst:-5},"america/merida":{utc:-6,utc_dst:-5},"america/metlakatla":{utc:-8,utc_dst:-8},"america/mexico_city":{utc:-6,utc_dst:-5},"america/miquelon":{utc:-3,utc_dst:-2},"america/moncton":{utc:-4,utc_dst:-3},"america/monterrey":{utc:-6,utc_dst:-5},"america/montevideo":{utc:-3,utc_dst:-2},"america/montreal":{utc:-5,utc_dst:-4},"america/montserrat":{utc:-4,utc_dst:-4},"america/nassau":{utc:-5,utc_dst:-4},"america/new_york":{utc:-5,utc_dst:-4},"america/nipigon":{utc:-5,utc_dst:-4},"america/nome":{utc:-9,utc_dst:-8},"america/noronha":{utc:-2,utc_dst:-2},"america/north_dakota/beulah":{utc:-6,utc_dst:-5},"america/north_dakota/center":{utc:-6,utc_dst:-5},"america/north_dakota/new_salem":{utc:-6,utc_dst:-5},"america/ojinaga":{utc:-7,utc_dst:-6},"america/panama":{utc:-5,utc_dst:-5},"america/pangnirtung":{utc:-5,utc_dst:-4},"america/paramaribo":{utc:-3,utc_dst:-3},"america/phoenix":{utc:-7,utc_dst:-7},"america/port_of_spain":{utc:-4,utc_dst:-4},"america/port-au-prince":{utc:-5,utc_dst:-4},"america/porto_acre":{utc:-4,utc_dst:-4},"america/porto_velho":{utc:-4,utc_dst:-4},"america/puerto_rico":{utc:-4,utc_dst:-4},"america/rainy_river":{utc:-6,utc_dst:-5},"america/rankin_inlet":{utc:-6,utc_dst:-5},"america/recife":{utc:-3,utc_dst:-3},"america/regina":{utc:-6,utc_dst:-6},"america/resolute":{utc:-6,utc_dst:-5},"america/rio_branco":{utc:-4,utc_dst:-4},"america/rosario":{utc:-3,utc_dst:-3},"america/santa_isabel":{utc:-8,utc_dst:-7},"america/santarem":{utc:-3,utc_dst:-3},"america/santiago":{utc:-4,utc_dst:-3},"america/santo_domingo":{utc:-4,utc_dst:-4},"america/sao_paulo":{utc:-3,utc_dst:-2},"america/scoresbysund":{utc:-1,utc_dst:0},"america/shiprock":{utc:-7,utc_dst:-6},"america/sitka":{utc:-9,utc_dst:-8},"america/st_barthelemy":{utc:-4,utc_dst:-4},"america/st_johns":{utc:-3.5,utc_dst:-2.5},"america/st_kitts":{utc:-4,utc_dst:-4},"america/st_lucia":{utc:-4,utc_dst:-4},"america/st_thomas":{utc:-4,utc_dst:-4},"america/st_vincent":{utc:-4,utc_dst:-4},"america/swift_current":{utc:-6,utc_dst:-6},"america/tegucigalpa":{utc:-6,utc_dst:-6},"america/thule":{utc:-4,utc_dst:-3},"america/thunder_bay":{utc:-5,utc_dst:-4},"america/tijuana":{utc:-8,utc_dst:-7},"america/toronto":{utc:-5,utc_dst:-4},"america/tortola":{utc:-4,utc_dst:-4},"america/vancouver":{utc:-8,utc_dst:-7},"america/virgin":{utc:-4,utc_dst:-4},"america/whitehorse":{utc:-8,utc_dst:-7},"america/winnipeg":{utc:-6,utc_dst:-5},"america/yakutat":{utc:-9,utc_dst:-8},"america/yellowknife":{utc:-7,utc_dst:-6},"antarctica/casey":{utc:11,utc_dst:8},"antarctica/davis":{utc:5,utc_dst:7},"antarctica/dumontdurville":{utc:10,utc_dst:10},"antarctica/macquarie":{utc:11,utc_dst:11},"antarctica/mawson":{utc:5,utc_dst:5},"antarctica/mcmurdo":{utc:12,utc_dst:13},"antarctica/palmer":{utc:-4,utc_dst:-3},"antarctica/rothera":{utc:-3,utc_dst:-3},"antarctica/south_pole":{utc:12,utc_dst:13},"antarctica/syowa":{utc:3,utc_dst:3},"antarctica/vostok":{utc:6,utc_dst:6},"arctic/longyearbyen":{utc:1,utc_dst:2},"asia/aden":{utc:3,utc_dst:3},"asia/almaty":{utc:6,utc_dst:6},"asia/amman":{utc:2,utc_dst:3},"asia/anadyr":{utc:12,utc_dst:12},"asia/aqtau":{utc:5,utc_dst:5},"asia/aqtobe":{utc:5,utc_dst:5},"asia/ashgabat":{utc:5,utc_dst:5},"asia/ashkhabad":{utc:5,utc_dst:5},"asia/baghdad":{utc:3,utc_dst:3},"asia/bahrain":{utc:3,utc_dst:3},"asia/baku":{utc:4,utc_dst:5},"asia/bangkok":{utc:7,utc_dst:7},"asia/beirut":{utc:2,utc_dst:3},"asia/bishkek":{utc:6,utc_dst:6},"asia/brunei":{utc:8,utc_dst:8},"asia/calcutta":{utc:5.5,utc_dst:5.5},"asia/choibalsan":{utc:8,utc_dst:8},"asia/chongqing":{utc:8,utc_dst:8},"asia/chungking":{utc:8,utc_dst:8},"asia/colombo":{utc:5.5,utc_dst:5.5},"asia/dacca":{utc:6,utc_dst:6},"asia/damascus":{utc:2,utc_dst:3},"asia/dhaka":{utc:6,utc_dst:6},"asia/dili":{utc:9,utc_dst:9},"asia/dubai":{utc:4,utc_dst:4},"asia/dushanbe":{utc:5,utc_dst:5},"asia/gaza":{utc:2,utc_dst:3},"asia/harbin":{utc:8,utc_dst:8},"asia/hebron":{utc:2,utc_dst:3},"asia/ho_chi_minh":{utc:7,utc_dst:7},"asia/hong_kong":{utc:8,utc_dst:8},"asia/hovd":{utc:7,utc_dst:7},"asia/irkutsk":{utc:9,utc_dst:9},"asia/istanbul":{utc:2,utc_dst:3},"asia/jakarta":{utc:7,utc_dst:7},"asia/jayapura":{utc:9,utc_dst:9},"asia/jerusalem":{utc:2,utc_dst:3},"asia/kabul":{utc:4.5,utc_dst:4.5},"asia/kamchatka":{utc:12,utc_dst:12},"asia/karachi":{utc:5,utc_dst:5},"asia/kashgar":{utc:8,utc_dst:8},"asia/kathmandu":{utc:5.75,utc_dst:5.75},"asia/katmandu":{utc:5.75,utc_dst:5.75},"asia/kolkata":{utc:5.5,utc_dst:5.5},"asia/krasnoyarsk":{utc:8,utc_dst:8},"asia/kuala_lumpur":{utc:8,utc_dst:8},"asia/kuching":{utc:8,utc_dst:8},"asia/kuwait":{utc:3,utc_dst:3},"asia/macao":{utc:8,utc_dst:8},"asia/macau":{utc:8,utc_dst:8},"asia/magadan":{utc:12,utc_dst:12},"asia/makassar":{utc:8,utc_dst:8},"asia/manila":{utc:8,utc_dst:8},"asia/muscat":{utc:4,utc_dst:4},"asia/nicosia":{utc:2,utc_dst:3},"asia/novokuznetsk":{utc:7,utc_dst:7},"asia/novosibirsk":{utc:7,utc_dst:7},"asia/omsk":{utc:7,utc_dst:7},"asia/oral":{utc:5,utc_dst:5},"asia/phnom_penh":{utc:7,utc_dst:7},"asia/pontianak":{utc:7,utc_dst:7},"asia/pyongyang":{utc:9,utc_dst:9},"asia/qatar":{utc:3,utc_dst:3},"asia/qyzylorda":{utc:6,utc_dst:6},"asia/rangoon":{utc:6.5,utc_dst:6.5},"asia/riyadh":{utc:3,utc_dst:3},"asia/saigon":{utc:7,utc_dst:7},"asia/sakhalin":{utc:11,utc_dst:11},"asia/samarkand":{utc:5,utc_dst:5},"asia/seoul":{utc:9,utc_dst:9},"asia/shanghai":{utc:8,utc_dst:8},"asia/singapore":{utc:8,utc_dst:8},"asia/taipei":{utc:8,utc_dst:8},"asia/tashkent":{utc:5,utc_dst:5},"asia/tbilisi":{utc:4,utc_dst:4},"asia/tehran":{utc:3.5,utc_dst:4.5},"asia/tel_aviv":{utc:2,utc_dst:3},"asia/thimbu":{utc:6,utc_dst:6},"asia/thimphu":{utc:6,utc_dst:6},"asia/tokyo":{utc:9,utc_dst:9},"asia/ujung_pandang":{utc:8,utc_dst:8},"asia/ulaanbaatar":{utc:8,utc_dst:8},"asia/ulan_bator":{utc:8,utc_dst:8},"asia/urumqi":{utc:8,utc_dst:8},"asia/vientiane":{utc:7,utc_dst:7},"asia/vladivostok":{utc:11,utc_dst:11},"asia/yakutsk":{utc:10,utc_dst:10},"asia/yekaterinburg":{utc:6,utc_dst:6},"asia/yerevan":{utc:4,utc_dst:4},"atlantic/azores":{utc:-1,utc_dst:0},"atlantic/bermuda":{utc:-4,utc_dst:-3},"atlantic/canary":{utc:0,utc_dst:1},"atlantic/cape_verde":{utc:-1,utc_dst:-1},"atlantic/faeroe":{utc:0,utc_dst:1},"atlantic/faroe":{utc:0,utc_dst:1},"atlantic/jan_mayen":{utc:1,utc_dst:2},"atlantic/madeira":{utc:0,utc_dst:1},"atlantic/reykjavik":{utc:0,utc_dst:0},"atlantic/south_georgia":{utc:-2,utc_dst:-2},"atlantic/st_helena":{utc:0,utc_dst:0},"atlantic/stanley":{utc:-3,utc_dst:-3},"australia/act":{utc:10,utc_dst:11},"australia/adelaide":{utc:9.5,utc_dst:10.5},"australia/brisbane":{utc:10,utc_dst:10},"australia/broken_hill":{utc:9.5,utc_dst:10.5},"australia/canberra":{utc:10,utc_dst:11},"australia/currie":{utc:10,utc_dst:11},"australia/darwin":{utc:9.5,utc_dst:9.5},"australia/eucla":{utc:8.75,utc_dst:8.75},"australia/hobart":{utc:10,utc_dst:11},"australia/lhi":{utc:10.5,utc_dst:11},"australia/lindeman":{utc:10,utc_dst:10},"australia/lord_howe":{utc:10.5,utc_dst:11},"australia/melbourne":{utc:10,utc_dst:11},"australia/north":{utc:9.5,utc_dst:9.5},"australia/nsw":{utc:10,utc_dst:11},"australia/perth":{utc:8,utc_dst:8},"australia/queensland":{utc:10,utc_dst:10},"australia/south":{utc:9.5,utc_dst:10.5},"australia/sydney":{utc:10,utc_dst:11},"australia/tasmania":{utc:10,utc_dst:11},"australia/victoria":{utc:10,utc_dst:11},"australia/west":{utc:8,utc_dst:8},"australia/yancowinna":{utc:9.5,utc_dst:10.5},"brazil/acre":{utc:-4,utc_dst:-4},"brazil/denoronha":{utc:-2,utc_dst:-2},"brazil/east":{utc:-3,utc_dst:-2},"brazil/west":{utc:-4,utc_dst:-4},"canada/atlantic":{utc:-4,utc_dst:-3},"canada/central":{utc:-6,utc_dst:-5},"canada/eastern":{utc:-5,utc_dst:-4},"canada/east-saskatchewan":{utc:-6,utc_dst:-6},"canada/mountain":{utc:-7,utc_dst:-6},"canada/newfoundland":{utc:-3.5,utc_dst:-2.5},"canada/pacific":{utc:-8,utc_dst:-7},"canada/saskatchewan":{utc:-6,utc_dst:-6},"canada/yukon":{utc:-8,utc_dst:-7},cet:{utc:1,utc_dst:2},"chile/continental":{utc:-4,utc_dst:-3},"chile/easterisland":{utc:-6,utc_dst:-5},cst6cdt:{utc:-6,utc_dst:-5},cuba:{utc:-5,utc_dst:-4},eet:{utc:2,utc_dst:3},egypt:{utc:2,utc_dst:2},eire:{utc:0,utc_dst:1},est:{utc:-5,utc_dst:-5},est5edt:{utc:-5,utc_dst:-4},"etc/gmt":{utc:0,utc_dst:0},"etc/gmt+0":{utc:0,utc_dst:0},"etc/uct":{utc:0,utc_dst:0},"etc/universal":{utc:0,utc_dst:0},"etc/utc":{utc:0,utc_dst:0},"etc/zulu":{utc:0,utc_dst:0},"europe/amsterdam":{utc:1,utc_dst:2},"europe/andorra":{utc:1,utc_dst:2},"europe/athens":{utc:2,utc_dst:3},"europe/belfast":{utc:0,utc_dst:1},"europe/belgrade":{utc:1,utc_dst:2},"europe/berlin":{utc:1,utc_dst:2},"europe/bratislava":{utc:1,utc_dst:2},"europe/brussels":{utc:1,utc_dst:2},"europe/bucharest":{utc:2,utc_dst:3},"europe/budapest":{utc:1,utc_dst:2},"europe/chisinau":{utc:2,utc_dst:3},"europe/copenhagen":{utc:1,utc_dst:2},"europe/dublin":{utc:0,utc_dst:1},"europe/gibraltar":{utc:1,utc_dst:2},"europe/guernsey":{utc:0,utc_dst:1},"europe/helsinki":{utc:2,utc_dst:3},"europe/isle_of_man":{utc:0,utc_dst:1},"europe/istanbul":{utc:2,utc_dst:3},"europe/jersey":{utc:0,utc_dst:1},"europe/kaliningrad":{utc:3,utc_dst:3},"europe/kiev":{utc:2,utc_dst:3},"europe/lisbon":{utc:0,utc_dst:1},"europe/ljubljana":{utc:1,utc_dst:2},"europe/london":{utc:0,utc_dst:1},"europe/luxembourg":{utc:1,utc_dst:2},"europe/madrid":{utc:1,utc_dst:2},"europe/malta":{utc:1,utc_dst:2},"europe/mariehamn":{utc:2,utc_dst:3},"europe/minsk":{utc:3,utc_dst:3},"europe/monaco":{utc:1,utc_dst:2},"europe/moscow":{utc:4,utc_dst:4},"europe/nicosia":{utc:2,utc_dst:3},"europe/oslo":{utc:1,utc_dst:2},"europe/paris":{utc:1,utc_dst:2},"europe/podgorica":{utc:1,utc_dst:2},"europe/prague":{utc:1,utc_dst:2},"europe/riga":{utc:2,utc_dst:3},"europe/rome":{utc:1,utc_dst:2},"europe/samara":{utc:4,utc_dst:4},"europe/san_marino":{utc:1,utc_dst:2},"europe/sarajevo":{utc:1,utc_dst:2},"europe/simferopol":{utc:2,utc_dst:3},"europe/skopje":{utc:1,utc_dst:2},"europe/sofia":{utc:2,utc_dst:3},"europe/stockholm":{utc:1,utc_dst:2},"europe/tallinn":{utc:2,utc_dst:3},"europe/tirane":{utc:1,utc_dst:2},"europe/tiraspol":{utc:2,utc_dst:3},"europe/uzhgorod":{utc:2,utc_dst:3},"europe/vaduz":{utc:1,utc_dst:2},"europe/vatican":{utc:1,utc_dst:2},"europe/vienna":{utc:1,utc_dst:2},"europe/vilnius":{utc:2,utc_dst:3},"europe/volgograd":{utc:4,utc_dst:4},"europe/warsaw":{utc:1,utc_dst:2},"europe/zagreb":{utc:1,utc_dst:2},"europe/zaporozhye":{utc:2,utc_dst:3},"europe/zurich":{utc:1,utc_dst:2},gb:{utc:0,utc_dst:1},"gb-eire":{utc:0,utc_dst:1},gmt:{utc:0,utc_dst:0},"gmt+0":{utc:0,utc_dst:0},gmt0:{utc:0,utc_dst:0},"gmt-0":{utc:0,utc_dst:0},greenwich:{utc:0,utc_dst:0},hongkong:{utc:8,utc_dst:8},hst:{utc:-10,utc_dst:-10},iceland:{utc:0,utc_dst:0},"indian/antananarivo":{utc:3,utc_dst:3},"indian/chagos":{utc:6,utc_dst:6},"indian/christmas":{utc:7,utc_dst:7},"indian/cocos":{utc:6.5,utc_dst:6.5},"indian/comoro":{utc:3,utc_dst:3},"indian/kerguelen":{utc:5,utc_dst:5},"indian/mahe":{utc:4,utc_dst:4},"indian/maldives":{utc:5,utc_dst:5},"indian/mauritius":{utc:4,utc_dst:4},"indian/mayotte":{utc:3,utc_dst:3},"indian/reunion":{utc:4,utc_dst:4},iran:{utc:3.5,utc_dst:4.5},israel:{utc:2,utc_dst:3},jamaica:{utc:-5,utc_dst:-5},japan:{utc:9,utc_dst:9},"jst-9":{utc:9,utc_dst:9},kwajalein:{utc:12,utc_dst:12},libya:{utc:2,utc_dst:2},met:{utc:1,utc_dst:2},"mexico/bajanorte":{utc:-8,utc_dst:-7},"mexico/bajasur":{utc:-7,utc_dst:-6},"mexico/general":{utc:-6,utc_dst:-5},mst:{utc:-7,utc_dst:-7},mst7mdt:{utc:-7,utc_dst:-6},navajo:{utc:-7,utc_dst:-6},nz:{utc:12,utc_dst:13},"nz-chat":{utc:12.75,utc_dst:13.75},"pacific/apia":{utc:13,utc_dst:14},"pacific/auckland":{utc:12,utc_dst:13},"pacific/chatham":{utc:12.75,utc_dst:13.75},"pacific/chuuk":{utc:10,utc_dst:10},"pacific/easter":{utc:-6,utc_dst:-5},"pacific/efate":{utc:11,utc_dst:11},"pacific/enderbury":{utc:13,utc_dst:13},"pacific/fakaofo":{utc:13,utc_dst:13},"pacific/fiji":{utc:12,utc_dst:13},"pacific/funafuti":{utc:12,utc_dst:12},"pacific/galapagos":{utc:-6,utc_dst:-6},"pacific/gambier":{utc:-9,utc_dst:-9},"pacific/guadalcanal":{utc:11,utc_dst:11},"pacific/guam":{utc:10,utc_dst:10},"pacific/honolulu":{utc:-10,utc_dst:-10},"pacific/johnston":{utc:-10,utc_dst:-10},"pacific/kiritimati":{utc:14,utc_dst:14},"pacific/kosrae":{utc:11,utc_dst:11},"pacific/kwajalein":{utc:12,utc_dst:12},"pacific/majuro":{utc:12,utc_dst:12},"pacific/marquesas":{utc:-9.5,utc_dst:-9.5},"pacific/midway":{utc:-11,utc_dst:-11},"pacific/nauru":{utc:12,utc_dst:12},"pacific/niue":{utc:-11,utc_dst:-11},"pacific/norfolk":{utc:11.5,utc_dst:11.5},"pacific/noumea":{utc:11,utc_dst:11},"pacific/pago_pago":{utc:-11,utc_dst:-11},"pacific/palau":{utc:9,utc_dst:9},"pacific/pitcairn":{utc:-8,utc_dst:-8},"pacific/pohnpei":{utc:11,utc_dst:11},"pacific/ponape":{utc:11,utc_dst:11},"pacific/port_moresby":{utc:10,utc_dst:10},"pacific/rarotonga":{utc:-10,utc_dst:-10},"pacific/saipan":{utc:10,utc_dst:10},"pacific/samoa":{utc:-11,utc_dst:-11},"pacific/tahiti":{utc:-10,utc_dst:-10},"pacific/tarawa":{utc:12,utc_dst:12},"pacific/tongatapu":{utc:13,utc_dst:13},"pacific/truk":{utc:10,utc_dst:10},"pacific/wake":{utc:12,utc_dst:12},"pacific/wallis":{utc:12,utc_dst:12},"pacific/yap":{utc:10,utc_dst:10},poland:{utc:1,utc_dst:2},portugal:{utc:0,utc_dst:1},prc:{utc:8,utc_dst:8},pst8pdt:{utc:-8,utc_dst:-7},roc:{utc:8,utc_dst:8},rok:{utc:9,utc_dst:9},singapore:{utc:8,utc_dst:8},turkey:{utc:2,utc_dst:3},uct:{utc:0,utc_dst:0},universal:{utc:0,utc_dst:0},"us/alaska":{utc:-9,utc_dst:-8},"us/aleutian":{utc:-10,utc_dst:-9},"us/arizona":{utc:-7,utc_dst:-7},"us/central":{utc:-6,utc_dst:-5},"us/eastern":{utc:-5,utc_dst:-4},"us/east-indiana":{utc:-5,utc_dst:-4},"us/hawaii":{utc:-10,utc_dst:-10},"us/indiana-starke":{utc:-6,utc_dst:-5},"us/michigan":{utc:-5,utc_dst:-4},"us/mountain":{utc:-7,utc_dst:-6},"us/pacific":{utc:-8,utc_dst:-7},"us/pacific-new":{utc:-8,utc_dst:-7},"us/samoa":{utc:-11,utc_dst:-11},utc:{utc:0,utc_dst:0},wet:{utc:0,utc_dst:1},"w-su":{utc:4,utc_dst:4},zulu:{utc:0,utc_dst:0}};if(e=e.toLowerCase(),"undefined"==typeof n[e])return 0;i=n[e].utc;var s=require("moment");return s(t).isDST()&&(i=n[e].utc_dst),i}function exists(e){return!Object.isUndefined(e)}function isArray(e){return Object.isArray(e)}function isNumber(e){return Object.isNumber(e)}function isNotNullORUndefined(e){return"undefined"!=typeof e&&null!=e}function hasDisabledAttributeSet(e){var t=e.getAttribute("disabled");return isNotNullORUndefined(t)?"0"==t||"false"==t||""==t?!1:!0:!1}function getParentDiv(e){return e.up("div")}function getParentRow(e){return elem.up("tr")}function getParentCell(e){return elem.up("td")}function getParentTable(e){return elem.up("table")}function getAbsoluteParent(e){for(var t=e;!t.style||"absolute"!==t.style.position;){if("body"===t.tagName.toLowerCase())return null;t=t.up()}return t}function getElementWithIdAndTagAndParent(e,t,i){for(var n=i.getElementsByTagName(t),s=0;s<n.length;s++)if(n[s].getAttribute("id")===e)return n[s];return null}function getClosestAncestor(e,t){for(var i;!i;)if(i=$(e).up(t),!i&&(e=e.parentNode,!e||"DIV"!==e.tagName))return null;return i}function isDescendantOf(e,t){for(;"BODY"!=e.tagName;){if(e==t)return!0;e=e.parentNode}return!1}function getCellIndex(e){return e.cellIndex}function getRowIndex(e){return e.rowIndex}function isDisabled(e){if(!e.readAttribute)return!1;if(Draggables&&Draggables.activeDraggable&&Draggables.activeDraggable.dragging&&matchAny(Draggables.activeDraggable.element,[".sizer.dragging"],!1))return!1;var t=!!e.readAttribute("disabled")||e.ancestors().any(function(e){return e.readAttribute("disabled")}),i=matchAny(e,[".disabled"],!0);return t||i}function matchAny(e,t,i){if(!e)return null;for(var n=0;n<t.length;++n)if(e.match&&e.match(t[n]))return e;if(i)for(var n=0;n<t.length;++n){var s=e.up&&e.up(t[n]);if(s)return s}return null}function matchMeOrUp(e,t){for(var i;e&&!i;)i=e.match&&e.match(t)&&e,e=e.parentNode;return i}function stylesMatch(e,t,i){return $(e).getStyle(i)===$(t).getStyle(i)}function getNextMatchingSibling(e,t){for(;e=e.nextSibling;)if(e.match&&e.match(t))return e;return null}function getNextNonMatchingSibling(e,t){for(;e=e.nextSibling;)if(e.match&&!e.match(t))return e;return null}function getPreviousMatchingSibling(e,t){for(;e=e.previousSibling;)if(e.match&&e.match(t))return e;return null}function getPreviousNonMatchingSibling(e,t){for(;e=e.previousSibling;)if(e.match&&!e.match(t))return e;return null}function getAbsoluteOffsets(e){for(var t=e.offsetLeft,i=e.offsetTop,n=e.offsetParent;"BODY"!=n.tagName.toUpperCase()&&"absolute"!=n.style.position;){var t=t+n.offsetLeft,i=i+n.offsetTop;n=n.offsetParent}return"absolute"==n.style.position&&(t+=n.offsetLeft,i+=n.offsetTop),isIE()&&(i+=1),new Array(t,i,t+e.offsetWidth,i+e.offsetHeight)}function getAbsoluteTopOffset(e){for(var t=e.offsetTop,i=e.offsetParent;"BODY"!=i.tagName.toUpperCase()&&"absolute"!=i.style.position;){var t=t+i.offsetTop;i=i.offsetParent}return"absolute"==i.style.position&&(t+=i.offsetTop),isIE()&&(t+=1),t}function getBoxOffsets(e,t){var i=$(e).cumulativeOffset(),n=i[0],s=i[1];if(t){var o=$(e).cumulativeScrollOffset();n-=o[0],s-=o[1]}return new Array(n,s)}function getInnerText(e){return isNotNullORUndefined(e.innerText)?e.innerText:e.textContent}function isPointOverlayingObject(e,t,i){return Position.within(i,e,t)}function boxesOverlap(e,t,i,n,s,o,r,a){return!(t>a||o>n||e>r||s>i)}function boxesOverlapVertically(e,t,i,n){return!(e>=n||i>=t)}function boxesOverlapHorizontally(e,t,i,n){return!(e>=n||i>=t)}function getOuterHeight(e){return e.clientHeight?new Number(e.getStyle("height").replace(/[^\d\.]/g,""))+getBufferHeight(e,!0):0}function getOuterWidth(e){return e.clientWidth?new Number(e.getStyle("width").replace(/[^\d\.]/g,""))+getBufferWidth(e,!0):0}function getBufferHeight(e,t){if(!e.visible())return 0;var i=0,n=/[^\d\.]/g;if(t){var s=e.getStyle("marginTop"),o=e.getStyle("marginBottom");s=null==s?"0px":s,o=null==o?"0px":o,s=s.replace(n,""),o=o.replace(n,""),i=new Number(s).ceil()+new Number(o).ceil()}return i+=new Number(e.getStyle("borderBottomWidth").replace(n,"")).ceil()+new Number(e.getStyle("borderTopWidth").replace(n,"")).ceil()+new Number(e.getStyle("paddingTop").replace(n,"")).ceil()+new Number(e.getStyle("paddingBottom").replace(n,"")).ceil()}function getBufferWidth(e,t){if(!e.visible())return 0;var i=0,n=/[^\d\.]/g;if(t){var s=e.getStyle("marginLeft"),o=e.getStyle("marginRight");s=null==s?"0px":s,o=null==o?"0px":o,s=s.replace(n,""),o=o.replace(n,""),i=new Number(s).ceil()+new Number(o).ceil()}return i+=new Number(e.getStyle("borderLeftWidth").replace(n,"")).ceil()+new Number(e.getStyle("borderRightWidth").replace(n,"")).ceil()+new Number(e.getStyle("paddingLeft").replace(n,"")).ceil()+new Number(e.getStyle("paddingRight").replace(n,"")).ceil()}function getDimensionInPx(e,t){var i={left:"width",right:"width",width:"width",top:"height",bottom:"height",height:"height"},n=e.getStyle(t);if(n.include("%")){var s=e.parentNode,o=s.getStyle(i[t]);if(!o.include("px"))throw"cannot convert to px , because parent dimension not measured in px";return parseInt(n)*parseInt(o)/100}if(n.include("px"))return parseInt(n);throw"cannot convert to px, because unit is neither px or %"}function getActualDimension(e,t){var i={width:"clientWidth",height:"clientHeight"};return e[i[t]]}function purgeChildElements(e){try{var t=e&&e.children;if(!t)return;for(var i=0,n=t.length;n>i;i++)purge(t[i]),purgeChildElements(t[i]),t[i]=null,t[i]=e.removeChild(t[i]);return 0==e.children.length}catch(s){}}function purge(e){var t,i,n,s=e.attributes;if(s)for(i=s.length,t=0;i>t;t+=1)n=s[t].name,"function"==typeof e[n]&&(e[n]=null);if(s=e.childNodes)for(i=s.length,t=0;i>t;t+=1)purge(e.childNodes[t])}function getCaret(e){if(!e)return 0;if(e.selectionStart)return e.selectionStart;if(document.selection){e.focus();var t=document.selection.createRange();if(null==t)return 0;var i=e.createTextRange(),n=i.duplicate();return i.moveToBookmark(t.getBookmark()),n.setEndPoint("EndToStart",i),n.text.length}return 0}function isAlmostInView(e,t){var i=parseInt(getBoxOffsets(e)[1]),n=$(e).cumulativeScrollOffset()[1],s=getWindowHeight();return n+s+t>i}function getTouchedElement(e){var t=e.changedTouches;return t&&t.length>0?$(document.elementFromPoint(t[0].clientX,t[0].clientY)):e.element()}function centerLayer(e){e.style.left=parseInt((getWindowWidth()-parseInt(e.clientWidth))/2+getScrollLeft())+"px",e.style.top=parseInt((getWindowHeight()-parseInt(e.clientHeight))/2+getScrollTop())+"px"}function centerElement(e,t){if(e){if(e.jquery&&(e=$(e.get(0))),t.horz){if(!e.hasClassName("centered_horz"))throw"Element's className "+e.className+" must include 'centered_horz' for function centerLayer to work with these arguments";var i=e.getWidth()||e.getStyle("min-width");if(i){var n=parseInt(i),s=n+getBufferWidth(e,!0),o=e.up().getWidth();o>s&&(e.style.marginLeft=-(n/2)+"px",e.style.left="50%")}}if(t.vert){if(!e.hasClassName("centered_vert"))throw"Element's className "+e.className+" must include 'centered_vert' for function centerLayer to work with these arguments";var r=e.getHeight()||e.getStyle("min-height");if(r){var a=parseInt(r),l=a+getBufferHeight(e,!0),c=e.up().getHeight();c>l&&(e.style.marginTop=-(a/2)+"px",e.style.top="50%")}}}}function parseFunc(e,t){var i=e.className,n=i.indexOf(t);if(n>-1){var s=i.substring(n).split(" ");if(s.length>0){var o=s[0].replace(t,"");return"function"==typeof window[o]?window[o]:null}}return null}function cascadeElement(e,t){var i=parseInt(e.getStyle("width")),n=i+getBufferWidth(e,!0),s=e.up().getWidth(),o=-(t.horzOffset*t.number/2)+t.position*t.horzOffset;s>n&&(e.style.left=(s-n)/2+o+"px");var r=parseInt(e.getStyle("height")),a=r+getBufferHeight(e,!0),l=e.up().getHeight(),c=-(t.vertOffset*t.number/2)+t.position*t.vertOffset;l>a&&(e.style.top=(l-a)/2+c+"px")}function fitObjectIntoScreen(e,t,i,n,s){var o=t?parseInt(t):parseInt(e.offsetLeft),r=i?parseInt(i):parseInt(e.offsetTop),a=n?parseInt(n):parseInt(e.clientWidth),l=s?parseInt(s):parseInt(e.clientHeight),c=getScrollLeft(),u=getScrollTop(),d=getWindowWidth(),h=getWindowHeight();a+=20,l+=20,r+l>u+h&&(r=u+h-l),u>r&&(r=u),o+a>c+d&&(o=c+d-a),c>o&&(o=c),e.style.left=o+"px",e.style.top=r+"px"}function setWidthStyleByReflection(e,t){e=t?$(e).select(t)[0]:e,e&&(e.style.width=(e.clientWidth||e.offsetWidth)+"px")}function focusOn(e){$(e).focus()}function selectAndFocusOn(e){var t=$(e);t.select(),t.focus()}function renderHazeLayer(e,t){var i=document.body;return renderOverlay(e,t,i.scrollWidth,i.scrollHeight,"haze")}function renderOverlay(e,t,i,n,s){var o=document.createElement("DIV");return o.className=s,o.style.position="absolute",o.style.left=e,o.style.top=t,o.style.width=i,o.style.height=n,document.body.appendChild(o),o}function removeOverlay(e){e&&e.parentNode&&e.parentNode.removeChild(e),e&&(e=null)}function reParent(e,t){e&&(e.parentNode&&e.parentNode==t||t.appendChild(e))}function getScrollLeftForAbsoluteParent(e){return isIE()?e.scrollLeft:0}function getScrollTopForAbsoluteParent(e){return isIE()?e.scrollTop:0}function renderTransparentIFrame(e,t,i,n){var s=5,o=document.createElement("IFRAME");return o.frameBorder=0,o.style.filter="alpha(opacity=0)",o.style.position="absolute",o.style.left=e-s,o.style.top=t-s,o.style.width=i-2*s,o.style.height=n-2*s,document.body.appendChild(o),o}function pushOverlayObject(e,t,i){var n=getAbsoluteOffsets($(e));pushOverlayObjectAtOffsets(n,t,i)}function pushTotalOverlayObject(e,t){var i=new Array(0,0,document.body.scrollWidth,document.body.scrollHeight);pushOverlayObjectAtOffsets(i,e,t)}function pushOverlayObjectAtOffsets(e,t,i){if(isIE()){var n=renderTransparentIFrame(e[0],e[1],e[2]-e[0],e[3]-e[1]);overlayObjectStack.push(n)}var s=renderOverlay(e[0],e[1],e[2]-e[0],e[3]-e[1],t);i&&(s.style.zIndex=i),overlayObjectStack.push(s)}function popOverlayObject(){if(overlayObjectStack.length>0){var e=overlayObjectStack.pop();removeOverlay(e),isIE()&&overlayObjectStack.length>0&&removeOverlay(overlayObjectStack.pop())}}function popAllOverlayObjects(){for(;overlayObjectStack.length>0;){var e=overlayObjectStack.pop();
removeOverlay(e)}}function disableSelection(e){e&&("undefined"!=typeof e.style.KhtmlUserSelect?e.onselectstart=function(e){return e.stopPropagation(),!1}:"undefined"!=typeof e.onselectstart?e.onselectstart=function(e){return e=e?e:window.event,e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,!1}:"undefined"!=typeof e.style.MozUserSelect&&(e.style.MozUserSelect="-moz-none"),e.style.cursor="default")}function disableSelectionWithoutCursorStyle(e){e&&("undefined"!=typeof e.style.KhtmlUserSelect?e.onselectstart=function(e){return e.stopPropagation(),!1}:"undefined"!=typeof e.onselectstart?e.onselectstart=function(e){return e=e?e:window.event,e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,!1}:"undefined"!=typeof e.style.MozUserSelect&&(e.style.MozUserSelect="-moz-none"))}function enableSelection(e){e&&("undefined"!=typeof e.style.KhtmlUserSelect?e.onselectstart=function(e){return e.stopPropagation(),!0}:"undefined"!=typeof e.onselectstart?e.onselectstart=function(e){return e=e?e:window.event,e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,!0}:"undefined"!=typeof e.style.MozUserSelect&&(e.style.MozUserSelect="text"),e.style.cursor="default")}function setCursor(e){document.body.style.cursor=e}function cursorDefault(){setCursor("default")}function cursorPointer(){setCursor("pointer")}function cursorWait(){setCursor("wait")}function getCellAtColumn(e,t){for(columnCount=0,i=0;i<e.length;i++)if(columnCount+=e.colspan,columnCount>=t)return e[i];return null}function getCellAtRow(e,t,n){for(rowCount=0,i=0;i<e.length;i++){var s=e[i].cells[t];rowCount+=s.rowspan,rowCount>=n}return null}function copyTable(e,t,i,n){var s=n?e:$(e).select("tbody")[0],o=n?t:$(t).select("tbody.copyTo")[0];i&&clearTable(t);try{o.insert(s.innerHTML)}catch(r){}}function copyTableJquery(e,t,i,n){var s=n?e:e.find("tbody:first"),o=n?t:jQuery("tobody.copyTo:first",t);i&&clearTable(t);try{jQuery(o).append(s.html())}catch(r){}}function clearTable(e){if(document.all)for(;e.rows[0];)e.deleteRow(0);else e.innerHTML=""}function getWindowWidth(){var e=jQuery(window).width();return isIE9()&&(e+=17),e}function getWindowHeight(){var e=jQuery(window).height();return isIE9()&&(e+=17),e}function getScrollLeft(){return"number"==typeof window.scrollX?window.scrollX:document.body.scrollLeft}function getScrollTop(){return"number"==typeof window.scrollY?window.scrollY:document.body.scrollTop}function scrollXToMiddle(e){var t=e.scrollWidth-getWindowWidth();t>0&&(e.scrollLeft=t/2)}function launchNewWindow(e){window.open(e)}function getIFrameDocument(e){var t=e.contentWindow||e.contentDocument;return t.document&&(t=t.document),t}function getEvent(e){return e?e:window.event}function popEvent(e){cancelEventBubbling(e?e:event)}function triggerNativeEvent(e,t){var i,n=isIE();t=t||(n?document.documentElement:window),document.createEvent?(i=document.createEvent("Event"),i.initEvent(e,!0,!0),t.dispatchEvent(i)):t.fireEvent("on"+e,document.createEventObject())}function relatedTargetInElementSubtree(e,t){return e.relatedTarget?t===e.relatedTarget?!0:e.relatedTarget.descendantOf(t):!1}function cancelEventBubbling(e){e=getEvent(e),e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}function cancelEventAndPreventDefault(e){e.preventDefault(),e.stop()}function enterKeyHit(e){var t=whichKeyHit(e);return 13==t||3==t}function whichKeyHit(e){e=getEvent(e);var t=e.charCode?e.charCode:e.which?e.which:e.keyCode;return t}function isCtrlHeld(e){return e=getEvent(e),!(!e||!e.ctrlKey)}function isShiftHeld(e){return e=getEvent(e),!(!e||!e.shiftKey)}function getEventTarget(e){return e=getEvent(e),e&&(e.target||e.srcElement)}function isNavigationInput(e){e=getEvent(e);var t=e.keyCode?e.keyCode:e.which;return t==Keys.DOM_VK_LEFT||t==Keys.DOM_VK_RIGHT||t==Keys.DOM_VK_TAB||t==Keys.DOM_VK_BACK_SPACE||t==Keys.DOM_VK_ENTER}function verifyIsDigitInput(e){e=getEvent(e);var t=e.keyCode?e.keyCode:e.which;return t>=Keys.DOM_VK_0&&t<=Keys.DOM_VK_9||isNavigationInput(e)}function verifyIsInputNumericGroupSeparator(e){e=getEvent(e);var t=e.keyCode?e.keyCode:e.which,i=String.fromCharCode(t);return i===groupingSeparator}function verifyIsInputNumericDecimalSeparator(e){e=getEvent(e);var t=e.keyCode?e.keyCode:e.which,i=String.fromCharCode(t);return i===decimalSeparator}function numberOfDecimals(e){for(var t=e.length,i=0,n=0;t>n;n++)e.charAt(n)===decimalSeparator&&i++;return i}function macOSKeyboardRightClick(e){var e=getEvent(e);return e.ctrlKey?0==e.button||1==e.button||2==e.button:!1}function macOSMouseRightClick(e){var e=getEvent(e),t=!1;return e=e||window.event,e.which?t=3==e.which:e.button&&(t=2==e.button),t}function isRightClick(e){if(isMacOS()){var t=macOSKeyboardRightClick(e),i=macOSMouseRightClick(e);return t||i}return Event.isRightClick(e)}function isLeftClick(e){return Event.isLeftClick(e)}function isMetaHeld(e,t){var e=getEvent(e);return getEvent(e)?isMacOS()?t?e.altKey:e.metaKey:isCtrlHeld(e):!1}function trim(e){return e.strip()}function startsWith(e,t){return e.startsWith(t)}function getTextAfterUnderscore(e){return getTextAfterSubstring(e,"_")}function getTextBeforeUnderscore(e){return getTextBeforeSubstring(e,"_")}function extractNumber(e){var t=e.match(/\d/g);return t=t.join("")}function getTextAfterSubstring(e,t){var i=e.toLowerCase().indexOf(t.toLowerCase());return-1==i?null:e.substring(i+t.length)}function getTextBeforeSubstring(e,t){var i=e.toLowerCase().indexOf(t.toLowerCase());return-1==i?e:e.substring(0,i)}function removeTrailingSlash(e){var t=e.substring(e.length-1);return"/"==t?e.substring(0,e.length-1):e}function removeTrailingPound(e){var t=e.substring(e.length-1);return"#"==t?e.substring(0,e.length-1):e}function removeChars(e,t){var i=0;for(i;i<t.length;i++)for(;e.indexOf(t[i])>-1;)e=e.replace(t[i],"");return e}function replaceAll(e,t,i){e.gsub(t,i)}function jsHash(){var e=new Array;e.clazz="Hash";for(var t=0;t<arguments.length;t+=2)"undefined"!=typeof arguments[t+1]&&(e[arguments[t]]=arguments[t+1],e.push(arguments[t]));return e}function textCounter(e,t){return e.value.length>t?(e.value=e.value.substring(0,t),!1):!0}function saveAndClear(e,t){e=t,t=""}function escapeString(e,t,i){if(!e||!t||void 0===i||null===i)return e;var n="string"==typeof i||Object.isArray(i)&&i.length<t.length,s=Object.isArray(i)?i.first():i;return Object.isArray(t)?(t.each(function(t,o){var r=n?s:i[o];e=e.replace(t,r)}),e):e.replace(t,s)}function formatString(e){var t,i,n,s=Array.prototype.slice.call(arguments,1),o=[];if(s.length<3){for(var r=0;r<s.length;r++)e=e.replace("{"+r+"}",s[r]);return e}if(t=(e||"").match(/[{]\d+[}]/g),!t)return e;i=e.split(/[{]\d+[}]/);for(var a=0;a<i.length;a+=1)n=a<t.length?s[t[a].slice(1,-1)]:"",o.push(i[a],n);return o.join("")}function removeWhitespacesFromTable(e){return e.replace(/>\s+<\/table/g,"></table").replace(/>\s+<thead/g,"><thead").replace(/>\s+<\/thead/g,"></thead").replace(/>\s+<tbody/g,"><tbody").replace(/>\s+<\/tbody/g,"></tbody").replace(/>\s+<caption/g,"><caption").replace(/>\s+<\/caption/g,"></caption").replace(/>\s+<tr/g,"><tr").replace(/>\s+<\/tr/g,"></tr").replace(/>\s+<th/g,"><th").replace(/>\s+<\/th/g,"></th").replace(/>\s+<td/g,"><td").replace(/>\s+<\/td/g,"></td")}function splitText(e,t){var i={left:"",right:e};return t=parseInt(t,10),_.isNaN(t)?i:0===t?i:(i.left=e.substr(0,t),i.right=e.substr(t),i)}function redirectToUrl(e){if(isIE8()){var t=document.createElement("a");t.href=e,document.body.appendChild(t),t.click()}else window.location.href=e}function checkURLProtocol(e,t){if(!t)return e;if(startsWith(e,"/"))return e;for(var i=new Array("http://","https://","file://","mailto://","ftp://"),n=0;n<i.length;n++)if(startsWith(e,i[n]))return e;return i[0]+e}function getSymbolToAppendNextParam(e){var t=e.substring(e.length-1);return"?"==t||"&"==t?"":e.indexOf("?")>-1?"&":"?"}function showBusyCursor(){theBody.style.cursor="wait"}function restoreDefaultCursor(){theBody.style.cursor=""}function encodeText(e){return encodeURIComponent(encodeURIComponent(e))}function decodeText(e){return decodeURIComponent(e)}function constrain(e,t,i){return e>i?i:t>e?t:e}function deepClone(e){if(null==e)return null;if("object"!=typeof e)return e;var t=Object.isArray(e)?[]:{};for(var i in e)"object"==typeof e[i]?t[i]=deepClone(e[i]):t[i]=e[i];return t}function cloneCustomAttributes(e,t){var i=e?e.attributes:{};for(var n in i){var s=i[n]&&i[n].name;s&&s.startsWith("data")&&$(t).writeAttribute(s,$(e).readAttribute(s))}}function initLog(){log=""}function logIt(e){log=log+"||"+e+"-"+(new Date).getTime()}function debug(e){window.console&&window.console.debug(e)}function startTimer(e){window.console&&window.console.time?console.time(e):timer[e]=+new Date}function stopTimer(e){if(window.console&&window.console.timeEnd)console.timeEnd(e);else if(timer[e]){var t=e+": "+(+new Date-timer[e]);timer[e]=void 0,window.console?console.log(t):window.status=t}}function toBlockNotation(e){return e?e.split(".").map(function(e){return"['"+e+"']"}).join(""):""}function toFunction(theFunction){if("string"!=typeof theFunction)return theFunction;var blockReference=toBlockNotation(theFunction);return eval("window"+blockReference)}function BusyMonitor(e,t){this.waitTime=e,this.theFunction=t,this.timer=null}function InPlaceEditor(e){this.elem=$(e),this.id=e.identify(),this.editing=!1,this.value=getInnerText(e)}function evaluateScripts(e){var t;t=e?$(e):document;var i=t.getElementsByTagName("SCRIPT");if(null!=i)for(var n=0;n<i.length;n++){var s=i[n];s&&s.text&&globalEval(s.text)}}function evaluateScript(e){var t=$(e);t&&t.text&&globalEval(t.text)}function globalEval(e){window.eval.call(window,e)}function loadJSFiles(e){e&&Object.isArray(e)&&e.each(function(e){loadJSFile(e)})}function loadJSFile(e){$(e)&&$(e).parentNode.removeChild($(e));var t=new Element("script");t.setAttribute("id",e),t.setAttribute("type","text/javascript"),t.setAttribute("src",e),$$("head")[0].appendChild(t)}function unloadAllScripts(){var e=document.getElementsByTagName("SCRIPT");if(null!=e)for(var t=0;t<e.length;t++){var i=e[t];i.parentNode.removeChild(i)}}function loadCSSFiles(e,t){e&&Object.isArray(e)&&e.each(function(e){loadCSSFile(e,t)})}function loadCSSFile(e,t){unloadCSSFile(e);var i=new Element("link");i.setAttribute("id",escape(e)),i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href",e),t&&document.body?document.body.appendChild(i):$$("head")[0].insert(i,"bottom")}function unloadCSSFiles(e){e&&Object.isArray(e)&&e.each(function(e){unloadCSSFile(e)})}function unloadCSSFile(e){if($(escape(e)))try{$(escape(e)).parentNode.removeChild($(escape(e)))}catch(t){alert(t)}}function createCSSRule(e){var t=document.createElement("style");t.type="text/css",t.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(t)}function getFirstMatch(e){return $$(e)[0]}function dialogOnMouseDown(e){var t=null!=e?e:window.event;cancelEventDragTarget&&cancelEventDragTarget==getEventTarget(t)||new Dragger(t,[getAbsoluteParent(window.event?t.srcElement:t.target)],!0,!0,2,new DragListener)}function cancelEventDrag(e){cancelEventDragTarget=getEventTarget(e)}function encodeUriParameter(e){return encodeURIComponent(encodeURIComponent(e))}function replaceHTML(e,t){if(isIE())return void(e.innerHTML=t);var e=$(e),i=e.nextSibling,n=e.parentNode;n.removeChild(e),e.innerHTML=t,i?n.insertBefore(e,i):n.appendChild(e)}function gotoDefaultLocation(e){window.location.href="flow.html?_flowId=searchFlow"+(e?"&"+e:"")}function gotoFolderExplorer(e){window.location.href="flow.html?_flowId=searchFlow",document.location="flow.html?_flowId=searchFlow&showFolder="+e}function switchDesign(e){var t=document.location.href,i=t.include("&decorator");"old"===e?i?t=t.replace("main","mainOld"):t+="&decorator=mainOld&confirm=true":i?t=t.replace("mainOld","main"):t+="&decorator=main&confirm=true",redirectToUrl(t)}function showDiv(e){var t=document.getElementById(e),i=(document.body.clientWidth,document.body.clientHeight,t.style.zIndex);t.style.zIndex=-100,t.style.display="block",centerLayer(t),t.style.zIndex=i}function hideDiv(e){var t=document.getElementById(e);return t.style.display="none",!0}function borderImage(e,t){(document.all||document.getElementById)&&(e.style.borderColor=t)}function resetRadio(e){var t=!1;if(e.length)for(var i=0;i<e.length;++i)e[i].checked&&(e[i].checked=!1,t=!0);else e.checked&&(e.checked=!1,t=!0);return t}function launchAboutDlg(){var e=document.getElementById("about");e.style.display="block",centerLayer(e)}function hideAboutDlg(){var e=document.getElementById("about");e.style.display="none"}function unescapeBackslash(e){return e?e.replace(/\\\\/g,"\\"):e}function ajaxIframeDownload(e,t){var i=$("ajax-download-iframe");t&&(i.onload=t.onload),i.src=e}function parseAsDate(e){var t=e.match(/(\d+)/g);return new Date(t[0],t[1]-1,t[2])}function parseAsDateTime(e){var t=e.match(/(\d+)/g);return new Date(t[0],t[1]-1,t[2],t[3],t[4],t[5])}function padNumber(e){var t=String(e);return 1===t.length&&(t="0"+t),t}function toTimestampString(e){return e.getUTCFullYear()+"-"+padNumber(e.getMonth()+1)+"-"+padNumber(e.getDate())+" "+padNumber(e.getHours())+":"+padNumber(e.getMinutes())+":"+padNumber(e.getSeconds())}function isProVersion(){return __jrsConfigs__.isProVersion}function AjaxRequester(e,t,i,n){this.url=e||document.location.toString(),this.params=t,this.xmlhttp=getXMLHTTP();var s=this.processResponse(this);this.xmlhttp.onreadystatechange=s,this.postData=i,this.async=!n,this.requestTime=+new Date}function handleResponse(e){checkForErrors(e)||e.responseHandler(e),ajaxRequestEnded(e),JRS&&JRS.vars&&(JRS.vars.ajax_in_progress=!1),document.getElementById("mainTableContainerOverlay")&&(document.getElementById("mainTableContainerOverlay").className="hidden")}function targettedResponseHandler(e){var t=e.xmlhttp,i=e.params[0],n=e.params[1],s=e.params[2],o=(e.params[3],$(i));if(n)o.innerHTML="",updateUsingResponseSubset(t,n,o);else{var r=t.responseText.trim();if(0===r.indexOf("<div")){var a=r.substring(0,r.indexOf(">")+1),l=r.substring(r.indexOf(">")+1,r.lastIndexOf("</")),c=r.substring(r.lastIndexOf("</")),u=jQuery(a+c);u.text(xssUtil.escape(l)),jQuery(o).html(u)}else jQuery(o).html(r)}invokeCallbacks(s,o)}function cumulativeResponseHandler(e){var t=e.xmlhttp,i=e.params[0],n=e.params[1],s=e.params[2],o=$(i);n?updateUsingResponseSubset(t,n,o):o.insert(t.responseText,{position:"after"}),invokeCallbacks(s)}function rowCopyResponseHandler(e){var t=e.xmlhttp,i=e.params[0],n=e.params[2],s=$(i);if("TABLE"!==s.tagName)return void alert("Ajax Exception: rowCopyResponseHandler will not work for container "+s.tagName);var o=Builder.node("DIV");o.innerHTML=t.responseText,copyTable(o.getElementsByTagName("table")[0],s,!1,!1),invokeCallbacks(n)}function updateUsingResponseSubset(e,t,i){function n(){if(!(u>=c)){var e=jQuery(l.get(u));e.attr("src")?(u++,s(e.attr("data-custname"),e.attr("src"),n)):(u++,o(e.html(),n))}}function s(e,t,i){var n=i||!1,s=document.createElement("script");window.jr_scripts||(window.jr_scripts={}),window.jr_scripts[e]||"jr_jq_min"===e?n&&i():(s.setAttribute("type","text/javascript"),s.readyState?s.onreadystatechange=function(){("loaded"===s.readyState||"complete"===s.readyState)&&(s.onreadystatechange=null,n&&i())}:s.onload=function(){n&&i()},s.src=t,document.getElementsByTagName("head")[0].appendChild(s),window.jr_scripts[e]=t)}function o(e,t){var i=t||!1;if(e){var n=e.match(/^.*((\r\n|\n|\r)|$)/gm);window.eval(n.join("\n")),i&&t()}}var r=jQuery(e.responseText),a=r.filter("#"+t);if("TABLE"==i.tagName&&"TABLE"==$(t).tagName?copyTableJquery(a,i,!0):jQuery(i).append(a.html()),"undefined"!=typeof jQuery){var l=r.filter("script.jasperreports"),c=l.size(),u=0;n()}}function invokeCallbacks(callback,customArg){callback&&("string"==typeof callback?eval(callback):callback(customArg))}function ajaxClobberredUpdate(e,t){t.responseHandler=clobberingResponseHandler,ajaxUpdate(e,t)}function ajaxTargettedUpdate(url,options){var responseHandler;responseHandler=options.mode==AjaxRequester.prototype.CUMULATIVE_UPDATE?cumulativeResponseHandler:options.mode==AjaxRequester.prototype.ROW_COPY_UPDATE?rowCopyResponseHandler:options.mode==AjaxRequester.prototype.EVAL_JSON?evalJSONResponseHandler:targettedResponseHandler,options.responseHandler=function(requester,params){options.preFillAction?"string"==typeof options.preFillAction?eval(options.preFillAction):options.preFillAction(responseHandler(requester,params)):responseHandler(requester,options.params)},ajaxUpdate(url,options)}function ajaxNonReturningUpdate(e,t){t.responseHandler=null,ajaxUpdate(e,t)}function ajaxClobberedFormSubmit(e,t,i){var n=getPostData(e,extraPostData);i.postData=appendPostData(n,extraPostData),i.responseHandler=clobberingResponseHandler,ajaxUpdate(t,i)}function ajaxTargettedFormSubmit(e,t,i){var n=getPostData(e,i.extraPostData);i.postData=appendPostData(n,i.extraPostData),i.responseHandler=targettedResponseHandler,ajaxUpdate(t,i)}function ajaxErrorHandler(){showMessageDialog(ajaxError,ajaxErrorHeader)}function doNothing(){}function ajaxUpdate(e,t){var i=!0,n=new AjaxRequester(e,[t.fillLocation,t.fromLocation,t.callback,t.isAutomaticRefresh],t.postData,t.synchronous);isIPad()&&"adhoc"==JRS.vars.current_flow&&(JRS.vars.ajax_in_progress||(JRS.vars.ajax_in_progress=!0)),i&&(n.busyCursor=!t.silent,n.showLoading=!t.silent&&!t.hideLoader,n.responseHandler=t.responseHandler||doNothing,n.responseHandler!=doNothing&&ajaxRequestStarted(n),t.errorHandler&&(n.errorHandler=t.errorHandler),n.xmlhttp&&(t.postData?n.doPost():n.doGet()))}function checkForErrors(e){var t=e.errorHandler;return t(e.xmlhttp)}function getPostData(e,t){"string"==typeof e&&(e=document.forms[e]);for(var i="",n=0;n<e.elements.length;++n){var s=e.elements[n];!s.name||t&&t[s.name]||(i=appendFormInput(i,s))}return i}function appendPostData(e,t){for(var i in t)e=appendFormValue(e,i,t[i]);return e}function appendFormInput(e,t){if(t.name){var i,n=!1;switch(t.type){case"checkbox":case"radio":n=t.checked,i=t.value;break;case"hidden":case"password":case"text":case"Textarea":n=!0,i=t.value;break;case"select-one":case"select-multiple":i=[];for(var s=0;s<t.options.length;++s){var o=t.options[s];o.selected&&(n=!0,i.push(o.value))}}if(n)if(i.shift)for(;i.length>0;)e=appendFormValue(e,t.name,i.shift());else e=appendFormValue(e,t.name,i)}return e}function appendFormValue(e,t,i){return e.length>0&&(e+="&"),e+=t+"="+encodeURIComponent(i)}function baseErrorHandler(e){if(500==e.status)return showErrorPopup(e.responseText),!0;var t=e.getResponseHeader("LoginRequested");if(t){var i=".";return document.location=i,!0}var n=e.getResponseHeader("JasperServerError");if(n){var s=e.getResponseHeader("SuppressError");if(!s){var o=jQuery(".dashboardViewFrame");if(1==o.length){document.body.innerHTML=e.responseText;var r=jQuery("#"+JRS.fid,window.parent.document);r.removeClass("hidden").show()}else showErrorPopup(e.responseText)}return!0}return!1}function showErrorPopup(e,t){(e&&e.indexOf("sessionAttributeMissingException"))>-1?dialogs.clusterErrorPopup.show(e):dialogs.errorPopup.show(e,!1,t)}function hideErrorPopup(){popOverlayObject();var e=document.getElementById(ERROR_POPUP_DIV);e.style.display="none"}function ajaxRequestStarted(e){++ajax.ajaxRequestCount,e.busyCursor&&(document.body.style.cursor="wait"),!isIPad()&&e.showLoading&&e.startResponseTimer()}function ajaxRequestEnded(e){e.cancelResponseTimer(),ajax.ajaxRequestCount<=1?(document.body.style.cursor="auto",ajax.ajaxRequestCount=0,dialogs.popup.hide($(ajax.LOADING_ID))):ajax.ajaxRequestCount--}function isValidJsonResponse(e){var t=e.getResponseHeader("Content-Type");return 200==e.status&&null!=t&&t.indexOf("application/json")>=0}function getXMLHTTP(){var e,t;if(!t&&!e)try{t=new XMLHttpRequest}catch(i){alert("You need a browser which supports an XMLHttpRequest Object.\nMozilla build 0.9.5 has this Object and IE5 and above, others may do, I don't know, any info jim@jibbering.com")}return t}function moveTo(e,t,i,n){new Effect.Move($(e),{sync:!1,x:t,y:i,mode:"absolute",duration:n?n:.2})}function move(e,t,i,n){new Effect.Move($(e),{sync:!1,x:t,y:i,mode:"relative",duration:n?n:.2})}function moveMany(e,t,i,n){for(var s=[],o=0;o<e.length;++o)s[o]=new Effect.Move(e[o],{sync:!0,x:t,y:i,mode:"relative"});new Effect.Parallel(s,{duration:n?n:1})}function fade(e,t,i){$(e).fade({duration:t?t:1,from:1,to:i?i:0})}function fadeMany(e,t,i){for(var n=[],s=0;s<e.length;++s)n[s]=new Effect.Fade(e[s],{sync:!0,from:1,to:i?i:0});new Effect.Parallel(n,{duration:t?t:1})}function appear(e,t,i){$(e).appear({duration:t?t:1,from:0,to:i?i:1})}function appearMany(e,t,i){for(var n=[],s=0;s<e.length;++s)n[s]=new Effect.Appear(e[s],{sync:!0,from:0,to:i?i:1});new Effect.Parallel(n,{duration:t?t:1})}function pulsate(e,t,i){var n=$(e).identify();Effect.Pulsate(n,{pulses:t?t:5,duration:i?i:2})}function renderImageOverMousePointer(e,t){var e=$(e);return e.show(),e.style.left=t.clientX,e.style.top=t.clientY,e}function JSTooltip(e,t){if(e){if(this.srcElement=e,t&&(this.label=t.label,this.text=t.text,this.offsets=t.offsets,this.showBelow=!!t.showBelow,this.templateId=t.templateId,this.loadTextCallback=t.loadTextCallback,this.loadTextExecuted=!1),this.disabled=!1,this.removed=!1,this.templateId)this._toAttribute(this.TOOLTIP_TEMPLATE,this.templateId);else{var i=this._fromAttribute(this.TOOLTIP_TEMPLATE);this.templateId=i&&i.length>0?i:this.TOOLTIP_TEMPLATE_ID}this.label?this._toAttribute(this.TOOLTIP_LABEL,this.label):this.label=this._fromAttribute(this.TOOLTIP_LABEL),this.text?this._toAttribute(this.TOOLTIP_TEXT,this.text):this.text=this._fromAttribute(this.TOOLTIP_TEXT),this.label&&(this.label=this._escapeText(this.label)),this.text&&(this.text=this._escapeText(this.text)),this.srcElement.jsTooltip=this,tooltipModule.tooltips.push(this)}}function replaceNbsps(e){var t=new RegExp("&nbsp;","g");return e.replace(t," ")}function fireMenuAction(e,t){var i=getAsFunction(e);i&&i()}function fireMenuActionWithEvent(e,t,i){var n,s=toFunction(t);s=s||(n=toFunction("localContext."+t)),s&&(e=_.isArray(e)?e:[e],s.apply(n?localContext:null,e))}function getMenuMouseupFunction(e,t,i,n,s){if(!e)return null;if(t){var o=resolveReservedStringsInArray(t,i,n,s);return function(){fireMenuActionWithEvent(o,e,s)}}return function(){fireMenuAction(e,s)}}function evaluateTest(e,t,i,n,s,o){var r=null!=o?o:!0,a=getAsFunction(e);return a&&(r=a.apply(this,resolveReservedStringsInArray(t,i,n,null)),s&&(r=!r)),r}function resolveReservedStringsInArray(e,t,i,n){return e?e.collect(function(e){return resolveReservedStrings(e,t,i,n)}):[]}function resolveReservedStrings(e,t,i,n){return e==actionModel.RES_SELECTED?actionModel.selObjects:e==actionModel.RES_LABEL?t:e==actionModel.RES_ID?i:e==actionModel.EVENT?n:e}function getRandomId(){var e=Math.round(50*Math.random(10));return"_"+e}define("domReady",[],function(){"use strict";function e(e){var t;for(t=0;t<e.length;t+=1)e[t](c)}function t(){var t=u;l&&t.length&&(u=[],e(t))}function i(){l||(l=!0,r&&clearInterval(r),t())}function n(e){return l?e(c):u.push(e),n}var s,o,r,a="undefined"!=typeof window&&window.document,l=!a,c=a?document:null,u=[];if(a){if(document.addEventListener)document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1);else if(window.attachEvent){window.attachEvent("onload",i),o=document.createElement("div");try{s=null===window.frameElement}catch(d){}o.doScroll&&s&&window.external&&(r=setInterval(function(){try{o.doScroll(),i()}catch(e){}},30))}"complete"===document.readyState&&i()}return n.version="2.0.1",n.load=function(e,t,i,s){s.isBuild?i(null):n(i)},n}),define("commons.bare.main",["require","prototype","!domReady"],function(e){"use strict";e("prototype"),e("!domReady")}),function(){function e(e,t,i){for(var n=(i||0)-1,s=e?e.length:0;++n<s;)if(e[n]===t)return n;return-1}function t(e,t){for(var i=e.criteria,n=t.criteria,s=-1,o=i.length;++s<o;){var r=i[s],a=n[s];if(r!==a){if(r>a||"undefined"==typeof r)return 1;if(a>r||"undefined"==typeof a)return-1}}return e.index-t.index}function i(e){return"\\"+Ot[e]}function n(){return ht.pop()||[]}function s(e){e.length=0,ht.length<gt&&ht.push(e)}function o(e,t,i){t||(t=0),"undefined"==typeof i&&(i=e?e.length:0);for(var n=-1,s=i-t||0,o=Array(0>s?0:s);++n<s;)o[n]=e[t+n];return o}function r(e){return e instanceof r?e:new a(e)}function a(e,t){this.__chain__=!!t,this.__wrapped__=e}function l(e){function t(){if(n){var e=o(n);Kt.apply(e,arguments)}if(this instanceof t){var r=u(i.prototype),a=i.apply(r,e||arguments);return z(a)?a:r}return i.apply(s,e||arguments)}var i=e[0],n=e[2],s=e[4];return t}function c(e,t,i,r,a){if(i){var l=i(e);if("undefined"!=typeof l)return l}var u=z(e);if(!u)return e;var d=zt.call(e);if(!Nt[d])return e;var h=ni[d];switch(d){case St:case Ct:return new h(+e);case xt:case It:return new h(e);case Mt:return l=h(e.source,vt.exec(e)),l.lastIndex=e.lastIndex,l}var p=oi(e);if(t){var f=!r;r||(r=n()),a||(a=n());for(var m=r.length;m--;)if(r[m]==e)return a[m];l=p?h(e.length):{}}else l=p?o(e):D({},e);return p&&(qt.call(e,"index")&&(l.index=e.index),qt.call(e,"input")&&(l.input=e.input)),t?(r.push(e),a.push(l),(p?se:pi)(e,function(e,n){l[n]=c(e,t,i,r,a)}),f&&(s(r),s(a)),l):l}function u(e,t){return z(e)?Gt(e):{}}function d(e,t,i){if("function"!=typeof e)return Xe;if("undefined"==typeof t||!("prototype"in e))return e;switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,s){return e.call(t,i,n,s)};case 4:return function(i,n,s,o){return e.call(t,i,n,s,o)}}return je(e,t)}function h(e){function t(){var e=c?a:this;if(s){var g=o(s);Kt.apply(g,arguments)}if((r||p)&&(g||(g=o(arguments)),r&&Kt.apply(g,r),p&&g.length<l))return n|=16,h([i,f?n:-4&n,g,null,a,l]);if(g||(g=arguments),d&&(i=e[m]),this instanceof t){e=u(i.prototype);var v=i.apply(e,g);return z(v)?v:e}return i.apply(e,g)}var i=e[0],n=e[1],s=e[2],r=e[3],a=e[4],l=e[5],c=1&n,d=2&n,p=4&n,f=8&n,m=i;return t}function p(e,t){for(var i=-1,n=w(),s=e?e.length:0,o=[];++i<s;){var r=e[i];n(t,r)<0&&o.push(r)}return o}function f(e,t,i,n){for(var s=(n||0)-1,o=e?e.length:0,r=[];++s<o;){var a=e[s];if(a&&"object"==typeof a&&"number"==typeof a.length&&(oi(a)||x(a))){t||(a=f(a,t,i));var l=-1,c=a.length,u=r.length;for(r.length+=c;++l<c;)r[u++]=a[l]}else i||r.push(a)}return r}function m(e,t,i,n){if(e===t)return 0!==e||1/e==1/t;var s=typeof e,o=typeof t;if(!(e!==e||e&&kt[s]||t&&kt[o]))return!1;if(null==e||null==t)return e===t;var a=zt.call(e),l=zt.call(t);if(a!=l)return!1;switch(a){case St:case Ct:return+e==+t;case xt:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case Mt:case It:return e==String(t)}var c=a==wt;if(!c){var u=e instanceof r,d=t instanceof r;if(u||d)return m(u?e.__wrapped__:e,d?t.__wrapped__:t,i,n);if(a!=Dt)return!1;var h=e.constructor,p=t.constructor;if(h!=p&&!(U(h)&&h instanceof h&&U(p)&&p instanceof p)&&"constructor"in e&&"constructor"in t)return!1}i||(i=[]),n||(n=[]);for(var f=i.length;f--;)if(i[f]==e)return n[f]==t;var g=!0,v=0;if(i.push(e),n.push(t),c){if(v=t.length,g=v==e.length)for(;v--&&(g=m(e[v],t[v],i,n)););}else hi(t,function(t,s,o){return qt.call(o,s)?(v++,!(g=qt.call(e,s)&&m(e[s],t,i,n))&&ft):void 0}),g&&hi(e,function(e,t,i){return qt.call(i,t)?!(g=--v>-1)&&ft:void 0});return i.pop(),n.pop(),g}function g(e,t,i,n,s){(oi(t)?se:pi)(t,function(t,o){var r,a,l=t,c=e[o];if(t&&((a=oi(t))||fi(t))){for(var u=n.length;u--;)if(r=n[u]==t){c=s[u];break}if(!r){var d;i&&(l=i(c,t),(d="undefined"!=typeof l)&&(c=l)),d||(c=a?oi(c)?c:[]:fi(c)?c:{}),n.push(t),s.push(c),d||g(c,t,i,n,s)}}else i&&(l=i(c,t),"undefined"==typeof l&&(l=t)),"undefined"!=typeof l&&(c=l);e[o]=c})}function v(e,t){return e+Bt(ii()*(t-e+1))}function _(e,t,i){for(var n=-1,s=w(),o=e?e.length:0,r=[],a=i?[]:r;++n<o;){var l=e[n],c=i?i(l,n,e):l;(t?!n||a[a.length-1]!==c:s(a,c)<0)&&(i&&a.push(c),r.push(l))}return r}function b(e){return function(t,i,n){var s={};i=Ge(i,n,3);var o=-1,r=t?t.length:0;if("number"==typeof r)for(;++o<r;){var a=t[o];e(s,a,i(a,o,t),t)}else pi(t,function(t,n,o){e(s,t,i(t,n,o),o)});return s}}function y(e,t,i,n,s,o){var r=2&t,a=16&t,c=32&t;if(!r&&!U(e))throw new TypeError;a&&!i.length&&(t&=-17,a=i=!1),c&&!n.length&&(t&=-33,c=n=!1);var u=1==t||17===t?l:h;return u([e,t,i,n,s,o])}function T(e){return li[e]}function w(){var t=(t=r.indexOf)===Ce?e:t;return t}function S(e){return"function"==typeof e&&Vt.test(e)}function C(e){var t,i;return e&&zt.call(e)==Dt&&(t=e.constructor,!U(t)||t instanceof t)?(hi(e,function(e,t){i=t}),"undefined"==typeof i||qt.call(e,i)):ft}function E(e){return ci[e]}function x(e){return e&&"object"==typeof e&&"number"==typeof e.length&&zt.call(e)==Tt||!1}function D(e){if(!e)return e;for(var t=1,i=arguments.length;i>t;t++){var n=arguments[t];if(n)for(var s in n)e[s]=n[s]}return e}function M(e,t,i,n){return"boolean"!=typeof t&&null!=t&&(n=i,i=t,t=!1),c(e,t,"function"==typeof i&&d(i,n,1))}function I(e,t,i){return c(e,!0,"function"==typeof t&&d(t,i,1))}function N(e){if(!e)return e;for(var t=1,i=arguments.length;i>t;t++){var n=arguments[t];if(n)for(var s in n)"undefined"==typeof e[s]&&(e[s]=n[s])}return e}function k(e){var t=[];return hi(e,function(e,i){U(e)&&t.push(i)}),t.sort()}function O(e,t){return e?qt.call(e,t):!1}function A(e){for(var t=-1,i=ai(e),n=i.length,s={};++t<n;){var o=i[t];s[e[o]]=o}return s}function L(e){return e===!0||e===!1||e&&"object"==typeof e&&zt.call(e)==St||!1}function P(e){return e&&"object"==typeof e&&zt.call(e)==Ct||!1}function R(e){return e&&1===e.nodeType||!1}function F(e){if(!e)return!0;if(oi(e)||q(e))return!e.length;for(var t in e)if(qt.call(e,t))return!1;return!0}function j(e,t){return m(e,t)}function H(e){return Xt(e)&&!Qt(parseFloat(e))}function U(e){return"function"==typeof e}function z(e){return!(!e||!kt[typeof e])}function V(e){return B(e)&&e!=+e}function $(e){return null===e}function B(e){return"number"==typeof e||e&&"object"==typeof e&&zt.call(e)==xt||!1}function W(e){return e&&kt[typeof e]&&zt.call(e)==Mt||!1}function q(e){return"string"==typeof e||e&&"object"==typeof e&&zt.call(e)==It||!1}function K(e){return"undefined"==typeof e}function Y(e){var t=arguments,i=2;if(!z(e))return e;if("number"!=typeof t[2]&&(i=t.length),i>3&&"function"==typeof t[i-2])var r=d(t[--i-1],t[i--],2);else i>2&&"function"==typeof t[i-1]&&(r=t[--i]);for(var a=o(arguments,1,i),l=-1,c=n(),u=n();++l<i;)g(e,a[l],r,c,u);return s(c),s(u),e}function G(e){var t=[];hi(e,function(e,i){t.push(i)}),t=p(t,f(arguments,!0,!1,1));for(var i=-1,n=t.length,s={};++i<n;){var o=t[i];s[o]=e[o]}return s}function J(e){for(var t=-1,i=ai(e),n=i.length,s=Array(n);++t<n;){var o=i[t];s[t]=[o,e[o]]}return s}function X(e){for(var t=-1,i=f(arguments,!0,!1,1),n=i.length,s={};++t<n;){var o=i[t];o in e&&(s[o]=e[o])}return s}function Q(e){for(var t=-1,i=ai(e),n=i.length,s=Array(n);++t<n;)s[t]=e[i[t]];return s}function Z(e,t){var i=w(),n=e?e.length:0,s=!1;return n&&"number"==typeof n?s=i(e,t)>-1:pi(e,function(e){return(s=e===t)&&ft}),s}function ee(e,t,i){var n=!0;t=Ge(t,i,3);var s=-1,o=e?e.length:0;if("number"==typeof o)for(;++s<o&&(n=!!t(e[s],s,e)););else pi(e,function(e,i,s){return!(n=!!t(e,i,s))&&ft});return n}function te(e,t,i){var n=[];t=Ge(t,i,3);var s=-1,o=e?e.length:0;if("number"==typeof o)for(;++s<o;){var r=e[s];t(r,s,e)&&n.push(r)}else pi(e,function(e,i,s){t(e,i,s)&&n.push(e)});return n}function ie(e,t,i){t=Ge(t,i,3);var n=-1,s=e?e.length:0;if("number"!=typeof s){var o;return pi(e,function(e,i,n){return t(e,i,n)?(o=e,ft):void 0}),o}for(;++n<s;){var r=e[n];if(t(r,n,e))return r}}function ne(e,t){return be(e,t,!0)}function se(e,t,i){var n=-1,s=e?e.length:0;if(t=t&&"undefined"==typeof i?t:d(t,i,3),"number"==typeof s)for(;++n<s&&t(e[n],n,e)!==ft;);else pi(e,t)}function oe(e,t){var i=e?e.length:0;if("number"==typeof i)for(;i--&&t(e[i],i,e)!==!1;);else{var n=ai(e);i=n.length,pi(e,function(e,s,o){return s=n?n[--i]:--i,t(o[s],s,o)===!1&&ft})}}function re(e,t){var i=o(arguments,2),n=-1,s="function"==typeof t,r=e?e.length:0,a=Array("number"==typeof r?r:0);return se(e,function(e){a[++n]=(s?t:e[t]).apply(e,i)}),a}function ae(e,t,i){
var n=-1,s=e?e.length:0;if(t=Ge(t,i,3),"number"==typeof s)for(var o=Array(s);++n<s;)o[n]=t(e[n],n,e);else o=[],pi(e,function(e,i,s){o[++n]=t(e,i,s)});return o}function le(e,t,i){var n=-(1/0),s=n;"function"!=typeof t&&i&&i[t]===e&&(t=null);var o=-1,r=e?e.length:0;if(null==t&&"number"==typeof r)for(;++o<r;){var a=e[o];a>s&&(s=a)}else t=Ge(t,i,3),se(e,function(e,i,o){var r=t(e,i,o);r>n&&(n=r,s=e)});return s}function ce(e,t,i){var n=1/0,s=n;"function"!=typeof t&&i&&i[t]===e&&(t=null);var o=-1,r=e?e.length:0;if(null==t&&"number"==typeof r)for(;++o<r;){var a=e[o];s>a&&(s=a)}else t=Ge(t,i,3),se(e,function(e,i,o){var r=t(e,i,o);n>r&&(n=r,s=e)});return s}function ue(e,t,i,n){if(!e)return i;var s=arguments.length<3;t=Ge(t,n,4);var o=-1,r=e.length;if("number"==typeof r)for(s&&(i=e[++o]);++o<r;)i=t(i,e[o],o,e);else pi(e,function(e,n,o){i=s?(s=!1,e):t(i,e,n,o)});return i}function de(e,t,i,n){var s=arguments.length<3;return t=Ge(t,n,4),oe(e,function(e,n,o){i=s?(s=!1,e):t(i,e,n,o)}),i}function he(e,t,i){return t=Ge(t,i,3),te(e,function(e,i,n){return!t(e,i,n)})}function pe(e,t,i){if(e&&"number"!=typeof e.length&&(e=Q(e)),null==t||i)return e?e[v(0,e.length-1)]:dt;var n=fe(e);return n.length=ti(ei(0,t),n.length),n}function fe(e){var t=-1,i=e?e.length:0,n=Array("number"==typeof i?i:0);return se(e,function(e){var i=v(0,++t);n[t]=n[i],n[i]=e}),n}function me(e){var t=e?e.length:0;return"number"==typeof t?t:ai(e).length}function ge(e,t,i){var n;t=Ge(t,i,3);var s=-1,o=e?e.length:0;if("number"==typeof o)for(;++s<o&&!(n=t(e[s],s,e)););else pi(e,function(e,i,s){return(n=t(e,i,s))&&ft});return!!n}function ve(e,i,n){var s=-1,o=e?e.length:0,r=Array("number"==typeof o?o:0);for(i=Ge(i,n,3),se(e,function(e,t,n){r[++s]={criteria:[i(e,t,n)],index:s,value:e}}),o=r.length,r.sort(t);o--;)r[o]=r[o].value;return r}function _e(e){return oi(e)?o(e):e&&"number"==typeof e.length?ae(e):Q(e)}function be(e,t,i){return i&&F(t)?dt:(i?ie:te)(e,t)}function ye(e){for(var t=-1,i=e?e.length:0,n=[];++t<i;){var s=e[t];s&&n.push(s)}return n}function Te(e){return p(e,f(arguments,!0,!0,1))}function we(e,t,i){var n=0,s=e?e.length:0;if("number"!=typeof t&&null!=t){var r=-1;for(t=Ge(t,i,3);++r<s&&t(e[r],r,e);)n++}else if(n=t,null==n||i)return e?e[0]:dt;return o(e,0,ti(ei(0,n),s))}function Se(e,t){return f(e,t)}function Ce(t,i,n){if("number"==typeof n){var s=t?t.length:0;n=0>n?ei(0,s+n):n||0}else if(n){var o=ke(t,i);return t[o]===i?o:-1}return e(t,i,n)}function Ee(e,t,i){var n=0,s=e?e.length:0;if("number"!=typeof t&&null!=t){var r=s;for(t=Ge(t,i,3);r--&&t(e[r],r,e);)n++}else n=null==t||i?1:t||n;return o(e,0,ti(ei(0,s-n),s))}function xe(){for(var e=[],t=-1,i=arguments.length;++t<i;){var n=arguments[t];(oi(n)||x(n))&&e.push(n)}var s=e[0],o=-1,r=w(),a=s?s.length:0,l=[];e:for(;++o<a;)if(n=s[o],r(l,n)<0){for(var t=i;--t;)if(r(e[t],n)<0)continue e;l.push(n)}return l}function De(e,t,i){var n=0,s=e?e.length:0;if("number"!=typeof t&&null!=t){var r=s;for(t=Ge(t,i,3);r--&&t(e[r],r,e);)n++}else if(n=t,null==n||i)return e?e[s-1]:dt;return o(e,ei(0,s-n))}function Me(e,t,i){var n=e?e.length:0;for("number"==typeof i&&(n=(0>i?ei(0,n+i):ti(i,n-1))+1);n--;)if(e[n]===t)return n;return-1}function Ie(e,t,i){e=+e||0,i=+i||1,null==t&&(t=e,e=0);for(var n=-1,s=ei(0,$t((t-e)/i)),o=Array(s);++n<s;)o[n]=e,e+=i;return o}function Ne(e,t,i){if("number"!=typeof t&&null!=t){var n=0,s=-1,r=e?e.length:0;for(t=Ge(t,i,3);++s<r&&t(e[s],s,e);)n++}else n=null==t||i?1:ei(0,t);return o(e,n)}function ke(e,t,i,n){var s=0,o=e?e.length:s;for(i=i?Ge(i,n,1):Xe,t=i(t);o>s;){var r=s+o>>>1;i(e[r])<t?s=r+1:o=r}return s}function Oe(){return _(f(arguments,!0,!0))}function Ae(e,t,i,n){return"boolean"!=typeof t&&null!=t&&(n=i,i="function"!=typeof t&&n&&n[t]===e?null:t,t=!1),null!=i&&(i=Ge(i,n,3)),_(e,t,i)}function Le(e){return p(e,o(arguments,1))}function Pe(){for(var e=-1,t=le(_i(arguments,"length")),i=Array(0>t?0:t);++e<t;)i[e]=_i(arguments,e);return i}function Re(e,t){var i=-1,n=e?e.length:0,s={};for(t||!n||oi(e[0])||(t=[]);++i<n;){var o=e[i];t?s[o]=t[i]:o&&(s[o[0]]=o[1])}return s}function Fe(e,t){if(!U(t))throw new TypeError;return function(){return--e<1?t.apply(this,arguments):void 0}}function je(e,t){return arguments.length>2?y(e,17,o(arguments,2),null,t):y(e,1,null,null,t)}function He(e){for(var t=arguments.length>1?f(arguments,!0,!1,1):k(e),i=-1,n=t.length;++i<n;){var s=t[i];e[s]=y(e[s],1,null,null,e)}return e}function Ue(){for(var e=arguments,t=e.length;t--;)if(!U(e[t]))throw new TypeError;return function(){for(var t=arguments,i=e.length;i--;)t=[e[i].apply(this,t)];return t[0]}}function ze(e,t,i){var n,s,o,r,a,l,c,u=0,d=!1,h=!0;if(!U(e))throw new TypeError;if(t=ei(0,t)||0,i===!0){var p=!0;h=!1}else z(i)&&(p=i.leading,d="maxWait"in i&&(ei(t,i.maxWait)||0),h="trailing"in i?i.trailing:h);var f=function(){var i=t-(bi()-r);if(0>=i){s&&clearTimeout(s);var d=c;s=l=c=dt,d&&(u=bi(),o=e.apply(a,n),l||s||(n=a=null))}else l=setTimeout(f,i)},m=function(){l&&clearTimeout(l),s=l=c=dt,(h||d!==t)&&(u=bi(),o=e.apply(a,n),l||s||(n=a=null))};return function(){if(n=arguments,r=bi(),a=this,c=h&&(l||!p),d===!1)var i=p&&!l;else{s||p||(u=r);var g=d-(r-u),v=0>=g;v?(s&&(s=clearTimeout(s)),u=r,o=e.apply(a,n)):s||(s=setTimeout(m,g))}return v&&l?l=clearTimeout(l):l||t===d||(l=setTimeout(f,t)),i&&(v=!0,o=e.apply(a,n)),!v||l||s||(n=a=null),o}}function Ve(e){if(!U(e))throw new TypeError;var t=o(arguments,1);return setTimeout(function(){e.apply(dt,t)},1)}function $e(e,t){if(!U(e))throw new TypeError;var i=o(arguments,2);return setTimeout(function(){e.apply(dt,i)},t)}function Be(e,t){var i={};return function(){var n=t?t.apply(this,arguments):mt+arguments[0];return qt.call(i,n)?i[n]:i[n]=e.apply(this,arguments)}}function We(e){var t,i;if(!U(e))throw new TypeError;return function(){return t?i:(t=!0,i=e.apply(this,arguments),e=null,i)}}function qe(e){return y(e,16,o(arguments,1))}function Ke(e,t,i){var n=!0,s=!0;if(!U(e))throw new TypeError;return i===!1?n=!1:z(i)&&(n="leading"in i?i.leading:n,s="trailing"in i?i.trailing:s),i={},i.leading=n,i.maxWait=t,i.trailing=s,ze(e,t,i)}function Ye(e,t){return y(t,16,[e])}function Ge(e,t,i){var n=typeof e;if(null==e||"function"==n)return d(e,t,i);if("object"!=n)return et(e);var s=ai(e);return function(t){for(var i=s.length,n=!1;i--&&(n=t[s[i]]===e[s[i]]););return n}}function Je(e){return null==e?"":String(e).replace(di,T)}function Xe(e){return e}function Qe(e){se(k(e),function(t){var i=r[t]=e[t];r.prototype[t]=function(){var e=[this.__wrapped__];Kt.apply(e,arguments);var t=i.apply(r,e);return this.__chain__?new a(t,!0):t}})}function Ze(){return At._=Ut,this}function et(e){return function(t){return t[e]}}function tt(e,t){return null==e&&null==t&&(t=1),e=+e||0,null==t?(t=e,e=0):t=+t||0,e+Bt(ii()*(t-e+1))}function it(e,t){if(e){var i=e[t];return U(i)?e[t]():i}}function nt(e,t,n){var s=r,o=s.templateSettings;e=String(e||""),n=N({},n,o);var a=0,l="__p += '",c=n.variable,u=RegExp((n.escape||bt).source+"|"+(n.interpolate||bt).source+"|"+(n.evaluate||bt).source+"|$","g");e.replace(u,function(t,n,s,o,r){return l+=e.slice(a,r).replace(yt,i),n&&(l+="' +\n_.escape("+n+") +\n'"),o&&(l+="';\n"+o+";\n__p += '"),s&&(l+="' +\n((__t = ("+s+")) == null ? '' : __t) +\n'"),a=r+t.length,t}),l+="';\n",c||(c="obj",l="with ("+c+" || {}) {\n"+l+"\n}\n"),l="function("+c+") {\nvar __t, __p = '', __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n"+l+"return __p\n}";try{var d=Function("_","return "+l)(s)}catch(h){throw h.source=l,h}return t?d(t):(d.source=l,d)}function st(e,t,i){e=(e=+e)>-1?e:0;var n=-1,s=Array(e);for(t=d(t,i,1);++n<e;)s[n]=t(n);return s}function ot(e){return null==e?"":String(e).replace(ui,E)}function rt(e){var t=++pt+"";return e?e+t:t}function at(e){return e=new a(e),e.__chain__=!0,e}function lt(e,t){return t(e),e}function ct(){return this.__chain__=!0,this}function ut(){return this.__wrapped__}var dt,ht=[],pt=0,ft={},mt=+new Date+"",gt=40,vt=/\w*$/,_t=/<%=([\s\S]+?)%>/g,bt=/($^)/,yt=/['\n\r\t\u2028\u2029\\]/g,Tt="[object Arguments]",wt="[object Array]",St="[object Boolean]",Ct="[object Date]",Et="[object Function]",xt="[object Number]",Dt="[object Object]",Mt="[object RegExp]",It="[object String]",Nt={};Nt[Et]=!1,Nt[Tt]=Nt[wt]=Nt[St]=Nt[Ct]=Nt[xt]=Nt[Dt]=Nt[Mt]=Nt[It]=!0;var kt={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},Ot={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},At=kt[typeof window]&&window||this,Lt=kt[typeof exports]&&exports&&!exports.nodeType&&exports,Pt=kt[typeof module]&&module&&!module.nodeType&&module,Rt=Pt&&Pt.exports===Lt&&Lt,Ft=kt[typeof global]&&global;!Ft||Ft.global!==Ft&&Ft.window!==Ft||(At=Ft);var jt=[],Ht=Object.prototype,Ut=At._,zt=Ht.toString,Vt=RegExp("^"+String(zt).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),$t=Math.ceil,Bt=Math.floor,Wt=S(Wt=Object.getPrototypeOf)&&Wt,qt=Ht.hasOwnProperty,Kt=jt.push,Yt=Ht.propertyIsEnumerable,Gt=S(Gt=Object.create)&&Gt,Jt=S(Jt=Array.isArray)&&Jt,Xt=At.isFinite,Qt=At.isNaN,Zt=S(Zt=Object.keys)&&Zt,ei=Math.max,ti=Math.min,ii=Math.random,ni={};ni[wt]=Array,ni[St]=Boolean,ni[Ct]=Date,ni[Et]=Function,ni[Dt]=Object,ni[xt]=Number,ni[Mt]=RegExp,ni[It]=String,a.prototype=r.prototype;var si={};!function(){var e={0:1,length:1};si.spliceObjects=(jt.splice.call(e,0,1),!e[0])}(1),r.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:_t,variable:""},Gt||(u=function(){function e(){}return function(t){if(z(t)){e.prototype=t;var i=new e;e.prototype=null}return i||At.Object()}}()),x(arguments)||(x=function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&qt.call(e,"callee")&&!Yt.call(e,"callee")||!1});var oi=Jt||function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&zt.call(e)==wt||!1},ri=function(e){var t,i=e,n=[];if(!i)return n;if(!kt[typeof e])return n;for(t in i)qt.call(i,t)&&n.push(t);return n},ai=Zt?function(e){return z(e)?Zt(e):[]}:ri,li={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"},ci=A(li),ui=RegExp("("+ai(ci).join("|")+")","g"),di=RegExp("["+ai(li).join("")+"]","g"),hi=function(e,t){var i,n=e,s=n;if(!n)return s;if(!kt[typeof n])return s;for(i in n)if(t(n[i],i,e)===ft)return s;return s},pi=function(e,t){var i,n=e,s=n;if(!n)return s;if(!kt[typeof n])return s;for(i in n)if(qt.call(n,i)&&t(n[i],i,e)===ft)return s;return s};U(/x/)&&(U=function(e){return"function"==typeof e&&zt.call(e)==Et});var fi=Wt?function(e){if(!e||zt.call(e)!=Dt)return!1;var t=e.valueOf,i=S(t)&&(i=Wt(t))&&Wt(i);return i?e==i||Wt(e)==i:C(e)}:C,mi=b(function(e,t,i){qt.call(e,i)?e[i]++:e[i]=1}),gi=b(function(e,t,i){(qt.call(e,i)?e[i]:e[i]=[]).push(t)}),vi=b(function(e,t,i){e[i]=t}),_i=ae,bi=S(bi=Date.now)&&bi||function(){return(new Date).getTime()};r.after=Fe,r.bind=je,r.bindAll=He,r.chain=at,r.compact=ye,r.compose=Ue,r.countBy=mi,r.debounce=ze,r.defaults=N,r.defer=Ve,r.delay=$e,r.difference=Te,r.filter=te,r.flatten=Se,r.forEach=se,r.functions=k,r.groupBy=gi,r.indexBy=vi,r.initial=Ee,r.intersection=xe,r.invert=A,r.invoke=re,r.keys=ai,r.map=ae,r.max=le,r.memoize=Be,r.merge=Y,r.min=ce,r.omit=G,r.once=We,r.pairs=J,r.partial=qe,r.pick=X,r.pluck=_i,r.range=Ie,r.reject=he,r.rest=Ne,r.shuffle=fe,r.sortBy=ve,r.tap=lt,r.throttle=Ke,r.times=st,r.toArray=_e,r.union=Oe,r.uniq=Ae,r.values=Q,r.where=be,r.without=Le,r.wrap=Ye,r.zip=Pe,r.collect=ae,r.drop=Ne,r.each=se,r.extend=D,r.methods=k,r.object=Re,r.select=te,r.tail=Ne,r.unique=Ae,r.clone=M,r.cloneDeep=I,r.contains=Z,r.escape=Je,r.every=ee,r.find=ie,r.has=O,r.identity=Xe,r.indexOf=Ce,r.isArguments=x,r.isArray=oi,r.isBoolean=L,r.isDate=P,r.isElement=R,r.isEmpty=F,r.isEqual=j,r.isFinite=H,r.isFunction=U,r.isNaN=V,r.isNull=$,r.isNumber=B,r.isObject=z,r.isRegExp=W,r.isString=q,r.isUndefined=K,r.lastIndexOf=Me,r.mixin=Qe,r.noConflict=Ze,r.random=tt,r.reduce=ue,r.reduceRight=de,r.result=it,r.size=me,r.some=ge,r.sortedIndex=ke,r.template=nt,r.unescape=ot,r.uniqueId=rt,r.all=ee,r.any=ge,r.detect=ie,r.findWhere=ne,r.foldl=ue,r.foldr=de,r.include=Z,r.inject=ue,r.first=we,r.last=De,r.sample=pe,r.take=we,r.head=we,Qe(r),r.VERSION="2.4.1",r.prototype.chain=ct,r.prototype.value=ut,se(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=jt[e];r.prototype[e]=function(){var e=this.__wrapped__;return t.apply(e,arguments),si.spliceObjects||0!==e.length||delete e[0],this}}),se(["concat","join","slice"],function(e){var t=jt[e];r.prototype[e]=function(){var e=this.__wrapped__,i=t.apply(e,arguments);return this.__chain__&&(i=new a(i),i.__chain__=!0),i}}),"function"==typeof define&&"object"==typeof define.amd&&define.amd?(At._=r,define("lodash.custom",[],function(){return r})):Lt&&Pt?Rt?(Pt.exports=r)._=r:Lt._=r:At._=r}.call(this),define("common/util/xssUtil",["require"],function(e){var t="a,abbr,acronym,address,area,article,aside,b,bdi,bdo,big,blockquote,body,br,caption,center,center,cite,code,col,colgroup,dd,details,dfn,div,dl,dt,em,fieldset,font,footer,form,h1,h2,h3,h4,h5,h6,head,header,hr,html,i,iframe,img,input,label,legend,li,main,map,mark,menu,menuitem,meta,nav,ol,option,p,pre,section,select,small,span,strike,strong,sub,summary,sup,table,tbody,td,textarea,th,thead,title,tr,u,ul,!--",i={"(":"&#40;",")":"&#41;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},n=function(e){return null==e?"":e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},s=function(e){var t=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.push(n(i));return t},o=function(){var e,t={"&#111;":"o","&#110;":"n","&amp;":"&"};for(e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[i[e]]=e);return t}(),r="(?:"+s(i).join("|")+")",a=RegExp(r),l=RegExp(r,"g"),c="(?:\\)|\\()",u=RegExp(c),d=RegExp(c,"g"),h="\\b='(.*?)'",p=RegExp(h),f=RegExp(h,"g"),m='\\b="(.*?)"',g=RegExp(m),v=RegExp(m,"g"),_="<(?!/|"+t.replace(/,/g,"|")+")",b=RegExp(_,"i"),y=RegExp(_,"ig"),T="</(?!"+t.replace(/,/g,"|")+")",w=RegExp(T,"i"),S=RegExp(T,"ig"),C="\\bjavascript:",E=RegExp(C,"i"),x=RegExp(C,"ig"),D="\\bon(\\w+?)=",M=RegExp(D,"i"),I=RegExp(D,"ig"),N=function(e,t){if(e=null==e?"":e,t=t||{},!("string"==typeof e||e instanceof String))return e;if(t.softHTMLEscape){if(e=u.test(e)?e.replace(d,function(e){return i[e]}):e,e=p.test(e)?e.replace(f,"=`$1`").replace(/'/g,"&#39;").replace(/\b=`(.*?)`/g,"='$1'"):e.replace(/'/g,"&#39;"),e=g.test(e)?e.replace(v,"=`$1`").replace(/"/g,"&quot;").replace(/\b=`(.*?)`/g,'="$1"'):e.replace(/"/g,"&quot;"),t.whiteList&&t.whiteList instanceof Array&&t.whiteList.length>0){var n="<(?!/|"+t.whiteList.join("|")+")",s=RegExp(n,"i"),o=RegExp(n,"ig");e=s.test(e)?e.replace(o,"&lt;"):e;var r="</(?!"+t.whiteList.join("|")+")",c=RegExp(r,"i"),h=RegExp(r,"ig");e=c.test(e)?e.replace(h,"&lt;/"):e}else e=b.test(e)?e.replace(y,"&lt;"):e,e=w.test(e)?e.replace(S,"&lt;/"):e;e=E.test(e)?e.replace(x,""):e,e=M.test(e)?e.replace(I,"&#111;&#110;$1="):e}else e=a.test(e)?e.replace(l,function(e){return i[e]}):e;return e},k="(?:"+s(o).join("|")+")",O=RegExp(k,"i"),A=RegExp(k,"ig"),L=function(e){return e=null==e?"":e,("string"==typeof e||e instanceof String)&&O.test(e)?e.replace(A,function(e){return o[e]}):e};return xssUtil={escape:N,unescape:L,noConflict:function(){}},xssUtil}),!function(e,t){"use strict";var i=t.prototype.trim,n=t.prototype.trimRight,s=t.prototype.trimLeft,o=function(e){return 1*e||0},r=function(e,t){if(1>t)return"";for(var i="";t>0;)1&t&&(i+=e),t>>=1,e+=e;return i},a=[].slice,l=function(e){return null==e?"\\s":e.source?e.source:"["+p.escapeRegExp(e)+"]"},c={lt:"<",gt:">",quot:'"',apos:"'",amp:"&"},u={};for(var d in c)u[c[d]]=d;var h=function(){function e(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}var i=r,n=function(){return n.cache.hasOwnProperty(arguments[0])||(n.cache[arguments[0]]=n.parse(arguments[0])),n.format.call(null,n.cache[arguments[0]],arguments)};return n.format=function(n,s){var o,r,a,l,c,u,d,p=1,f=n.length,m="",g=[];for(r=0;f>r;r++)if(m=e(n[r]),"string"===m)g.push(n[r]);else if("array"===m){if(l=n[r],l[2])for(o=s[p],a=0;a<l[2].length;a++){if(!o.hasOwnProperty(l[2][a]))throw new Error(h('[_.sprintf] property "%s" does not exist',l[2][a]));o=o[l[2][a]]}else o=l[1]?s[l[1]]:s[p++];if(/[^s]/.test(l[8])&&"number"!=e(o))throw new Error(h("[_.sprintf] expecting number but found %s",e(o)));switch(l[8]){case"b":o=o.toString(2);break;case"c":o=t.fromCharCode(o);break;case"d":o=parseInt(o,10);break;case"e":o=l[7]?o.toExponential(l[7]):o.toExponential();break;case"f":o=l[7]?parseFloat(o).toFixed(l[7]):parseFloat(o);break;case"o":o=o.toString(8);break;case"s":o=(o=t(o))&&l[7]?o.substring(0,l[7]):o;break;case"u":o=Math.abs(o);break;case"x":o=o.toString(16);break;case"X":o=o.toString(16).toUpperCase()}o=/[def]/.test(l[8])&&l[3]&&o>=0?"+"+o:o,u=l[4]?"0"==l[4]?"0":l[4].charAt(1):" ",d=l[6]-t(o).length,c=l[6]?i(u,d):"",g.push(l[5]?o+c:c+o)}return g.join("")},n.cache={},n.parse=function(e){for(var t=e,i=[],n=[],s=0;t;){if(null!==(i=/^[^\x25]+/.exec(t)))n.push(i[0]);else if(null!==(i=/^\x25{2}/.exec(t)))n.push("%");else{if(null===(i=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(t)))throw new Error("[_.sprintf] huh?");if(i[2]){s|=1;var o=[],r=i[2],a=[];if(null===(a=/^([a-z_][a-z_\d]*)/i.exec(r)))throw new Error("[_.sprintf] huh?");for(o.push(a[1]);""!==(r=r.substring(a[0].length));)if(null!==(a=/^\.([a-z_][a-z_\d]*)/i.exec(r)))o.push(a[1]);else{if(null===(a=/^\[(\d+)\]/.exec(r)))throw new Error("[_.sprintf] huh?");o.push(a[1])}i[2]=o}else s|=2;if(3===s)throw new Error("[_.sprintf] mixing positional and named placeholders is not (yet) supported");n.push(i)}t=t.substring(i[0].length)}return n},n}(),p={VERSION:"2.3.0",isBlank:function(e){return null==e&&(e=""),/^\s*$/.test(e)},stripTags:function(e){return null==e?"":t(e).replace(/<\/?[^>]+>/g,"")},capitalize:function(e){return e=null==e?"":t(e),e.charAt(0).toUpperCase()+e.slice(1)},chop:function(e,i){return null==e?[]:(e=t(e),i=~~i,i>0?e.match(new RegExp(".{1,"+i+"}","g")):[e])},clean:function(e){return p.strip(e).replace(/\s+/g," ")},count:function(e,i){return null==e||null==i?0:t(e).split(i).length-1},chars:function(e){return null==e?[]:t(e).split("")},swapCase:function(e){return null==e?"":t(e).replace(/\S/g,function(e){return e===e.toUpperCase()?e.toLowerCase():e.toUpperCase()})},escapeHTML:function(e){return null==e?"":t(e).replace(/[&<>"']/g,function(e){return"&"+u[e]+";"})},unescapeHTML:function(e){return null==e?"":t(e).replace(/\&([^;]+);/g,function(e,i){var n;return i in c?c[i]:(n=i.match(/^#x([\da-fA-F]+)$/))?t.fromCharCode(parseInt(n[1],16)):(n=i.match(/^#(\d+)$/))?t.fromCharCode(~~n[1]):e})},escapeRegExp:function(e){return null==e?"":t(e).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")},splice:function(e,t,i,n){var s=p.chars(e);return s.splice(~~t,~~i,n),s.join("")},insert:function(e,t,i){return p.splice(e,t,0,i)},include:function(e,i){return""===i?!0:null==e?!1:-1!==t(e).indexOf(i)},join:function(){var e=a.call(arguments),t=e.shift();return null==t&&(t=""),e.join(t)},lines:function(e){return null==e?[]:t(e).split("\n")},reverse:function(e){return p.chars(e).reverse().join("")},startsWith:function(e,i){return""===i?!0:null==e||null==i?!1:(e=t(e),i=t(i),e.length>=i.length&&e.slice(0,i.length)===i)},endsWith:function(e,i){return""===i?!0:null==e||null==i?!1:(e=t(e),i=t(i),e.length>=i.length&&e.slice(e.length-i.length)===i)},succ:function(e){return null==e?"":(e=t(e),e.slice(0,-1)+t.fromCharCode(e.charCodeAt(e.length-1)+1))},titleize:function(e){return null==e?"":t(e).replace(/(?:^|\s)\S/g,function(e){return e.toUpperCase()})},camelize:function(e){return p.trim(e).replace(/[-_\s]+(.)?/g,function(e,t){return t.toUpperCase()})},underscored:function(e){return p.trim(e).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()},dasherize:function(e){return p.trim(e).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()},classify:function(e){return p.titleize(t(e).replace(/_/g," ")).replace(/\s/g,"")},humanize:function(e){return p.capitalize(p.underscored(e).replace(/_id$/,"").replace(/_/g," "))},trim:function(e,n){return null==e?"":!n&&i?i.call(e):(n=l(n),t(e).replace(new RegExp("^"+n+"+|"+n+"+$","g"),""))},ltrim:function(e,i){return null==e?"":!i&&s?s.call(e):(i=l(i),t(e).replace(new RegExp("^"+i+"+"),""))},rtrim:function(e,i){return null==e?"":!i&&n?n.call(e):(i=l(i),t(e).replace(new RegExp(i+"+$"),""))},truncate:function(e,i,n){return null==e?"":(e=t(e),n=n||"...",i=~~i,e.length>i?e.slice(0,i)+n:e)},prune:function(e,i,n){if(null==e)return"";if(e=t(e),i=~~i,n=null!=n?t(n):"...",e.length<=i)return e;var s=function(e){return e.toUpperCase()!==e.toLowerCase()?"A":" "},o=e.slice(0,i+1).replace(/.(?=\W*\w*$)/g,s);return o=o.slice(o.length-2).match(/\w\w/)?o.replace(/\s*\S+$/,""):p.rtrim(o.slice(0,o.length-1)),(o+n).length>e.length?e:e.slice(0,o.length)+n},words:function(e,t){return p.isBlank(e)?[]:p.trim(e,t).split(t||/\s+/)},pad:function(e,i,n,s){e=null==e?"":t(e),i=~~i;var o=0;switch(n?n.length>1&&(n=n.charAt(0)):n=" ",s){case"right":return o=i-e.length,e+r(n,o);case"both":return o=i-e.length,r(n,Math.ceil(o/2))+e+r(n,Math.floor(o/2));default:return o=i-e.length,r(n,o)+e}},lpad:function(e,t,i){return p.pad(e,t,i)},rpad:function(e,t,i){return p.pad(e,t,i,"right")},lrpad:function(e,t,i){return p.pad(e,t,i,"both")},sprintf:h,vsprintf:function(e,t){return t.unshift(e),h.apply(null,t)},toNumber:function(e,i){if(null==e||""==e)return 0;e=t(e);var n=o(o(e).toFixed(~~i));return 0!==n||e.match(/^0+$/)?n:Number.NaN},numberFormat:function(e,t,i,n){if(isNaN(e)||null==e)return"";e=e.toFixed(~~t),n=n||",";var s=e.split("."),o=s[0],r=s[1]?(i||".")+s[1]:"";return o.replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+n)+r},strRight:function(e,i){if(null==e)return"";e=t(e),i=null!=i?t(i):i;var n=i?e.indexOf(i):-1;return~n?e.slice(n+i.length,e.length):e},strRightBack:function(e,i){if(null==e)return"";e=t(e),i=null!=i?t(i):i;var n=i?e.lastIndexOf(i):-1;return~n?e.slice(n+i.length,e.length):e},strLeft:function(e,i){if(null==e)return"";e=t(e),i=null!=i?t(i):i;var n=i?e.indexOf(i):-1;return~n?e.slice(0,n):e},strLeftBack:function(e,t){if(null==e)return"";e+="",t=null!=t?""+t:t;var i=e.lastIndexOf(t);return~i?e.slice(0,i):e},toSentence:function(e,t,i,n){t=t||", ",i=i||" and ";var s=e.slice(),o=s.pop();return e.length>2&&n&&(i=p.rtrim(t)+i),s.length?s.join(t)+i+o:o},toSentenceSerial:function(){var e=a.call(arguments);return e[3]=!0,p.toSentence.apply(p,e)},slugify:function(e){if(null==e)return"";var i="",n="aaaaaaaaceeeeeiiiilnoooooouuuunczz",s=new RegExp(l(i),"g");return e=t(e).toLowerCase().replace(s,function(e){var t=i.indexOf(e);return n.charAt(t)||"-"}),p.dasherize(e.replace(/[^\w\s-]/g,""))},surround:function(e,t){return[t,e,t].join("")},quote:function(e){return p.surround(e,'"')},exports:function(){var e={};for(var t in this)this.hasOwnProperty(t)&&!t.match(/^(?:include|contains|reverse)$/)&&(e[t]=this[t]);return e},repeat:function(e,i,n){if(null==e)return"";if(i=~~i,null==n)return r(t(e),i);for(var s=[];i>0;s[--i]=e);return s.join(n)},levenshtein:function(e,i){if(null==e&&null==i)return 0;if(null==e)return t(i).length;if(null==i)return t(e).length;e=t(e),i=t(i);for(var n,s,o=[],r=0;r<=i.length;r++)for(var a=0;a<=e.length;a++)s=r&&a?e.charAt(a-1)===i.charAt(r-1)?n:Math.min(o[a],o[a-1],n)+1:r+a,n=o[a],o[a]=s;return o.pop()}};p.strip=p.trim,p.lstrip=p.ltrim,p.rstrip=p.rtrim,p.center=p.lrpad,p.rjust=p.lpad,p.ljust=p.rpad,p.contains=p.include,p.q=p.quote,"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(module.exports=p),exports._s=p):"function"==typeof define&&define.amd?define("underscore.string",[],function(){return p}):(e._=e._||{},e._.string=e._.str=p)}(this,String),define("underscore",["require","lodash.custom","common/util/xssUtil","underscore.string"],function(e){"use strict";var t=e("lodash.custom"),i=e("common/util/xssUtil");t.str=e("underscore.string"),t.templateSettings={evaluate:/\{\{([\s\S]+?)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,escape:/\{\{-([\s\S]+?)\}\}/g},t.mixin(t.str.exports()),t.xssEscape=i.escape;var n=t.template;return t.template=function(e,i,s){var o=t.templateSettings,r=/($^)/;e=String(e||""),s=t.defaults({},s,o);var a=RegExp((s.escape||r).source+"|$","g");return e=e.replace(a,"{{ print(_.xssEscape($1)); }}"),n.call(t,e,i,s)},t});var log="";Function.prototype.addMethod=function(e,t){return this.prototype[e]=t,this},Function.prototype.addVar=function(e,t){return this.prototype[e]=t,this},Function.prototype.compose=function(e){var t=this;return function(){return t.call(this,e.apply(this,arguments))}};var overlayObjectStack=new Array;"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.strip()});var timer={},inspect=function(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(i+" = "+e[i]);return t.join("\n")},getAsFunction=function(e){return toFunction(e)||toFunction("localContext."+e)};BusyMonitor.prototype.run=function(){var e=arguments;null!=this.timer&&clearTimeout(this.timer);var t=function(){this.theFunction.apply(null,e)};this.timer=setTimeout(t.bind(this),this.waitTime)},BusyMonitor.prototype.cancel=function(){this.timer&&clearTimeout(this.timer)},InPlaceEditor.prototype.makeEditable=function(e){var t=this,i=this.elem.id+"Input",n=this.value,s=Builder.node("input",{className:"control input text",id:i,value:n});this.elem.update(s),this.editing=!0;var o=jQuery("#"+i);if(isIE()){var r=!1;o.hover(function(){!r&&n&&n===this.value&&(this.select(),this.focus(),r=!0)},function(){})}if(o.focus(),o.select(),e){if(e.blur&&($(i).onblur=function(i){i=i?i:window.event;var n=e.blur,s=getAsFunction(n);s.call(t,i)}),(e.onEnter||e.onTab)&&($(i).onkeypress=function(i){var n=null,s=null;i=i?i:window.event,enterKeyHit(i)?(n=e.onEnter,s=getAsFunction(n),s.call(t,i)):i.keyCode==Event.KEY_TAB&&(n=e.onTab,s=getAsFunction(n),s.call(t,i))}),e.onMouseup){var a=function(n){if(n=n?n:window.event,$(Event.element(n))!=$(i)){var s=e.onMouseup,o=getAsFunction(s);o.call(t,n)}};isIPad()?document.body.ontouchend=a:document.body.onmousedown=a}e.onEsc&&(document.body.onkeydown=function(i){if(i=i?i:window.event,i.keyCode==Event.KEY_ESC){var n=e.onEsc,s=getAsFunction(n);s.call(t,i)}})}},InPlaceEditor.prototype.makeNonEditable=function(){if(this.elem&&this.elem.firstDescendant()&&this.editing){var e=this.elem.firstDescendant().value;this.elem.update(xssUtil.escape(e)),this.editing=!1}},InPlaceEditor.prototype.revertEdit=function(){this.elem.update(this.value),this.editing=!1};var cancelEventDragTarget=null;String.prototype.times=function(e){return 1>e?"":new Array(e+1).join(this)};var tracer={nativeCodeEx:/\[native code\]/,indentCount:-4,tracing:[],traceMe:function(e,t){var i=function(){var i=+new Date,n=" ".times(tracer.indentCount+=4);console.info(n+t+"("+Array.prototype.slice.call(arguments).join(", ")+")");var s=e.apply(this,arguments);return console.info(n+t,"-> ",s,"(",new Date-i,"ms",")"),tracer.indentCount-=4,s};i.traceOff=e;for(var n in e)i[n]=e[n];return console.log("tracing "+t),i},traceAll:function(e,t){if(e!=window&&("object"==typeof e||"function"==typeof e))for(var i in e)if(e.hasOwnProperty(i)&&e[i]!=e){var n=e[i];"function"==typeof n&&(this==e||n.traceOff||this.nativeCodeEx.test(n)||(e[i]=this.traceMe(e[i],i),this.tracing.push({obj:e,methodName:i}))),t&&this.traceAll(n,!0)}},untraceAll:function(){for(var e=0;e<this.tracing.length;++e){var t=this.tracing[e];t.obj[t.methodName]=t.obj[t.methodName].traceOff}console.log("tracing disabled"),tracer.tracing=[]}},ValidationModule={validate:function(e,t){var i=this;if(!isArray(e))return this.validateEntry(e,t);var n=!0;return _.each(e,function(e){n=i.validateEntry(e,t)&&n}),n},validateEntry:function(e,t){if(e.validator)return this.validateLegacy(e,t);if(!e.selector){var i=this._validateElement(e.element,e,t);return null==i}for(var n=jQuery(e.element).find(e.selector),s=!0,o=0;o<n.length;o++){var i=this._validateElement(n[o],e,t);s=s&&null==i}return s},_validateElement:function(e,t,i){var n;if(t.method)n=this._runValidatorOnElement(t.method,e,t.messages,t.options);else for(var s=t.validators,o=0;o<s.length;o++){var r=s[o];if(n=this._runValidatorOnElement(r.method,e,r.messages,r.options),null!=n)break}return i!==!1&&(n?this.showError(e,n):this.hideError(e)),n},_runValidatorOnElement:function(e,t,i,n){_.isString(e)&&(e=this.methods[e]);var s=e.call(this,t.value,i,n);return _.isObject(s)?s.isValid?null:s.errorMessage:s},attachOnEvent:function(e,t){_.isArray(t)||(t=[t]),_.each(t,function(t){jQuery(t.element).on(e,function(e){ValidationModule.validateEntry(t)})})},_getMessage:function(e,t,i,n){(_.isArray(i)||void 0===i)&&(n=i,i=this.defaultMessages);var s=null;return t&&(s=t[e]),!s&&i&&(s=i[e]),s&&n&&(s=this.fillPlaceholders(s,n)),s||e},fillPlaceholders:function(e,t){for(var i=0;i<t.length;i++)e=e.replace("{"+i+"}",t[i]);return e},defaultMessages:{mandatory:"Field is mandatory",tooSmall:"Value is too small, at least {0} required",tooBig:"Value is too big, at most {0} allowed",tooShort:"Value is too short, at least {0} characters required",tooLong:"Value is too long, at most {0} characters allowed",wordInvalidChars:"Value should contain only word characters (letters, digits and underscore)",shouldStartWithLetter:"Value should start with letter"},methods:{mandatory:function(e,t){return jQuery.trim(e)?null:this._getMessage("mandatory",t)},minMax:function(e,t,i){var n=jQuery.trim(e);if(!n)return null;var n=parseFloat(n);return isNaN(n)?this._getMessage("notANumber",t):void 0!==i.min&&n<i.min?this._getMessage("tooSmall",t,[i.min]):void 0!==i.max&&n>i.max?this._getMessage("tooBig",t,[i.max]):void 0},minMaxLength:function(e,t,i){return i.minLength&&e.length<i.minLength?this._getMessage("tooShort",t,[i.minLength]):i.maxLength&&e.length>i.maxLength?this._getMessage("tooLong",t,[i.maxLength]):void 0},resourceIdChars:function(e,t){if(!localContext||!localContext.initOptions||!localContext.initOptions.resourceIdNotSupportedSymbols)throw"There is no resourceIdNotSupportedSymbols property in init options.";return new RegExp(localContext.initOptions.resourceIdNotSupportedSymbols,"g").test(e)?this._getMessage("resourceIdInvalidChars",t):void 0},wordChars:function(e,t){return e.search(/\W/)>=0?this._getMessage("wordInvalidChars",t):void 0},startsWithLetter:function(e,t){return e.substr(0,1).match(/[A-Za-z]/)?void 0:this._getMessage("shouldStartWithLetter",t)},isDecimal:function(e){return _.isNumber(e)||_.isString(e)&&!isNaN(Number(e))?null:"defaultErrorMessage"},isInteger:function(e){return _.isNumber(e)||_.isString(e)&&/^[-+]?\d+$/.test(e)?null:"defaultErrorMessage"}},validateLegacy:function(e,t){var i=!0,n=[];return e=isArray(e)?e:[e],t=t!==!1,e.each(function(e){var s=e.validator.call(ValidationModule,e.element.getValue());s.isValid?e.onValid&&e.onValid(e):e.onInvalid&&e.onInvalid(e),s.isValid||n.include(e.element)?n.include(e.element)||t&&ValidationModule.hideError(e.element,!0):(n.push(e.element),t&&ValidationModule.showError(e.element,s.errorMessage),i=!1)}),i},_showMessage:function(e,t,i,n){var s=e.validatorMessageContainer||e.parentNode,o=$(s).select(n)[0];o=o||$(s).select(layoutModule.MESSAGE_PATTERN)[0],o||(o=document.createElement("span"),s.appendChild(o)),o.className="";for(var r=n.split("."),a=0;a<r.length;a++)o.addClassName(r[a].trim());0==o.children.length?o.update(t):o.children[0].update(t),s.addClassName(i)},showError:function(e,t,i){this._showMessage(e,t,layoutModule.ERROR_CLASS,layoutModule.MESSAGE_WARNING_PATTERN);var n=e.validatorMessageContainer||e.parentNode;if(i){var s=$(n).select(layoutModule.DETAILS_PATTERN)[0];s&&s.stopObserving("click").observe("click",function(){dialogs.errorPopup.show(i,!0)}.bindAsEventListener(this))}else{var o=$(n).select(layoutModule.MESSAGE_WARNING_DETAILS_PATTERN)[0];o&&$(o).hide()}},showSuccess:function(e,t){this._showMessage(e,t,layoutModule.SUCCESS_CLASS,layoutModule.MESSAGE_SUCCESS_PATTERN)},hideError:function(e,t){var i=e.validatorMessageContainer||e.parentNode;if($(i).removeClassName(layoutModule.ERROR_CLASS),
t){var n=$(i).select(layoutModule.MESSAGE_WARNING_PATTERN)[0]||$(i).select(layoutModule.MESSAGE_PATTERN)[0];n&&n.update("")}},hideSuccess:function(e){var t=e.validatorMessageContainer||e.parentNode;$(t).removeClassName(layoutModule.SUCCESS_CLASS)}},ClassNameBuilder=function(e){return this.element=$(e),this.element.classNameBuilder?this.element.classNameBuilder:(this.names=this.element.className.split(" "),this.names=this.names.compact().uniq(),void(this.element.classNameBuilder=this))};ClassNameBuilder.addMethod("add",function(e){var t=[];if(Object.isString(e))t=e.split(" ");else{if(!isArray(e))return this;t=e}return t.each(function(e){this.names.include(e)||this.names.push(e)}.bind(this)),this}).addMethod("remove",function(e){return this.names=this.names.without(e),this}).addMethod("clean",function(){return this.names=[],this}).addMethod("toClassName",function(){return this.element.className=this.names.join(" "),this.element.className});var JSCookie=function(e,t,i){if(!Object.isString(e))throw"Invalid name";this.name=e,this.value=t,Object.isUndefined(t)?this.value=this._getCookies()[e]:this._setCookie(this.name,this.value,i)};JSCookie.addVar("daysToExpiration",30),JSCookie.addVar("getCookieTemplate",function(){return _.template("{{- name}}={{- value}}; expires={{- expires}}; path=/;")}),JSCookie.addMethod("_getCookies",function(){var e={};return document.cookie.split(";").invoke("strip").each(function(t){var i=t.split("=");e[i[0].strip()]=decodeURI(i[1])}),e}),JSCookie.addMethod("set",function(e,t){this.value=e,this._setCookie(this.name,this.value,t)}),JSCookie.addMethod("get",function(){return this.value}),JSCookie.addMethod("_setCookie",function(e,t,i){document.cookie=this.getCookieTemplate()({name:e,value:encodeURI(new String(t)),expires:this._getExpiresDate(i).toGMTString()})}),JSCookie.addMethod("_getExpiresDate",function(e){var t=new Date;return t.setTime(t.getTime()+(e?e:24*this.daysToExpiration*60*60*1e3)),t});var sessionManager={RESET_SESSION_MIN_TIME:1e3,resetSession:function(e){var t=(new Date).getTime();if(!(this._lastSessionResetTime&&t-this._lastSessionResetTime<this.RESET_SESSION_MIN_TIME)){this._lastSessionResetTime=t;var i=buildActionUrl({flowExecutionKey:e,eventId:"resetSession"}),n={errorHandler:this.errorHandler};ajaxNonReturningUpdate(i,n)}},errorHandler:function(e){var t=e.getResponseHeader("LoginRequested");return t?(document.location=urlContext,!0):void 0}},buildActionUrl=function(e){if(e){var t=deepClone(e);return $w("flowId flowExecutionKey eventId").each(function(e){t[e]&&(t["_"+e]=t[e],delete t[e])}),"flow.html?"+Object.toQueryString(t)}},pageDimmer={DOM_ID:"#pageDimmer",show:function(e){if(jQuery(this.DOM_ID).removeClass("hidden"),e&&e.match(layoutModule.DIALOG_PATTERN)){var t=e.getStyle("zIndex");t=t?parseInt(t,10):0,t>0&&this.setZindex(t-1)}},hide:function(){jQuery(this.DOM_ID).addClass("hidden")},setZindex:function(e){jQuery(this.DOM_ID).css({zIndex:e})}},fileSender={};fileSender.upload=function(e,t,i,n){return fileSender.uploadMultiple([e],t,i,n)},fileSender.uploadMultiple=function(e,t,i,n){for(var s=Builder.node("FORM",{action:"flow.html?_flowId="+t,method:"post",enctype:"multipart/form-data"}),o=0;o<e.length;o++){var r=e[o],a=r.cloneNode(!0);r.writeAttribute("id",null),r.addClassName("hidden"),s.file&&s.file.remove(),fileSender.moveEventHandlers(r,a),r.insert({after:a}),r.remove(),s.insert(r);for(var l in i){var c=Builder.node("INPUT",{type:"hidden",name:l,value:i[l]});s.insert(c)}}return s.addClassName("hidden"),document.body.insert(s),fileSender.submit(s,{onStart:null,onComplete:n}),s.submit(),s},fileSender.moveEventHandlers=function(e,t){var i=Event.cache,n=fileSender.getUniqueElementID(e),s=i[n];delete i[n],s&&(_.each(s,function(e,i){"element"!==i&&_.each(e,function(e){t.observe(i,e.handler)})}),s=null)},fileSender.getUniqueElementID=function(e){return e===window?0:"uniqueID"in document.createElement("div")?e==document?1:e.uniqueID:("undefined"==typeof e._prototypeUID&&(e._prototypeUID=Element.Storage.UID++),e._prototypeUID)},fileSender.frame=function(e){var t="f"+Math.floor(99999*Math.random()),i=$("ajax-upload-iframe").cloneNode(!0);i.writeAttribute("id",t),i.writeAttribute("name",t),document.body.insert(i);var n=function(){fileSender.loaded(t)};return i.observe("load",n),e&&"function"==typeof e.onComplete&&(i.onComplete=e.onComplete),t},fileSender.form=function(e,t){e.setAttribute("target",t)},fileSender.submit=function(e,t){return fileSender.form(e,fileSender.frame(t)),t&&"function"==typeof t.onStart?t.onStart():!0},fileSender.loaded=function(e){var t,i=document.getElementById(e);t=i.contentDocument?i.contentDocument:i.contentWindow?i.contentWindow.document:window.frames[e].document,"about:blank"!=t.location.href&&(fileSender.sessionTimeoutHandler(t)||"function"==typeof i.onComplete&&i.onComplete(t.body.innerHTML))},fileSender.sessionTimeoutHandler=function(e){for(var t=e.getElementsByTagName("meta"),i=0;i<t.length;i++)if("pageHeading"==t[i].name&&"LOGIN PAGE"==t[i].content)return document.location=".",!0;return!1},Keys=new Object,Keys.DOM_VK_BACK_SPACE=8,Keys.DOM_VK_ENTER=13,Keys.DOM_VK_PAGE_UP=33,Keys.DOM_VK_DOWN=40,Keys.DOM_VK_INSERT=45,Keys.DOM_VK_DELETE=46,Keys.DOM_VK_0=48,Keys.DOM_VK_9=57,Keys.DOM_VK_NUMPAD0=96,Keys.DOM_VK_NUMPAD9=105,Keys.DOM_VK_DECIMAL=110,Keys.DOM_VK_COMMA=188,Keys.DOM_VK_PERIOD=190,Keys.DOM_VK_CANCEL=3,Keys.DOM_VK_HELP=6,Keys.DOM_VK_TAB=9,Keys.DOM_VK_CLEAR=12,Keys.DOM_VK_RETURN=13,Keys.DOM_VK_SHIFT=16,Keys.DOM_VK_CONTROL=17,Keys.DOM_VK_ALT=18,Keys.DOM_VK_PAUSE=19,Keys.DOM_VK_CAPS_LOCK=20,Keys.DOM_VK_ESCAPE=27,Keys.DOM_VK_SPACE=32,Keys.DOM_VK_PAGE_DOWN=34,Keys.DOM_VK_END=35,Keys.DOM_VK_HOME=36,Keys.DOM_VK_LEFT=37,Keys.DOM_VK_UP=38,Keys.DOM_VK_RIGHT=39,Keys.DOM_VK_PRINTSCREEN=44,Keys.DOM_VK_1=49,Keys.DOM_VK_2=50,Keys.DOM_VK_3=51,Keys.DOM_VK_4=52,Keys.DOM_VK_5=53,Keys.DOM_VK_6=54,Keys.DOM_VK_7=55,Keys.DOM_VK_8=56,Keys.DOM_VK_SEMICOLON=59,Keys.DOM_VK_EQUALS=61,Keys.DOM_VK_A=65,Keys.DOM_VK_B=66,Keys.DOM_VK_C=67,Keys.DOM_VK_D=68,Keys.DOM_VK_E=69,Keys.DOM_VK_F=70,Keys.DOM_VK_G=71,Keys.DOM_VK_H=72,Keys.DOM_VK_I=73,Keys.DOM_VK_J=74,Keys.DOM_VK_K=75,Keys.DOM_VK_L=76,Keys.DOM_VK_M=77,Keys.DOM_VK_N=78,Keys.DOM_VK_O=79,Keys.DOM_VK_P=80,Keys.DOM_VK_Q=81,Keys.DOM_VK_R=82,Keys.DOM_VK_S=83,Keys.DOM_VK_T=84,Keys.DOM_VK_U=85,Keys.DOM_VK_V=86,Keys.DOM_VK_W=87,Keys.DOM_VK_X=88,Keys.DOM_VK_Y=89,Keys.DOM_VK_Z=90,Keys.DOM_VK_CONTEXT_MENU=93,Keys.DOM_VK_NUMPAD1=97,Keys.DOM_VK_NUMPAD2=98,Keys.DOM_VK_NUMPAD3=99,Keys.DOM_VK_NUMPAD4=100,Keys.DOM_VK_NUMPAD5=101,Keys.DOM_VK_NUMPAD6=102,Keys.DOM_VK_NUMPAD7=103,Keys.DOM_VK_NUMPAD8=104,Keys.DOM_VK_MULTIPLY=106,Keys.DOM_VK_ADD=107,Keys.DOM_VK_SEPARATOR=108,Keys.DOM_VK_SUBTRACT=109,Keys.DOM_VK_SUBTRACT_UNDERSCORE_IE=189,Keys.DOM_VK_DIVIDE=111,Keys.DOM_VK_F1=112,Keys.DOM_VK_F2=113,Keys.DOM_VK_F3=114,Keys.DOM_VK_F4=115,Keys.DOM_VK_F5=116,Keys.DOM_VK_F6=117,Keys.DOM_VK_F7=118,Keys.DOM_VK_F8=119,Keys.DOM_VK_F9=120,Keys.DOM_VK_F10=121,Keys.DOM_VK_F11=122,Keys.DOM_VK_F12=123,Keys.DOM_VK_F13=124,Keys.DOM_VK_F14=125,Keys.DOM_VK_F15=126,Keys.DOM_VK_F16=127,Keys.DOM_VK_F17=128,Keys.DOM_VK_F18=129,Keys.DOM_VK_F19=130,Keys.DOM_VK_F20=131,Keys.DOM_VK_F21=132,Keys.DOM_VK_F22=133,Keys.DOM_VK_F23=134,Keys.DOM_VK_F24=135,Keys.DOM_VK_NUM_LOCK=144,Keys.DOM_VK_SCROLL_LOCK=145,Keys.DOM_VK_SLASH=191,Keys.DOM_VK_BACK_QUOTE=192,Keys.DOM_VK_OPEN_BRACKET=219,Keys.DOM_VK_BACK_SLASH=220,Keys.DOM_VK_CLOSE_BRACKET=221,Keys.DOM_VK_QUOTE=222,Keys.DOM_VK_META=224,compileTemplate=function(e){if(e){var t=_.templateSettings;_.templateSettings={evaluate:/\{\{([\s\S]+?)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,escape:/\{\{-([\s\S]+?)\}\}/g};var i=_.template(jQuery(e).html());return _.templateSettings=t,i}},define("utils.common",["prototype","jquery","underscore"],function(e){return function(){var t;return t||e.jQuery}}(this));var Builder={NODEMAP:{AREA:"map",CAPTION:"table",COL:"table",COLGROUP:"table",LEGEND:"fieldset",OPTGROUP:"select",OPTION:"select",PARAM:"object",TBODY:"table",TD:"table",TFOOT:"table",TH:"table",THEAD:"table",TR:"table"},node:function(e){e=e.toUpperCase();var t=this.NODEMAP[e]||"div",i=document.createElement(t);try{i.innerHTML="<"+e+"></"+e+">"}catch(n){}var s=i.firstChild||null;if(s&&s.tagName.toUpperCase()!=e&&(s=s.getElementsByTagName(e)[0]),s||(s=document.createElement(e)),s){if(arguments[1])if(this._isStringOrNumber(arguments[1])||arguments[1]instanceof Array||arguments[1].tagName)this._children(s,arguments[1]);else{var o=this._attributes(arguments[1]);if(o.length){try{i.innerHTML="<"+e+" "+o+"></"+e+">"}catch(n){}if(s=i.firstChild||null,!s){s=document.createElement(e);for(attr in arguments[1])s["class"==attr?"className":attr]=arguments[1][attr]}s.tagName.toUpperCase()!=e&&(s=i.getElementsByTagName(e)[0])}}return arguments[2]&&this._children(s,arguments[2]),$(s)}},_text:function(e){return document.createTextNode(e)},ATTR_MAP:{className:"class",htmlFor:"for"},_attributes:function(e){var t=[];for(attribute in e)t.push((attribute in this.ATTR_MAP?this.ATTR_MAP[attribute]:attribute)+'="'+e[attribute].toString().escapeHTML().gsub(/"/,"&quot;")+'"');return t.join(" ")},_children:function(e,t){return t.tagName?void e.appendChild(t):void("object"==typeof t?t.flatten().each(function(t){"object"==typeof t?e.appendChild(t):Builder._isStringOrNumber(t)&&e.appendChild(Builder._text(t))}):Builder._isStringOrNumber(t)&&e.appendChild(Builder._text(t)))},_isStringOrNumber:function(e){return"string"==typeof e||"number"==typeof e},build:function(e){var t=this.node("div");return $(t).update(e.strip()),t.down()},dump:function(e){"object"!=typeof e&&"function"!=typeof e&&(e=window);var t="A ABBR ACRONYM ADDRESS APPLET AREA B BASE BASEFONT BDO BIG BLOCKQUOTE BODY BR BUTTON CAPTION CENTER CITE CODE COL COLGROUP DD DEL DFN DIR DIV DL DT EM FIELDSET FONT FORM FRAME FRAMESET H1 H2 H3 H4 H5 H6 HEAD HR HTML I IFRAME IMG INPUT INS ISINDEX KBD LABEL LEGEND LI LINK MAP MENU META NOFRAMES NOSCRIPT OBJECT OL OPTGROUP OPTION P PARAM PRE Q S SAMP SCRIPT SELECT SMALL SPAN STRIKE STRONG STYLE SUB SUP TABLE TBODY TD TEXTAREA TFOOT TH THEAD TITLE TR TT U UL VAR".split(/\s+/);t.each(function(t){e[t]=function(){return Builder.node.apply(Builder,[t].concat($A(arguments)))}})}};define("builder",["prototype"],function(e){return function(){var t;return t||e.Builder}}(this)),define("jquery.ui",["require","jquery"],function(e){var t=e("jquery");return function(e,t){function i(t,i){var s,o,r,a=t.nodeName.toLowerCase();return"area"===a?(s=t.parentNode,o=s.name,t.href&&o&&"map"===s.nodeName.toLowerCase()?(r=e("img[usemap=#"+o+"]")[0],!!r&&n(r)):!1):(/input|select|textarea|button|object/.test(a)?!t.disabled:"a"===a?t.href||i:i)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var s=0,o=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"@VERSION",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(i,n){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),n&&n.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length)for(var n,s,o=e(this[0]);o.length&&o[0]!==document;){if(n=o.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(s=parseInt(o.css("zIndex"),10),!isNaN(s)&&0!==s))return s;o=o.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++s)})},removeUniqueId:function(){return this.each(function(){o.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),s=isNaN(n);return(s||n>=0)&&i(t,!s)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(i,n){function s(t,i,n,s){return e.each(o,function(){i-=parseFloat(e.css(t,"padding"+this))||0,n&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),s&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var o="Width"===n?["Left","Right"]:["Top","Bottom"],r=n.toLowerCase(),a={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(i){return i===t?a["inner"+n].call(this):this.each(function(){e(this).css(r,s(this,i)+"px")})},e.fn["outer"+n]=function(t,i){return"number"!=typeof t?a["outer"+n].call(this,t):this.each(function(){e(this).css(r,s(this,t,!0,i)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,i,n){var s,o=e.ui[t].prototype;for(s in n)o.plugins[s]=o.plugins[s]||[],o.plugins[s].push([i,n[s]])},call:function(e,t,i){var n,s=e.plugins[t];if(s&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(n=0;n<s.length;n++)e.options[s[n][0]]&&s[n][1].apply(e.element,i)}},hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",s=!1;return t[n]>0?!0:(t[n]=1,s=t[n]>0,t[n]=0,s)}})}(t),function(e,t){var i=0,n=Array.prototype.slice,s=e.cleanData;e.cleanData=function(t){for(var i,n=0;null!=(i=t[n]);n++)try{e(i).triggerHandler("remove")}catch(o){}s(t)},e.widget=function(t,i,n){var s,o,r,a,l={},c=t.split(".")[0];t=t.split(".")[1],s=c+"-"+t,n||(n=i,i=e.Widget),e.expr[":"][s.toLowerCase()]=function(t){return!!e.data(t,s)},e[c]=e[c]||{},o=e[c][t],r=e[c][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new r(e,t)},e.extend(r,o,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),a=new i,a.options=e.widget.extend({},a.options),e.each(n,function(t,n){return e.isFunction(n)?void(l[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},s=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,o=this._superApply;return this._super=e,this._superApply=s,t=n.apply(this,arguments),this._super=i,this._superApply=o,t}}()):void(l[t]=n)}),r.prototype=e.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix||t:t},l,{constructor:r,namespace:c,widgetName:t,widgetFullName:s}),o?(e.each(o._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,r,i._proto)}),delete o._childConstructors):i._childConstructors.push(r),e.widget.bridge(t,r)},e.widget.extend=function(i){for(var s,o,r=n.call(arguments,1),a=0,l=r.length;l>a;a++)for(s in r[a])o=r[a][s],r[a].hasOwnProperty(s)&&o!==t&&(e.isPlainObject(o)?i[s]=e.isPlainObject(i[s])?e.widget.extend({},i[s],o):e.widget.extend({},o):i[s]=o);return i},e.widget.bridge=function(i,s){var o=s.prototype.widgetFullName||i;e.fn[i]=function(r){var a="string"==typeof r,l=n.call(arguments,1),c=this;return r=!a&&l.length?e.widget.extend.apply(null,[r].concat(l)):r,a?this.each(function(){var n,s=e.data(this,o);return s?e.isFunction(s[r])&&"_"!==r.charAt(0)?(n=s[r].apply(s,l),n!==s&&n!==t?(c=n&&n.jquery?c.pushStack(n.get()):n,!1):void 0):e.error("no such method '"+r+"' for "+i+" widget instance"):e.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+r+"'")}):this.each(function(){var t=e.data(this,o);t?t.option(r||{})._init():e.data(this,o,new s(r,this))}),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(i,n){var s,o,r,a=i;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof i)if(a={},s=i.split("."),i=s.shift(),s.length){for(o=a[i]=e.widget.extend({},this.options[i]),r=0;r<s.length-1;r++)o[s[r]]=o[s[r]]||{},o=o[s[r]];if(i=s.pop(),1===arguments.length)return o[i]===t?null:o[i];o[i]=n}else{if(1===arguments.length)return this.options[i]===t?null:this.options[i];a[i]=n}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,i,n){var s,o=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=s=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,s=this.widget()),e.each(n,function(n,r){function a(){return t||o.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof r?o[r]:r).apply(o,arguments):void 0}"string"!=typeof r&&(a.guid=r.guid=r.guid||a.guid||e.guid++);var l=n.match(/^(\w+)\s*(.*)$/),c=l[1]+o.eventNamespace,u=l[2];u?s.delegate(u,c,a):i.bind(c,a)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,n){var s,o,r=this.options[t];if(n=n||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(s in o)s in i||(i[s]=o[s]);return this.element.trigger(i,n),!(e.isFunction(r)&&r.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,s,o){"string"==typeof s&&(s={effect:s});var r,a=s?s===!0||"number"==typeof s?i:s.effect||i:t;s=s||{},"number"==typeof s&&(s={duration:s}),r=!e.isEmptyObject(s),s.complete=o,s.delay&&n.delay(s.delay),r&&e.effects&&e.effects.effect[a]?n[t](s):a!==t&&n[a]?n[a](s.duration,s.easing,o):n.queue(function(i){e(this)[t](),o&&o.call(n[0]),i()})}})}(t),function(e,t){var i=!1;e(document).mouseup(function(){i=!1}),e.widget("ui.mouse",{version:"@VERSION",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!i){this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var n=this,s=1===t.which,o="string"==typeof this.options.cancel&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;return s&&!o&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),i=!0,!0)):!0}},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(t),function(e,t){e.widget("ui.draggable",e.ui.mouse,{version:"@VERSION",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var i=this.options;return this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(e(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,i){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(this._trigger("drag",t,n)===!1)return this._mouseUp({}),!1;this.position=n.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,n=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(n=e.ui.ddmanager.drop(this,t)),this.dropped&&(n=this.dropped,this.dropped=!1),"original"!==this.options.helper||e.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",t)!==!1&&i._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1):!1},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,s=this.options;return s.containment?"window"===s.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===s.containment?void(this.containment=[0,0,e(document).width()-this.helperProportions.width-this.margins.left,(e(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):s.containment.constructor===Array?void(this.containment=s.containment):("parent"===s.containment&&(s.containment=this.helper[0].parentNode),i=e(s.containment),n=i[0],void(n&&(t="hidden"!==i.css("overflow"),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i))):void(this.containment=null)},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"===t?1:-1,s="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:s.scrollTop(),left:s.scrollLeft()}),{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*n
}},_generatePosition:function(t){var i,n,s,o,r=this.options,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=t.pageX,c=t.pageY;return this.offset.scroll||(this.offset.scroll={top:a.scrollTop(),left:a.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(n=this.relative_container.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(c=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(c=i[3]+this.offset.click.top)),r.grid&&(s=r.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,c=i?s-this.offset.click.top>=i[1]||s-this.offset.click.top>i[3]?s:s-this.offset.click.top>=i[1]?s-r.grid[1]:s+r.grid[1]:s,o=r.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,l=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-r.grid[0]:o+r.grid[0]:o)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,i,n){return n=n||this._uiHash(),e.ui.plugin.call(this,t,[i,n]),"drag"===t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i){var n=e(this).data("ui-draggable"),s=n.options,o=e.extend({},i,{item:n.element});n.sortables=[],e(s.connectToSortable).each(function(){var i=e.data(this,"ui-sortable");i&&!i.options.disabled&&(n.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",t,o))})},stop:function(t,i){var n=e(this).data("ui-draggable"),s=e.extend({},i,{item:n.element});e.each(n.sortables,function(){this.instance.isOver?(this.instance.isOver=0,n.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"===n.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,s))})},drag:function(t,i){var n=e(this).data("ui-draggable"),s=this;e.each(n.sortables,function(){var o=!1,r=this;this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(o=!0,e.each(n.sortables,function(){return this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this!==r&&this.instance._intersectsWith(this.instance.containerCache)&&e.contains(r.instance.element[0],this.instance.element[0])&&(o=!1),o})),o?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(s).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=n.offset.click.top,this.instance.offset.click.left=n.offset.click.left,this.instance.offset.parent.left-=n.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=n.offset.parent.top-this.instance.offset.parent.top,n._trigger("toSortable",t),n.dropped=this.instance.element,n.currentItem=n.element,this.instance.fromOutside=n),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),n._trigger("fromSortable",t),n.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(){var t=e("body"),i=e(this).data("ui-draggable").options;t.css("cursor")&&(i._cursor=t.css("cursor")),t.css("cursor",i.cursor)},stop:function(){var t=e(this).data("ui-draggable").options;t._cursor&&e("body").css("cursor",t._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i){var n=e(i.helper),s=e(this).data("ui-draggable").options;n.css("opacity")&&(s._opacity=n.css("opacity")),n.css("opacity",s.opacity)},stop:function(t,i){var n=e(this).data("ui-draggable").options;n._opacity&&e(i.helper).css("opacity",n._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(){var t=e(this).data("ui-draggable");t.scrollParent[0]!==document&&"HTML"!==t.scrollParent[0].tagName&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var i=e(this).data("ui-draggable"),n=i.options,s=!1;i.scrollParent[0]!==document&&"HTML"!==i.scrollParent[0].tagName?(n.axis&&"x"===n.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-t.pageY<n.scrollSensitivity?i.scrollParent[0].scrollTop=s=i.scrollParent[0].scrollTop+n.scrollSpeed:t.pageY-i.overflowOffset.top<n.scrollSensitivity&&(i.scrollParent[0].scrollTop=s=i.scrollParent[0].scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-t.pageX<n.scrollSensitivity?i.scrollParent[0].scrollLeft=s=i.scrollParent[0].scrollLeft+n.scrollSpeed:t.pageX-i.overflowOffset.left<n.scrollSensitivity&&(i.scrollParent[0].scrollLeft=s=i.scrollParent[0].scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(t.pageY-e(document).scrollTop()<n.scrollSensitivity?s=e(document).scrollTop(e(document).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<n.scrollSensitivity&&(s=e(document).scrollTop(e(document).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(t.pageX-e(document).scrollLeft()<n.scrollSensitivity?s=e(document).scrollLeft(e(document).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<n.scrollSensitivity&&(s=e(document).scrollLeft(e(document).scrollLeft()+n.scrollSpeed)))),s!==!1&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(i,t)}}),e.ui.plugin.add("draggable","snap",{start:function(){var t=e(this).data("ui-draggable"),i=t.options;t.snapElements=[],e(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var i=e(this),n=i.offset();this!==t.element[0]&&t.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:n.top,left:n.left})})},drag:function(t,i){var n,s,o,r,a,l,c,u,d,h,p=e(this).data("ui-draggable"),f=p.options,m=f.snapTolerance,g=i.offset.left,v=g+p.helperProportions.width,_=i.offset.top,b=_+p.helperProportions.height;for(d=p.snapElements.length-1;d>=0;d--)a=p.snapElements[d].left,l=a+p.snapElements[d].width,c=p.snapElements[d].top,u=c+p.snapElements[d].height,a-m>v||g>l+m||c-m>b||_>u+m||!e.contains(p.snapElements[d].item.ownerDocument,p.snapElements[d].item)?(p.snapElements[d].snapping&&p.options.snap.release&&p.options.snap.release.call(p.element,t,e.extend(p._uiHash(),{snapItem:p.snapElements[d].item})),p.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(n=Math.abs(c-b)<=m,s=Math.abs(u-_)<=m,o=Math.abs(a-v)<=m,r=Math.abs(l-g)<=m,n&&(i.position.top=p._convertPositionTo("relative",{top:c-p.helperProportions.height,left:0}).top-p.margins.top),s&&(i.position.top=p._convertPositionTo("relative",{top:u,left:0}).top-p.margins.top),o&&(i.position.left=p._convertPositionTo("relative",{top:0,left:a-p.helperProportions.width}).left-p.margins.left),r&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l}).left-p.margins.left)),h=n||s||o||r,"outer"!==f.snapMode&&(n=Math.abs(c-_)<=m,s=Math.abs(u-b)<=m,o=Math.abs(a-g)<=m,r=Math.abs(l-v)<=m,n&&(i.position.top=p._convertPositionTo("relative",{top:c,left:0}).top-p.margins.top),s&&(i.position.top=p._convertPositionTo("relative",{top:u-p.helperProportions.height,left:0}).top-p.margins.top),o&&(i.position.left=p._convertPositionTo("relative",{top:0,left:a}).left-p.margins.left),r&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l-p.helperProportions.width}).left-p.margins.left)),!p.snapElements[d].snapping&&(n||s||o||r||h)&&p.options.snap.snap&&p.options.snap.snap.call(p.element,t,e.extend(p._uiHash(),{snapItem:p.snapElements[d].item})),p.snapElements[d].snapping=n||s||o||r||h)}}),e.ui.plugin.add("draggable","stack",{start:function(){var t,i=this.data("ui-draggable").options,n=e.makeArray(e(i.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});n.length&&(t=parseInt(e(n[0]).css("zIndex"),10)||0,e(n).each(function(i){e(this).css("zIndex",t+i)}),this.css("zIndex",t+n.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i){var n=e(i.helper),s=e(this).data("ui-draggable").options;n.css("zIndex")&&(s._zIndex=n.css("zIndex")),n.css("zIndex",s.zIndex)},stop:function(t,i){var n=e(this).data("ui-draggable").options;n._zIndex&&e(i.helper).css("zIndex",n._zIndex)}})}(t),function(e,t){function i(e,t,i){return e>t&&t+i>e}e.widget("ui.droppable",{version:"@VERSION",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,i=this.options,n=i.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(n)?n:function(e){return e.is(n)},this.proportions=function(){return arguments.length?void(t=arguments[0]):t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},e.ui.ddmanager.droppables[i.scope]=e.ui.ddmanager.droppables[i.scope]||[],e.ui.ddmanager.droppables[i.scope].push(this),i.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var t=0,i=e.ui.ddmanager.droppables[this.options.scope];t<i.length;t++)i[t]===this&&i.splice(t,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){"accept"===t&&(this.accept=e.isFunction(i)?i:function(e){return e.is(i)}),e.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var n=i||e.ui.ddmanager.current,s=!1;return n&&(n.currentItem||n.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=e.data(this,"ui-droppable");return t.options.greedy&&!t.options.disabled&&t.options.scope===n.options.scope&&t.accept.call(t.element[0],n.currentItem||n.element)&&e.ui.intersect(n,e.extend(t,{offset:t.element.offset()}),t.options.tolerance)?(s=!0,!1):void 0}),s?!1:this.accept.call(this.element[0],n.currentItem||n.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(n)),this.element):!1):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(e,t,n){if(!t.offset)return!1;var s,o,r=(e.positionAbs||e.position.absolute).left,a=(e.positionAbs||e.position.absolute).top,l=r+e.helperProportions.width,c=a+e.helperProportions.height,u=t.offset.left,d=t.offset.top,h=u+t.proportions().width,p=d+t.proportions().height;switch(n){case"fit":return r>=u&&h>=l&&a>=d&&p>=c;case"intersect":return u<r+e.helperProportions.width/2&&l-e.helperProportions.width/2<h&&d<a+e.helperProportions.height/2&&c-e.helperProportions.height/2<p;case"pointer":return s=(e.positionAbs||e.position.absolute).left+(e.clickOffset||e.offset.click).left,o=(e.positionAbs||e.position.absolute).top+(e.clickOffset||e.offset.click).top,i(o,d,t.proportions().height)&&i(s,u,t.proportions().width);case"touch":return(a>=d&&p>=a||c>=d&&p>=c||d>a&&c>p)&&(r>=u&&h>=r||l>=u&&h>=l||u>r&&l>h);default:return!1}},e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var n,s,o=e.ui.ddmanager.droppables[t.options.scope]||[],r=i?i.type:null,a=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(n=0;n<o.length;n++)if(!(o[n].options.disabled||t&&!o[n].accept.call(o[n].element[0],t.currentItem||t.element))){for(s=0;s<a.length;s++)if(a[s]===o[n].element[0]){o[n].proportions().height=0;continue e}o[n].visible="none"!==o[n].element.css("display"),o[n].visible&&("mousedown"===r&&o[n]._activate.call(o[n],i),o[n].offset=o[n].element.offset(),o[n].proportions({width:o[n].element[0].offsetWidth,height:o[n].element[0].offsetHeight}))}},drop:function(t,i){var n=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),n},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,s,o,r=e.ui.intersect(t,this,this.options.tolerance),a=!r&&this.isover?"isout":r&&!this.isover?"isover":null;a&&(this.options.greedy&&(s=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return e.data(this,"ui-droppable").options.scope===s}),o.length&&(n=e.data(o[0],"ui-droppable"),n.greedyChild="isover"===a)),n&&"isover"===a&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,i),n&&"isout"===a&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}})},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}}}(t),function(e,t){function i(e){return parseInt(e,10)||0}function n(e){return!isNaN(parseInt(e,10))}e.widget("ui.resizable",e.ui.mouse,{version:"@VERSION",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){function t(e){return a._mouseDown(e)}var i,n,s,o,r,a=this,l=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!l.aspectRatio,aspectRatio:l.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:l.helper||l.ghost||l.animate?l.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=l.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),i=this.handles.split(","),this.handles={},n=0;n<i.length;n++)s=e.trim(i[n]),r="ui-resizable-"+s,o=e("<div class='ui-resizable-handle "+r+"'></div>"),o.css({zIndex:l.zIndex}),"se"===s&&o.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[s]=".ui-resizable-"+s,this.element.append(o);this._renderAxis=function(t){var i,n,s,o;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=e(this.handles[i]+":last",this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(n=e(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),s=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(s,o),this._proportionallyResize()),e(this.handles[i]).length},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element);for(n in this.handles)this._handles=this._handles.add(this.handles[n]);if(this._handles.disableSelection(),this._handles.mouseover(function(){a.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=o&&o[1]?o[1]:"se")}),l.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){l.disabled||(e(this).removeClass("ui-resizable-autohide"),a._handles.show())}).mouseleave(function(){l.disabled||a.resizing||(e(this).addClass("ui-resizable-autohide"),a._handles.hide())})),this._mouseInit(),l.handles.constructor!==String)for(n in l.handles)s=l.handles[n],s instanceof e&&s.bind("mousedown."+this.widgetName,t)},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var i,n,s=!1;for(i in this.handles)n=e(this.handles[i])[0],(n===t.target||e.contains(n,t.target))&&(s=!0);return!this.options.disabled&&s},_mouseStart:function(t){var n,s,o,r=this.options,a=this.element.position(),l=this.element;return this.resizing=!0,/absolute/.test(l.css("position"))?l.css({position:"absolute",top:l.css("top"),left:l.css("left")}):l.is(".ui-draggable")&&l.css({position:"absolute",top:a.top,left:a.left}),this._renderProxy(),n=i(this.helper.css("left")),s=i(this.helper.css("top")),r.containment&&(n+=e(r.containment).scrollLeft()||0,s+=e(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:l.width(),height:l.height()},this.originalSize=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalPosition={left:n,top:s},this.sizeDiff={width:l.outerWidth()-l.width(),height:l.outerHeight()-l.height()},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof r.aspectRatio?r.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===o?this.axis+"-resize":o),l.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,n=this.helper,s={},o=this.originalMousePosition,r=this.axis,a=this.position.top,l=this.position.left,c=this.size.width,u=this.size.height,d=t.pageX-o.left||0,h=t.pageY-o.top||0,p=this._change[r];return p?(i=p.apply(this,[t,d,h]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),this.position.top!==a&&(s.top=this.position.top+"px"),this.position.left!==l&&(s.left=this.position.left+"px"),this.size.width!==c&&(s.width=this.size.width+"px"),this.size.height!==u&&(s.height=this.size.height+"px"),n.css(s),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(s)||this._trigger("resize",t,this.ui()),!1):!1},_mouseStop:function(t){this.resizing=!1;var i,n,s,o,r,a,l,c=this.options,u=this;return this._helper&&(i=this._proportionallyResizeElements,n=i.length&&/textarea/i.test(i[0].nodeName),s=n&&e.ui.hasScroll(i[0],"left")?0:u.sizeDiff.height,o=n?0:u.sizeDiff.width,r={width:u.helper.width()-o,height:u.helper.height()-s},a=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,l=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,c.animate||this.element.css(e.extend(r,{top:l,left:a})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!c.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t,i,s,o,r,a=this.options;r={minWidth:n(a.minWidth)?a.minWidth:0,maxWidth:n(a.maxWidth)?a.maxWidth:1/0,minHeight:n(a.minHeight)?a.minHeight:0,maxHeight:n(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||e)&&(t=r.minHeight*this.aspectRatio,s=r.minWidth/this.aspectRatio,i=r.maxHeight*this.aspectRatio,o=r.maxWidth/this.aspectRatio,t>r.minWidth&&(r.minWidth=t),s>r.minHeight&&(r.minHeight=s),i<r.maxWidth&&(r.maxWidth=i),o<r.maxHeight&&(r.maxHeight=o)),this._vBoundaries=r},_updateCache:function(e){this.offset=this.helper.offset(),n(e.left)&&(this.position.left=e.left),n(e.top)&&(this.position.top=e.top),n(e.height)&&(this.size.height=e.height),n(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,s=this.axis;return n(e.height)?e.width=e.height*this.aspectRatio:n(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===s&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===s&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,s=n(e.width)&&t.maxWidth&&t.maxWidth<e.width,o=n(e.height)&&t.maxHeight&&t.maxHeight<e.height,r=n(e.width)&&t.minWidth&&t.minWidth>e.width,a=n(e.height)&&t.minHeight&&t.minHeight>e.height,l=this.originalPosition.left+this.originalSize.width,c=this.position.top+this.size.height,u=/sw|nw|w/.test(i),d=/nw|ne|n/.test(i);return r&&(e.width=t.minWidth),a&&(e.height=t.minHeight),s&&(e.width=t.maxWidth),o&&(e.height=t.maxHeight),r&&u&&(e.left=l-t.minWidth),s&&u&&(e.left=l-t.maxWidth),a&&d&&(e.top=c-t.minHeight),o&&d&&(e.top=c-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var e,t,i,n,s,o=this.helper||this.element;for(e=0;e<this._proportionallyResizeElements.length;e++){if(s=this._proportionallyResizeElements[e],!this.borderDif)for(this.borderDif=[],i=[s.css("borderTopWidth"),s.css("borderRightWidth"),s.css("borderBottomWidth"),s.css("borderLeftWidth")],n=[s.css("paddingTop"),s.css("paddingRight"),s.css("paddingBottom"),s.css("paddingLeft")],t=0;t<i.length;t++)this.borderDif[t]=(parseInt(i[t],10)||0)+(parseInt(n[t],10)||0);s.css({height:o.height()-this.borderDif[0]-this.borderDif[2]||0,width:o.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize,n=this.originalPosition;return{left:n.left+t,width:i.width-t}},n:function(e,t,i){var n=this.originalSize,s=this.originalPosition;return{top:s.top+i,height:n.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},sw:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,n]))},ne:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},nw:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,n]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).data("ui-resizable"),n=i.options,s=i._proportionallyResizeElements,o=s.length&&/textarea/i.test(s[0].nodeName),r=o&&e.ui.hasScroll(s[0],"left")?0:i.sizeDiff.height,a=o?0:i.sizeDiff.width,l={width:i.size.width-a,height:i.size.height-r},c=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(l,u&&c?{top:u,left:c}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};s&&s.length&&e(s[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,n,s,o,r,a,l,c=e(this).data("ui-resizable"),u=c.options,d=c.element,h=u.containment,p=h instanceof e?h.get(0):/parent/.test(h)?d.parent().get(0):h;p&&(c.containerElement=e(p),/document/.test(h)||h===document?(c.containerOffset={left:0,top:0},c.containerPosition={left:0,top:0},c.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(p),n=[],e(["Top","Right","Left","Bottom"]).each(function(e,s){n[e]=i(t.css("padding"+s))}),c.containerOffset=t.offset(),c.containerPosition=t.position(),c.containerSize={height:t.innerHeight()-n[3],width:t.innerWidth()-n[1]},s=c.containerOffset,o=c.containerSize.height,r=c.containerSize.width,a=e.ui.hasScroll(p,"left")?p.scrollWidth:r,l=e.ui.hasScroll(p)?p.scrollHeight:o,c.parentData={element:p,left:s.left,top:s.top,width:a,height:l}))},resize:function(t){var i,n,s,o,r=e(this).data("ui-resizable"),a=r.options,l=r.containerOffset,c=r.position,u=r._aspectRatio||t.shiftKey,d={top:0,left:0},h=r.containerElement;h[0]!==document&&/static/.test(h.css("position"))&&(d=l),c.left<(r._helper?l.left:0)&&(r.size.width=r.size.width+(r._helper?r.position.left-l.left:r.position.left-d.left),u&&(r.size.height=r.size.width/r.aspectRatio),r.position.left=a.helper?l.left:0),c.top<(r._helper?l.top:0)&&(r.size.height=r.size.height+(r._helper?r.position.top-l.top:r.position.top),u&&(r.size.width=r.size.height*r.aspectRatio),r.position.top=r._helper?l.top:0),r.offset.left=r.parentData.left+r.position.left,r.offset.top=r.parentData.top+r.position.top,i=Math.abs((r._helper?r.offset.left-d.left:r.offset.left-d.left)+r.sizeDiff.width),n=Math.abs((r._helper?r.offset.top-d.top:r.offset.top-l.top)+r.sizeDiff.height),s=r.containerElement.get(0)===r.element.parent().get(0),o=/relative|absolute/.test(r.containerElement.css("position")),s&&o&&(i-=Math.abs(r.parentData.left)),i+r.size.width>=r.parentData.width&&(r.size.width=r.parentData.width-i,u&&(r.size.height=r.size.width/r.aspectRatio)),n+r.size.height>=r.parentData.height&&(r.size.height=r.parentData.height-n,u&&(r.size.width=r.size.height*r.aspectRatio))},stop:function(){var t=e(this).data("ui-resizable"),i=t.options,n=t.containerOffset,s=t.containerPosition,o=t.containerElement,r=e(t.helper),a=r.offset(),l=r.outerWidth()-t.sizeDiff.width,c=r.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(o.css("position"))&&e(this).css({left:a.left-s.left-n.left,width:l,height:c}),t._helper&&!i.animate&&/static/.test(o.css("position"))&&e(this).css({left:a.left-s.left-n.left,width:l,height:c})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).data("ui-resizable"),i=t.options,n=function(t){e(t).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?n(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],n(i.alsoResize)):e.each(i.alsoResize,function(e){n(e)})},resize:function(t,i){var n=e(this).data("ui-resizable"),s=n.options,o=n.originalSize,r=n.originalPosition,a={height:n.size.height-o.height||0,width:n.size.width-o.width||0,top:n.position.top-r.top||0,left:n.position.left-r.left||0},l=function(t,n){e(t).each(function(){var t=e(this),s=e(this).data("ui-resizable-alsoresize"),o={},r=n&&n.length?n:t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(r,function(e,t){var i=(s[t]||0)+(a[t]||0);i&&i>=0&&(o[t]=i||null)}),t.css(o)})};"object"!=typeof s.alsoResize||s.alsoResize.nodeType?l(s.alsoResize):e.each(s.alsoResize,function(e,t){l(e,t)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).data("ui-resizable"),i=t.options,n=t.size;t.ghost=t.originalElement.clone(),
t.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).data("ui-resizable");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).data("ui-resizable");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t=e(this).data("ui-resizable"),i=t.options,n=t.size,s=t.originalSize,o=t.originalPosition,r=t.axis,a="number"==typeof i.grid?[i.grid,i.grid]:i.grid,l=a[0]||1,c=a[1]||1,u=Math.round((n.width-s.width)/l)*l,d=Math.round((n.height-s.height)/c)*c,h=s.width+u,p=s.height+d,f=i.maxWidth&&i.maxWidth<h,m=i.maxHeight&&i.maxHeight<p,g=i.minWidth&&i.minWidth>h,v=i.minHeight&&i.minHeight>p;i.grid=a,g&&(h+=l),v&&(p+=c),f&&(h-=l),m&&(p-=c),/^(se|s|e)$/.test(r)?(t.size.width=h,t.size.height=p):/^(ne)$/.test(r)?(t.size.width=h,t.size.height=p,t.position.top=o.top-d):/^(sw)$/.test(r)?(t.size.width=h,t.size.height=p,t.position.left=o.left-u):(p-c>0?(t.size.height=p,t.position.top=o.top-d):(t.size.height=c,t.position.top=o.top+s.height-c),h-l>0?(t.size.width=h,t.position.left=o.left-u):(t.size.width=l,t.position.left=o.left+s.width-l))}})}(t),function(e,t){e.widget("ui.selectable",e.ui.mouse,{version:"@VERSION",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=e(i.options.filter,i.element[0]),t.addClass("ui-selectee"),t.each(function(){var t=e(this),i=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var i=this,n=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(n.filter,this.element[0]),this._trigger("start",t),e(n.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var n=e.data(this,"selectable-item");n.startselected=!0,t.metaKey||t.ctrlKey||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",t,{unselecting:n.element}))}),e(t.target).parents().addBack().each(function(){var n,s=e.data(this,"selectable-item");return s?(n=!t.metaKey&&!t.ctrlKey||!s.$element.hasClass("ui-selected"),s.$element.removeClass(n?"ui-unselecting":"ui-selected").addClass(n?"ui-selecting":"ui-unselecting"),s.unselecting=!n,s.selecting=n,s.selected=n,n?i._trigger("selecting",t,{selecting:s.element}):i._trigger("unselecting",t,{unselecting:s.element}),!1):void 0}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var i,n=this,s=this.options,o=this.opos[0],r=this.opos[1],a=t.pageX,l=t.pageY;return o>a&&(i=a,a=o,o=i),r>l&&(i=l,l=r,r=i),this.helper.css({left:o,top:r,width:a-o,height:l-r}),this.selectees.each(function(){var i=e.data(this,"selectable-item"),c=!1;i&&i.element!==n.element[0]&&("touch"===s.tolerance?c=!(i.left>a||i.right<o||i.top>l||i.bottom<r):"fit"===s.tolerance&&(c=i.left>o&&i.right<a&&i.top>r&&i.bottom<l),c?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,n._trigger("selecting",t,{selecting:i.element}))):(i.selecting&&((t.metaKey||t.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),n._trigger("unselecting",t,{unselecting:i.element}))),i.selected&&(t.metaKey||t.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",t,{unselecting:i.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var n=e.data(this,"selectable-item");n.$element.removeClass("ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",t,{unselected:n.element})}),e(".ui-selecting",this.element[0]).each(function(){var n=e.data(this,"selectable-item");n.$element.removeClass("ui-selecting").addClass("ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",t,{selected:n.element})}),this._trigger("stop",t),this.helper.remove(),!1}})}(t),function(e,t){function i(e,t,i){return e>t&&t+i>e}function n(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))}e.widget("ui.sortable",e.ui.mouse,{version:"@VERSION",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===e.axis||n(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,i){"disabled"===t?(this.options[t]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,i){var n=null,s=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,o.widgetName+"-item")===o?(n=e(this),!1):void 0}),e.data(t.target,o.widgetName+"-item")===o&&(n=e(t.target)),n&&(!this.options.handle||i||(e(this.options.handle,n).find("*").addBack().each(function(){this===t.target&&(s=!0)}),s))?(this.currentItem=n,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(t,i,n){var s,o,r=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,r.cursorAt&&this._adjustOffsetFromHelper(r.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),r.containment&&this._setContainment(),r.cursor&&"auto"!==r.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",r.cursor),this.storedStylesheet=e("<style>*{ cursor: "+r.cursor+" !important; }</style>").appendTo(o)),r.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",r.opacity)),r.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",r.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(s=this.containers.length-1;s>=0;s--)this.containers[s]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,n,s,o,r=this.options,a=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<r.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+r.scrollSpeed:t.pageY-this.overflowOffset.top<r.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-r.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<r.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+r.scrollSpeed:t.pageX-this.overflowOffset.left<r.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-r.scrollSpeed)):(t.pageY-e(document).scrollTop()<r.scrollSensitivity?a=e(document).scrollTop(e(document).scrollTop()-r.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<r.scrollSensitivity&&(a=e(document).scrollTop(e(document).scrollTop()+r.scrollSpeed)),t.pageX-e(document).scrollLeft()<r.scrollSensitivity?a=e(document).scrollLeft(e(document).scrollLeft()-r.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<r.scrollSensitivity&&(a=e(document).scrollLeft(e(document).scrollLeft()+r.scrollSpeed))),a!==!1&&e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(n=this.items[i],s=n.item[0],o=this._intersectsWithPointer(n),o&&n.instance===this.currentContainer&&s!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==s&&!e.contains(this.placeholder[0],s)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],s):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(t,n),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var n=this,s=this.placeholder.offset(),o=this.options.axis,r={};o&&"x"!==o||(r.left=s.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(r.top=s.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(r,parseInt(this.options.revert,10)||500,function(){n._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&n.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!n.length&&t.key&&n.push(t.key+"="),n.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},i.each(function(){n.push(e(t.item||this).attr(t.attribute||"id")||"")}),n},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,n=this.positionAbs.top,s=n+this.helperProportions.height,o=e.left,r=o+e.width,a=e.top,l=a+e.height,c=this.offset.click.top,u=this.offset.click.left,d="x"===this.options.axis||n+c>a&&l>n+c,h="y"===this.options.axis||t+u>o&&r>t+u,p=d&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:o<t+this.helperProportions.width/2&&i-this.helperProportions.width/2<r&&a<n+this.helperProportions.height/2&&s-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t="x"===this.options.axis||i(this.positionAbs.top+this.offset.click.top,e.top,e.height),n="y"===this.options.axis||i(this.positionAbs.left+this.offset.click.left,e.left,e.width),s=t&&n,o=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return s?this.floating?r&&"right"===r||"down"===o?2:1:o&&("down"===o?2:1):!1},_intersectsWithSides:function(e){var t=i(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=i(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),s=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&n||"left"===o&&!n:s&&("down"===s&&t||"up"===s&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function i(){a.push(this)}var n,s,o,r,a=[],l=[],c=this._connectWith();if(c&&t)for(n=c.length-1;n>=0;n--)for(o=e(c[n]),s=o.length-1;s>=0;s--)r=e.data(o[s],this.widgetFullName),r&&r!==this&&!r.options.disabled&&l.push([e.isFunction(r.options.items)?r.options.items.call(r.element):e(r.options.items,r.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),r]);for(l.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=l.length-1;n>=0;n--)l[n][0].each(i);return e(a)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;i<t.length;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i,n,s,o,r,a,l,c,u=this.items,d=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(i=h.length-1;i>=0;i--)for(s=e(h[i]),n=s.length-1;n>=0;n--)o=e.data(s[n],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(d.push([e.isFunction(o.options.items)?o.options.items.call(o.element[0],t,{item:this.currentItem}):e(o.options.items,o.element),o]),this.containers.push(o));for(i=d.length-1;i>=0;i--)for(r=d[i][1],a=d[i][0],n=0,c=a.length;c>n;n++)l=e(a[n]),l.data(this.widgetName+"-item",r),u.push({item:l,instance:r,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,n,s,o;for(i=this.items.length-1;i>=0;i--)n=this.items[i],n.instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(s=this.options.toleranceElement?e(this.options.toleranceElement,n.item):n.item,t||(n.width=s.outerWidth(),n.height=s.outerHeight()),o=s.offset(),n.left=o.left,n.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var i,n=t.options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=t.currentItem[0].nodeName.toLowerCase(),s=e("<"+n+">",t.document[0]).addClass(i||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===n?t.currentItem.children().each(function(){e("<td>&#160;</td>",t.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(s)}):"img"===n&&s.attr("src",t.currentItem.attr("src")),i||s.css("visibility","hidden"),s},update:function(e,s){(!i||n.forcePlaceholderSize)&&(s.height()||s.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),s.width()||s.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(n.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),n.placeholder.update(t,t.placeholder)},_contactContainers:function(t){var s,o,r,a,l,c,u,d,h,p,f=null,m=null;for(s=this.containers.length-1;s>=0;s--)if(!e.contains(this.currentItem[0],this.containers[s].element[0]))if(this._intersectsWith(this.containers[s].containerCache)){if(f&&e.contains(this.containers[s].element[0],f.element[0]))continue;f=this.containers[s],m=s}else this.containers[s].containerCache.over&&(this.containers[s]._trigger("out",t,this._uiHash(this)),this.containers[s].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[m].containerCache.over||(this.containers[m]._trigger("over",t,this._uiHash(this)),this.containers[m].containerCache.over=1);else{for(r=1e4,a=null,p=f.floating||n(this.currentItem),l=p?"left":"top",c=p?"width":"height",u=this.positionAbs[l]+this.offset.click[l],o=this.items.length-1;o>=0;o--)e.contains(this.containers[m].element[0],this.items[o].item[0])&&this.items[o].item[0]!==this.currentItem[0]&&(!p||i(this.positionAbs.top+this.offset.click.top,this.items[o].top,this.items[o].height))&&(d=this.items[o].item.offset()[l],h=!1,Math.abs(d-u)>Math.abs(d+this.items[o][c]-u)&&(h=!0,d+=this.items[o][c]),Math.abs(d-u)<r&&(r=Math.abs(d-u),a=this.items[o],this.direction=h?"up":"down"));if(!a&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[m])return;a?this._rearrange(t,a,null,!0):this._rearrange(t,null,this.containers[m].element,!0),this._trigger("change",t,this._uiHash()),this.containers[m]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[m],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[m]._trigger("over",t,this._uiHash(this)),this.containers[m].containerCache.over=1}},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||e("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!n[0].style.width||i.forceHelperSize)&&n.width(this.currentItem.width()),(!n[0].style.height||i.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,s=this.options;"parent"===s.containment&&(s.containment=this.helper[0].parentNode),("document"===s.containment||"window"===s.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"===s.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"===s.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(s.containment)||(t=e(s.containment)[0],i=e(s.containment).offset(),n="hidden"!==e(t).css("overflow"),this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"===t?1:-1,s="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(s[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:s.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:s.scrollLeft())*n}},_generatePosition:function(t){var i,n,s=this.options,o=t.pageX,r=t.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),s.grid&&(i=this.originalPageY+Math.round((r-this.originalPageY)/s.grid[1])*s.grid[1],r=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-s.grid[1]:i+s.grid[1]:i,n=this.originalPageX+Math.round((o-this.originalPageX)/s.grid[0])*s.grid[0],o=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-s.grid[0]:n+s.grid[0]:n)),{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(e,t,i,n){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var s=this.counter;this._delay(function(){s===this.counter&&this.refreshPositions(!n)})},_clear:function(e,t){function i(e,t,i){return function(n){i._trigger(e,n,t._uiHash(t))}}this.reverting=!1;var n,s=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)("auto"===this._storedCSS[n]||"static"===this._storedCSS[n])&&(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&s.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||s.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(s.push(function(e){this._trigger("remove",e,this._uiHash())}),s.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),s.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)t||s.push(i("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(s.push(i("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!t){for(this._trigger("beforeStop",e,this._uiHash()),n=0;n<s.length;n++)s[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!1}if(t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!t){for(n=0;n<s.length;n++)s[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}})}(t),function(e,i){var n="ui-effects-";e.effects={effect:{}},function(e,t){function i(e,t,i){var n=d[t.type]||{};return null==e?i||!t.def?null:t.def:(e=n.floor?~~e:parseFloat(e),isNaN(e)?t.def:n.mod?(e+n.mod)%n.mod:0>e?0:n.max<e?n.max:e)}function n(t){var i=c(),n=i._rgba=[];return t=t.toLowerCase(),f(l,function(e,s){var o,r=s.re.exec(t),a=r&&s.parse(r),l=s.space||"rgba";return a?(o=i[l](a),i[u[l].cache]=o[u[l].cache],n=i._rgba=o._rgba,!1):void 0}),n.length?("0,0,0,0"===n.join()&&e.extend(n,o.transparent),i):o[t]}function s(e,t,i){return i=(i+1)%1,1>6*i?e+(t-e)*i*6:1>2*i?t:2>3*i?e+(t-e)*(2/3-i)*6:e}var o,r="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",a=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],c=e.Color=function(t,i,n,s){return new e.Color.fn.parse(t,i,n,s)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},d={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},h=c.support={},p=e("<p>")[0],f=e.each;p.style.cssText="background-color:rgba(1,1,1,.5)",h.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(u,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),c.fn=e.extend(c.prototype,{parse:function(s,r,a,l){if(s===t)return this._rgba=[null,null,null,null],this;(s.jquery||s.nodeType)&&(s=e(s).css(r),r=t);var d=this,h=e.type(s),p=this._rgba=[];return r!==t&&(s=[s,r,a,l],h="array"),"string"===h?this.parse(n(s)||o._default):"array"===h?(f(u.rgba.props,function(e,t){p[t.idx]=i(s[t.idx],t)}),this):"object"===h?(s instanceof c?f(u,function(e,t){s[t.cache]&&(d[t.cache]=s[t.cache].slice())}):f(u,function(t,n){var o=n.cache;f(n.props,function(e,t){if(!d[o]&&n.to){if("alpha"===e||null==s[e])return;d[o]=n.to(d._rgba)}d[o][t.idx]=i(s[e],t,!0)}),d[o]&&e.inArray(null,d[o].slice(0,3))<0&&(d[o][3]=1,
n.from&&(d._rgba=n.from(d[o])))}),this):void 0},is:function(e){var t=c(e),i=!0,n=this;return f(u,function(e,s){var o,r=t[s.cache];return r&&(o=n[s.cache]||s.to&&s.to(n._rgba)||[],f(s.props,function(e,t){return null!=r[t.idx]?i=r[t.idx]===o[t.idx]:void 0})),i}),i},_space:function(){var e=[],t=this;return f(u,function(i,n){t[n.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var n=c(e),s=n._space(),o=u[s],r=0===this.alpha()?c("transparent"):this,a=r[o.cache]||o.to(r._rgba),l=a.slice();return n=n[o.cache],f(o.props,function(e,s){var o=s.idx,r=a[o],c=n[o],u=d[s.type]||{};null!==c&&(null===r?l[o]=c:(u.mod&&(c-r>u.mod/2?r+=u.mod:r-c>u.mod/2&&(r-=u.mod)),l[o]=i((c-r)*t+r,s)))}),this[s](l)},blend:function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),s=c(t)._rgba;return c(e.map(i,function(e,t){return(1-n)*s[t]+n*e}))},toRgbaString:function(){var t="rgba(",i=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),t="rgb("),t+i.join()+")"},toHslaString:function(){var t="hsla(",i=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===i[3]&&(i.pop(),t="hsl("),t+i.join()+")"},toHexString:function(t){var i=this._rgba.slice(),n=i.pop();return t&&i.push(~~(255*n)),"#"+e.map(i,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),c.fn.parse.prototype=c.fn,u.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,n=e[0]/255,s=e[1]/255,o=e[2]/255,r=e[3],a=Math.max(n,s,o),l=Math.min(n,s,o),c=a-l,u=a+l,d=.5*u;return t=l===a?0:n===a?60*(s-o)/c+360:s===a?60*(o-n)/c+120:60*(n-s)/c+240,i=0===c?0:.5>=d?c/u:c/(2-u),[Math.round(t)%360,i,d,null==r?1:r]},u.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],n=e[2],o=e[3],r=.5>=n?n*(1+i):n+i-n*i,a=2*n-r;return[Math.round(255*s(a,r,t+1/3)),Math.round(255*s(a,r,t)),Math.round(255*s(a,r,t-1/3)),o]},f(u,function(n,s){var o=s.props,r=s.cache,l=s.to,u=s.from;c.fn[n]=function(n){if(l&&!this[r]&&(this[r]=l(this._rgba)),n===t)return this[r].slice();var s,a=e.type(n),d="array"===a||"object"===a?n:arguments,h=this[r].slice();return f(o,function(e,t){var n=d["object"===a?e:t.idx];null==n&&(n=h[t.idx]),h[t.idx]=i(n,t)}),u?(s=c(u(h)),s[r]=h,s):c(h)},f(o,function(t,i){c.fn[t]||(c.fn[t]=function(s){var o,r=e.type(s),l="alpha"===t?this._hsla?"hsla":"rgba":n,c=this[l](),u=c[i.idx];return"undefined"===r?u:("function"===r&&(s=s.call(this,u),r=e.type(s)),null==s&&i.empty?this:("string"===r&&(o=a.exec(s),o&&(s=u+parseFloat(o[2])*("+"===o[1]?1:-1))),c[i.idx]=s,this[l](c)))})})}),c.hook=function(t){var i=t.split(" ");f(i,function(t,i){e.cssHooks[i]={set:function(t,s){var o,r,a="";if("transparent"!==s&&("string"!==e.type(s)||(o=n(s)))){if(s=c(o||s),!h.rgba&&1!==s._rgba[3]){for(r="backgroundColor"===i?t.parentNode:t;(""===a||"transparent"===a)&&r&&r.style;)try{a=e.css(r,"backgroundColor"),r=r.parentNode}catch(l){}s=s.blend(a&&"transparent"!==a?a:"_default")}s=s.toRgbaString()}try{t.style[i]=s}catch(l){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=c(t.elem,i),t.end=c(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}})},c.hook(r),e.cssHooks.borderColor={expand:function(e){var t={};return f(["Top","Right","Bottom","Left"],function(i,n){t["border"+n+"Color"]=e}),t}},o=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(t),function(){function n(t){var i,n,s=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,o={};if(s&&s.length&&s[0]&&s[s[0]])for(n=s.length;n--;)i=s[n],"string"==typeof s[i]&&(o[e.camelCase(i)]=s[i]);else for(i in s)"string"==typeof s[i]&&(o[i]=s[i]);return o}function s(t,i){var n,s,o={};for(n in i)s=i[n],t[n]!==s&&(r[n]||(e.fx.step[n]||!isNaN(parseFloat(s)))&&(o[n]=s));return o}var o=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(i,n){e.fx.step[n]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(t.style(e.elem,n,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(t,i,r,a){var l=e.speed(i,r,a);return this.queue(function(){var i,r=e(this),a=r.attr("class")||"",c=l.children?r.find("*").addBack():r;c=c.map(function(){var t=e(this);return{el:t,start:n(this)}}),i=function(){e.each(o,function(e,i){t[i]&&r[i+"Class"](t[i])})},i(),c=c.map(function(){return this.end=n(this.el[0]),this.diff=s(this.start,this.end),this}),r.attr("class",a),c=c.map(function(){var t=this,i=e.Deferred(),n=e.extend({},l,{queue:!1,complete:function(){i.resolve(t)}});return this.el.animate(this.diff,n),i.promise()}),e.when.apply(e,c.get()).done(function(){i(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),l.complete.call(r[0])})})},e.fn.extend({addClass:function(t){return function(i,n,s,o){return n?e.effects.animateClass.call(this,{add:i},n,s,o):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(i,n,s,o){return arguments.length>1?e.effects.animateClass.call(this,{remove:i},n,s,o):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(n,s,o,r,a){return"boolean"==typeof s||s===i?o?e.effects.animateClass.call(this,s?{add:n}:{remove:n},o,r,a):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:n},s,o,r)}}(e.fn.toggleClass),switchClass:function(t,i,n,s,o){return e.effects.animateClass.call(this,{add:i,remove:t},n,s,o)}})}(),function(){function t(t,i,n,s){return e.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),e.isFunction(i)&&(s=i,n=null,i={}),("number"==typeof i||e.fx.speeds[i])&&(s=n,n=i,i={}),e.isFunction(n)&&(s=n,n=null),i&&e.extend(t,i),n=n||i.duration,t.duration=e.fx.off?0:"number"==typeof n?n:n in e.fx.speeds?e.fx.speeds[n]:e.fx.speeds._default,t.complete=s||i.complete,t}function s(t){return!t||"number"==typeof t||e.fx.speeds[t]?!0:"string"!=typeof t||e.effects.effect[t]?e.isFunction(t)?!0:"object"!=typeof t||t.effect?!1:!0:!0}e.extend(e.effects,{version:"@VERSION",save:function(e,t){for(var i=0;i<t.length;i++)null!==t[i]&&e.data(n+t[i],e[0].style[t[i]])},restore:function(e,t){var s,o;for(o=0;o<t.length;o++)null!==t[o]&&(s=e.data(n+t[o]),s===i&&(s=""),e.css(t[o],s))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var i,n;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=e[1]/t.width}return{x:n,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},n=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),s={width:t.width(),height:t.height()},o=document.activeElement;try{o.id}catch(r){o=document.body}return t.wrap(n),(t[0]===o||e.contains(t[0],o))&&e(o).focus(),n=t.parent(),"static"===t.css("position")?(n.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,n){i[n]=t.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(s),n.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t},setTransition:function(t,i,n,s){return s=s||{},e.each(i,function(e,i){var o=t.cssUnit(i);o[0]>0&&(s[i]=o[0]*n+o[1])}),s}}),e.fn.extend({effect:function(){function i(t){function i(){e.isFunction(o)&&o.call(s[0]),e.isFunction(t)&&t()}var s=e(this),o=n.complete,a=n.mode;(s.is(":hidden")?"hide"===a:"show"===a)?(s[a](),i()):r.call(s[0],n,i)}var n=t.apply(this,arguments),s=n.mode,o=n.queue,r=e.effects.effect[n.effect];return e.fx.off||!r?s?this[s](n.duration,n.complete):this.each(function(){n.complete&&n.complete.call(this)}):o===!1?this.each(i):this.queue(o||"fx",i)},show:function(e){return function(i){if(s(i))return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="show",this.effect.call(this,n)}}(e.fn.show),hide:function(e){return function(i){if(s(i))return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="hide",this.effect.call(this,n)}}(e.fn.hide),toggle:function(e){return function(i){if(s(i)||"boolean"==typeof i)return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)}}(e.fn.toggle),cssUnit:function(t){var i=this.css(t),n=[];return e.each(["em","px","%","pt"],function(e,t){i.indexOf(t)>0&&(n=[parseFloat(i),t])}),n}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,i){t[i]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;e<((t=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,i){e.easing["easeIn"+t]=i,e.easing["easeOut"+t]=function(e){return 1-i(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?i(2*e)/2:1-i(-2*e+2)/2}})}()}(t),function(e,t){var i=0,n={},s={};n.height=n.paddingTop=n.paddingBottom=n.borderTopWidth=n.borderBottomWidth="hide",s.height=s.paddingTop=s.paddingBottom=s.borderTopWidth=s.borderBottomWidth="show",e.widget("ui.accordion",{version:"@VERSION",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||t.active!==!1&&null!=t.active||(t.active=0),this._processPanels(),t.active<0&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e(),content:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){return"active"===e?void this._activate(t):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||this.options.active!==!1||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),void("disabled"===e&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t)))},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=e.ui.keyCode,n=this.headers.length,s=this.headers.index(t.target),o=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:o=this.headers[(s+1)%n];break;case i.LEFT:case i.UP:o=this.headers[(s-1+n)%n];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:o=this.headers[0];break;case i.END:o=this.headers[n-1]}o&&(e(t.target).attr("tabIndex",-1),e(o).attr("tabIndex",0),o.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),t.active===!1&&t.collapsible===!0||!this.headers.length?(t.active=!1,this.active=e()):t.active===!1?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var t,n=this.options,s=n.heightStyle,o=this.element.parent(),r=this.accordionId="ui-accordion-"+(this.element.attr("id")||++i);this.active=this._findActive(n.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(t){var i=e(this),n=i.attr("id"),s=i.next(),o=s.attr("id");n||(n=r+"-header-"+t,i.attr("id",n)),o||(o=r+"-panel-"+t,s.attr("id",o)),i.attr("aria-controls",o),s.attr("aria-labelledby",n)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===s?(t=o.height(),this.element.siblings(":visible").each(function(){var i=e(this),n=i.css("position");"absolute"!==n&&"fixed"!==n&&(t-=i.outerHeight(!0))}),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===s&&(t=0,this.headers.next().each(function(){t=Math.max(t,e(this).css("height","").height())}).height(t))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var i=this.options,n=this.active,s=e(t.currentTarget),o=s[0]===n[0],r=o&&i.collapsible,a=r?e():s.next(),l=n.next(),c={oldHeader:n,oldPanel:l,newHeader:r?e():s,newPanel:a};t.preventDefault(),o&&!i.collapsible||this._trigger("beforeActivate",t,c)===!1||(i.active=r?!1:this.headers.index(s),this.active=o?e():s,this._toggle(c),n.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),o||(s.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&s.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),s.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var i=t.newPanel,n=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=n,this.options.animate?this._animate(i,n,t):(n.hide(),i.show(),this._toggleComplete(t)),n.attr({"aria-hidden":"true"}),n.prev().attr("aria-selected","false"),i.length&&n.length?n.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(e,t,i){var o,r,a,l=this,c=0,u=e.length&&(!t.length||e.index()<t.index()),d=this.options.animate||{},h=u&&d.down||d,p=function(){l._toggleComplete(i)};return"number"==typeof h&&(a=h),"string"==typeof h&&(r=h),r=r||h.easing||d.easing,a=a||h.duration||d.duration,t.length?e.length?(o=e.show().outerHeight(),t.animate(n,{duration:a,easing:r,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(s,{duration:a,easing:r,complete:p,step:function(e,i){i.now=Math.round(e),"height"!==i.prop?c+=i.now:"content"!==l.options.heightStyle&&(i.now=Math.round(o-t.outerHeight()-c),c=0)}})):t.animate(n,a,r,p):e.animate(s,a,r,p)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}})}(t),function(e,t){e.widget("ui.autocomplete",{version:"@VERSION",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,n,s=this.element[0].nodeName.toLowerCase(),o="textarea"===s,r="input"===s;this.isMultiLine=o?!0:r?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[o||r?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(s){if(this.element.prop("readOnly"))return t=!0,n=!0,void(i=!0);t=!1,n=!1,i=!1;var o=e.ui.keyCode;switch(s.keyCode){case o.PAGE_UP:t=!0,this._move("previousPage",s);break;case o.PAGE_DOWN:t=!0,this._move("nextPage",s);break;case o.UP:t=!0,this._keyEvent("previous",s);break;case o.DOWN:t=!0,this._keyEvent("next",s);break;case o.ENTER:case o.NUMPAD_ENTER:this.menu.active&&(t=!0,s.preventDefault(),this.menu.select(s));break;case o.TAB:this.menu.active&&this.menu.select(s);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(s),s.preventDefault());break;default:i=!0,this._searchTimeout(s)}},keypress:function(n){if(t)return t=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&n.preventDefault());if(!i){var s=e.ui.keyCode;switch(n.keyCode){case s.PAGE_UP:this._move("previousPage",n);break;case s.PAGE_DOWN:this._move("nextPage",n);break;case s.UP:this._keyEvent("previous",n);break;case s.DOWN:this._keyEvent("next",n)}}},input:function(e){return n?(n=!1,void e.preventDefault()):void this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),void this._change(e))}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(n){n.target===t.element[0]||n.target===i||e.contains(i,n.target)||t.close()})})},menufocus:function(t,i){if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)});var n=i.item.data("ui-autocomplete-item");!1!==this._trigger("focus",t,{item:n})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(n.value):this.liveRegion.text(n.value)},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,n=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,n){n(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,s){n.xhr&&n.xhr.abort(),n.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){s(e)},error:function(){s([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var n=this;e.each(i,function(e,i){n._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").append(e("<a>").text(i.label)).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this._value(this.term),void this.menu.blur()):void this.menu[e](t):void this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var n=new RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return n.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.text(t))}})}(t),function(e,t){var i,n="ui-button ui-widget ui-state-default ui-corner-all",s="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",o=function(){var t=e(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},r=function(t){var i=t.name,n=t.form,s=e([]);return i&&(i=i.replace(/'/g,"\\'"),s=n?e(n).find("[name='"+i+"']"):e("[name='"+i+"']",t.ownerDocument).filter(function(){return!this.form})),s};e.widget("ui.button",{version:"@VERSION",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,o),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,s=this.options,a="checkbox"===this.type||"radio"===this.type,l=a?"":"ui-state-active";null===s.label&&(s.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(n).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){s.disabled||this===i&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){s.disabled||e(this).removeClass(l)}).bind("click"+this.eventNamespace,function(e){s.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),a&&this.element.bind("change"+this.eventNamespace,function(){t.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return s.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(s.disabled)return!1;e(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var i=t.element[0];r(i).not(i).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return s.disabled?!1:(e(this).addClass("ui-state-active"),i=this,void t.document.one("mouseup",function(){i=null}))}).bind("mouseup"+this.eventNamespace,function(){return s.disabled?!1:void e(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(t){return s.disabled?!1:void((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",s.disabled),this._resetButton()},_determineButtonType:function(){var e,t,i;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(n+" ui-state-active "+s).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?(this.element.prop("disabled",!!t),void(t&&this.buttonElement.removeClass("ui-state-focus"))):void this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?r(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var t=this.buttonElement.removeClass(s),i=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),n=this.options.icons,o=n.primary&&n.secondary,r=[];n.primary||n.secondary?(this.options.text&&r.push("ui-button-text-icon"+(o?"s":n.primary?"-primary":"-secondary")),n.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(r.push(o?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(i)))):r.push("ui-button-text-only"),t.addClass(r.join(" "))}}),e.widget("ui.buttonset",{version:"@VERSION",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction");
this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(t),function(e,t){function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div-1-10-4",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.dpDiv=n(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(i,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",function(){e.datepicker._isDisabledDatepicker(o.inline?t.parent()[0]:o.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))})}function s(t,i){e.extend(t,i);for(var n in i)null==i[n]&&(t[n]=i[n]);return t}e.extend(e.ui,{datepicker:{version:"@VERSION"}});var o,r="datepicker";e.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return s(this._defaults,e||{}),this},_attachDatepicker:function(t,i){var n,s,o;n=t.nodeName.toLowerCase(),s="div"===n||"span"===n,t.id||(this.uuid+=1,t.id="dp"+this.uuid),o=this._newInst(e(t),s),o.settings=e.extend({},i||{}),"input"===n?this._connectDatepicker(t,o):s&&this._inlineDatepicker(t,o)},_newInst:function(t,i){var s=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:s,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,i){var n=e(t);i.append=e([]),i.trigger=e([]),n.hasClass(this.markerClassName)||(this._attachments(n,i),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),e.data(t,r,i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var n,s,o,r=this._get(i,"appendText"),a=this._get(i,"isRTL");i.append&&i.append.remove(),r&&(i.append=e("<span class='"+this._appendClass+"'>"+r+"</span>"),t[a?"before":"after"](i.append)),t.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),n=this._get(i,"showOn"),("focus"===n||"both"===n)&&t.focus(this._showDatepicker),("button"===n||"both"===n)&&(s=this._get(i,"buttonText"),o=this._get(i,"buttonImage"),i.trigger=e(this._get(i,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:o,alt:s,title:s}):e("<button type='button'></button>").addClass(this._triggerClass).html(o?e("<img/>").attr({src:o,alt:s,title:s}):s)),t[a?"before":"after"](i.trigger),i.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,i,n,s,o=new Date(2009,11,20),r=this._get(e,"dateFormat");r.match(/[DM]/)&&(t=function(e){for(i=0,n=0,s=0;s<e.length;s++)e[s].length>i&&(i=e[s].length,n=s);return n},o.setMonth(t(this._get(e,r.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(t(this._get(e,r.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),e.input.attr("size",this._formatDate(e,o).length)}},_inlineDatepicker:function(t,i){var n=e(t);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),e.data(t,r,i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,i,n,o,a){var l,c,u,d,h,p=this._dialogInst;return p||(this.uuid+=1,l="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+l+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),p=this._dialogInst=this._newInst(this._dialogInput,!1),p.settings={},e.data(this._dialogInput[0],r,p)),s(p.settings,o||{}),i=i&&i.constructor===Date?this._formatDate(p,i):i,this._dialogInput.val(i),this._pos=a?a.length?a:[a.pageX,a.pageY]:null,this._pos||(c=document.documentElement.clientWidth,u=document.documentElement.clientHeight,d=document.documentElement.scrollLeft||document.body.scrollLeft,h=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[c/2-100+d,u/2-150+h]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),p.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],r,p),this},_destroyDatepicker:function(t){var i,n=e(t),s=e.data(t,r);n.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),e.removeData(t,r),"input"===i?(s.append.remove(),s.trigger.remove(),n.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&n.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var i,n,s=e(t),o=e.data(t,r);s.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(n=s.children("."+this._inlineClass),n.children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var i,n,s=e(t),o=e.data(t,r);s.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(n=s.children("."+this._inlineClass),n.children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,r)}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(i,n,o){var r,a,l,c,u=this._getInst(i);return 2===arguments.length&&"string"==typeof n?"defaults"===n?e.extend({},e.datepicker._defaults):u?"all"===n?e.extend({},u.settings):this._get(u,n):null:(r=n||{},"string"==typeof n&&(r={},r[n]=o),void(u&&(this._curInst===u&&this._hideDatepicker(),a=this._getDateDatepicker(i,!0),l=this._getMinMaxDate(u,"min"),c=this._getMinMaxDate(u,"max"),s(u.settings,r),null!==l&&r.dateFormat!==t&&r.minDate===t&&(u.settings.minDate=this._formatDate(u,l)),null!==c&&r.dateFormat!==t&&r.maxDate===t&&(u.settings.maxDate=this._formatDate(u,c)),"disabled"in r&&(r.disabled?this._disableDatepicker(i):this._enableDatepicker(i)),this._attachments(e(i),u),this._autoSize(u),this._setDate(u,a),this._updateAlternate(u),this._updateDatepicker(u))))},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i,n,s,o=e.datepicker._getInst(t.target),r=!0,a=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),r=!1;break;case 13:return s=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",o.dpDiv),s[0]&&e.datepicker._selectDay(t.target,o.selectedMonth,o.selectedYear,s[0]),i=e.datepicker._get(o,"onSelect"),i?(n=e.datepicker._formatDate(o),i.apply(o.input?o.input[0]:null,[n,o])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),r=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),r=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,a?1:-1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),r=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,a?-1:1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),r=t.ctrlKey||t.metaKey;break;default:r=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):r=!1;r&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var i,n,s=e.datepicker._getInst(t.target);return e.datepicker._get(s,"constrainInput")?(i=e.datepicker._possibleChars(e.datepicker._get(s,"dateFormat")),n=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">n||!i||i.indexOf(n)>-1):void 0},_doKeyUp:function(t){var i,n=e.datepicker._getInst(t.target);if(n.input.val()!==n.lastVal)try{i=e.datepicker.parseDate(e.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,e.datepicker._getFormatConfig(n)),i&&(e.datepicker._setDateFromField(n),e.datepicker._updateAlternate(n),e.datepicker._updateDatepicker(n))}catch(s){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var i,n,o,r,a,l,c;i=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==i&&(e.datepicker._curInst.dpDiv.stop(!0,!0),i&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),n=e.datepicker._get(i,"beforeShow"),o=n?n.apply(t,[t,i]):{},o!==!1&&(s(i.settings,o),i.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(i),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),r=!1,e(t).parents().each(function(){return r|="fixed"===e(this).css("position"),!r}),a={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(i),a=e.datepicker._checkOffset(i,a,r),i.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":r?"fixed":"absolute",display:"none",left:a.left+"px",top:a.top+"px"}),i.inline||(l=e.datepicker._get(i,"showAnim"),c=e.datepicker._get(i,"duration"),i.dpDiv.zIndex(e(t).zIndex()+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[l]?i.dpDiv.show(l,e.datepicker._get(i,"showOptions"),c):i.dpDiv[l||"show"](l?c:null),e.datepicker._shouldFocusInput(i)&&i.input.focus(),e.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4,o=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t),t.dpDiv.find("."+this._dayOverClass+" a").mouseover();var i,n=this._getNumberOfMonths(t),s=n[1],r=17;t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),s>1&&t.dpDiv.addClass("ui-datepicker-multi-"+s).css("width",r*s+"em"),t.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),i=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,i,n){var s=t.dpDiv.outerWidth(),o=t.dpDiv.outerHeight(),r=t.input?t.input.outerWidth():0,a=t.input?t.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:e(document).scrollLeft()),c=document.documentElement.clientHeight+(n?0:e(document).scrollTop());return i.left-=this._get(t,"isRTL")?s-r:0,i.left-=n&&i.left===t.input.offset().left?e(document).scrollLeft():0,i.top-=n&&i.top===t.input.offset().top+a?e(document).scrollTop():0,i.left-=Math.min(i.left,i.left+s>l&&l>s?Math.abs(i.left+s-l):0),i.top-=Math.min(i.top,i.top+o>c&&c>o?Math.abs(o+a):0),i},_findPos:function(t){for(var i,n=this._getInst(t),s=this._get(n,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[s?"previousSibling":"nextSibling"];return i=e(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var i,n,s,o,a=this._curInst;!a||t&&a!==e.data(t,r)||this._datepickerShowing&&(i=this._get(a,"showAnim"),n=this._get(a,"duration"),s=function(){e.datepicker._tidyDialog(a)},e.effects&&(e.effects.effect[i]||e.effects[i])?a.dpDiv.hide(i,e.datepicker._get(a,"showOptions"),n,s):a.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?n:null,s),i||s(),this._datepickerShowing=!1,o=this._get(a,"onClose"),o&&o.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var i=e(t.target),n=e.datepicker._getInst(i[0]);(i[0].id!==e.datepicker._mainDivId&&0===i.parents("#"+e.datepicker._mainDivId).length&&!i.hasClass(e.datepicker.markerClassName)&&!i.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||i.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==n)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,i,n){var s=e(t),o=this._getInst(s[0]);this._isDisabledDatepicker(s[0])||(this._adjustInstDate(o,i+("M"===n?this._get(o,"showCurrentAtPos"):0),n),this._updateDatepicker(o))},_gotoToday:function(t){var i,n=e(t),s=this._getInst(n[0]);this._get(s,"gotoCurrent")&&s.currentDay?(s.selectedDay=s.currentDay,s.drawMonth=s.selectedMonth=s.currentMonth,s.drawYear=s.selectedYear=s.currentYear):(i=new Date,s.selectedDay=i.getDate(),s.drawMonth=s.selectedMonth=i.getMonth(),s.drawYear=s.selectedYear=i.getFullYear()),this._notifyChange(s),this._adjustDate(n)},_selectMonthYear:function(t,i,n){var s=e(t),o=this._getInst(s[0]);o["selected"+("M"===n?"Month":"Year")]=o["draw"+("M"===n?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(s)},_selectDay:function(t,i,n,s){var o,r=e(t);e(s).hasClass(this._unselectableClass)||this._isDisabledDatepicker(r[0])||(o=this._getInst(r[0]),o.selectedDay=o.currentDay=e("a",s).html(),o.selectedMonth=o.currentMonth=i,o.selectedYear=o.currentYear=n,this._selectDate(t,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(t){var i=e(t);this._selectDate(i,"")},_selectDate:function(t,i){var n,s=e(t),o=this._getInst(s[0]);i=null!=i?i:this._formatDate(o),o.input&&o.input.val(i),this._updateAlternate(o),n=this._get(o,"onSelect"),n?n.apply(o.input?o.input[0]:null,[i,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,n,s,o=this._get(t,"altField");o&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),n=this._getDate(t),s=this.formatDate(i,n,this._getFormatConfig(t)),e(o).each(function(){e(this).val(s)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(t,i,n){if(null==t||null==i)throw"Invalid arguments";if(i="object"==typeof i?i.toString():i+"",""===i)return null;var s,o,r,a,l=0,c=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),d=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,h=(n?n.dayNames:null)||this._defaults.dayNames,p=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,f=(n?n.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,_=-1,b=!1,y=function(e){var i=s+1<t.length&&t.charAt(s+1)===e;return i&&s++,i},T=function(e){var t=y(e),n="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,s=new RegExp("^\\d{1,"+n+"}"),o=i.substring(l).match(s);if(!o)throw"Missing number at position "+l;return l+=o[0].length,parseInt(o[0],10)},w=function(t,n,s){var o=-1,r=e.map(y(t)?s:n,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(r,function(e,t){var n=t[1];return i.substr(l,n.length).toLowerCase()===n.toLowerCase()?(o=t[0],l+=n.length,!1):void 0}),-1!==o)return o+1;throw"Unknown name at position "+l},S=function(){if(i.charAt(l)!==t.charAt(s))throw"Unexpected literal at position "+l;l++};for(s=0;s<t.length;s++)if(b)"'"!==t.charAt(s)||y("'")?S():b=!1;else switch(t.charAt(s)){case"d":v=T("d");break;case"D":w("D",d,h);break;case"o":_=T("o");break;case"m":g=T("m");break;case"M":g=w("M",p,f);break;case"y":m=T("y");break;case"@":a=new Date(T("@")),m=a.getFullYear(),g=a.getMonth()+1,v=a.getDate();break;case"!":a=new Date((T("!")-this._ticksTo1970)/1e4),m=a.getFullYear(),g=a.getMonth()+1,v=a.getDate();break;case"'":y("'")?S():b=!0;break;default:S()}if(l<i.length&&(r=i.substr(l),!/^\s+/.test(r)))throw"Extra/unparsed characters found in date: "+r;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u>=m?0:-100)),_>-1)for(g=1,v=_;;){if(o=this._getDaysInMonth(m,g-1),o>=v)break;g++,v-=o}if(a=this._daylightSavingAdjust(new Date(m,g-1,v)),a.getFullYear()!==m||a.getMonth()+1!==g||a.getDate()!==v)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,i){if(!t)return"";var n,s=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,o=(i?i.dayNames:null)||this._defaults.dayNames,r=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,a=(i?i.monthNames:null)||this._defaults.monthNames,l=function(t){var i=n+1<e.length&&e.charAt(n+1)===t;return i&&n++,i},c=function(e,t,i){var n=""+t;if(l(e))for(;n.length<i;)n="0"+n;return n},u=function(e,t,i,n){return l(e)?n[t]:i[t]},d="",h=!1;if(t)for(n=0;n<e.length;n++)if(h)"'"!==e.charAt(n)||l("'")?d+=e.charAt(n):h=!1;else switch(e.charAt(n)){case"d":d+=c("d",t.getDate(),2);break;case"D":d+=u("D",t.getDay(),s,o);break;case"o":d+=c("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=c("m",t.getMonth()+1,2);break;case"M":d+=u("M",t.getMonth(),r,a);break;case"y":d+=l("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":d+=t.getTime();break;case"!":d+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?d+="'":h=!0;break;default:d+=e.charAt(n)}return d},_possibleChars:function(e){var t,i="",n=!1,s=function(i){var n=t+1<e.length&&e.charAt(t+1)===i;return n&&t++,n};for(t=0;t<e.length;t++)if(n)"'"!==e.charAt(t)||s("'")?i+=e.charAt(t):n=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":s("'")?i+="'":n=!0;break;default:i+=e.charAt(t)}return i},_get:function(e,i){return e.settings[i]!==t?e.settings[i]:this._defaults[i]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,"dateFormat"),n=e.lastVal=e.input?e.input.val():null,s=this._getDefaultDate(e),o=s,r=this._getFormatConfig(e);try{o=this.parseDate(i,n,r)||s}catch(a){n=t?"":n}e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),e.currentDay=n?o.getDate():0,e.currentMonth=n?o.getMonth():0,e.currentYear=n?o.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,i,n){var s=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},o=function(i){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),i,e.datepicker._getFormatConfig(t))}catch(n){}for(var s=(i.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,o=s.getFullYear(),r=s.getMonth(),a=s.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,c=l.exec(i);c;){switch(c[2]||"d"){case"d":case"D":a+=parseInt(c[1],10);break;case"w":case"W":a+=7*parseInt(c[1],10);break;case"m":case"M":r+=parseInt(c[1],10),a=Math.min(a,e.datepicker._getDaysInMonth(o,r));break;case"y":case"Y":o+=parseInt(c[1],10),a=Math.min(a,e.datepicker._getDaysInMonth(o,r))}c=l.exec(i)}return new Date(o,r,a)},r=null==i||""===i?n:"string"==typeof i?o(i):"number"==typeof i?isNaN(i)?n:s(i):new Date(i.getTime());return r=r&&"Invalid Date"===r.toString()?n:r,r&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var n=!t,s=e.selectedMonth,o=e.selectedYear,r=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=r.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=r.getMonth(),e.drawYear=e.selectedYear=e.currentYear=r.getFullYear(),s===e.selectedMonth&&o===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(n?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var i=this._get(t,"stepMonths"),n="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(n,-i,"M")},next:function(){e.datepicker._adjustDate(n,+i,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(n)},selectDay:function(){return e.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(n,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,i,n,s,o,r,a,l,c,u,d,h,p,f,m,g,v,_,b,y,T,w,S,C,E,x,D,M,I,N,k,O,A,L,P,R,F,j,H,U=new Date,z=this._daylightSavingAdjust(new Date(U.getFullYear(),U.getMonth(),U.getDate())),V=this._get(e,"isRTL"),$=this._get(e,"showButtonPanel"),B=this._get(e,"hideIfNoPrevNext"),W=this._get(e,"navigationAsDateFormat"),q=this._getNumberOfMonths(e),K=this._get(e,"showCurrentAtPos"),Y=this._get(e,"stepMonths"),G=1!==q[0]||1!==q[1],J=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),X=this._getMinMaxDate(e,"min"),Q=this._getMinMaxDate(e,"max"),Z=e.drawMonth-K,ee=e.drawYear;if(0>Z&&(Z+=12,ee--),Q)for(t=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth()-q[0]*q[1]+1,Q.getDate())),t=X&&X>t?X:t;this._daylightSavingAdjust(new Date(ee,Z,1))>t;)Z--,0>Z&&(Z=11,ee--);for(e.drawMonth=Z,e.drawYear=ee,i=this._get(e,"prevText"),i=W?this.formatDate(i,this._daylightSavingAdjust(new Date(ee,Z-Y,1)),this._getFormatConfig(e)):i,n=this._canAdjustMonth(e,-1,ee,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"e":"w")+"'>"+i+"</span></a>":B?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"e":"w")+"'>"+i+"</span></a>",s=this._get(e,"nextText"),s=W?this.formatDate(s,this._daylightSavingAdjust(new Date(ee,Z+Y,1)),this._getFormatConfig(e)):s,o=this._canAdjustMonth(e,1,ee,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"w":"e")+"'>"+s+"</span></a>":B?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"w":"e")+"'>"+s+"</span></a>",r=this._get(e,"currentText"),a=this._get(e,"gotoCurrent")&&e.currentDay?J:z,r=W?this.formatDate(r,a,this._getFormatConfig(e)):r,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",c=$?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(V?l:"")+(this._isInRange(e,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+r+"</button>":"")+(V?"":l)+"</div>":"",u=parseInt(this._get(e,"firstDay"),10),u=isNaN(u)?0:u,d=this._get(e,"showWeek"),h=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),f=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),g=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),_=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),y="",w=0;w<q[0];w++){for(S="",this.maxRows=4,C=0;C<q[1];C++){if(E=this._daylightSavingAdjust(new Date(ee,Z,e.selectedDay)),x=" ui-corner-all",D="",G){if(D+="<div class='ui-datepicker-group",q[1]>1)switch(C){case 0:D+=" ui-datepicker-group-first",x=" ui-corner-"+(V?"right":"left");break;case q[1]-1:D+=" ui-datepicker-group-last",x=" ui-corner-"+(V?"left":"right");break;default:D+=" ui-datepicker-group-middle",x=""}D+="'>"}for(D+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+x+"'>"+(/all|left/.test(x)&&0===w?V?o:n:"")+(/all|right/.test(x)&&0===w?V?n:o:"")+this._generateMonthYearHeader(e,Z,ee,X,Q,w>0||C>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",M=d?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",T=0;7>T;T++)I=(T+u)%7,M+="<th"+((T+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+h[I]+"'>"+p[I]+"</span></th>";for(D+=M+"</tr></thead><tbody>",N=this._getDaysInMonth(ee,Z),ee===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,N)),k=(this._getFirstDayOfMonth(ee,Z)-u+7)%7,O=Math.ceil((k+N)/7),A=G&&this.maxRows>O?this.maxRows:O,this.maxRows=A,L=this._daylightSavingAdjust(new Date(ee,Z,1-k)),P=0;A>P;P++){for(D+="<tr>",R=d?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(L)+"</td>":"",T=0;7>T;T++)F=g?g.apply(e.input?e.input[0]:null,[L]):[!0,""],j=L.getMonth()!==Z,H=j&&!_||!F[0]||X&&X>L||Q&&L>Q,R+="<td class='"+((T+u+6)%7>=5?" ui-datepicker-week-end":"")+(j?" ui-datepicker-other-month":"")+(L.getTime()===E.getTime()&&Z===e.selectedMonth&&e._keyEvent||b.getTime()===L.getTime()&&b.getTime()===E.getTime()?" "+this._dayOverClass:"")+(H?" "+this._unselectableClass+" ui-state-disabled":"")+(j&&!v?"":" "+F[1]+(L.getTime()===J.getTime()?" "+this._currentClass:"")+(L.getTime()===z.getTime()?" ui-datepicker-today":""))+"'"+(j&&!v||!F[2]?"":" title='"+F[2].replace(/'/g,"&#39;")+"'")+(H?"":" data-handler='selectDay' data-event='click' data-month='"+L.getMonth()+"' data-year='"+L.getFullYear()+"'")+">"+(j&&!v?"&#xa0;":H?"<span class='ui-state-default'>"+L.getDate()+"</span>":"<a class='ui-state-default"+(L.getTime()===z.getTime()?" ui-state-highlight":"")+(L.getTime()===J.getTime()?" ui-state-active":"")+(j?" ui-priority-secondary":"")+"' href='#'>"+L.getDate()+"</a>")+"</td>",L.setDate(L.getDate()+1),L=this._daylightSavingAdjust(L);D+=R+"</tr>"}Z++,Z>11&&(Z=0,ee++),D+="</tbody></table>"+(G?"</div>"+(q[0]>0&&C===q[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),S+=D}y+=S}return y+=c,e._keyEvent=!1,y},_generateMonthYearHeader:function(e,t,i,n,s,o,r,a){var l,c,u,d,h,p,f,m,g=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),_=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",y="";if(o||!g)y+="<span class='ui-datepicker-month'>"+r[t]+"</span>";else{
for(l=n&&n.getFullYear()===i,c=s&&s.getFullYear()===i,y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;12>u;u++)(!l||u>=n.getMonth())&&(!c||u<=s.getMonth())&&(y+="<option value='"+u+"'"+(u===t?" selected='selected'":"")+">"+a[u]+"</option>");y+="</select>"}if(_||(b+=y+(!o&&g&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",o||!v)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(d=this._get(e,"yearRange").split(":"),h=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?h+parseInt(e,10):parseInt(e,10);return isNaN(t)?h:t},f=p(d[0]),m=Math.max(f,p(d[1]||"")),f=n?Math.max(f,n.getFullYear()):f,m=s?Math.min(m,s.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=f;f++)e.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,"yearSuffix"),_&&(b+=(!o&&g&&v?"":"&#xa0;")+y),b+="</div>"},_adjustInstDate:function(e,t,i){var n=e.drawYear+("Y"===i?t:0),s=e.drawMonth+("M"===i?t:0),o=Math.min(e.selectedDay,this._getDaysInMonth(n,s))+("D"===i?t:0),r=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(n,s,o)));e.selectedDay=r.getDate(),e.drawMonth=e.selectedMonth=r.getMonth(),e.drawYear=e.selectedYear=r.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),n=this._getMinMaxDate(e,"max"),s=i&&i>t?i:t;return n&&s>n?n:s},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,n){var s=this._getNumberOfMonths(e),o=this._daylightSavingAdjust(new Date(i,n+(0>t?t:s[0]*s[1]),1));return 0>t&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(e,o)},_isInRange:function(e,t){var i,n,s=this._getMinMaxDate(e,"min"),o=this._getMinMaxDate(e,"max"),r=null,a=null,l=this._get(e,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),r=parseInt(i[0],10),a=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(r+=n),i[1].match(/[+\-].*/)&&(a+=n)),(!s||t.getTime()>=s.getTime())&&(!o||t.getTime()<=o.getTime())&&(!r||t.getFullYear()>=r)&&(!a||t.getFullYear()<=a)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,n){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var s=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(n,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),s,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e("<div class='visualizejs'></div>").append(e.datepicker.dpDiv));var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(i)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i))},e.datepicker=new i,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="@VERSION"}(t),function(e,t){var i={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},n={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};e.widget("ui.dialog",{version:"@VERSION",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=e(this).css(t).offset().top;0>i&&e(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var i,n=this;if(this._isOpen&&this._trigger("beforeClose",t)!==!1){if(this._isOpen=!1,this._destroyOverlay(),!this.opener.filter(":focusable").focus().length)try{i=this.document[0].activeElement,i&&"body"!==i.nodeName.toLowerCase()&&e(i).blur()}catch(s){}this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",t)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,t){var i=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return i&&!t&&this._trigger("focus",e),i},open:function(){var t=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),void this._trigger("open"))},_focusTabbable:function(){var e=this.element.find("[autofocus]");e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function i(){var t=this.document[0].activeElement,i=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);i||this._focusTabbable()}t.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===e.ui.keyCode.TAB){var i=this.uiDialog.find(":tabbable"),n=i.filter(":first"),s=i.filter(":last");t.target!==s[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==n[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(s.focus(1),t.preventDefault()):(n.focus(1),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(i)||e.isArray(i)&&!i.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(e.each(i,function(i,n){var s,o;n=e.isFunction(n)?{click:n,text:i}:n,n=e.extend({type:"button"},n),s=n.click,n.click=function(){s.apply(t.element[0],arguments)},o={icons:n.icons,text:n.showText},delete n.icons,delete n.showText,e("<button></button>",n).button(o).appendTo(t.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var i=this,n=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,s){e(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",n,t(s))},drag:function(e,n){i._trigger("drag",e,t(n))},stop:function(s,o){n.position=[o.position.left-i.document.scrollLeft(),o.position.top-i.document.scrollTop()],e(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",s,t(o))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var i=this,n=this.options,s=n.resizable,o=this.uiDialog.css("position"),r="string"==typeof s?s:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:r,start:function(n,s){e(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",n,t(s))},resize:function(e,n){i._trigger("resize",e,t(n))},stop:function(s,o){n.height=e(this).height(),n.width=e(this).width(),e(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",s,t(o))}}).css("position",o)},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var s=this,o=!1,r={};e.each(t,function(e,t){s._setOption(e,t),e in i&&(o=!0),e in n&&(r[e]=t)}),o&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(e,t){var i,n,s=this.uiDialog;"dialogClass"===e&&s.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&(i=s.is(":data(ui-draggable)"),i&&!t&&s.draggable("destroy"),!i&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(n=s.is(":data(ui-resizable)"),n&&!t&&s.resizable("destroy"),n&&"string"==typeof t&&s.resizable("option","handles",t),n||t===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),e=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),t=Math.max(0,n.minHeight-e),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-e):"none","auto"===n.height?this.element.css({minHeight:t,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return e(t.target).closest(".ui-dialog").length?!0:!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=this,i=this.widgetFullName;e.ui.dialog.overlayInstances||this._delay(function(){e.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(n){t._allowInteraction(n)||(n.preventDefault(),e(".ui-dialog:visible:last .ui-dialog-content").data(i)._focusTabbable())})}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),e.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(e.ui.dialog.overlayInstances--,e.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}}),e.ui.dialog.overlayInstances=0,e.uiBackCompat!==!1&&e.widget("ui.dialog",e.ui.dialog,{_position:function(){var t,i=this.options.position,n=[],s=[0,0];i?(("string"==typeof i||"object"==typeof i&&"0"in i)&&(n=i.split?i.split(" "):[i[0],i[1]],1===n.length&&(n[1]=n[0]),e.each(["left","top"],function(e,t){+n[e]===n[e]&&(s[e]=n[e],n[e]=t)}),i={my:n[0]+(s[0]<0?s[0]:"+"+s[0])+" "+n[1]+(s[1]<0?s[1]:"+"+s[1]),at:n.join(" ")}),i=e.extend({},e.ui.dialog.prototype.options.position,i)):i=e.ui.dialog.prototype.options.position,t=this.uiDialog.is(":visible"),t||this.uiDialog.show(),this.uiDialog.position(i),t||this.uiDialog.hide()}})}(t),function(e,t){var i=/up|down|vertical/,n=/up|left|vertical|horizontal/;e.effects.effect.blind=function(t,s){var o,r,a,l=e(this),c=["position","top","bottom","left","right","height","width"],u=e.effects.setMode(l,t.mode||"hide"),d=t.direction||"up",h=i.test(d),p=h?"height":"width",f=h?"top":"left",m=n.test(d),g={},v="show"===u;l.parent().is(".ui-effects-wrapper")?e.effects.save(l.parent(),c):e.effects.save(l,c),l.show(),o=e.effects.createWrapper(l).css({overflow:"hidden"}),r=o[p](),a=parseFloat(o.css(f))||0,g[p]=v?r:0,m||(l.css(h?"bottom":"right",0).css(h?"top":"left","auto").css({position:"absolute"}),g[f]=v?a:r+a),v&&(o.css(p,0),m||o.css(f,a+r)),o.animate(g,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===u&&l.hide(),e.effects.restore(l,c),e.effects.removeWrapper(l),s()}})}}(t),function(e,t){e.effects.effect.bounce=function(t,i){var n,s,o,r=e(this),a=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(r,t.mode||"effect"),c="hide"===l,u="show"===l,d=t.direction||"up",h=t.distance,p=t.times||5,f=2*p+(u||c?1:0),m=t.duration/f,g=t.easing,v="up"===d||"down"===d?"top":"left",_="up"===d||"left"===d,b=r.queue(),y=b.length;for((u||c)&&a.push("opacity"),e.effects.save(r,a),r.show(),e.effects.createWrapper(r),h||(h=r["top"===v?"outerHeight":"outerWidth"]()/3),u&&(o={opacity:1},o[v]=0,r.css("opacity",0).css(v,_?2*-h:2*h).animate(o,m,g)),c&&(h/=Math.pow(2,p-1)),o={},o[v]=0,n=0;p>n;n++)s={},s[v]=(_?"-=":"+=")+h,r.animate(s,m,g).animate(o,m,g),h=c?2*h:h/2;c&&(s={opacity:0},s[v]=(_?"-=":"+=")+h,r.animate(s,m,g)),r.queue(function(){c&&r.hide(),e.effects.restore(r,a),e.effects.removeWrapper(r),i()}),y>1&&b.splice.apply(b,[1,0].concat(b.splice(y,f+1))),r.dequeue()}}(t),function(e,t){e.effects.effect.clip=function(t,i){var n,s,o,r=e(this),a=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(r,t.mode||"hide"),c="show"===l,u=t.direction||"vertical",d="vertical"===u,h=d?"height":"width",p=d?"top":"left",f={};e.effects.save(r,a),r.show(),n=e.effects.createWrapper(r).css({overflow:"hidden"}),s="IMG"===r[0].tagName?n:r,o=s[h](),c&&(s.css(h,0),s.css(p,o/2)),f[h]=c?o:0,f[p]=c?0:o/2,s.animate(f,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){c||r.hide(),e.effects.restore(r,a),e.effects.removeWrapper(r),i()}})}}(t),function(e,t){e.effects.effect.drop=function(t,i){var n,s=e(this),o=["position","top","bottom","left","right","opacity","height","width"],r=e.effects.setMode(s,t.mode||"hide"),a="show"===r,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l?"pos":"neg",d={opacity:a?1:0};e.effects.save(s,o),s.show(),e.effects.createWrapper(s),n=t.distance||s["top"===c?"outerHeight":"outerWidth"](!0)/2,a&&s.css("opacity",0).css(c,"pos"===u?-n:n),d[c]=(a?"pos"===u?"+=":"-=":"pos"===u?"-=":"+=")+n,s.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===r&&s.hide(),e.effects.restore(s,o),e.effects.removeWrapper(s),i()}})}}(t),function(e,t){e.effects.effect.explode=function(t,i){function n(){b.push(this),b.length===d*h&&s()}function s(){p.css({visibility:"visible"}),e(b).remove(),m||p.hide(),i()}var o,r,a,l,c,u,d=t.pieces?Math.round(Math.sqrt(t.pieces)):3,h=d,p=e(this),f=e.effects.setMode(p,t.mode||"hide"),m="show"===f,g=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/h),_=Math.ceil(p.outerHeight()/d),b=[];for(o=0;d>o;o++)for(l=g.top+o*_,u=o-(d-1)/2,r=0;h>r;r++)a=g.left+r*v,c=r-(h-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-r*v,top:-o*_}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:_,left:a+(m?c*v:0),top:l+(m?u*_:0),opacity:m?0:1}).animate({left:a+(m?0:c*v),top:l+(m?0:u*_),opacity:m?1:0},t.duration||500,t.easing,n)}}(t),function(e,t){e.effects.effect.fade=function(t,i){var n=e(this),s=e.effects.setMode(n,t.mode||"toggle");n.animate({opacity:s},{queue:!1,duration:t.duration,easing:t.easing,complete:i})}}(t),function(e,t){e.effects.effect.fold=function(t,i){var n,s,o=e(this),r=["position","top","bottom","left","right","height","width"],a=e.effects.setMode(o,t.mode||"hide"),l="show"===a,c="hide"===a,u=t.size||15,d=/([0-9]+)%/.exec(u),h=!!t.horizFirst,p=l!==h,f=p?["width","height"]:["height","width"],m=t.duration/2,g={},v={};e.effects.save(o,r),o.show(),n=e.effects.createWrapper(o).css({overflow:"hidden"}),s=p?[n.width(),n.height()]:[n.height(),n.width()],d&&(u=parseInt(d[1],10)/100*s[c?0:1]),l&&n.css(h?{height:0,width:u}:{height:u,width:0}),g[f[0]]=l?s[0]:u,v[f[1]]=l?s[1]:0,n.animate(g,m,t.easing).animate(v,m,t.easing,function(){c&&o.hide(),e.effects.restore(o,r),e.effects.removeWrapper(o),i()})}}(t),function(e,t){e.effects.effect.highlight=function(t,i){var n=e(this),s=["backgroundImage","backgroundColor","opacity"],o=e.effects.setMode(n,t.mode||"show"),r={backgroundColor:n.css("backgroundColor")};"hide"===o&&(r.opacity=0),e.effects.save(n,s),n.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(r,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&n.hide(),e.effects.restore(n,s),i()}})}}(t),function(e,t){e.effects.effect.pulsate=function(t,i){var n,s=e(this),o=e.effects.setMode(s,t.mode||"show"),r="show"===o,a="hide"===o,l=r||"hide"===o,c=2*(t.times||5)+(l?1:0),u=t.duration/c,d=0,h=s.queue(),p=h.length;for((r||!s.is(":visible"))&&(s.css("opacity",0).show(),d=1),n=1;c>n;n++)s.animate({opacity:d},u,t.easing),d=1-d;s.animate({opacity:d},u,t.easing),s.queue(function(){a&&s.hide(),i()}),p>1&&h.splice.apply(h,[1,0].concat(h.splice(p,c+1))),s.dequeue()}}(t),function(e,t){e.effects.effect.puff=function(t,i){var n=e(this),s=e.effects.setMode(n,t.mode||"hide"),o="hide"===s,r=parseInt(t.percent,10)||150,a=r/100,l={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:s,complete:i,percent:o?r:100,from:o?l:{height:l.height*a,width:l.width*a,outerHeight:l.outerHeight*a,outerWidth:l.outerWidth*a}}),n.effect(t)},e.effects.effect.scale=function(t,i){var n=e(this),s=e.extend(!0,{},t),o=e.effects.setMode(n,t.mode||"effect"),r=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===o?0:100),a=t.direction||"both",l=t.origin,c={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},u={y:"horizontal"!==a?r/100:1,x:"vertical"!==a?r/100:1};s.effect="size",s.queue=!1,s.complete=i,"effect"!==o&&(s.origin=l||["middle","center"],s.restore=!0),s.from=t.from||("show"===o?{height:0,width:0,outerHeight:0,outerWidth:0}:c),s.to={height:c.height*u.y,width:c.width*u.x,outerHeight:c.outerHeight*u.y,outerWidth:c.outerWidth*u.x},s.fade&&("show"===o&&(s.from.opacity=0,s.to.opacity=1),"hide"===o&&(s.from.opacity=1,s.to.opacity=0)),n.effect(s)},e.effects.effect.size=function(t,i){var n,s,o,r=e(this),a=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],c=["width","height","overflow"],u=["fontSize"],d=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],h=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=e.effects.setMode(r,t.mode||"effect"),f=t.restore||"effect"!==p,m=t.scale||"both",g=t.origin||["middle","center"],v=r.css("position"),_=f?a:l,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&r.show(),n={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()},"toggle"===t.mode&&"show"===p?(r.from=t.to||b,r.to=t.from||n):(r.from=t.from||("show"===p?b:n),r.to=t.to||("hide"===p?b:n)),o={from:{y:r.from.height/n.height,x:r.from.width/n.width},to:{y:r.to.height/n.height,x:r.to.width/n.width}},("box"===m||"both"===m)&&(o.from.y!==o.to.y&&(_=_.concat(d),r.from=e.effects.setTransition(r,d,o.from.y,r.from),r.to=e.effects.setTransition(r,d,o.to.y,r.to)),o.from.x!==o.to.x&&(_=_.concat(h),r.from=e.effects.setTransition(r,h,o.from.x,r.from),r.to=e.effects.setTransition(r,h,o.to.x,r.to))),("content"===m||"both"===m)&&o.from.y!==o.to.y&&(_=_.concat(u).concat(c),r.from=e.effects.setTransition(r,u,o.from.y,r.from),r.to=e.effects.setTransition(r,u,o.to.y,r.to)),e.effects.save(r,_),r.show(),e.effects.createWrapper(r),r.css("overflow","hidden").css(r.from),g&&(s=e.effects.getBaseline(g,n),r.from.top=(n.outerHeight-r.outerHeight())*s.y,r.from.left=(n.outerWidth-r.outerWidth())*s.x,r.to.top=(n.outerHeight-r.to.outerHeight)*s.y,r.to.left=(n.outerWidth-r.to.outerWidth)*s.x),r.css(r.from),("content"===m||"both"===m)&&(d=d.concat(["marginTop","marginBottom"]).concat(u),h=h.concat(["marginLeft","marginRight"]),c=a.concat(d).concat(h),r.find("*[width]").each(function(){var i=e(this),n={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};f&&e.effects.save(i,c),i.from={height:n.height*o.from.y,width:n.width*o.from.x,outerHeight:n.outerHeight*o.from.y,outerWidth:n.outerWidth*o.from.x},i.to={height:n.height*o.to.y,width:n.width*o.to.x,outerHeight:n.height*o.to.y,outerWidth:n.width*o.to.x},o.from.y!==o.to.y&&(i.from=e.effects.setTransition(i,d,o.from.y,i.from),i.to=e.effects.setTransition(i,d,o.to.y,i.to)),o.from.x!==o.to.x&&(i.from=e.effects.setTransition(i,h,o.from.x,i.from),i.to=e.effects.setTransition(i,h,o.to.x,i.to)),i.css(i.from),i.animate(i.to,t.duration,t.easing,function(){f&&e.effects.restore(i,c)})})),r.animate(r.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===r.to.opacity&&r.css("opacity",r.from.opacity),"hide"===p&&r.hide(),e.effects.restore(r,_),f||("static"===v?r.css({position:"relative",top:r.to.top,left:r.to.left}):e.each(["top","left"],function(e,t){r.css(t,function(t,i){var n=parseInt(i,10),s=e?r.to.left:r.to.top;return"auto"===i?s+"px":n+s+"px"})})),e.effects.removeWrapper(r),i()}})}}(t),function(e,t){e.effects.effect.shake=function(t,i){var n,s=e(this),o=["position","top","bottom","left","right","height","width"],r=e.effects.setMode(s,t.mode||"effect"),a=t.direction||"left",l=t.distance||20,c=t.times||3,u=2*c+1,d=Math.round(t.duration/u),h="up"===a||"down"===a?"top":"left",p="up"===a||"left"===a,f={},m={},g={},v=s.queue(),_=v.length;for(e.effects.save(s,o),s.show(),e.effects.createWrapper(s),f[h]=(p?"-=":"+=")+l,m[h]=(p?"+=":"-=")+2*l,g[h]=(p?"-=":"+=")+2*l,s.animate(f,d,t.easing),n=1;c>n;n++)s.animate(m,d,t.easing).animate(g,d,t.easing);s.animate(m,d,t.easing).animate(f,d/2,t.easing).queue(function(){"hide"===r&&s.hide(),e.effects.restore(s,o),e.effects.removeWrapper(s),i()}),_>1&&v.splice.apply(v,[1,0].concat(v.splice(_,u+1))),s.dequeue()}}(t),function(e,t){e.effects.effect.slide=function(t,i){var n,s=e(this),o=["position","top","bottom","left","right","width","height"],r=e.effects.setMode(s,t.mode||"show"),a="show"===r,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l,d={};e.effects.save(s,o),s.show(),n=t.distance||s["top"===c?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(s).css({overflow:"hidden"}),a&&s.css(c,u?isNaN(n)?"-"+n:-n:n),d[c]=(a?u?"+=":"-=":u?"-=":"+=")+n,s.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===r&&s.hide(),e.effects.restore(s,o),e.effects.removeWrapper(s),i()}})}}(t),function(e,t){e.effects.effect.transfer=function(t,i){var n=e(this),s=e(t.to),o="fixed"===s.css("position"),r=e("body"),a=o?r.scrollTop():0,l=o?r.scrollLeft():0,c=s.offset(),u={top:c.top-a,left:c.left-l,height:s.innerHeight(),width:s.innerWidth()},d=n.offset(),h=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:d.top-a,left:d.left-l,height:n.innerHeight(),width:n.innerWidth(),position:o?"fixed":"absolute"}).animate(u,t.duration,t.easing,function(){h.remove(),i()})}}(t),function(e,t){e.widget("ui.menu",{version:"@VERSION",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,e.proxy(function(e){this.options.disabled&&e.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(e){e.preventDefault()},"click .ui-state-disabled > a":function(e){e.preventDefault()},"click .ui-menu-item:has(a)":function(t){var i=e(t.target).closest(".ui-menu-item");!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var i=e(t.currentTarget);i.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(t,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.children(".ui-menu-item").eq(0);t||this.focus(e,i)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){e(t.target).closest(".ui-menu").length||this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){function i(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var n,s,o,r,a,l=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:l=!1,s=this.previousFilter||"",o=String.fromCharCode(t.keyCode),r=!1,clearTimeout(this.filterTimer),o===s?r=!0:o=s+o,a=new RegExp("^"+i(o),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return a.test(e(this).children("a").text())}),n=r&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n,n.length||(o=String.fromCharCode(t.keyCode),a=new RegExp("^"+i(o),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return a.test(e(this).children("a").text())})),n.length?(this.focus(t,n),n.length>1?(this.previousFilter=o,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}l&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,i=this.options.icons.submenu,n=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),n.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),n=t.prev("a"),s=e("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);n.attr("aria-haspopup","true").prepend(s),t.attr("aria-labelledby",n.attr("id"))}),
t=n.add(this.element),t.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),t.children(":not(.ui-menu-item)").each(function(){var t=e(this);/[^\-\u2014\u2013\s]/.test(t.text())||t.addClass("ui-widget-content ui-menu-divider")}),t.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),this._super(e,t)},focus:function(e,t){var i,n;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),n=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=t.children(".ui-menu"),i.length&&e&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,n,s,o,r,a;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,s=t.offset().top-this.activeMenu.offset().top-i-n,o=this.activeMenu.scrollTop(),r=this.activeMenu.height(),a=t.height(),0>s?this.activeMenu.scrollTop(o+s):s+a>r&&this.activeMenu.scrollTop(o+s-r+a))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(t),this.activeMenu=n},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var n;this.active&&(n="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.children(".ui-menu-item")[t]()),this.focus(i,n)},nextPage:function(t){var i,n,s;return this.active?void(this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,s=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-n-s<0}),this.focus(t,i)):this.focus(t,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))):void this.next(t)},previousPage:function(t){var i,n,s;return this.active?void(this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,s=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-n+s>0}),this.focus(t,i)):this.focus(t,this.activeMenu.children(".ui-menu-item").first()))):void this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)}})}(t),function(e,t){function i(e,t,i){return[parseFloat(e[0])*(p.test(e[0])?t/100:1),parseFloat(e[1])*(p.test(e[1])?i/100:1)]}function n(t,i){return parseInt(e.css(t,i),10)||0}function s(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var o,r=Math.max,a=Math.abs,l=Math.round,c=/left|center|right/,u=/top|center|bottom/,d=/[\+\-]\d+(\.[\d]+)?%?/,h=/^\w+/,p=/%$/,f=e.fn.position;e.position={scrollbarWidth:function(){if(o!==t)return o;var i,n,s=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),r=s.children()[0];return e("body").append(s),i=r.offsetWidth,s.css("overflow","scroll"),n=r.offsetWidth,i===n&&(n=s[0].clientWidth),s.remove(),o=i-n},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),n=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),s="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,o="scroll"===n||"auto"===n&&t.height<t.element[0].scrollHeight;return{width:o?e.position.scrollbarWidth():0,height:s?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),n=e.isWindow(i[0]),s=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:n,isDocument:s,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n?i.width():i.outerWidth(),height:n?i.height():i.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return f.apply(this,arguments);t=e.extend({},t);var o,p,m,g,v,_,b=e(t.of),y=e.position.getWithinInfo(t.within),T=e.position.getScrollInfo(y),w=(t.collision||"flip").split(" "),S={};return _=s(b),b[0].preventDefault&&(t.at="left top"),p=_.width,m=_.height,g=_.offset,v=e.extend({},g),e.each(["my","at"],function(){var e,i,n=(t[this]||"").split(" ");1===n.length&&(n=c.test(n[0])?n.concat(["center"]):u.test(n[0])?["center"].concat(n):["center","center"]),n[0]=c.test(n[0])?n[0]:"center",n[1]=u.test(n[1])?n[1]:"center",e=d.exec(n[0]),i=d.exec(n[1]),S[this]=[e?e[0]:0,i?i[0]:0],t[this]=[h.exec(n[0])[0],h.exec(n[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===t.at[0]?v.left+=p:"center"===t.at[0]&&(v.left+=p/2),"bottom"===t.at[1]?v.top+=m:"center"===t.at[1]&&(v.top+=m/2),o=i(S.at,p,m),v.left+=o[0],v.top+=o[1],this.each(function(){var s,c,u=e(this),d=u.outerWidth(),h=u.outerHeight(),f=n(this,"marginLeft"),_=n(this,"marginTop"),C=d+f+n(this,"marginRight")+T.width,E=h+_+n(this,"marginBottom")+T.height,x=e.extend({},v),D=i(S.my,u.outerWidth(),u.outerHeight());"right"===t.my[0]?x.left-=d:"center"===t.my[0]&&(x.left-=d/2),"bottom"===t.my[1]?x.top-=h:"center"===t.my[1]&&(x.top-=h/2),x.left+=D[0],x.top+=D[1],e.support.offsetFractions||(x.left=l(x.left),x.top=l(x.top)),s={marginLeft:f,marginTop:_},e.each(["left","top"],function(i,n){e.ui.position[w[i]]&&e.ui.position[w[i]][n](x,{targetWidth:p,targetHeight:m,elemWidth:d,elemHeight:h,collisionPosition:s,collisionWidth:C,collisionHeight:E,offset:[o[0]+D[0],o[1]+D[1]],my:t.my,at:t.at,within:y,elem:u})}),t.using&&(c=function(e){var i=g.left-x.left,n=i+p-d,s=g.top-x.top,o=s+m-h,l={target:{element:b,left:g.left,top:g.top,width:p,height:m},element:{element:u,left:x.left,top:x.top,width:d,height:h},horizontal:0>n?"left":i>0?"right":"center",vertical:0>o?"top":s>0?"bottom":"middle"};d>p&&a(i+n)<p&&(l.horizontal="center"),h>m&&a(s+o)<m&&(l.vertical="middle"),r(a(i),a(n))>r(a(s),a(o))?l.important="horizontal":l.important="vertical",t.using.call(this,e,l)}),u.offset(e.extend(x,{using:c}))})},e.ui.position={fit:{left:function(e,t){var i,n=t.within,s=n.isWindow?n.scrollLeft:n.offset.left,o=n.width,a=e.left-t.collisionPosition.marginLeft,l=s-a,c=a+t.collisionWidth-o-s;t.collisionWidth>o?l>0&&0>=c?(i=e.left+l+t.collisionWidth-o-s,e.left+=l-i):c>0&&0>=l?e.left=s:l>c?e.left=s+o-t.collisionWidth:e.left=s:l>0?e.left+=l:c>0?e.left-=c:e.left=r(e.left-a,e.left)},top:function(e,t){var i,n=t.within,s=n.isWindow?n.scrollTop:n.offset.top,o=t.within.height,a=e.top-t.collisionPosition.marginTop,l=s-a,c=a+t.collisionHeight-o-s;t.collisionHeight>o?l>0&&0>=c?(i=e.top+l+t.collisionHeight-o-s,e.top+=l-i):c>0&&0>=l?e.top=s:l>c?e.top=s+o-t.collisionHeight:e.top=s:l>0?e.top+=l:c>0?e.top-=c:e.top=r(e.top-a,e.top)}},flip:{left:function(e,t){var i,n,s=t.within,o=s.offset.left+s.scrollLeft,r=s.width,l=s.isWindow?s.scrollLeft:s.offset.left,c=e.left-t.collisionPosition.marginLeft,u=c-l,d=c+t.collisionWidth-r-l,h="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];0>u?(i=e.left+h+p+f+t.collisionWidth-r-o,(0>i||i<a(u))&&(e.left+=h+p+f)):d>0&&(n=e.left-t.collisionPosition.marginLeft+h+p+f-l,(n>0||a(n)<d)&&(e.left+=h+p+f))},top:function(e,t){var i,n,s=t.within,o=s.offset.top+s.scrollTop,r=s.height,l=s.isWindow?s.scrollTop:s.offset.top,c=e.top-t.collisionPosition.marginTop,u=c-l,d=c+t.collisionHeight-r-l,h="top"===t.my[1],p=h?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];0>u?(n=e.top+p+f+m+t.collisionHeight-r-o,e.top+p+f+m>u&&(0>n||n<a(u))&&(e.top+=p+f+m)):d>0&&(i=e.top-t.collisionPosition.marginTop+p+f+m-l,e.top+p+f+m>d&&(i>0||a(i)<d)&&(e.top+=p+f+m))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,n,s,o,r=document.getElementsByTagName("body")[0],a=document.createElement("div");t=document.createElement(r?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},r&&e.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in n)t.style[o]=n[o];t.appendChild(a),i=r||document.documentElement,i.insertBefore(t,i.firstChild),a.style.cssText="position: absolute; left: 10.7432222px;",s=e(a).offset().left,e.support.offsetFractions=s>10&&11>s,t.innerHTML="",i.removeChild(t)}()}(t),function(e,t){e.widget("ui.progressbar",{version:"@VERSION",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){return e===t?this.options.value:(this.options.value=this._constrainedValue(e),void this._refreshValue())},_constrainedValue:function(e){return e===t&&(e=this.options.value),this.indeterminate=e===!1,"number"!=typeof e&&(e=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}})}(t),function(e,t){var i=5;e.widget("ui.slider",e.ui.mouse,{version:"@VERSION",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,i,n=this.options,s=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),o="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",r=[];for(i=n.values&&n.values.length||1,s.length>i&&(s.slice(i).remove(),s=s.slice(0,i)),t=s.length;i>t;t++)r.push(o);this.handles=s.add(e(r.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,i="";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){var e=this.handles.add(this.range).filter("a");this._off(e),this._on(e,this._handleEvents),this._hoverable(e),this._focusable(e)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var i,n,s,o,r,a,l,c,u=this,d=this.options;return d.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(i),s=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var i=Math.abs(n-u.values(t));(s>i||s===i&&(t===u._lastChangedValue||u.values(t)===d.min))&&(s=i,o=e(this),r=t)}),a=this._start(t,r),a===!1?!1:(this._mouseSliding=!0,this._handleIndex=r,o.addClass("ui-state-active").focus(),l=o.offset(),c=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=c?{left:0,top:0}:{left:t.pageX-l.left-o.width()/2,top:t.pageY-l.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,r,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,n,s,o;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=i/t,n>1&&(n=1),0>n&&(n=0),"vertical"===this.orientation&&(n=1-n),s=this._valueMax()-this._valueMin(),o=this._valueMin()+n*s,this._trimAlignValue(o)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_slide:function(e,t,i){var n,s,o;this.options.values&&this.options.values.length?(n=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&i>n||1===t&&n>i)&&(i=n),i!==this.values(t)&&(s=this.values(),s[t]=i,o=this._trigger("slide",e,{handle:this.handles[t],value:i,values:s}),n=this.values(t?0:1),o!==!1&&this.values(t,i))):i!==this.value()&&(o=this._trigger("slide",e,{handle:this.handles[t],value:i}),o!==!1&&this.value(i))},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,i)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,i){var n,s,o;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(n=this.options.values,s=arguments[0],o=0;o<n.length;o+=1)n[o]=this._trimAlignValue(s[o]),this._change(null,o);this._refreshValue()},_setOption:function(t,i){var n,s=0;switch("range"===t&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(s=this.options.values.length),e.Widget.prototype._setOption.apply(this,arguments),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;s>n;n+=1)this._change(null,n);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,n;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,n=e-i;return 2*Math.abs(i)>=t&&(n+=i>0?t:-t),parseFloat(n.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t,i,n,s,o,r=this.options.range,a=this.options,l=this,c=this._animateOff?!1:a.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(n){i=(l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())*100,u["horizontal"===l.orientation?"left":"bottom"]=i+"%",e(this).stop(1,1)[c?"animate":"css"](u,a.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[c?"animate":"css"]({left:i+"%"},a.animate),1===n&&l.range[c?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:a.animate})):(0===n&&l.range.stop(1,1)[c?"animate":"css"]({bottom:i+"%"},a.animate),1===n&&l.range[c?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:a.animate}))),t=i}):(n=this.value(),s=this._valueMin(),o=this._valueMax(),i=o!==s?(n-s)/(o-s)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[c?"animate":"css"](u,a.animate),"min"===r&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:i+"%"},a.animate),"max"===r&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:a.animate}),"min"===r&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:i+"%"},a.animate),"max"===r&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:a.animate}))},_handleEvents:{keydown:function(t){var n,s,o,r,a=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(t.target).addClass("ui-state-active"),n=this._start(t,a),n===!1))return}switch(r=this.options.step,s=o=this.options.values&&this.options.values.length?this.values(a):this.value(),t.keyCode){case e.ui.keyCode.HOME:o=this._valueMin();break;case e.ui.keyCode.END:o=this._valueMax();break;case e.ui.keyCode.PAGE_UP:o=this._trimAlignValue(s+(this._valueMax()-this._valueMin())/i);break;case e.ui.keyCode.PAGE_DOWN:o=this._trimAlignValue(s-(this._valueMax()-this._valueMin())/i);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(s===this._valueMax())return;o=this._trimAlignValue(s+r);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(s===this._valueMin())return;o=this._trimAlignValue(s-r)}this._slide(t,a,o)},click:function(e){e.preventDefault()},keyup:function(t){var i=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),e(t.target).removeClass("ui-state-active"))}}})}(t),function(e){function t(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.widget("ui.spinner",{version:"@VERSION",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},i=this.element;return e.each(["min","max","step"],function(e,n){var s=i.attr(n);void 0!==s&&s.length&&(t[n]=s)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",e)))},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function i(){var e=this.element[0]===this.document[0].activeElement;e||(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n}))}var n;n=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(t)!==!1&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){return e(t.currentTarget).hasClass("ui-state-active")?this._start(t)===!1?!1:void this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var i=this.options,n=e.ui.keyCode;switch(t.keyCode){case n.UP:return this._repeat(null,1,t),!0;case n.DOWN:return this._repeat(null,-1,t),!0;case n.PAGE_UP:return this._repeat(null,i.page,t),!0;case n.PAGE_DOWN:return this._repeat(null,-i.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(e){return this.spinning||this._trigger("start",e)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(e,t,i){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,i)},e),this._spin(t*this.options.step,i)},_spin:function(e,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+e*this._increment(this.counter)),this.spinning&&this._trigger("spin",t,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?e.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),i=t.indexOf(".");return-1===i?0:t.length-i-1},_adjustValue:function(e){var t,i,n=this.options;return t=null!==n.min?n.min:0,i=e-t,i=Math.round(i/n.step)*n.step,e=t+i,e=parseFloat(e.toFixed(this._precision())),null!==n.max&&e>n.max?n.max:null!==n.min&&e<n.min?n.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var i=this._parse(this.element.val());return this.options[e]=t,void this.element.val(this._format(i))}("max"===e||"min"===e||"step"===e)&&"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(t?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:t(function(e){this._super(e),this._value(this.element.val())}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(e,t){var i;""!==e&&(i=this._parse(e),null!==i&&(t||(i=this._adjustValue(i)),e=this._format(i))),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:t(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:t(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:t(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:t(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?void t(this._value).call(this,e):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})}(t),function(e,t){function i(){return++s}function n(e){return e=e.cloneNode(!1),e.hash.length>1&&decodeURIComponent(e.href.replace(o,""))===decodeURIComponent(location.href.replace(o,""))}var s=0,o=/#.*$/;e.widget("ui.tabs",{version:"@VERSION",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var t=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),i.active=this._initialActive(),e.isArray(i.disabled)&&(i.disabled=e.unique(i.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),this.options.active!==!1&&this.anchors.length?this.active=this._findActive(i.active):this.active=e(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var t=this.options.active,i=this.options.collapsible,n=location.hash.substring(1);return null===t&&(n&&this.tabs.each(function(i,s){return e(s).attr("aria-controls")===n?(t=i,!1):void 0}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===t||-1===t)&&(t=this.tabs.length?0:!1)),t!==!1&&(t=this.tabs.index(this.tabs.eq(t)),-1===t&&(t=i?!1:0)),!i&&t===!1&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var i=e(this.document[0].activeElement).closest("li"),n=this.tabs.index(i),s=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:n++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:s=!1,n--;break;case e.ui.keyCode.END:n=this.anchors.length-1;break;case e.ui.keyCode.HOME:n=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n);case e.ui.keyCode.ENTER:return t.preventDefault(),
clearTimeout(this.activating),void this._activate(n===this.options.active?!1:n);default:return}t.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,s),t.ctrlKey||(i.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){function n(){return t>s&&(t=0),0>t&&(t=s),t}for(var s=this.tabs.length-1;-1!==e.inArray(n(),this.options.disabled);)t=i?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){return"active"===e?void this._activate(t):"disabled"===e?void this._setupDisabled(t):(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||this.options.active!==!1||this._activate(0)),"event"===e&&this._setupEvents(t),void("heightStyle"===e&&this._setupHeightStyle(t)))},_tabId:function(e){return e.attr("aria-controls")||"ui-tabs-"+i()},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=e.map(i.filter(".ui-state-disabled"),function(e){return i.index(e)}),this._processTabs(),t.active!==!1&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(i,s){var o,r,a,l=e(s).uniqueId().attr("id"),c=e(s).closest("li"),u=c.attr("aria-controls");n(s)?(o=s.hash,r=t.element.find(t._sanitizeSelector(o))):(a=t._tabId(c),o="#"+a,r=t.element.find(o),r.length||(r=t._createPanel(a),r.insertAfter(t.panels[i-1]||t.tablist)),r.attr("aria-live","polite")),r.length&&(t.panels=t.panels.add(r)),u&&c.data("ui-tabs-aria-controls",u),c.attr({"aria-controls":o.substring(1),"aria-labelledby":l}),r.attr("aria-labelledby",l)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var i,n=0;i=this.tabs[n];n++)t===!0||-1!==e.inArray(n,t)?e(i).addClass("ui-state-disabled").attr("aria-disabled","true"):e(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var i={click:function(e){e.preventDefault()}};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,n=this.element.parent();"fill"===t?(i=n.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=e(this),n=t.css("position");"absolute"!==n&&"fixed"!==n&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each(function(){i=Math.max(i,e(this).height("").height())}).height(i))},_eventHandler:function(t){var i=this.options,n=this.active,s=e(t.currentTarget),o=s.closest("li"),r=o[0]===n[0],a=r&&i.collapsible,l=a?e():this._getPanelForTab(o),c=n.length?this._getPanelForTab(n):e(),u={oldTab:n,oldPanel:c,newTab:a?e():o,newPanel:l};t.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||r&&!i.collapsible||this._trigger("beforeActivate",t,u)===!1||(i.active=a?!1:this.tabs.index(o),this.active=r?e():o,this.xhr&&this.xhr.abort(),c.length||l.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(o),t),this._toggle(t,u))},_toggle:function(t,i){function n(){o.running=!1,o._trigger("activate",t,i)}function s(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),r.length&&o.options.show?o._show(r,o.options.show,n):(r.show(),n())}var o=this,r=i.newPanel,a=i.oldPanel;this.running=!0,a.length&&this.options.hide?this._hide(a,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),s()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),a.hide(),s()),a.attr({"aria-expanded":"false","aria-hidden":"true"}),i.oldTab.attr("aria-selected","false"),r.length&&a.length?i.oldTab.attr("tabIndex",-1):r.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),r.attr({"aria-expanded":"true","aria-hidden":"false"}),i.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(t){var i,n=this._findActive(t);n[0]!==this.active[0]&&(n.length||(n=this.active),i=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return t===!1?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=e(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(i){var n=this.options.disabled;n!==!1&&(i===t?n=!1:(i=this._getIndex(i),n=e.isArray(n)?e.map(n,function(e){return e!==i?e:null}):e.map(this.tabs,function(e,t){return t!==i?t:null})),this._setupDisabled(n))},disable:function(i){var n=this.options.disabled;if(n!==!0){if(i===t)n=!0;else{if(i=this._getIndex(i),-1!==e.inArray(i,n))return;n=e.isArray(n)?e.merge([i],n).sort():[i]}this._setupDisabled(n)}},load:function(t,i){t=this._getIndex(t);var s=this,o=this.tabs.eq(t),r=o.find(".ui-tabs-anchor"),a=this._getPanelForTab(o),l={tab:o,panel:a};n(r[0])||(this.xhr=e.ajax(this._ajaxSettings(r,i,l)),this.xhr&&"canceled"!==this.xhr.statusText&&(o.addClass("ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.success(function(e){setTimeout(function(){a.html(e),s._trigger("load",i,l)},1)}).complete(function(e,t){setTimeout(function(){"abort"===t&&s.panels.stop(!1,!0),o.removeClass("ui-tabs-loading"),a.removeAttr("aria-busy"),e===s.xhr&&delete s.xhr},1)})))},_ajaxSettings:function(t,i,n){var s=this;return{url:t.attr("href"),beforeSend:function(t,o){return s._trigger("beforeLoad",i,e.extend({jqXHR:t,ajaxSettings:o},n))}}},_getPanelForTab:function(t){var i=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}})}(t),function(e){function t(t,i){var n=(t.attr("aria-describedby")||"").split(/\s+/);n.push(i),t.data("ui-tooltip-id",i).attr("aria-describedby",e.trim(n.join(" ")))}function i(t){var i=t.data("ui-tooltip-id"),n=(t.attr("aria-describedby")||"").split(/\s+/),s=e.inArray(i,n);-1!==s&&n.splice(s,1),t.removeData("ui-tooltip-id"),n=e.trim(n.join(" ")),n?t.attr("aria-describedby",n):t.removeAttr("aria-describedby")}var n=0;e.widget("ui.tooltip",{version:"@VERSION",options:{content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(t,i){var n=this;return"disabled"===t?(this[i?"_disable":"_enable"](),void(this.options[t]=i)):(this._super(t,i),void("content"===t&&e.each(this.tooltips,function(e,t){n._updateContent(t)})))},_disable:function(){var t=this;e.each(this.tooltips,function(i,n){var s=e.Event("blur");s.target=s.currentTarget=n[0],t.close(s,!0)}),this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var i=this,n=e(t?t.target:this.element).closest(this.options.items);n.length&&!n.data("ui-tooltip-id")&&(n.attr("title")&&n.data("ui-tooltip-title",n.attr("title")),n.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&n.parents().each(function(){var t,n=e(this);n.data("ui-tooltip-open")&&(t=e.Event("blur"),t.target=t.currentTarget=this,i.close(t,!0)),n.attr("title")&&(n.uniqueId(),i.parents[this.id]={element:this,title:n.attr("title")},n.attr("title",""))}),this._updateContent(n,t))},_updateContent:function(e,t){var i,n=this.options.content,s=this,o=t?t.type:null;return"string"==typeof n?this._open(t,e,n):(i=n.call(e[0],function(i){e.data("ui-tooltip-open")&&s._delay(function(){t&&(t.type=o),this._open(t,e,i)})}),void(i&&this._open(t,e,i)))},_open:function(i,n,s){function o(e){c.of=e,r.is(":hidden")||r.position(c)}var r,a,l,c=e.extend({},this.options.position);if(s){if(r=this._find(n),r.length)return void r.find(".ui-tooltip-content").html(s);n.is("[title]")&&(i&&"mouseover"===i.type?n.attr("title",""):n.removeAttr("title")),r=this._tooltip(n),t(n,r.attr("id")),r.find(".ui-tooltip-content").html(s),this.options.track&&i&&/^mouse/.test(i.type)?(this._on(this.document,{mousemove:o}),o(i)):r.position(e.extend({of:n},this.options.position)),r.hide(),this._show(r,this.options.show),this.options.show&&this.options.show.delay&&(l=this.delayedShow=setInterval(function(){r.is(":visible")&&(o(c.of),clearInterval(l))},e.fx.interval)),this._trigger("open",i,{tooltip:r}),a={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var i=e.Event(t);i.currentTarget=n[0],this.close(i,!0)}},remove:function(){this._removeTooltip(r)}},i&&"mouseover"!==i.type||(a.mouseleave="close"),i&&"focusin"!==i.type||(a.focusout="close"),this._on(!0,n,a)}},close:function(t){var n=this,s=e(t?t.currentTarget:this.element),o=this._find(s);this.closing||(clearInterval(this.delayedShow),s.data("ui-tooltip-title")&&s.attr("title",s.data("ui-tooltip-title")),i(s),o.stop(!0),this._hide(o,this.options.hide,function(){n._removeTooltip(e(this))}),s.removeData("ui-tooltip-open"),this._off(s,"mouseleave focusout keyup"),s[0]!==this.element[0]&&this._off(s,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,function(t,i){e(i.element).attr("title",i.title),delete n.parents[t]}),this.closing=!0,this._trigger("close",t,{tooltip:o}),this.closing=!1)},_tooltip:function(t){var i="ui-tooltip-"+n++,s=e("<div>").attr({id:i,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return e("<div>").addClass("ui-tooltip-content").appendTo(s),s.appendTo(this.document[0].body),this.tooltips[i]=t,s},_find:function(t){var i=t.data("ui-tooltip-id");return i?e("#"+i):e()},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,function(i,n){var s=e.Event("blur");s.target=s.currentTarget=n[0],t.close(s,!0),e("#"+i).remove(),n.data("ui-tooltip-title")&&(n.attr("title",n.data("ui-tooltip-title")),n.removeData("ui-tooltip-title"))})}})}(t),t}),define("jquery.timepicker.original",["require","jquery.ui"],function(require){var jQuery=require("jquery.ui");return function($){if($.ui.timepicker=$.ui.timepicker||{},!$.ui.timepicker.version){$.extend($.ui,{timepicker:{version:"1.3"}});var Timepicker=function(){this.regional=[],this.regional[""]={currentText:"Now",closeText:"Done",amNames:["AM","A"],pmNames:["PM","P"],timeFormat:"HH:mm",timeSuffix:"",timeOnlyTitle:"Choose Time",timeText:"Time",hourText:"Hour",minuteText:"Minute",secondText:"Second",millisecText:"Millisecond",microsecText:"Microsecond",timezoneText:"Time Zone",isRTL:!1},this._defaults={showButtonPanel:!0,timeOnly:!1,showHour:null,showMinute:null,showSecond:null,showMillisec:null,showMicrosec:null,showTimezone:null,showTime:!0,stepHour:1,stepMinute:1,stepSecond:1,stepMillisec:1,stepMicrosec:1,hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null,hourMin:0,minuteMin:0,secondMin:0,millisecMin:0,microsecMin:0,hourMax:23,minuteMax:59,secondMax:59,millisecMax:999,microsecMax:999,minDateTime:null,maxDateTime:null,onSelect:null,hourGrid:0,minuteGrid:0,secondGrid:0,millisecGrid:0,microsecGrid:0,alwaysSetTime:!0,separator:" ",altFieldTimeOnly:!0,altTimeFormat:null,altSeparator:null,altTimeSuffix:null,pickerTimeFormat:null,pickerTimeSuffix:null,showTimepicker:!0,timezoneList:null,addSliderAccess:!1,sliderAccessArgs:null,controlType:"slider",defaultValue:null,parse:"strict"},$.extend(this._defaults,this.regional[""])};$.extend(Timepicker.prototype,{$input:null,$altInput:null,$timeObj:null,inst:null,hour_slider:null,minute_slider:null,second_slider:null,millisec_slider:null,microsec_slider:null,timezone_select:null,hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null,hourMinOriginal:null,minuteMinOriginal:null,secondMinOriginal:null,millisecMinOriginal:null,microsecMinOriginal:null,hourMaxOriginal:null,minuteMaxOriginal:null,secondMaxOriginal:null,millisecMaxOriginal:null,microsecMaxOriginal:null,ampm:"",formattedDate:"",formattedTime:"",formattedDateTime:"",timezoneList:null,units:["hour","minute","second","millisec","microsec"],support:{},control:null,setDefaults:function(e){return extendRemove(this._defaults,e||{}),this},_newInst:function($input,o){var tp_inst=new Timepicker,inlineSettings={},fns={},overrides,i;for(var attrName in this._defaults)if(this._defaults.hasOwnProperty(attrName)){var attrValue=$input.attr("time:"+attrName);if(attrValue)try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}overrides={beforeShow:function(e,t){return $.isFunction(tp_inst._defaults.evnts.beforeShow)?tp_inst._defaults.evnts.beforeShow.call($input[0],e,t,tp_inst):void 0},onChangeMonthYear:function(e,t,i){tp_inst._updateDateTime(i),$.isFunction(tp_inst._defaults.evnts.onChangeMonthYear)&&tp_inst._defaults.evnts.onChangeMonthYear.call($input[0],e,t,i,tp_inst)},onClose:function(e,t){tp_inst.timeDefined===!0&&""!==$input.val()&&tp_inst._updateDateTime(t),$.isFunction(tp_inst._defaults.evnts.onClose)&&tp_inst._defaults.evnts.onClose.call($input[0],e,t,tp_inst)}};for(i in overrides)overrides.hasOwnProperty(i)&&(fns[i]=o[i]||null);tp_inst._defaults=$.extend({},this._defaults,inlineSettings,o,overrides,{evnts:fns,timepicker:tp_inst}),tp_inst.amNames=$.map(tp_inst._defaults.amNames,function(e){return e.toUpperCase()}),tp_inst.pmNames=$.map(tp_inst._defaults.pmNames,function(e){return e.toUpperCase()}),tp_inst.support=detectSupport(tp_inst._defaults.timeFormat+(tp_inst._defaults.pickerTimeFormat?tp_inst._defaults.pickerTimeFormat:"")+(tp_inst._defaults.altTimeFormat?tp_inst._defaults.altTimeFormat:"")),"string"==typeof tp_inst._defaults.controlType?("slider"==tp_inst._defaults.controlType&&"undefined"==typeof $.ui.slider&&(tp_inst._defaults.controlType="select"),tp_inst.control=tp_inst._controls[tp_inst._defaults.controlType]):tp_inst.control=tp_inst._defaults.controlType;var timezoneList=[-720,-660,-600,-570,-540,-480,-420,-360,-300,-270,-240,-210,-180,-120,-60,0,60,120,180,210,240,270,300,330,345,360,390,420,480,525,540,570,600,630,660,690,720,765,780,840];null!==tp_inst._defaults.timezoneList&&(timezoneList=tp_inst._defaults.timezoneList);var tzl=timezoneList.length,tzi=0,tzv=null;if(tzl>0&&"object"!=typeof timezoneList[0])for(;tzl>tzi;tzi++)tzv=timezoneList[tzi],timezoneList[tzi]={value:tzv,label:$.timepicker.timezoneOffsetString(tzv,tp_inst.support.iso8601)};return tp_inst._defaults.timezoneList=timezoneList,tp_inst.timezone=null!==tp_inst._defaults.timezone?$.timepicker.timezoneOffsetNumber(tp_inst._defaults.timezone):-1*(new Date).getTimezoneOffset(),tp_inst.hour=tp_inst._defaults.hour<tp_inst._defaults.hourMin?tp_inst._defaults.hourMin:tp_inst._defaults.hour>tp_inst._defaults.hourMax?tp_inst._defaults.hourMax:tp_inst._defaults.hour,tp_inst.minute=tp_inst._defaults.minute<tp_inst._defaults.minuteMin?tp_inst._defaults.minuteMin:tp_inst._defaults.minute>tp_inst._defaults.minuteMax?tp_inst._defaults.minuteMax:tp_inst._defaults.minute,tp_inst.second=tp_inst._defaults.second<tp_inst._defaults.secondMin?tp_inst._defaults.secondMin:tp_inst._defaults.second>tp_inst._defaults.secondMax?tp_inst._defaults.secondMax:tp_inst._defaults.second,tp_inst.millisec=tp_inst._defaults.millisec<tp_inst._defaults.millisecMin?tp_inst._defaults.millisecMin:tp_inst._defaults.millisec>tp_inst._defaults.millisecMax?tp_inst._defaults.millisecMax:tp_inst._defaults.millisec,tp_inst.microsec=tp_inst._defaults.microsec<tp_inst._defaults.microsecMin?tp_inst._defaults.microsecMin:tp_inst._defaults.microsec>tp_inst._defaults.microsecMax?tp_inst._defaults.microsecMax:tp_inst._defaults.microsec,tp_inst.ampm="",tp_inst.$input=$input,o.altField&&(tp_inst.$altInput=$(o.altField).css({cursor:"pointer"}).focus(function(){$input.trigger("focus")})),(0===tp_inst._defaults.minDate||0===tp_inst._defaults.minDateTime)&&(tp_inst._defaults.minDate=new Date),(0===tp_inst._defaults.maxDate||0===tp_inst._defaults.maxDateTime)&&(tp_inst._defaults.maxDate=new Date),void 0!==tp_inst._defaults.minDate&&tp_inst._defaults.minDate instanceof Date&&(tp_inst._defaults.minDateTime=new Date(tp_inst._defaults.minDate.getTime())),void 0!==tp_inst._defaults.minDateTime&&tp_inst._defaults.minDateTime instanceof Date&&(tp_inst._defaults.minDate=new Date(tp_inst._defaults.minDateTime.getTime())),void 0!==tp_inst._defaults.maxDate&&tp_inst._defaults.maxDate instanceof Date&&(tp_inst._defaults.maxDateTime=new Date(tp_inst._defaults.maxDate.getTime())),void 0!==tp_inst._defaults.maxDateTime&&tp_inst._defaults.maxDateTime instanceof Date&&(tp_inst._defaults.maxDate=new Date(tp_inst._defaults.maxDateTime.getTime())),tp_inst.$input.bind("focus",function(){tp_inst._onFocus()}),tp_inst},_addTimePicker:function(e){var t=this.$altInput&&this._defaults.altFieldTimeOnly?this.$input.val()+" "+this.$altInput.val():this.$input.val();this.timeDefined=this._parseTime(t),this._limitMinMaxDateTime(e,!1),this._injectTimePicker()},_parseTime:function(e,t){if(this.inst||(this.inst=$.datepicker._getInst(this.$input[0])),t||!this._defaults.timeOnly){var i=$.datepicker._get(this.inst,"dateFormat");try{var n=parseDateTimeInternal(i,this._defaults.timeFormat,e,$.datepicker._getFormatConfig(this.inst),this._defaults);if(!n.timeObj)return!1;$.extend(this,n.timeObj)}catch(s){return $.timepicker.log("Error parsing the date/time string: "+s+"\ndate/time string = "+e+"\ntimeFormat = "+this._defaults.timeFormat+"\ndateFormat = "+i),!1}return!0}var o=$.datepicker.parseTime(this._defaults.timeFormat,e,this._defaults);return o?($.extend(this,o),!0):!1},_injectTimePicker:function(){var e=this.inst.dpDiv,t=this.inst.settings,i=this,n="",s="",o=null,r={},a={},l=null,c=0,u=0;if(0===e.find("div.ui-timepicker-div").length&&t.showTimepicker){var d=' style="display:none;"',h='<div class="ui-timepicker-div'+(t.isRTL?" ui-timepicker-rtl":"")+'"><dl><dt class="ui_tpicker_time_label"'+(t.showTime?"":d)+">"+t.timeText+'</dt><dd class="ui_tpicker_time"'+(t.showTime?"":d)+"></dd>";for(c=0,u=this.units.length;u>c;c++){if(n=this.units[c],s=n.substr(0,1).toUpperCase()+n.substr(1),o=null!==t["show"+s]?t["show"+s]:this.support[n],r[n]=parseInt(t[n+"Max"]-(t[n+"Max"]-t[n+"Min"])%t["step"+s],10),a[n]=0,h+='<dt class="ui_tpicker_'+n+'_label"'+(o?"":d)+">"+t[n+"Text"]+'</dt><dd class="ui_tpicker_'+n+'"><div class="ui_tpicker_'+n+'_slider"'+(o?"":d)+"></div>",o&&t[n+"Grid"]>0){if(h+='<div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>',"hour"==n)for(var p=t[n+"Min"];p<=r[n];p+=parseInt(t[n+"Grid"],10)){a[n]++;var f=$.datepicker.formatTime(this.support.ampm?"hht":"HH",{hour:p},t);h+='<td data-for="'+n+'">'+f+"</td>"}else for(var m=t[n+"Min"];m<=r[n];m+=parseInt(t[n+"Grid"],10))a[n]++,h+='<td data-for="'+n+'">'+(10>m?"0":"")+m+"</td>";h+="</tr></table></div>"}h+="</dd>"}var g=null!==t.showTimezone?t.showTimezone:this.support.timezone;h+='<dt class="ui_tpicker_timezone_label"'+(g?"":d)+">"+t.timezoneText+"</dt>",h+='<dd class="ui_tpicker_timezone" '+(g?"":d)+"></dd>",h+="</dl></div>";var v=$(h);for(t.timeOnly===!0&&(v.prepend('<div class="ui-widget-header ui-helper-clearfix ui-corner-all"><div class="ui-datepicker-title">'+t.timeOnlyTitle+"</div></div>"),e.find(".ui-datepicker-header, .ui-datepicker-calendar").hide()),c=0,u=i.units.length;u>c;c++)n=i.units[c],s=n.substr(0,1).toUpperCase()+n.substr(1),o=null!==t["show"+s]?t["show"+s]:this.support[n],i[n+"_slider"]=i.control.create(i,v.find(".ui_tpicker_"+n+"_slider"),n,i[n],t[n+"Min"],r[n],t["step"+s]),o&&t[n+"Grid"]>0&&(l=100*a[n]*t[n+"Grid"]/(r[n]-t[n+"Min"]),v.find(".ui_tpicker_"+n+" table").css({width:l+"%",marginLeft:t.isRTL?"0":l/(-2*a[n])+"%",marginRight:t.isRTL?l/(-2*a[n])+"%":"0",borderCollapse:"collapse"}).find("td").click(function(e){var t=$(this),s=t.html(),o=parseInt(s.replace(/[^0-9]/g),10),r=s.replace(/[^apm]/gi),a=t.data("for");"hour"==a&&(-1!==r.indexOf("p")&&12>o?o+=12:-1!==r.indexOf("a")&&12===o&&(o=0)),i.control.value(i,i[a+"_slider"],n,o),i._onTimeChange(),i._onSelectHandler()}).css({cursor:"pointer",width:100/a[n]+"%",textAlign:"center",overflow:"hidden"}));if(this.timezone_select=v.find(".ui_tpicker_timezone").append("<select></select>").find("select"),$.fn.append.apply(this.timezone_select,$.map(t.timezoneList,function(e,t){return $("<option />").val("object"==typeof e?e.value:e).text("object"==typeof e?e.label:e)})),"undefined"!=typeof this.timezone&&null!==this.timezone&&""!==this.timezone){var _=-1*new Date(this.inst.selectedYear,this.inst.selectedMonth,this.inst.selectedDay,12).getTimezoneOffset();_==this.timezone?selectLocalTimezone(i):this.timezone_select.val(this.timezone)}else"undefined"!=typeof this.hour&&null!==this.hour&&""!==this.hour?this.timezone_select.val(t.timezone):selectLocalTimezone(i);this.timezone_select.change(function(){i._onTimeChange(),i._onSelectHandler()});var b=e.find(".ui-datepicker-buttonpane");if(b.length?b.before(v):e.append(v),this.$timeObj=v.find(".ui_tpicker_time"),null!==this.inst){var y=this.timeDefined;this._onTimeChange(),this.timeDefined=y}if(this._defaults.addSliderAccess){var T=this._defaults.sliderAccessArgs,w=this._defaults.isRTL;T.isRTL=w,setTimeout(function(){if(0===v.find(".ui-slider-access").length){v.find(".ui-slider:visible").sliderAccess(T);var e=v.find(".ui-slider-access:eq(0)").outerWidth(!0);e&&v.find("table:visible").each(function(){var t=$(this),i=t.outerWidth(),n=t.css(w?"marginRight":"marginLeft").toString().replace("%",""),s=i-e,o=n*s/i+"%",r={width:s,marginRight:0,marginLeft:0};r[w?"marginRight":"marginLeft"]=o,t.css(r)})}},10)}}},_limitMinMaxDateTime:function(e,t){var i=this._defaults,n=new Date(e.selectedYear,e.selectedMonth,e.selectedDay);if(this._defaults.showTimepicker){if(null!==$.datepicker._get(e,"minDateTime")&&void 0!==$.datepicker._get(e,"minDateTime")&&n){var s=$.datepicker._get(e,"minDateTime"),o=new Date(s.getFullYear(),s.getMonth(),s.getDate(),0,0,0,0);(null===this.hourMinOriginal||null===this.minuteMinOriginal||null===this.secondMinOriginal||null===this.millisecMinOriginal||null===this.microsecMinOriginal)&&(this.hourMinOriginal=i.hourMin,this.minuteMinOriginal=i.minuteMin,this.secondMinOriginal=i.secondMin,this.millisecMinOriginal=i.millisecMin,this.microsecMinOriginal=i.microsecMin),e.settings.timeOnly||o.getTime()==n.getTime()?(this._defaults.hourMin=s.getHours(),this.hour<=this._defaults.hourMin?(this.hour=this._defaults.hourMin,this._defaults.minuteMin=s.getMinutes(),this.minute<=this._defaults.minuteMin?(this.minute=this._defaults.minuteMin,this._defaults.secondMin=s.getSeconds(),this.second<=this._defaults.secondMin?(this.second=this._defaults.secondMin,this._defaults.millisecMin=s.getMilliseconds(),this.millisec<=this._defaults.millisecMin?(this.millisec=this._defaults.millisecMin,this._defaults.microsecMin=s.getMicroseconds()):(this.microsec<this._defaults.microsecMin&&(this.microsec=this._defaults.microsecMin),this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.hourMin=this.hourMinOriginal,this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)}if(null!==$.datepicker._get(e,"maxDateTime")&&void 0!==$.datepicker._get(e,"maxDateTime")&&n){var r=$.datepicker._get(e,"maxDateTime"),a=new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0,0);(null===this.hourMaxOriginal||null===this.minuteMaxOriginal||null===this.secondMaxOriginal||null===this.millisecMaxOriginal)&&(this.hourMaxOriginal=i.hourMax,this.minuteMaxOriginal=i.minuteMax,this.secondMaxOriginal=i.secondMax,this.millisecMaxOriginal=i.millisecMax,this.microsecMaxOriginal=i.microsecMax),e.settings.timeOnly||a.getTime()==n.getTime()?(this._defaults.hourMax=r.getHours(),this.hour>=this._defaults.hourMax?(this.hour=this._defaults.hourMax,this._defaults.minuteMax=r.getMinutes(),this.minute>=this._defaults.minuteMax?(this.minute=this._defaults.minuteMax,this._defaults.secondMax=r.getSeconds(),this.second>=this._defaults.secondMax?(this.second=this._defaults.secondMax,this._defaults.millisecMax=r.getMilliseconds(),this.millisec>=this._defaults.millisecMax?(this.millisec=this._defaults.millisecMax,this._defaults.microsecMax=r.getMicroseconds()):(this.microsec>this._defaults.microsecMax&&(this.microsec=this._defaults.microsecMax),this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.hourMax=this.hourMaxOriginal,this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)}if(void 0!==t&&t===!0){var l=parseInt(this._defaults.hourMax-(this._defaults.hourMax-this._defaults.hourMin)%this._defaults.stepHour,10),c=parseInt(this._defaults.minuteMax-(this._defaults.minuteMax-this._defaults.minuteMin)%this._defaults.stepMinute,10),u=parseInt(this._defaults.secondMax-(this._defaults.secondMax-this._defaults.secondMin)%this._defaults.stepSecond,10),d=parseInt(this._defaults.millisecMax-(this._defaults.millisecMax-this._defaults.millisecMin)%this._defaults.stepMillisec,10);microsecMax=parseInt(this._defaults.microsecMax-(this._defaults.microsecMax-this._defaults.microsecMin)%this._defaults.stepMicrosec,10),this.hour_slider&&(this.control.options(this,this.hour_slider,"hour",{min:this._defaults.hourMin,max:l}),this.control.value(this,this.hour_slider,"hour",this.hour-this.hour%this._defaults.stepHour)),this.minute_slider&&(this.control.options(this,this.minute_slider,"minute",{min:this._defaults.minuteMin,max:c}),this.control.value(this,this.minute_slider,"minute",this.minute-this.minute%this._defaults.stepMinute)),this.second_slider&&(this.control.options(this,this.second_slider,"second",{min:this._defaults.secondMin,max:u}),this.control.value(this,this.second_slider,"second",this.second-this.second%this._defaults.stepSecond)),this.millisec_slider&&(this.control.options(this,this.millisec_slider,"millisec",{min:this._defaults.millisecMin,max:d}),this.control.value(this,this.millisec_slider,"millisec",this.millisec-this.millisec%this._defaults.stepMillisec)),this.microsec_slider&&(this.control.options(this,this.microsec_slider,"microsec",{min:this._defaults.microsecMin,max:microsecMax}),this.control.value(this,this.microsec_slider,"microsec",this.microsec-this.microsec%this._defaults.stepMicrosec))}}},_onTimeChange:function(){var e=this.hour_slider?this.control.value(this,this.hour_slider,"hour"):!1,t=this.minute_slider?this.control.value(this,this.minute_slider,"minute"):!1,i=this.second_slider?this.control.value(this,this.second_slider,"second"):!1,n=this.millisec_slider?this.control.value(this,this.millisec_slider,"millisec"):!1,s=this.microsec_slider?this.control.value(this,this.microsec_slider,"microsec"):!1,o=this.timezone_select?this.timezone_select.val():!1,r=this._defaults,a=r.pickerTimeFormat||r.timeFormat,l=r.pickerTimeSuffix||r.timeSuffix;"object"==typeof e&&(e=!1),"object"==typeof t&&(t=!1),"object"==typeof i&&(i=!1),"object"==typeof n&&(n=!1),"object"==typeof s&&(s=!1),"object"==typeof o&&(o=!1),e!==!1&&(e=parseInt(e,10)),t!==!1&&(t=parseInt(t,10)),i!==!1&&(i=parseInt(i,10)),n!==!1&&(n=parseInt(n,10)),
s!==!1&&(s=parseInt(s,10));var c=r[12>e?"amNames":"pmNames"][0],u=e!=this.hour||t!=this.minute||i!=this.second||n!=this.millisec||s!=this.microsec||this.ampm.length>0&&12>e!=(-1!==$.inArray(this.ampm.toUpperCase(),this.amNames))||null!==this.timezone&&o!=this.timezone;u&&(e!==!1&&(this.hour=e),t!==!1&&(this.minute=t),i!==!1&&(this.second=i),n!==!1&&(this.millisec=n),s!==!1&&(this.microsec=s),o!==!1&&(this.timezone=o),this.inst||(this.inst=$.datepicker._getInst(this.$input[0])),this._limitMinMaxDateTime(this.inst,!0)),this.support.ampm&&(this.ampm=c),this.formattedTime=$.datepicker.formatTime(r.timeFormat,this,r),this.$timeObj&&(a===r.timeFormat?this.$timeObj.text(this.formattedTime+l):this.$timeObj.text($.datepicker.formatTime(a,this,r)+l)),this.timeDefined=!0,u&&this._updateDateTime()},_onSelectHandler:function(){var e=this._defaults.onSelect||this.inst.settings.onSelect,t=this.$input?this.$input[0]:null;e&&t&&e.apply(t,[this.formattedDateTime,this])},_updateDateTime:function(e){e=this.inst||e;var t=$.datepicker._daylightSavingAdjust(new Date(e.selectedYear,e.selectedMonth,e.selectedDay)),i=$.datepicker._get(e,"dateFormat"),n=$.datepicker._getFormatConfig(e),s=null!==t&&this.timeDefined;this.formattedDate=$.datepicker.formatDate(i,null===t?new Date:t,n);var o=this.formattedDate;if(""===e.lastVal&&(e.currentYear=e.selectedYear,e.currentMonth=e.selectedMonth,e.currentDay=e.selectedDay),this._defaults.timeOnly===!0?o=this.formattedTime:this._defaults.timeOnly!==!0&&(this._defaults.alwaysSetTime||s)&&(o+=this._defaults.separator+this.formattedTime+this._defaults.timeSuffix),this.formattedDateTime=o,this._defaults.showTimepicker)if(this.$altInput&&this._defaults.timeOnly===!1&&this._defaults.altFieldTimeOnly===!0)this.$altInput.val(this.formattedTime),this.$input.val(this.formattedDate);else if(this.$altInput){this.$input.val(o);var r="",a=this._defaults.altSeparator?this._defaults.altSeparator:this._defaults.separator,l=this._defaults.altTimeSuffix?this._defaults.altTimeSuffix:this._defaults.timeSuffix;this._defaults.timeOnly||(r=this._defaults.altFormat?$.datepicker.formatDate(this._defaults.altFormat,null===t?new Date:t,n):this.formattedDate,r&&(r+=a)),r+=this._defaults.altTimeFormat?$.datepicker.formatTime(this._defaults.altTimeFormat,this,this._defaults)+l:this.formattedTime+l,this.$altInput.val(r)}else this.$input.val(o);else this.$input.val(this.formattedDate);var c=$.datepicker._get(e,"onUpdateDateTime");c&&""!==this.formattedTime&&c.apply(window,[{time:this.formattedTime,date:this.formattedDate,datetime:o}]),this.$input.trigger("change")},_onFocus:function(){if(!this.$input.val()&&this._defaults.defaultValue){this.$input.val(this._defaults.defaultValue);var e=$.datepicker._getInst(this.$input.get(0)),t=$.datepicker._get(e,"timepicker");if(t&&t._defaults.timeOnly&&e.input.val()!=e.lastVal)try{$.datepicker._updateDatepicker(e)}catch(i){$.timepicker.log(i)}}},_controls:{slider:{create:function(e,t,i,n,s,o,r){var a=e._defaults.isRTL;return t.prop("slide",null).slider({orientation:"horizontal",value:a?-1*n:n,min:a?-1*o:s,max:a?-1*s:o,step:r,slide:function(t,n){e.control.value(e,$(this),i,a?-1*n.value:n.value),e._onTimeChange()},stop:function(t,i){e._onSelectHandler()}})},options:function(e,t,i,n,s){if(e._defaults.isRTL){if("string"==typeof n)return"min"==n||"max"==n?void 0!==s?t.slider(n,-1*s):Math.abs(t.slider(n)):t.slider(n);var o=n.min,r=n.max;return n.min=n.max=null,void 0!==o&&(n.max=-1*o),void 0!==r&&(n.min=-1*r),t.slider(n)}return"string"==typeof n&&void 0!==s?t.slider(n,s):t.slider(n)},value:function(e,t,i,n){return e._defaults.isRTL?void 0!==n?t.slider("value",-1*n):Math.abs(t.slider("value")):void 0!==n?t.slider("value",n):t.slider("value")}},select:{create:function(e,t,i,n,s,o,r){for(var a='<select class="ui-timepicker-select" data-unit="'+i+'" data-min="'+s+'" data-max="'+o+'" data-step="'+r+'">',l=e._defaults.pickerTimeFormat||e._defaults.timeFormat,c=s;o>=c;c+=r)a+='<option value="'+c+'"'+(c==n?" selected":"")+">",a+="hour"==i?$.datepicker.formatTime($.trim(l.replace(/[^ht ]/gi,"")),{hour:c},e._defaults):"millisec"==i||"microsec"==i||c>=10?c:"0"+c.toString(),a+="</option>";return a+="</select>",t.children("select").remove(),$(a).appendTo(t).change(function(t){e._onTimeChange(),e._onSelectHandler()}),t},options:function(e,t,i,n,s){var o={},r=t.children("select");if("string"==typeof n){if(void 0===s)return r.data(n);o[n]=s}else o=n;return e.control.create(e,t,r.data("unit"),r.val(),o.min||r.data("min"),o.max||r.data("max"),o.step||r.data("step"))},value:function(e,t,i,n){var s=t.children("select");return void 0!==n?s.val(n):s.val()}}}}),$.fn.extend({timepicker:function(e){e=e||{};var t=Array.prototype.slice.call(arguments);return"object"==typeof e&&(t[0]=$.extend(e,{timeOnly:!0})),$(this).each(function(){$.fn.datetimepicker.apply($(this),t)})},datetimepicker:function(e){e=e||{};var t=arguments;return"string"==typeof e?"getDate"==e?$.fn.datepicker.apply($(this[0]),t):this.each(function(){var e=$(this);e.datepicker.apply(e,t)}):this.each(function(){var t=$(this);t.datepicker($.timepicker._newInst(t,e)._defaults)})}}),$.datepicker.parseDateTime=function(e,t,i,n,s){var o=parseDateTimeInternal(e,t,i,n,s);if(o.timeObj){var r=o.timeObj;o.date.setHours(r.hour,r.minute,r.second,r.millisec),o.date.setMicroseconds(r.microsec)}return o.date},$.datepicker.parseTime=function(e,t,i){var n=extendRemove(extendRemove({},$.timepicker._defaults),i||{}),s=(-1!==e.replace(/\'.*?\'/g,"").indexOf("Z"),function(e,t,i){var n,s=function(e,t){var i=[];return e&&$.merge(i,e),t&&$.merge(i,t),i=$.map(i,function(e){return e.replace(/[.*+?|()\[\]{}\\]/g,"\\$&")}),"("+i.join("|")+")?"},o=function(e){var t=e.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|c{1}|t{1,2}|z|'.*?')/g),i={h:-1,m:-1,s:-1,l:-1,c:-1,t:-1,z:-1};if(t)for(var n=0;n<t.length;n++)-1==i[t[n].toString().charAt(0)]&&(i[t[n].toString().charAt(0)]=n+1);return i},r="^"+e.toString().replace(/([hH]{1,2}|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g,function(e){var t=e.length;switch(e.charAt(0).toLowerCase()){case"h":return 1===t?"(\\d?\\d)":"(\\d{"+t+"})";case"m":return 1===t?"(\\d?\\d)":"(\\d{"+t+"})";case"s":return 1===t?"(\\d?\\d)":"(\\d{"+t+"})";case"l":return"(\\d?\\d?\\d)";case"c":return"(\\d?\\d?\\d)";case"z":return"(z|[-+]\\d\\d:?\\d\\d|\\S+)?";case"t":return s(i.amNames,i.pmNames);default:return"("+e.replace(/\'/g,"").replace(/(\.|\$|\^|\\|\/|\(|\)|\[|\]|\?|\+|\*)/g,function(e){return"\\"+e})+")?"}}).replace(/\s/g,"\\s?")+i.timeSuffix+"$",a=o(e),l="";n=t.match(new RegExp(r,"i"));var c={hour:0,minute:0,second:0,millisec:0,microsec:0};return n?(-1!==a.t&&(void 0===n[a.t]||0===n[a.t].length?(l="",c.ampm=""):(l=-1!==$.inArray(n[a.t].toUpperCase(),i.amNames)?"AM":"PM",c.ampm=i["AM"==l?"amNames":"pmNames"][0])),-1!==a.h&&("AM"==l&&"12"==n[a.h]?c.hour=0:"PM"==l&&"12"!=n[a.h]?c.hour=parseInt(n[a.h],10)+12:c.hour=Number(n[a.h])),-1!==a.m&&(c.minute=Number(n[a.m])),-1!==a.s&&(c.second=Number(n[a.s])),-1!==a.l&&(c.millisec=Number(n[a.l])),-1!==a.c&&(c.microsec=Number(n[a.c])),-1!==a.z&&void 0!==n[a.z]&&(c.timezone=$.timepicker.timezoneOffsetNumber(n[a.z])),c):!1}),o=function(e,t,i){try{var n=new Date("2012-01-01 "+t);if(isNaN(n.getTime())&&(n=new Date("2012-01-01T"+t),isNaN(n.getTime())&&(n=new Date("01/01/2012 "+t),isNaN(n.getTime()))))throw"Unable to parse time with native Date: "+t;return{hour:n.getHours(),minute:n.getMinutes(),second:n.getSeconds(),millisec:n.getMilliseconds(),microsec:n.getMicroseconds(),timezone:-1*n.getTimezoneOffset()}}catch(o){try{return s(e,t,i)}catch(r){$.timepicker.log("Unable to parse \ntimeString: "+t+"\ntimeFormat: "+e)}}return!1};return"function"==typeof n.parse?n.parse(e,t,n):"loose"===n.parse?o(e,t,n):s(e,t,n)},$.datepicker.formatTime=function(e,t,i){i=i||{},i=$.extend({},$.timepicker._defaults,i),t=$.extend({hour:0,minute:0,second:0,millisec:0,timezone:0},t);var n=e,s=i.amNames[0],o=parseInt(t.hour,10);return o>11&&(s=i.pmNames[0]),n=n.replace(/(?:HH?|hh?|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|('.*?'|".*?"))/g,function(e){switch(e){case"HH":return("0"+o).slice(-2);case"H":return o;case"hh":return("0"+convert24to12(o)).slice(-2);case"h":return convert24to12(o);case"mm":return("0"+t.minute).slice(-2);case"m":return t.minute;case"ss":return("0"+t.second).slice(-2);case"s":return t.second;case"l":return("00"+t.millisec).slice(-3);case"c":return("00"+t.microsec).slice(-3);case"z":return $.timepicker.timezoneOffsetString(null===t.timezone?i.timezone:t.timezone,!1);case"Z":return $.timepicker.timezoneOffsetString(null===t.timezone?i.timezone:t.timezone,!0);case"T":return s.charAt(0).toUpperCase();case"TT":return s.toUpperCase();case"t":return s.charAt(0).toLowerCase();case"tt":return s.toLowerCase();default:return e.replace(/\'/g,"")||"'"}}),n=$.trim(n)},$.datepicker._base_selectDate=$.datepicker._selectDate,$.datepicker._selectDate=function(e,t){var i=this._getInst($(e)[0]),n=this._get(i,"timepicker");n?(n._limitMinMaxDateTime(i,!0),i.inline=i.stay_open=!0,this._base_selectDate(e,t),i.inline=i.stay_open=!1,this._notifyChange(i),this._updateDatepicker(i)):this._base_selectDate(e,t)},$.datepicker._base_updateDatepicker=$.datepicker._updateDatepicker,$.datepicker._updateDatepicker=function(e){var t=e.input[0];if(!($.datepicker._curInst&&$.datepicker._curInst!=e&&$.datepicker._datepickerShowing&&$.datepicker._lastInput!=t||"boolean"==typeof e.stay_open&&e.stay_open!==!1)){this._base_updateDatepicker(e);var i=this._get(e,"timepicker");i&&i._addTimePicker(e)}},$.datepicker._base_doKeyPress=$.datepicker._doKeyPress,$.datepicker._doKeyPress=function(e){var t=$.datepicker._getInst(e.target),i=$.datepicker._get(t,"timepicker");if(i&&$.datepicker._get(t,"constrainInput")){var n=i.support.ampm,s=null!==i._defaults.showTimezone?i._defaults.showTimezone:i.support.timezone,o=$.datepicker._possibleChars($.datepicker._get(t,"dateFormat")),r=i._defaults.timeFormat.toString().replace(/[hms]/g,"").replace(/TT/g,n?"APM":"").replace(/Tt/g,n?"AaPpMm":"").replace(/tT/g,n?"AaPpMm":"").replace(/T/g,n?"AP":"").replace(/tt/g,n?"apm":"").replace(/t/g,n?"ap":"")+" "+i._defaults.separator+i._defaults.timeSuffix+(s?i._defaults.timezoneList.join(""):"")+i._defaults.amNames.join("")+i._defaults.pmNames.join("")+o,a=String.fromCharCode(void 0===e.charCode?e.keyCode:e.charCode);return e.ctrlKey||" ">a||!o||r.indexOf(a)>-1}return $.datepicker._base_doKeyPress(e)},$.datepicker._base_updateAlternate=$.datepicker._updateAlternate,$.datepicker._updateAlternate=function(e){var t=this._get(e,"timepicker");if(t){var i=t._defaults.altField;if(i){var n=(t._defaults.altFormat||t._defaults.dateFormat,this._getDate(e)),s=$.datepicker._getFormatConfig(e),o="",r=t._defaults.altSeparator?t._defaults.altSeparator:t._defaults.separator,a=t._defaults.altTimeSuffix?t._defaults.altTimeSuffix:t._defaults.timeSuffix,l=null!==t._defaults.altTimeFormat?t._defaults.altTimeFormat:t._defaults.timeFormat;o+=$.datepicker.formatTime(l,t,t._defaults)+a,t._defaults.timeOnly||t._defaults.altFieldTimeOnly||null===n||(o=t._defaults.altFormat?$.datepicker.formatDate(t._defaults.altFormat,n,s)+r+o:t.formattedDate+r+o),$(i).val(o)}}else $.datepicker._base_updateAlternate(e)},$.datepicker._base_doKeyUp=$.datepicker._doKeyUp,$.datepicker._doKeyUp=function(e){var t=$.datepicker._getInst(e.target),i=$.datepicker._get(t,"timepicker");if(i&&i._defaults.timeOnly&&t.input.val()!=t.lastVal)try{$.datepicker._updateDatepicker(t)}catch(n){$.timepicker.log(n)}return $.datepicker._base_doKeyUp(e)},$.datepicker._base_gotoToday=$.datepicker._gotoToday,$.datepicker._gotoToday=function(e){var t=this._getInst($(e)[0]),i=t.dpDiv;this._base_gotoToday(e);var n=this._get(t,"timepicker");selectLocalTimezone(n);var s=new Date;this._setTime(t,s),$(".ui-datepicker-today",i).click()},$.datepicker._disableTimepickerDatepicker=function(e){var t=this._getInst(e);if(t){var i=this._get(t,"timepicker");$(e).datepicker("getDate"),i&&(i._defaults.showTimepicker=!1,i._updateDateTime(t))}},$.datepicker._enableTimepickerDatepicker=function(e){var t=this._getInst(e);if(t){var i=this._get(t,"timepicker");$(e).datepicker("getDate"),i&&(i._defaults.showTimepicker=!0,i._addTimePicker(t),i._updateDateTime(t))}},$.datepicker._setTime=function(e,t){var i=this._get(e,"timepicker");if(i){var n=i._defaults;i.hour=t?t.getHours():n.hour,i.minute=t?t.getMinutes():n.minute,i.second=t?t.getSeconds():n.second,i.millisec=t?t.getMilliseconds():n.millisec,i.microsec=t?t.getMicroseconds():n.microsec,i._limitMinMaxDateTime(e,!0),i._onTimeChange(),i._updateDateTime(e)}},$.datepicker._setTimeDatepicker=function(e,t,i){var n=this._getInst(e);if(n){var s=this._get(n,"timepicker");if(s){this._setDateFromField(n);var o;t&&("string"==typeof t?(s._parseTime(t,i),o=new Date,o.setHours(s.hour,s.minute,s.second,s.millisec),o.setMicroseconds(s.microsec)):o=new Date(t.getTime()),"Invalid Date"==o.toString()&&(o=void 0),this._setTime(n,o))}}},$.datepicker._base_setDateDatepicker=$.datepicker._setDateDatepicker,$.datepicker._setDateDatepicker=function(e,t){var i=this._getInst(e);if(i){var n=this._get(i,"timepicker"),s=t instanceof Date?new Date(t.getTime()):t;n&&null!=n.timezone&&(t=$.timepicker.timezoneAdjust(t,n.timezone),s=$.timepicker.timezoneAdjust(s,n.timezone)),this._updateDatepicker(i),this._base_setDateDatepicker.apply(this,arguments),this._setTimeDatepicker(e,s,!0)}},$.datepicker._base_getDateDatepicker=$.datepicker._getDateDatepicker,$.datepicker._getDateDatepicker=function(e,t){var i=this._getInst(e);if(i){var n=this._get(i,"timepicker");if(n){void 0===i.lastVal&&this._setDateFromField(i,t);var s=this._getDate(i);return s&&n._parseTime($(e).val(),n.timeOnly)&&(s.setHours(n.hour,n.minute,n.second,n.millisec),s.setMicroseconds(n.microsec),null!=n.timezone&&(s=$.timepicker.timezoneAdjust(s,n.timezone))),s}return this._base_getDateDatepicker(e,t)}},$.datepicker._base_parseDate=$.datepicker.parseDate,$.datepicker.parseDate=function(e,t,i){var n;try{n=this._base_parseDate(e,t,i)}catch(s){if(!(s.indexOf(":")>=0))throw s;n=this._base_parseDate(e,t.substring(0,t.length-(s.length-s.indexOf(":")-2)),i)}return n},$.datepicker._base_formatDate=$.datepicker._formatDate,$.datepicker._formatDate=function(e,t,i,n){var s=this._get(e,"timepicker");return s?(s._updateDateTime(e),s.$input.val()):this._base_formatDate(e)},$.datepicker._base_optionDatepicker=$.datepicker._optionDatepicker,$.datepicker._optionDatepicker=function(e,t,i){var n,s=this._getInst(e);if(!s)return null;var o=this._get(s,"timepicker");if(o){var r,a=null,l=null,c=null,u=o._defaults.evnts,d={};if("string"==typeof t){if("minDate"===t||"minDateTime"===t)a=i;else if("maxDate"===t||"maxDateTime"===t)l=i;else if("onSelect"===t)c=i;else if(u.hasOwnProperty(t)){if("undefined"==typeof i)return u[t];d[t]=i,n={}}}else if("object"==typeof t){t.minDate?a=t.minDate:t.minDateTime?a=t.minDateTime:t.maxDate?l=t.maxDate:t.maxDateTime&&(l=t.maxDateTime);for(r in u)u.hasOwnProperty(r)&&t[r]&&(d[r]=t[r])}for(r in d)d.hasOwnProperty(r)&&(u[r]=d[r],n||(n=$.extend({},t)),delete n[r]);if(n&&isEmptyObject(n))return;a?(a=0===a?new Date:new Date(a),o._defaults.minDate=a,o._defaults.minDateTime=a):l?(l=0===l?new Date:new Date(l),o._defaults.maxDate=l,o._defaults.maxDateTime=l):c&&(o._defaults.onSelect=c)}return void 0===i?this._base_optionDatepicker.call($.datepicker,e,t):this._base_optionDatepicker.call($.datepicker,e,n||t,i)};var isEmptyObject=function(e){var t;for(t in e)if(e.hasOwnProperty(e))return!1;return!0},extendRemove=function(e,t){$.extend(e,t);for(var i in t)(null===t[i]||void 0===t[i])&&(e[i]=t[i]);return e},detectSupport=function(e){var t=e.replace(/\'.*?\'/g,"").toLowerCase(),i=function(e,t){return-1!==e.indexOf(t)?!0:!1};return{hour:i(t,"h"),minute:i(t,"m"),second:i(t,"s"),millisec:i(t,"l"),microsec:i(t,"c"),timezone:i(t,"z"),ampm:i("t")&&i(e,"h"),iso8601:i(e,"Z")}},convert24to12=function(e){return e>12&&(e-=12),0===e&&(e=12),String(e)},splitDateTime=function(e,t,i,n){try{var s=n&&n.separator?n.separator:$.timepicker._defaults.separator,o=n&&n.timeFormat?n.timeFormat:$.timepicker._defaults.timeFormat,r=o.split(s),a=r.length,l=t.split(s),c=l.length;if(c>1)return[l.splice(0,c-a).join(s),l.splice(0,a).join(s)]}catch(u){if($.timepicker.log("Could not split the date from the time. Please check the following datetimepicker options\nthrown error: "+u+"\ndateTimeString"+t+"\ndateFormat = "+e+"\nseparator = "+n.separator+"\ntimeFormat = "+n.timeFormat),u.indexOf(":")>=0){var d=t.length-(u.length-u.indexOf(":")-2);t.substring(d);return[$.trim(t.substring(0,d)),$.trim(t.substring(d))]}throw u}return[t,""]},parseDateTimeInternal=function(e,t,i,n,s){var o,r=splitDateTime(e,i,n,s);if(o=$.datepicker._base_parseDate(e,r[0],n),""!==r[1]){var a=r[1],l=$.datepicker.parseTime(t,a,s);if(null===l)throw"Wrong time format";return{date:o,timeObj:l}}return{date:o}},selectLocalTimezone=function(e,t){if(e&&e.timezone_select){var i="undefined"!=typeof t?t:new Date;e.timezone_select.val(-1*i.getTimezoneOffset())}};$.timepicker=new Timepicker,$.timepicker.timezoneOffsetString=function(e,t){if(isNaN(e)||e>840)return e;var i=e,n=i%60,s=(i-n)/60,o=t?":":"",r=(i>=0?"+":"-")+("0"+(101*s).toString()).slice(-2)+o+("0"+(101*n).toString()).slice(-2);return"+00:00"==r?"Z":r},$.timepicker.timezoneOffsetNumber=function(e){return e=e.toString().replace(":",""),"Z"===e.toUpperCase()?0:/^(\-|\+)\d{4}$/.test(e)?("-"==e.substr(0,1)?-1:1)*(60*parseInt(e.substr(1,2),10)+parseInt(e.substr(3,2),10)):e},$.timepicker.timezoneAdjust=function(e,t){var i=$.timepicker.timezoneOffsetNumber(t);if(!isNaN(i)){var n=-1*e.getTimezoneOffset(),s=n-i;e.setMinutes(e.getMinutes()+s)}return e},$.timepicker.timeRange=function(e,t,i){return $.timepicker.handleRange("timepicker",e,t,i)},$.timepicker.datetimeRange=function(e,t,i){$.timepicker.handleRange("datetimepicker",e,t,i)},$.timepicker.dateRange=function(e,t,i){$.timepicker.handleRange("datepicker",e,t,i)},$.timepicker.handleRange=function(e,t,i,n){function s(s,o){var r=t[e]("getDate"),a=i[e]("getDate"),l=s[e]("getDate");if(null!==r){var c=new Date(r.getTime()),u=new Date(r.getTime());c.setMilliseconds(c.getMilliseconds()+n.minInterval),u.setMilliseconds(u.getMilliseconds()+n.maxInterval),n.minInterval>0&&c>a?i[e]("setDate",c):n.maxInterval>0&&a>u?i[e]("setDate",u):r>a&&o[e]("setDate",l)}}function o(t,i,s){if(t.val()){var o=t[e].call(t,"getDate");null!==o&&n.minInterval>0&&("minDate"==s&&o.setMilliseconds(o.getMilliseconds()+n.minInterval),"maxDate"==s&&o.setMilliseconds(o.getMilliseconds()-n.minInterval)),o.getTime&&i[e].call(i,"option",s,o)}}return n=$.extend({},{minInterval:0,maxInterval:0,start:{},end:{}},n),$.fn[e].call(t,$.extend({onClose:function(e,t){s($(this),i)},onSelect:function(e){o($(this),i,"minDate")}},n,n.start)),$.fn[e].call(i,$.extend({onClose:function(e,i){s($(this),t)},onSelect:function(e){o($(this),t,"maxDate")}},n,n.end)),s(t,i),o(t,i,"minDate"),o(i,t,"maxDate"),$([t.get(0),i.get(0)])},$.timepicker.log=function(e){window.console&&console.log(e)},Date.prototype.getMicroseconds||(Date.microseconds=0,Date.prototype.getMicroseconds=function(){return this.microseconds},Date.prototype.setMicroseconds=function(e){return this.microseconds=e,this}),$.timepicker.version="1.3"}}(jQuery),jQuery}),define("jrs.configs",[],function(){return"undefined"!=typeof __jrsConfigs__?__jrsConfigs__:{contextPath:"",userLocale:"en"}}),define("common/config/requestSettings",["require"],function(e){return{headers:{"X-Suppress-Basic":"true","Cache-Control":"no-cache, no-store",Pragma:"no-cache"}}}),define("requestSettings",["require","common/config/requestSettings","jrs.configs"],function(e){var t=e("common/config/requestSettings"),i=e("jrs.configs"),n=i.userLocale.replace(/_/g,"-");return t.headers["Accept-Language"]=n,t}),function(){function e(t,n){function o(e){if(o[e]!==g)return o[e];var t;if("bug-string-char-index"==e)t="a"!="a"[0];else if("json"==e)t=o("json-stringify")&&o("json-parse");else{var i,s='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var l=n.stringify,u="function"==typeof l&&b;if(u){(i=function(){return 1}).toJSON=i;try{u="0"===l(0)&&"0"===l(new r)&&'""'==l(new a)&&l(_)===g&&l(g)===g&&l()===g&&"1"===l(i)&&"[1]"==l([i])&&"[null]"==l([g])&&"null"==l(null)&&"[null,null,null]"==l([g,_,null])&&l({a:[i,!0,!1,null,"\x00\b\n\f\r	"]})==s&&"1"===l(null,i)&&"[\n 1,\n 2\n]"==l([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==l(new c(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==l(new c(864e13))&&'"-000001-01-01T00:00:00.000Z"'==l(new c(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==l(new c(-1))}catch(d){u=!1}}t=u}if("json-parse"==e){var h=n.parse;if("function"==typeof h)try{if(0===h("0")&&!h(!1)){i=h(s);var p=5==i.a.length&&1===i.a[0];if(p){try{p=!h('"	"')}catch(d){}if(p)try{p=1!==h("01")}catch(d){}if(p)try{p=1!==h("1.")}catch(d){}}}}catch(d){p=!1}t=p}}return o[e]=!!t}t||(t=s.Object()),n||(n=s.Object());var r=t.Number||s.Number,a=t.String||s.String,l=t.Object||s.Object,c=t.Date||s.Date,u=t.SyntaxError||s.SyntaxError,d=t.TypeError||s.TypeError,h=t.Math||s.Math,p=t.JSON||s.JSON;"object"==typeof p&&p&&(n.stringify=p.stringify,n.parse=p.parse);var f,m,g,v=l.prototype,_=v.toString,b=new c(-0xc782b5b800cec);try{b=-109252==b.getUTCFullYear()&&0===b.getUTCMonth()&&1===b.getUTCDate()&&10==b.getUTCHours()&&37==b.getUTCMinutes()&&6==b.getUTCSeconds()&&708==b.getUTCMilliseconds()}catch(y){}if(!o("json")){var T="[object Function]",w="[object Date]",S="[object Number]",C="[object String]",E="[object Array]",x="[object Boolean]",D=o("bug-string-char-index");if(!b)var M=h.floor,I=[0,31,59,90,120,151,181,212,243,273,304,334],N=function(e,t){return I[t]+365*(e-1970)+M((e-1969+(t=+(t>1)))/4)-M((e-1901+t)/100)+M((e-1601+t)/400)};if((f=v.hasOwnProperty)||(f=function(e){var t,i={};return(i.__proto__=null,i.__proto__={toString:1},i).toString!=_?f=function(e){var t=this.__proto__,i=e in(this.__proto__=null,this);return this.__proto__=t,i}:(t=i.constructor,f=function(e){var i=(this.constructor||t).prototype;return e in this&&!(e in i&&this[e]===i[e])}),i=null,f.call(this,e)}),m=function(e,t){var n,s,o,r=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,s=new n;for(o in s)f.call(s,o)&&r++;return n=s=null,r?m=2==r?function(e,t){var i,n={},s=_.call(e)==T;for(i in e)s&&"prototype"==i||f.call(n,i)||!(n[i]=1)||!f.call(e,i)||t(i)}:function(e,t){var i,n,s=_.call(e)==T;for(i in e)s&&"prototype"==i||!f.call(e,i)||(n="constructor"===i)||t(i);(n||f.call(e,i="constructor"))&&t(i)}:(s=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],m=function(e,t){var n,o,r=_.call(e)==T,a=!r&&"function"!=typeof e.constructor&&i[typeof e.hasOwnProperty]&&e.hasOwnProperty||f;for(n in e)r&&"prototype"==n||!a.call(e,n)||t(n);for(o=s.length;n=s[--o];a.call(e,n)&&t(n));}),m(e,t)},!o("json-stringify")){var k={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},O="000000",A=function(e,t){return(O+(t||0)).slice(-e)},L="\\u00",P=function(e){for(var t='"',i=0,n=e.length,s=!D||n>10,o=s&&(D?e.split(""):e);n>i;i++){var r=e.charCodeAt(i);switch(r){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=k[r];break;default:if(32>r){t+=L+A(2,r.toString(16));break}t+=s?o[i]:e.charAt(i)}}return t+'"'},R=function(e,t,i,n,s,o,r){var a,l,c,u,h,p,v,b,y,T,D,I,k,O,L,F;try{a=t[e]}catch(j){}if("object"==typeof a&&a)if(l=_.call(a),l!=w||f.call(a,"toJSON"))"function"==typeof a.toJSON&&(l!=S&&l!=C&&l!=E||f.call(a,"toJSON"))&&(a=a.toJSON(e));else if(a>-1/0&&1/0>a){if(N){for(h=M(a/864e5),c=M(h/365.2425)+1970-1;N(c+1,0)<=h;c++);for(u=M((h-N(c,0))/30.42);N(c,u+1)<=h;u++);h=1+h-N(c,u),p=(a%864e5+864e5)%864e5,v=M(p/36e5)%24,b=M(p/6e4)%60,y=M(p/1e3)%60,T=p%1e3}else c=a.getUTCFullYear(),u=a.getUTCMonth(),h=a.getUTCDate(),v=a.getUTCHours(),b=a.getUTCMinutes(),y=a.getUTCSeconds(),T=a.getUTCMilliseconds();a=(0>=c||c>=1e4?(0>c?"-":"+")+A(6,0>c?-c:c):A(4,c))+"-"+A(2,u+1)+"-"+A(2,h)+"T"+A(2,v)+":"+A(2,b)+":"+A(2,y)+"."+A(3,T)+"Z"}else a=null;if(i&&(a=i.call(t,e,a)),null===a)return"null";if(l=_.call(a),l==x)return""+a;if(l==S)return a>-1/0&&1/0>a?""+a:"null";if(l==C)return P(""+a);if("object"==typeof a){for(O=r.length;O--;)if(r[O]===a)throw d();if(r.push(a),D=[],L=o,o+=s,l==E){for(k=0,O=a.length;O>k;k++)I=R(k,a,i,n,s,o,r),D.push(I===g?"null":I);F=D.length?s?"[\n"+o+D.join(",\n"+o)+"\n"+L+"]":"["+D.join(",")+"]":"[]"}else m(n||a,function(e){var t=R(e,a,i,n,s,o,r);t!==g&&D.push(P(e)+":"+(s?" ":"")+t)}),F=D.length?s?"{\n"+o+D.join(",\n"+o)+"\n"+L+"}":"{"+D.join(",")+"}":"{}";return r.pop(),F}};n.stringify=function(e,t,n){var s,o,r,a;if(i[typeof t]&&t)if((a=_.call(t))==T)o=t;else if(a==E){r={};for(var l,c=0,u=t.length;u>c;l=t[c++],a=_.call(l),(a==C||a==S)&&(r[l]=1));}if(n)if((a=_.call(n))==S){if((n-=n%1)>0)for(s="",n>10&&(n=10);s.length<n;s+=" ");}else a==C&&(s=n.length<=10?n:n.slice(0,10));return R("",(l={},l[""]=e,l),o,r,s,"",[])}}if(!o("json-parse")){var F,j,H=a.fromCharCode,U={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},z=function(){throw F=j=null,u()},V=function(){for(var e,t,i,n,s,o=j,r=o.length;r>F;)switch(s=o.charCodeAt(F)){case 9:case 10:case 13:case 32:F++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=D?o.charAt(F):o[F],F++,e;case 34:for(e="@",F++;r>F;)if(s=o.charCodeAt(F),32>s)z();else if(92==s)switch(s=o.charCodeAt(++F)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=U[s],F++;break;case 117:for(t=++F,i=F+4;i>F;F++)s=o.charCodeAt(F),s>=48&&57>=s||s>=97&&102>=s||s>=65&&70>=s||z();e+=H("0x"+o.slice(t,F));break;default:z()}else{if(34==s)break;for(s=o.charCodeAt(F),t=F;s>=32&&92!=s&&34!=s;)s=o.charCodeAt(++F);e+=o.slice(t,F)}if(34==o.charCodeAt(F))return F++,e;z();default:if(t=F,45==s&&(n=!0,s=o.charCodeAt(++F)),s>=48&&57>=s){for(48==s&&(s=o.charCodeAt(F+1),s>=48&&57>=s)&&z(),n=!1;r>F&&(s=o.charCodeAt(F),s>=48&&57>=s);F++);if(46==o.charCodeAt(F)){for(i=++F;r>i&&(s=o.charCodeAt(i),s>=48&&57>=s);i++);i==F&&z(),F=i}if(s=o.charCodeAt(F),101==s||69==s){for(s=o.charCodeAt(++F),(43==s||45==s)&&F++,i=F;r>i&&(s=o.charCodeAt(i),s>=48&&57>=s);i++);i==F&&z(),F=i}return+o.slice(t,F)}if(n&&z(),"true"==o.slice(F,F+4))return F+=4,!0;if("false"==o.slice(F,F+5))return F+=5,!1;if("null"==o.slice(F,F+4))return F+=4,null;z()}return"$"},$=function(e){var t,i;if("$"==e&&z(),"string"==typeof e){if("@"==(D?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];e=V(),"]"!=e;i||(i=!0))i&&(","==e?(e=V(),"]"==e&&z()):z()),","==e&&z(),t.push($(e));return t}if("{"==e){for(t={};e=V(),"}"!=e;i||(i=!0))i&&(","==e?(e=V(),"}"==e&&z()):z()),(","==e||"string"!=typeof e||"@"!=(D?e.charAt(0):e[0])||":"!=V())&&z(),t[e.slice(1)]=$(V());return t}z()}return e},B=function(e,t,i){var n=W(e,t,i);n===g?delete e[t]:e[t]=n},W=function(e,t,i){var n,s=e[t];if("object"==typeof s&&s)if(_.call(s)==E)for(n=s.length;n--;)B(s,n,i);else m(s,function(e){B(s,e,i)});return i.call(e,t,s)};n.parse=function(e,t){var i,n;return F=0,j=""+e,i=$(V()),"$"!=V()&&z(),F=j=null,t&&_.call(t)==T?W((n={},n[""]=i,n),"",t):i}}}return n.runInContext=e,n}var t="function"==typeof define&&define.amd,i={"function":!0,object:!0},n=i[typeof exports]&&exports&&!exports.nodeType&&exports,s=i[typeof window]&&window||this,o=n&&i[typeof module]&&module&&!module.nodeType&&"object"==typeof global&&global;if(!o||o.global!==o&&o.window!==o&&o.self!==o||(s=o),n&&!t)e(s,n);else{var r=s.JSON,a=s.JSON3,l=!1,c=e(s,s.JSON3={noConflict:function(){return l||(l=!0,s.JSON=r,s.JSON3=a,r=a=null),c}});s.JSON={parse:c.parse,stringify:c.stringify}}t&&define("json3",[],function(){return c})}.call(this),function(e,t){"function"==typeof define&&define.amd?define("common/enum/loggingLevels",[],e):(t.logging||(t.logging={}),t.logging.loggingLevels=e())}(function(){return{DEBUG:100,INFO:200,WARN:300,ERROR:400}},this),function(e,t){"function"==typeof define&&define.amd?define("common/logging/Level",["common/enum/loggingLevels"],e):(t.logging||(t.logging={}),t.logging.Level=e(t.logging.loggingLevels))}(function(e){function t(e,t){this.level=e,this.name=t.toUpperCase()}t.prototype.isGreaterOrEqual=function(e){var i=(e instanceof t?e:t.getLevel(e)).level;return this.level>=i},t.prototype.toString=function(){return this.name},t.getLevel=function(e){return t[e.toUpperCase()]};for(var i in e)e.hasOwnProperty(i)&&(t[i]=new t(e[i],i));return t},this),function(e,t){"function"==typeof define&&define.amd?define("common/logging/LogItem",[],e):(t.logging||(t.logging={}),t.logging.LogItem=e())}(function(){"use strict";function e(e){var t,i=e.getHours().toString(),n=e.getMinutes().toString(),s=e.getSeconds().toString(),o=e.getMilliseconds();return 1==i.length&&(i="0"+i),1==n.length&&(n="0"+n),1==s.length&&(s="0"+s),t=i+":"+n+":"+s+"."+o}function t(e){for(var t in e)if(e.hasOwnProperty(t)){if("args"===t)for(var i=0,n=e[t].length;n>i;i++)e[t][i]instanceof Error&&(e[t][i]=e[t][i].message);this[t]=e[t]}}return t.prototype.toArray=function(){var t=[];return t.push(e(this.time)),t.push("["+this.id+"]"),"unknown"!==this.file&&t.push("["+this.file+":"+this.line+"]"),t.push("["+this.level.toString()+"] -"),t=t.concat(this.args)},t},this),function(e,t){"function"==typeof define&&define.amd?define("common/logging/Log",["common/logging/Level","common/logging/LogItem"],e):(t.logging||(t.logging={}),t.logging.Log=e(t.logging.Level,t.logging.LogItem))}(function(e,t){function i(t){return function(){return this._prepareLogItem({level:e.getLevel(t),args:arguments})}}function n(e,t){this._id=e.id,this._callback=t}return n.prototype._prepareLogItem=function(e){e.id=this._id,e.args=Array.prototype.slice.call(e.args,0),e.time=new Date;var i=(new Error).stack;if(i){var n=i.split("\n")[2],s=n.match(/\/(\w+\.\w+):(\d+)/i);s&&(e.file=s[1],e.line=s[2])}return e.file||(e.file="unknown",e.line="0"),e=new t(e),this._callback(e),e},n.prototype.debug=i("debug"),n.prototype.info=i("info"),n.prototype.warn=i("warn"),n.prototype.error=i("error"),n},this),function(e,t){"function"==typeof define&&define.amd?define("common/logging/appender/ConsoleAppender",[],e):(t.logging||(t.logging={}),t.logging.appender||(t.logging.appender={}),t.logging.appender.ConsoleAppender=e())}(function(){function e(){}return e.prototype.console=function(){if("undefined"==typeof console){var e=function(){};return{assert:e,clear:e,count:e,debug:e,dir:e,dirxml:e,error:e,group:e,groupCollapsed:e,groupEnd:e,info:e,log:e,markTimeline:e,profile:e,profileEnd:e,table:e,time:e,timeEnd:e,timeStamp:e,trace:e,warn:e}}return console}(),e.prototype.write=function(e){var t=this.console.log;switch(e.level.toString()){case"DEBUG":t=this.console.debug||this.console.log;break;case"INFO":t=this.console.info||this.console.log;break;case"WARN":t=this.console.warn;break;case"ERROR":t=this.console.error}try{t.apply(this.console,e.toArray())}catch(i){try{Function.prototype.apply.call(t,this.console,e.toArray())}catch(n){}}},e},this),function(e,t,i){"function"==typeof define&&define.amd?define("common/logging/LoggerManager",["underscore","common/logging/Log","common/logging/Level","common/logging/appender/ConsoleAppender"],e):(t.logging||(t.logging={}),t.logging.LoggerManager=e(i,t.logging.Log,t.logging.Level,t.logging.appender.ConsoleAppender))}(function(e,t,i,n){var s={console:n},o=function(e){this.initialize(e||{})};return e.extend(o.prototype,{defaults:function(){return{enabled:!1,level:"error",appenders:{},appenderInstances:{},loggers:{}}},initialize:function(t){this.attributes=e.defaults(t,this.defaults());var i={};e.each(s,function(e,t){i[t]=new e}),this.set("appenderInstances",i)},get:function(e){return this.attributes[e]},set:function(e,t){this.attributes[e]=t},register:function(i){var n={id:"root"};if("string"==typeof i&&""!==i?n.id=i:i&&i.hasOwnProperty("id")&&(n.id=i.id),!this.get("loggers").hasOwnProperty(n.id)){var s=this.get("loggers");s[n.id]=new t(n,e.bind(this._processLogItem,this)),this.set("loggers",s)}return this.get("loggers")[n.id]},disable:function(){this.set("enabled",!1)},enable:function(e){e&&this.set("level",i.getLevel(e)),this.set("enabled",!0)},setLevel:function(e){this.set("level",e);
},_processLogItem:function(e){this.get("enabled")&&e.level.isGreaterOrEqual(this.get("level"))&&this._appendLogItem(e)},_appendLogItem:function(e){var t=this.get("appenders"),i=this.get("appenderInstances");for(var n in t)i.hasOwnProperty(t[n])&&i[t[n]].write(e)}}),o},this,this._),define("logger",["require","exports","module","common/logging/LoggerManager"],function(e,t,i){"use strict";var n=e("common/logging/LoggerManager"),s=i.config(),o=new n(s);return o}),function(e){"use strict";define("xdm",["json3","logger"],e)}(function(e,t){function i(e,t){var i=typeof e[t];return"function"==i||!("object"!=i||!e[t])||"unknown"==i}function n(e,t){return!("object"!=typeof e[t]||!e[t])}function s(e){return"[object Array]"===Object.prototype.toString.call(e)}function o(){var e="Shockwave Flash",t="application/x-shockwave-flash";if(!m(navigator.plugins)&&"object"==typeof navigator.plugins[e]){var i=navigator.plugins[e].description;i&&!m(navigator.mimeTypes)&&navigator.mimeTypes[t]&&navigator.mimeTypes[t].enabledPlugin&&(C=i.match(/\d+/g))}if(!C){var n;try{n=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),C=Array.prototype.slice.call(n.GetVariable("$version").match(/(\d+),(\d+),(\d+),(\d+)/),1),n=null}catch(s){}}if(!C)return!1;var o=parseInt(C[0],10),r=parseInt(C[1],10);return E=o>9&&r>0,!0}function r(){if(!$){$=!0,z("firing dom_onReady");for(var e=0;e<B.length;e++)B[e]();B.length=0}}function a(e,t){return $?void e.call(t):void B.push(function(){e.call(t)})}function l(){var e=parent;if(""!==R)for(var t=0,i=R.split(".");t<i.length;t++)e=e[i[t]];return e.easyXDM}function c(e){return z("Settings namespace to '"+e+"'"),window.easyXDM=j,R=e,R&&(H="easyXDM_"+R.replace(".","_")+"_"),F}function u(e){return e.match(A)[3]}function d(e){return e.match(A)[4]||""}function h(e){var t=e.toLowerCase().match(A),i=t[2],n=t[3],s=t[4]||"";return("http:"==i&&":80"==s||"https:"==i&&":443"==s)&&(s=""),i+"//"+n+s}function p(e){if(e=e.replace(P,"$1/"),!e.match(/^(http||https):\/\//)){var t="/"===e.substring(0,1)?"":location.pathname;"/"!==t.substring(t.length-1)&&(t=t.substring(0,t.lastIndexOf("/")+1)),e=location.protocol+"//"+location.host+t+e}for(;L.test(e);)e=e.replace(L,"");return z("resolved url '"+e+"'"),e}function f(e,t){var i="",n=e.indexOf("#");-1!==n&&(i=e.substring(n),e=e.substring(0,n));var s=[];for(var o in t)t.hasOwnProperty(o)&&s.push(o+"="+encodeURIComponent(t[o]));return e+(U?"#":-1==e.indexOf("?")?"?":"&")+s.join("&")+i}function m(e){return"undefined"==typeof e}function g(e,t,i){var n;for(var s in t)t.hasOwnProperty(s)&&(s in e?(n=t[s],"object"==typeof n?g(e[s],n,i):i||(e[s]=t[s])):e[s]=t[s]);return e}function v(){var e=document.body.appendChild(document.createElement("form")),t=e.appendChild(document.createElement("input"));t.name=H+"TEST"+k,S=t!==e.elements[t.name],document.body.removeChild(e),z("HAS_NAME_PROPERTY_BUG: "+S)}function _(e){z("creating frame: "+e.props.src),m(S)&&v();var t;S?t=document.createElement('<iframe name="'+e.props.name+'"/>'):(t=document.createElement("IFRAME"),t.name=e.props.name),t.id=t.name=e.props.name,delete e.props.name,"string"==typeof e.container&&(e.container=document.getElementById(e.container)),e.container||(g(t.style,{position:"absolute",top:"-2000px",left:"0px"}),e.container=document.body);var i=e.props.src;if(e.props.src="javascript:false",g(t,e.props),t.border=t.frameBorder=0,t.allowTransparency=!0,e.container.appendChild(t),e.onLoad&&x(t,"load",e.onLoad),e.usePost){var n,s=e.container.appendChild(document.createElement("form"));if(s.target=t.name,s.action=i,s.method="POST","object"==typeof e.usePost)for(var o in e.usePost)e.usePost.hasOwnProperty(o)&&(S?n=document.createElement('<input name="'+o+'"/>'):(n=document.createElement("INPUT"),n.name=o),n.value=e.usePost[o],s.appendChild(n));s.submit(),s.parentNode.removeChild(s)}else t.src=i;return e.props.src=i,t}function b(e,t){"string"==typeof e&&(e=[e]);for(var i,n=e.length;n--;)if(i=e[n],i=new RegExp("^"==i.substr(0,1)?i:"^"+i.replace(/(\*)/g,".$1").replace(/\?/g,".")+"$"),i.test(t))return!0;return!1}function y(e){var t,n=e.protocol;if(e.isHost=e.isHost||m(q.xdm_p),U=e.hash||!1,z("preparing transport stack"),e.props||(e.props={}),e.isHost)e.remote=p(e.remote),e.channel=e.channel||"default"+k++,e.secret=Math.random().toString(16).substring(2),m(n)?(n=h(location.href)==h(e.remote)?"4":i(window,"postMessage")||i(document,"postMessage")?"1":e.swf&&i(window,"ActiveXObject")&&o()?"6":"Gecko"===navigator.product&&"frameElement"in window&&-1==navigator.userAgent.indexOf("WebKit")?"5":e.remoteHelper?"2":"0",z("selecting protocol: "+n)):z("using protocol: "+n);else if(z("using parameters from query"),e.channel=q.xdm_c.replace(/["'<>\\]/g,""),e.secret=q.xdm_s,e.remote=q.xdm_e.replace(/["'<>\\]/g,""),n=q.xdm_p,e.acl&&!b(e.acl,e.remote))throw new Error("Access denied for "+e.remote);switch(e.protocol=n,n){case"0":if(g(e,{interval:100,delay:2e3,useResize:!0,useParent:!1,usePolling:!1},!0),e.isHost){if(!e.local){z("looking for image to use as local");for(var s,r=location.protocol+"//"+location.host,a=document.body.getElementsByTagName("img"),l=a.length;l--;)if(s=a[l],s.src.substring(0,r.length)===r){e.local=s.src;break}e.local||(z("no image found, defaulting to using the window"),e.local=window)}var c={xdm_c:e.channel,xdm_p:0};e.local===window?(e.usePolling=!0,e.useParent=!0,e.local=location.protocol+"//"+location.host+location.pathname+location.search,c.xdm_e=e.local,c.xdm_pa=1):c.xdm_e=p(e.local),e.container&&(e.useResize=!1,c.xdm_po=1),e.remote=f(e.remote,c)}else g(e,{channel:q.xdm_c,remote:q.xdm_e,useParent:!m(q.xdm_pa),usePolling:!m(q.xdm_po),useResize:e.useParent?!1:e.useResize});t=[new F.stack.HashTransport(e),new F.stack.ReliableBehavior({}),new F.stack.QueueBehavior({encode:!0,maxLength:4e3-e.remote.length}),new F.stack.VerifyBehavior({initiate:e.isHost})];break;case"1":t=[new F.stack.PostMessageTransport(e)];break;case"2":e.isHost&&(e.remoteHelper=p(e.remoteHelper)),t=[new F.stack.NameTransport(e),new F.stack.QueueBehavior,new F.stack.VerifyBehavior({initiate:e.isHost})];break;case"3":t=[new F.stack.NixTransport(e)];break;case"4":t=[new F.stack.SameOriginTransport(e)];break;case"5":t=[new F.stack.FrameElementTransport(e)];break;case"6":C||o(),t=[new F.stack.FlashTransport(e)]}return t.push(new F.stack.QueueBehavior({lazy:e.lazy,remove:!0})),t}function T(e){for(var t,i={incoming:function(e,t){this.up.incoming(e,t)},outgoing:function(e,t){this.down.outgoing(e,t)},callback:function(e){this.up.callback(e)},init:function(){this.down.init()},destroy:function(){this.down.destroy()}},n=0,s=e.length;s>n;n++)t=e[n],g(t,i,!0),0!==n&&(t.down=e[n-1]),n!==s-1&&(t.up=e[n+1]);return t}function w(e){e.up.down=e.down,e.down.up=e.up,e.up=e.down=null}if("undefined"==typeof document)return{};var S,C,E,x,D,M=window.setTimeout,I=t.register("EasyXDM"),N=this,k=Math.floor(1e4*Math.random()),O=Function.prototype,A=/^((http.?:)\/\/([^:\/\s]+)(:\d+)*)/,L=/[\-\w]+\/\.\.\//,P=/([^:])\/\//g,R="",F={},j=window.easyXDM,H="easyXDM_",U=!1,z=O;if(i(window,"addEventListener"))x=function(e,t,i){z("adding listener "+t),e.addEventListener(t,i,!1)},D=function(e,t,i){z("removing listener "+t),e.removeEventListener(t,i,!1)};else{if(!i(window,"attachEvent"))throw new Error("Browser not supported");x=function(e,t,i){z("adding listener "+t),e.attachEvent("on"+t,i)},D=function(e,t,i){z("removing listener "+t),e.detachEvent("on"+t,i)}}var V,$=!1,B=[];if("readyState"in document?(V=document.readyState,$="complete"==V||~navigator.userAgent.indexOf("AppleWebKit/")&&("loaded"==V||"interactive"==V)):$=!!document.body,!$){if(i(window,"addEventListener"))x(document,"DOMContentLoaded",r);else if(x(document,"readystatechange",function(){"complete"==document.readyState&&r()}),document.documentElement.doScroll&&window===top){var W=function(){if(!$){try{document.documentElement.doScroll("left")}catch(e){return void M(W,1)}r()}};W()}x(window,"load",r)}var q=function(e){e=e.substring(1).split("&");for(var t,i={},n=e.length;n--;)t=e[n].split("="),i[t[0]]=decodeURIComponent(t[1]);return i}(/xdm_e=/.test(location.search)?location.search:location.hash),K=function(){var e={},t={a:[1,2,3]},i='{"a":[1,2,3]}';return"undefined"!=typeof JSON&&"function"==typeof JSON.stringify&&JSON.stringify(t).replace(/\s/g,"")===i?JSON:(Object.toJSON&&Object.toJSON(t).replace(/\s/g,"")===i&&(e.stringify=Object.toJSON),"function"==typeof String.prototype.evalJSON&&(t=i.evalJSON(),t.a&&3===t.a.length&&3===t.a[2]&&(e.parse=function(e){return e.evalJSON()})),e.stringify&&e.parse?(K=function(){return e},e):null)};g(F,{version:"2.4.19.1",query:q,stack:{},apply:g,getJSONObject:K,whenReady:a,noConflict:c});var Y={_deferred:[],flush:function(){this.trace("... deferred messages ...");for(var e=0,t=this._deferred.length;t>e;e++)this.trace(this._deferred[e]);this._deferred.length=0,this.trace("... end of deferred messages ...")},getTime:function(){var e=new Date,t=e.getHours()+"",i=e.getMinutes()+"",n=e.getSeconds()+"",s=e.getMilliseconds()+"",o="000";return 1==t.length&&(t="0"+t),1==i.length&&(i="0"+i),1==n.length&&(n="0"+n),s=o.substring(s.length)+s,t+":"+i+":"+n+"."+s},log:function(e){I.debug(location.host+(R?":"+R:"")+": "+e)},getTracer:function(e){var i=t.register(e);return function(e){i.debug(e)}}};return Y.log("easyXDM present on '"+location.href),F.Debug=Y,z=Y.getTracer("EasyXDM.{Private}"),F.DomHelper={on:x,un:D,requiresJSON:function(e){n(window,"JSON")?Y.log("native JSON found"):(Y.log("loading external JSON"),document.write('<script type="text/javascript" src="'+e+'"></script>'))}},function(){var e={};F.Fn={set:function(t,i){this._trace("storing function "+t),e[t]=i},get:function(t,i){if(this._trace("retrieving function "+t),e.hasOwnProperty(t)){var n=e[t];return n||this._trace(t+" not found"),i&&delete e[t],n}}},F.Fn._trace=Y.getTracer("easyXDM.Fn")}(),F.Socket=function(e){var t=Y.getTracer("easyXDM.Socket");t("constructor");var i=T(y(e).concat([{incoming:function(t,i){e.onMessage(t,i)},callback:function(t){e.onReady&&e.onReady(t)}}])),n=h(e.remote);this.origin=h(e.remote),this.destroy=function(){i.destroy()},this.postMessage=function(e){i.outgoing(e,n)},i.init()},F.Rpc=function(e,t){var i=Y.getTracer("easyXDM.Rpc");if(i("constructor"),t.local)for(var n in t.local)if(t.local.hasOwnProperty(n)){var s=t.local[n];"function"==typeof s&&(t.local[n]={method:s})}var o=T(y(e).concat([new F.stack.RpcBehavior(this,t),{callback:function(t){e.onReady&&e.onReady(t)}}]));this.origin=h(e.remote),this.destroy=function(){o.destroy()},o.init()},F.stack.SameOriginTransport=function(e){var t=Y.getTracer("easyXDM.stack.SameOriginTransport");t("constructor");var i,n,s,o;return i={outgoing:function(e,t,i){s(e),i&&i()},destroy:function(){t("destroy"),n&&(n.parentNode.removeChild(n),n=null)},onDOMReady:function(){t("init"),o=h(e.remote),e.isHost?(g(e.props,{src:f(e.remote,{xdm_e:location.protocol+"//"+location.host+location.pathname,xdm_c:e.channel,xdm_p:4}),name:H+e.channel+"_provider"}),n=_(e),F.Fn.set(e.channel,function(e){return s=e,M(function(){i.up.callback(!0)},0),function(e){i.up.incoming(e,o)}})):(s=l().Fn.get(e.channel,!0)(function(e){i.up.incoming(e,o)}),M(function(){i.up.callback(!0)},0))},init:function(){a(i.onDOMReady,i)}}},F.stack.FlashTransport=function(e){function t(e,t){M(function(){n("received message"),s.up.incoming(e,r)},0)}function i(t){n("creating factory with SWF from "+t);var i=e.swf+"?host="+e.isHost,s="easyXDM_swf_"+Math.floor(1e4*Math.random());F.Fn.set("flash_loaded"+t.replace(/[\-.]/g,"_"),function(){F.stack.FlashTransport[t].swf=l=c.firstChild;for(var e=F.stack.FlashTransport[t].queue,i=0;i<e.length;i++)e[i]();e.length=0}),e.swfContainer?c="string"==typeof e.swfContainer?document.getElementById(e.swfContainer):e.swfContainer:(c=document.createElement("div"),g(c.style,E&&e.swfNoThrottle?{height:"20px",width:"20px",position:"fixed",right:0,top:0}:{height:"1px",width:"1px",position:"absolute",overflow:"hidden",right:0,top:0}),document.body.appendChild(c));var o="callback=flash_loaded"+encodeURIComponent(t.replace(/[\-.]/g,"_"))+"&proto="+N.location.protocol+"&domain="+encodeURIComponent(u(N.location.href))+"&port="+encodeURIComponent(d(N.location.href))+"&ns="+encodeURIComponent(R);o+="&log=true",c.innerHTML="<object height='20' width='20' type='application/x-shockwave-flash' id='"+s+"' data='"+i+"'><param name='allowScriptAccess' value='always'></param><param name='wmode' value='transparent'><param name='movie' value='"+i+"'></param><param name='flashvars' value='"+o+"'></param><embed type='application/x-shockwave-flash' FlashVars='"+o+"' allowScriptAccess='always' wmode='transparent' src='"+i+"' height='1' width='1'></embed></object>"}var n=Y.getTracer("easyXDM.stack.FlashTransport");n("constructor");var s,o,r,l,c;return s={outgoing:function(t,i,n){l.postMessage(e.channel,t.toString()),n&&n()},destroy:function(){n("destroy");try{l.destroyChannel(e.channel)}catch(t){}l=null,o&&(o.parentNode.removeChild(o),o=null)},onDOMReady:function(){n("init"),r=e.remote,F.Fn.set("flash_"+e.channel+"_init",function(){M(function(){n("firing onReady"),s.up.callback(!0)})}),F.Fn.set("flash_"+e.channel+"_onMessage",t),e.swf=p(e.swf);var a=u(e.swf),c=function(){F.stack.FlashTransport[a].init=!0,l=F.stack.FlashTransport[a].swf,l.createChannel(e.channel,e.secret,h(e.remote),e.isHost),e.isHost&&(E&&e.swfNoThrottle&&g(e.props,{position:"fixed",right:0,top:0,height:"20px",width:"20px"}),g(e.props,{src:f(e.remote,{xdm_e:h(location.href),xdm_c:e.channel,xdm_p:6,xdm_s:e.secret}),name:H+e.channel+"_provider"}),o=_(e))};F.stack.FlashTransport[a]&&F.stack.FlashTransport[a].init?c():F.stack.FlashTransport[a]?F.stack.FlashTransport[a].queue.push(c):(F.stack.FlashTransport[a]={queue:[c]},i(a))},init:function(){a(s.onDOMReady,s)}}},F.stack.PostMessageTransport=function(e){function t(e){if(e.origin)return h(e.origin);if(e.uri)return h(e.uri);if(e.domain)return location.protocol+"//"+e.domain;throw"Unable to retrieve the origin of the event"}function i(i){var o=t(i);n("received message '"+i.data+"' from "+o),o==l&&i.data.substring(0,e.channel.length+1)==e.channel+" "&&s.up.incoming(i.data.substring(e.channel.length+1),o)}var n=Y.getTracer("easyXDM.stack.PostMessageTransport");n("constructor");var s,o,r,l;return s={outgoing:function(t,i,n){r.postMessage(e.channel+" "+t,i||l),n&&n()},destroy:function(){n("destroy"),D(window,"message",i),o&&(r=null,o.parentNode.removeChild(o),o=null)},onDOMReady:function(){if(n("init"),l=h(e.remote),e.isHost){var t=function(a){a.data==e.channel+"-ready"&&(n("firing onReady"),r="postMessage"in o.contentWindow?o.contentWindow:o.contentWindow.document,D(window,"message",t),x(window,"message",i),M(function(){s.up.callback(!0)},0))};x(window,"message",t),g(e.props,{src:f(e.remote,{xdm_e:h(location.href),xdm_c:e.channel,xdm_p:1}),name:H+e.channel+"_provider"}),o=_(e)}else x(window,"message",i),r="postMessage"in window.parent?window.parent:window.parent.document,r.postMessage(e.channel+"-ready",l),M(function(){s.up.callback(!0)},0)},init:function(){a(s.onDOMReady,s)}}},F.stack.FrameElementTransport=function(e){var t=Y.getTracer("easyXDM.stack.FrameElementTransport");t("constructor");var i,n,s,o;return i={outgoing:function(e,t,i){s.call(this,e),i&&i()},destroy:function(){t("destroy"),n&&(n.parentNode.removeChild(n),n=null)},onDOMReady:function(){t("init"),o=h(e.remote),e.isHost?(g(e.props,{src:f(e.remote,{xdm_e:h(location.href),xdm_c:e.channel,xdm_p:5}),name:H+e.channel+"_provider"}),n=_(e),n.fn=function(e){return delete n.fn,s=e,M(function(){i.up.callback(!0)},0),function(e){i.up.incoming(e,o)}}):(document.referrer&&h(document.referrer)!=q.xdm_e&&(window.top.location=q.xdm_e),s=window.frameElement.fn(function(e){i.up.incoming(e,o)}),i.up.callback(!0))},init:function(){a(i.onDOMReady,i)}}},F.stack.NameTransport=function(e){function t(t){var i=e.remoteHelper+(l?"#_3":"#_2")+e.channel;o("sending message "+t),o("navigating to  '"+i+"'"),c.contentWindow.sendMessage(t,i)}function i(){l?2!==++d&&l||r.up.callback(!0):(t("ready"),o("calling onReady"),r.up.callback(!0))}function n(e){o("received message "+e),r.up.incoming(e,b)}function s(){v&&M(function(){v(!0)},0)}var o=Y.getTracer("easyXDM.stack.NameTransport");o("constructor"),e.isHost&&m(e.remoteHelper)&&o("missing remoteHelper");var r,l,c,u,d,v,b,y;return r={outgoing:function(e,i,n){v=n,t(e)},destroy:function(){o("destroy"),c.parentNode.removeChild(c),c=null,l&&(u.parentNode.removeChild(u),u=null)},onDOMReady:function(){o("init"),l=e.isHost,d=0,b=h(e.remote),e.local=p(e.local),l?(F.Fn.set(e.channel,function(t){o("received initial message "+t),l&&"ready"===t&&(F.Fn.set(e.channel,n),i())}),y=f(e.remote,{xdm_e:e.local,xdm_c:e.channel,xdm_p:2}),g(e.props,{src:y+"#"+e.channel,name:H+e.channel+"_provider"}),u=_(e)):(e.remoteHelper=e.remote,F.Fn.set(e.channel,n));var t=function(){var n=c||this;D(n,"load",t),F.Fn.set(e.channel+"_load",s),function o(){"function"==typeof n.contentWindow.sendMessage?i():M(o,50)}()};c=_({props:{src:e.local+"#_4"+e.channel},onLoad:t})},init:function(){a(r.onDOMReady,r)}}},F.stack.HashTransport=function(e){function t(t){if(o("sending message '"+(p+1)+" "+t+"' to "+b),!m)return void o("no caller window");var i=e.remote+"#"+p++ +"_"+t;(l||!v?m.contentWindow:m).location=i}function i(e){d=e,o("received message '"+d+"' from "+b),r.up.incoming(d.substring(d.indexOf("_")+1),b)}function n(){if(f){var e=f.location.href,t="",n=e.indexOf("#");-1!=n&&(t=e.substring(n)),t&&t!=d&&(o("poll: new message"),i(t))}}function s(){o("starting polling"),c=setInterval(n,u)}var o=Y.getTracer("easyXDM.stack.HashTransport");o("constructor");var r,l,c,u,d,p,f,m,v,b;return r={outgoing:function(e,i){t(e)},destroy:function(){window.clearInterval(c),(l||!v)&&m.parentNode.removeChild(m),m=null},onDOMReady:function(){if(l=e.isHost,u=e.interval,d="#"+e.channel,p=0,v=e.useParent,b=h(e.remote),l){if(g(e.props,{src:e.remote,name:H+e.channel+"_provider"}),v)e.onLoad=function(){f=window,s(),r.up.callback(!0)};else{var t=0,i=e.delay/50;!function n(){if(++t>i)throw o("unable to get reference to _listenerWindow, giving up"),new Error("Unable to reference listenerwindow");try{f=m.contentWindow.frames[H+e.channel+"_consumer"]}catch(a){}f?(s(),o("got a reference to _listenerWindow"),r.up.callback(!0)):M(n,50)}()}m=_(e)}else f=window,s(),v?(m=parent,r.up.callback(!0)):(g(e,{props:{src:e.remote+"#"+e.channel+new Date,name:H+e.channel+"_consumer"},onLoad:function(){r.up.callback(!0)}}),m=_(e))},init:function(){a(r.onDOMReady,r)}}},F.stack.ReliableBehavior=function(e){var t=Y.getTracer("easyXDM.stack.ReliableBehavior");t("constructor");var i,n,s=0,o=0,r="";return i={incoming:function(e,a){t("incoming: "+e);var l=e.indexOf("_"),c=e.substring(0,l).split(",");e=e.substring(l+1),c[0]==s&&(t("message delivered"),r="",n&&n(!0)),e.length>0&&(t("sending ack, and passing on "+e),i.down.outgoing(c[1]+","+s+"_"+r,a),o!=c[1]&&(o=c[1],i.up.incoming(e,a)))},outgoing:function(e,t,a){r=e,n=a,i.down.outgoing(o+","+ ++s+"_"+e,t)}}},F.stack.QueueBehavior=function(e){function t(){if(e.remove&&0===o.length)return i("removing myself from the stack"),void w(n);if(!r&&0!==o.length&&!s){i("dispatching from queue"),r=!0;var a=o.shift();n.down.outgoing(a.data,a.origin,function(e){r=!1,a.callback&&M(function(){a.callback(e)},0),t()})}}var i=Y.getTracer("easyXDM.stack.QueueBehavior");i("constructor");var n,s,o=[],r=!0,a="",l=0,c=!1,u=!1;return n={init:function(){m(e)&&(e={}),e.maxLength&&(l=e.maxLength,u=!0),e.lazy?c=!0:n.down.init()},callback:function(e){r=!1;var i=n.up;t(),i.callback(e)},incoming:function(t,s){if(u){var o=t.indexOf("_"),r=parseInt(t.substring(0,o),10);a+=t.substring(o+1),0===r?(i("received the last fragment"),e.encode&&(a=decodeURIComponent(a)),n.up.incoming(a,s),a=""):i("waiting for more fragments, seq="+t)}else n.up.incoming(t,s)},outgoing:function(s,r,a){e.encode&&(s=encodeURIComponent(s));var d,h=[];if(u){for(;0!==s.length;)d=s.substring(0,l),s=s.substring(d.length),h.push(d);for(;d=h.shift();)i("enqueuing"),o.push({data:h.length+"_"+d,origin:r,callback:0===h.length?a:null})}else o.push({data:s,origin:r,callback:a});c?n.down.init():t()},destroy:function(){i("destroy"),s=!0,n.down.destroy()}}},F.stack.VerifyBehavior=function(e){function t(){i("requesting verification"),s=Math.random().toString(16).substring(2),n.down.outgoing(s)}var i=Y.getTracer("easyXDM.stack.VerifyBehavior");i("constructor");var n,s,o;return n={incoming:function(r,a){var l=r.indexOf("_");-1===l?r===s?(i("verified, calling callback"),n.up.callback(!0)):o||(i("returning secret"),o=r,e.initiate||t(),n.down.outgoing(r)):r.substring(0,l)===o&&n.up.incoming(r.substring(l+1),a)},outgoing:function(e,t,i){n.down.outgoing(s+"_"+e,t,i)},callback:function(i){e.initiate&&t()}}},F.stack.RpcBehavior=function(e,t){function i(e){e.jsonrpc="2.0",r.down.outgoing(l.stringify(e))}function n(e,t){var n=Array.prototype.slice;return a("creating method "+t),function(){a("executing method "+t);var s,o=arguments.length,r={method:t};return o>0&&"function"==typeof arguments[o-1]?(o>1&&"function"==typeof arguments[o-2]?(s={success:arguments[o-2],error:arguments[o-1]},r.params=n.call(arguments,0,o-2)):(s={success:arguments[o-1]},r.params=n.call(arguments,0,o-1)),u[""+ ++c]=s,r.id=c):r.params=n.call(arguments,0),e.namedParams&&1===r.params.length&&(r.params=r.params[0]),i(r),r.id}}function o(e,t,n,o){if(!n)return a("requested to execute non-existent procedure "+e),void(t&&i({id:t,error:{code:-32601,message:"Procedure not found."}}));a("requested to execute procedure "+e);var r,l;t?(r=function(e){r=O,i({id:t,result:e})},l=function(e,n){l=O;var s={id:t,error:{code:-32099,message:e}};n&&(s.error.data=n),i(s)}):r=l=O,s(o)||(o=[o]);try{var c=n.method.apply(n.scope,o.concat([r,l]));m(c)||r(c)}catch(u){l(u.message)}}var r,a=Y.getTracer("easyXDM.stack.RpcBehavior"),l=t.serializer||K(),c=0,u={};return r={incoming:function(e,n){var s=l.parse(e);if(s.method)a("received request to execute method "+s.method+(s.id?" using callback id "+s.id:"")),s&&s.params&&s.params[0]&&"object"==typeof s.params[0]&&(s.params[0].id=s.id),t.handle?t.handle(s,i):o(s.method,s.id,t.local[s.method],s.params);else{a("received return value destined to callback with id "+s.id);var r=u[s.id];s.error?r.error?r.error(s.error):a("unhandled error returned."):r.success&&r.success(s.result),delete u[s.id]}},init:function(){if(a("init"),t.remote){a("creating stubs");for(var i in t.remote)t.remote.hasOwnProperty(i)&&(e[i]=n(t.remote[i],i))}r.down.init()},destroy:function(){a("destroy");for(var i in t.remote)t.remote.hasOwnProperty(i)&&e.hasOwnProperty(i)&&delete e[i];r.down.destroy()}}},F}),define("fakeXhrFactory",["require","underscore"],function(e){var t=e("underscore");return function(e){var i={},n={};return t.extend(e,{getResponseHeader:function(t){var i,n=/^(.*?):[ \t]*([^\r\n]*)$/gm;if(4===e.readyState){if(!this.responseHeaders)for(this.responseHeaders={};i=n.exec(this.responseHeadersString);)this.responseHeaders[i[1].toLowerCase()]=i[2];i=this.responseHeaders[t.toLowerCase()]}return null==i?null:i},getAllResponseHeaders:function(){return 2===e.readyState?this.responseHeadersString:null},setRequestHeader:function(t,s){var o=t.toLowerCase();return e.readyState||(t=i[o]=i[o]||t,n[t]=s),this}})}}),define("transport/xdmRequest",["require","jquery","underscore","xdm","fakeXhrFactory","jrs.configs","logger"],function(e){"use strict";function t(e,t){var i=n.Deferred(),s=n.Deferred(),o=e.request(t,function(e){i.resolve(e.data,e.status,r(e.xhr))},function(e){i.reject(e.message,e.data)});return t.success&&i.done(t.success),t.error&&i.fail(t.error),t.complete&&i.always(t.complete),i.done(s.resolve).fail(s.reject).progress(s.notify),s.fail(function(){"pending"==i.state()&&e.abort(o)}),s}function i(){var e=[];return e.push({name:"logEnabled",value:l.get("enabled")}),l.get("level")&&e.push({name:"logLevel",value:l.get("level")}),n.param(e)}var n=e("jquery"),s=e("underscore"),o=e("xdm"),r=e("fakeXhrFactory"),a=e("jrs.configs"),l=e("logger"),c=function(e){if(0===arguments.length)throw new Error("Not enough arguments to perform the request.");var i=c.create(e.baseUrl?e.baseUrl:a.contextPath);return t(i,e)};return c.create=s.memoize(function(e){return new o.Rpc({remote:e+"/xdm.html?"+i(),container:document.body,props:{style:{display:"none"}}},{remote:{request:{},abort:{}}})}),c}),define("transport/xhrRequest",["require","jquery","underscore","logger"],function(e){"use strict";function t(){r.trigger.apply(r,arguments)}function i(e){(401==e.status||e.getResponseHeader("LoginRequested"))&&(n(window).trigger("sessionExpired"),o.warn("Session timed-out. Redirecting to login page."),window.location.reload())}var n=e("jquery"),s=e("underscore"),o=e("logger").register("request");if("undefined"==typeof document)return{};var r=n(document);return function(e){return s.partial(t,"request:before").apply(null,arguments),n.ajax(e).fail(i).fail(function(e,t,i){e.getResponseHeader("adhocException")?o.error(e.getResponseHeader("adhocException")):(500==e.status||e.getResponseHeader("JasperServerError")&&!e.getResponseHeader("SuppressError"))&&o.error(e.responseText)}).fail(s.partial(t,"request:failure")).done(s.partial(t,"request:success"))}}),define("request",["require","jquery","underscore","jrs.configs","requestSettings","transport/xdmRequest","transport/xhrRequest"],function(e){"use strict";var t,i=e("jquery"),n=e("underscore"),s=e("jrs.configs"),o=e("requestSettings"),r=e("transport/xdmRequest"),a=e("transport/xhrRequest");return function(){t||(t=s.isXdm?r:a);var e=n.extend({},o,arguments[0]);return o.headers&&arguments[0].headers&&(e.headers=n.extend({},o.headers,arguments[0].headers)),arguments[0]=e,t.apply(i,arguments)}}),define("settings",["require","request","requestSettings","underscore","jrs.configs"],function(e){"use strict";var t=e("request"),i=e("requestSettings"),n=e("underscore"),s=e("jrs.configs"),o=s.contextPath+"/rest_v2/settings/",r=function(e,s){var r=n.extend({},i,{type:"GET",dataType:"json",url:o+e});t(r).fail(function(){s(null)}).then(function(e){s(e)})};return r.load=function(e,t,i,n){return n.isBuild?void i():void r(e,i)},r}),define("config/datepickerSettings",["require","jrs.configs","jquery.ui","underscore","settings!dateTimeSettings"],function(e){function t(e,t){var i="en";return e&&(s.contains(t,e)?i=e:s.contains(t,e.substring(0,2))&&(i=e.substring(0,2))),i.replace("_","-")}var i=e("jrs.configs"),n=e("jquery.ui"),s=e("underscore"),o=e("settings!dateTimeSettings"),r=t(i.userLocale,i.avaliableLocales);return o&&n(function(e){e.datepicker.regional[r]=o.datepicker,e.datepicker.setDefaults(e.datepicker.regional[r])}),n.datepicker.movePickerRelativelyToTriggerIcon=function(e,t){var i=n(e).offset().left,s=parseFloat(t.dpDiv.css("width").replace("px","")),o=i+e.offsetWidth+s<n(window).width();t.dpDiv.css({marginLeft:o?e.offsetWidth+"px":0})},n}),define("config/timepickerSettings",["require","jquery.timepicker.original","settings!dateTimeSettings","config/datepickerSettings"],function(e){var t=e("jquery.timepicker.original"),i=e("settings!dateTimeSettings");return e("config/datepickerSettings"),i&&t.timepicker.setDefaults(i.timepicker),t}),jQuery.noConflict();var JRS={vars:{element_scrolled:!1,ajax_in_progress:!1,current_flow:null,contextPath:__jrsConfigs__.contextPath},i18n:{}},Calendar={};if("undefined"==typeof isEncryptionOn)var isEncryptionOn=!1;var jaspersoft={components:{},i18n:{}};"undefined"==typeof JRS&&(JRS={Mocks:{}}),"undefined"==typeof JRS.vars&&(JRS.vars={element_scrolled:!1,ajax_in_progress:!1,current_flow:null}),"undefined"==typeof JRS.Export&&(JRS.Export={i18n:{"file.name.empty":"export.file.name.empty","file.name.too.long":"export.file.name.too.long","file.name.not.valid":"export.file.name.not.valid","export.select.users":"export.select.users","export.select.roles":"export.select.roles","export.session.expired":"export.session.expired","error.timeout":"export.file.name.empty"},configs:{TIMEOUT:12e5,DELAY:3e3}}),"undefined"==typeof localContext&&(localContext={}),__jrsConfigs__.calendar&&(JRS.i18n.bundledCalendarFormat=__jrsConfigs__.calendar.i18n.bundledCalendarFormat,JRS.i18n.bundledCalendarTimeFormat=__jrsConfigs__.calendar.i18n.bundledCalendarTimeFormat),define("namespace",["config/timepickerSettings"],function(e){return function(){var t;return t||e.jaspersoft}}(this));var ajax={};ajax.cancelRequestsBefore,ajax.LOADING_ID="loading",ajax.csrfRequestHeaders=new Hash,ajax.setCsrfHeaders=function(e){ajax.csrfRequestHeaders.each(function(t){e.setRequestHeader(t.key,t.value)})},AjaxRequester.addVar("CUMULATIVE_UPDATE","c").addVar("ROW_COPY_UPDATE","r").addVar("TARGETTED_REPLACE_UPDATE","t").addVar("EVAL_JSON","j").addVar("DUMMY_POST_PARAM","dummyPostData").addVar("MAX_WAIT_TIME",2e3).addVar("errorHandler",function(){return!1}).addMethod("doGet",function(){return this.xmlhttp?(this.xmlhttp.open("GET",this.url,this.async),this.xmlhttp.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),this.xmlhttp.setRequestHeader("If-Modified-Since","Sat, 1 Jan 2000 00:00:00 GMT"),this.xmlhttp.setRequestHeader("x-requested-with","AJAXRequest"),ajax.setCsrfHeaders(this.xmlhttp),this.xmlhttp.send(null),!0):!1}).addMethod("doPost",function(){return this.xmlhttp?(this.postData===AjaxRequester.prototype.DUMMY_POST_PARAM&&(this.postData=null),this.xmlhttp.open("POST",this.url,this.async),this.xmlhttp.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),this.xmlhttp.setRequestHeader("x-requested-with","AJAXRequest"),ajax.setCsrfHeaders(this.xmlhttp),this.xmlhttp.send(this.postData),!0):!1}).addMethod("processResponse",function(e){return function(){if(4==e.xmlhttp.readyState){if(ajax.cancelRequestsBefore&&ajax.cancelRequestsBefore>e.requestTime)return void ajaxRequestEnded(e);handleResponse(e)}}}).addMethod("setErrorHandler",function(e){this.errorHandler=errorHandler}).addMethod("verifyAjaxResponse",function(){return this.xmlhttp.getResponseHeader("Server")||this.confirmContinue()}).addMethod("startResponseTimer",function(){this.responseTimer=window.setTimeout(function(){dialogs.popup.show($(ajax.LOADING_ID),!0)},this.MAX_WAIT_TIME)}).addMethod("cancelResponseTimer",function(){window.clearTimeout(this.responseTimer)}).addMethod("confirmContinue",function(){return confirm(serverIsNotResponding)});var clobberingResponseHandler=function(e){var t=e.params[2];document.body.innerHTML=e.xmlhttp.responseText,document.fire("dom:loaded"),invokeCallbacks(t)},evalJSONResponseHandler=function(e){var t=null;try{t=e.xmlhttp.responseText.evalJSON()}catch(i){window.console&&console.log(i)}var n=e.params[2];invokeCallbacks(n,t)},ERROR_POPUP_DIV="jsErrorPopup",ERROR_POPUP_CONTENTS="errorPopupContents",ERROR_POPUP_BACK_BUTTON="errorBack",ERROR_POPUP_CLOSE_BUTTON="errorPopupCloseButton";ajax.ajaxRequestCount=0,define("core.ajax",["jquery","prototype","utils.common","builder","namespace"],function(e){return function(){var t;return t||e.ajax}}(this));var heartbeat={DOM_ID:"heartbeatOptin",PERMIT_CHECKBOX_ID:"heartbeatCheck",initialize:function(e){this._baseUrl=e.baseUrl,this._showDialog=e.showDialog,this._sendClientInfo=e.sendClientInfo,this._dom=$(this.DOM_ID),this._permit=$(this.PERMIT_CHECKBOX_ID),this._okButton=this._dom.select(layoutModule.BUTTON_PATTERN)[0],this._okButton.observe("click",this._okHandler.bind(this))},_okHandler:function(){dialogs.popup.hide(this._dom);var e=this._baseUrl+"/heartbeat.html?permit="+this._permit.checked;ajaxNonReturningUpdate(e,{errorHandler:baseErrorHandler})},start:function(){this._showDialog&&(dialogs.popup.show(this._dom),this._okButton.focus()),this._sendClientInfo&&this._doSendClientInfo()},_doSendClientInfo:function(){try{var e={};e.navAppName=navigator.appName,e.navAppVersion=navigator.appVersion,e.scrWidth=screen.width,e.scrHeight=screen.height,e.scrColorDepth=screen.colorDepth;var t=appendPostData("",e),i=this._baseUrl+"/heartbeatInfo.html";ajaxNonReturningUpdate(i,{postData:t})}catch(n){}}};define("components.heartbeat",["prototype","core.ajax"],function(e){return function(){
var t;return t||e.heartbeat}}(this)),String.prototype.parseColor=function(){var e="#";if("rgb("==this.slice(0,4)){var t=this.slice(4,this.length-1).split(","),i=0;do e+=parseInt(t[i]).toColorPart();while(++i<3)}else if("#"==this.slice(0,1)){if(4==this.length)for(var i=1;4>i;i++)e+=(this.charAt(i)+this.charAt(i)).toLowerCase();7==this.length&&(e=this.toLowerCase())}return 7==e.length?e:arguments[0]||this},Element.collectTextNodes=function(e){return $A($(e).childNodes).collect(function(e){return 3==e.nodeType?e.nodeValue:e.hasChildNodes()?Element.collectTextNodes(e):""}).flatten().join("")},Element.collectTextNodesIgnoreClass=function(e,t){return $A($(e).childNodes).collect(function(e){return 3==e.nodeType?e.nodeValue:e.hasChildNodes()&&!Element.hasClassName(e,t)?Element.collectTextNodesIgnoreClass(e,t):""}).flatten().join("")},Element.setContentZoom=function(e,t){return e=$(e),e.setStyle({fontSize:t/100+"em"}),Prototype.Browser.WebKit&&window.scrollBy(0,0),e},Element.getInlineOpacity=function(e){return $(e).style.opacity||""},Element.forceRerendering=function(e){try{e=$(e);var t=document.createTextNode(" ");e.appendChild(t),e.removeChild(t)}catch(i){}};var Effect={_elementDoesNotExistError:{name:"ElementDoesNotExistError",message:"The specified DOM element does not exist, but is required for this effect to operate"},Transitions:{linear:Prototype.K,sinoidal:function(e){return-Math.cos(e*Math.PI)/2+.5},reverse:function(e){return 1-e},flicker:function(e){var e=-Math.cos(e*Math.PI)/4+.75+Math.random()/4;return e>1?1:e},wobble:function(e){return-Math.cos(e*Math.PI*9*e)/2+.5},pulse:function(e,t){return-Math.cos(e*((t||5)-.5)*2*Math.PI)/2+.5},spring:function(e){return 1-Math.cos(4.5*e*Math.PI)*Math.exp(6*-e)},none:function(e){return 0},full:function(e){return 1}},DefaultOptions:{duration:1,fps:100,sync:!1,from:0,to:1,delay:0,queue:"parallel"},tagifyText:function(e){var t="position:relative";Prototype.Browser.IE&&(t+=";zoom:1"),e=$(e),$A(e.childNodes).each(function(i){3==i.nodeType&&(i.nodeValue.toArray().each(function(n){e.insertBefore(new Element("span",{style:t}).update(" "==n?String.fromCharCode(160):n),i)}),Element.remove(i))})},multiple:function(e,t){var i;i=("object"==typeof e||Object.isFunction(e))&&e.length?e:$(e).childNodes;var n=Object.extend({speed:.1,delay:0},arguments[2]||{}),s=n.delay;$A(i).each(function(e,i){new t(e,Object.extend(n,{delay:i*n.speed+s}))})},PAIRS:{slide:["SlideDown","SlideUp"],blind:["BlindDown","BlindUp"],appear:["Appear","Fade"]},toggle:function(e,t,i){return e=$(e),t=(t||"appear").toLowerCase(),Effect[Effect.PAIRS[t][e.visible()?1:0]](e,Object.extend({queue:{position:"end",scope:e.id||"global",limit:1}},i||{}))}};if(Effect.DefaultOptions.transition=Effect.Transitions.sinoidal,Effect.ScopedQueue=Class.create(Enumerable,{initialize:function(){this.effects=[],this.interval=null},_each:function(e){this.effects._each(e)},add:function(e){var t=(new Date).getTime(),i=Object.isString(e.options.queue)?e.options.queue:e.options.queue.position;switch(i){case"front":this.effects.findAll(function(e){return"idle"==e.state}).each(function(t){t.startOn+=e.finishOn,t.finishOn+=e.finishOn});break;case"with-last":t=this.effects.pluck("startOn").max()||t;break;case"end":t=this.effects.pluck("finishOn").max()||t}e.startOn+=t,e.finishOn+=t,(!e.options.queue.limit||this.effects.length<e.options.queue.limit)&&this.effects.push(e),this.interval||(this.interval=setInterval(this.loop.bind(this),15))},remove:function(e){this.effects=this.effects.reject(function(t){return t==e}),0==this.effects.length&&(clearInterval(this.interval),this.interval=null)},loop:function(){for(var e=(new Date).getTime(),t=0,i=this.effects.length;i>t;t++)this.effects[t]&&this.effects[t].loop(e)}}),Effect.Queues={instances:$H(),get:function(e){return Object.isString(e)?this.instances.get(e)||this.instances.set(e,new Effect.ScopedQueue):e}},Effect.Queue=Effect.Queues.get("global"),Effect.Base=Class.create({position:null,start:function(e){e&&e.transition===!1&&(e.transition=Effect.Transitions.linear),this.options=Object.extend(Object.extend({},Effect.DefaultOptions),e||{}),this.currentFrame=0,this.state="idle",this.startOn=1e3*this.options.delay,this.finishOn=this.startOn+1e3*this.options.duration,this.fromToDelta=this.options.to-this.options.from,this.totalTime=this.finishOn-this.startOn,this.totalFrames=this.options.fps*this.options.duration,this.render=function(){function e(e,t){e.options[t+"Internal"]&&e.options[t+"Internal"](e),e.options[t]&&e.options[t](e)}return function(t){"idle"===this.state&&(this.state="running",e(this,"beforeSetup"),this.setup&&this.setup(),e(this,"afterSetup")),"running"===this.state&&(t=this.options.transition(t)*this.fromToDelta+this.options.from,this.position=t,e(this,"beforeUpdate"),this.update&&this.update(t),e(this,"afterUpdate"))}}(),this.event("beforeStart"),this.options.sync||Effect.Queues.get(Object.isString(this.options.queue)?"global":this.options.queue.scope).add(this)},loop:function(e){if(e>=this.startOn){if(e>=this.finishOn)return this.render(1),this.cancel(),this.event("beforeFinish"),this.finish&&this.finish(),void this.event("afterFinish");var t=(e-this.startOn)/this.totalTime,i=(t*this.totalFrames).round();i>this.currentFrame&&(this.render(t),this.currentFrame=i)}},cancel:function(){this.options.sync||Effect.Queues.get(Object.isString(this.options.queue)?"global":this.options.queue.scope).remove(this),this.state="finished"},event:function(e){this.options[e+"Internal"]&&this.options[e+"Internal"](this),this.options[e]&&this.options[e](this)},inspect:function(){var e=$H();for(property in this)Object.isFunction(this[property])||e.set(property,this[property]);return"#<Effect:"+e.inspect()+",options:"+$H(this.options).inspect()+">"}}),Effect.Parallel=Class.create(Effect.Base,{initialize:function(e){this.effects=e||[],this.start(arguments[1])},update:function(e){this.effects.invoke("render",e)},finish:function(e){this.effects.each(function(t){t.render(1),t.cancel(),t.event("beforeFinish"),t.finish&&t.finish(e),t.event("afterFinish")})}}),Effect.Tween=Class.create(Effect.Base,{initialize:function(e,t,i){e=Object.isString(e)?$(e):e;var n=$A(arguments),s=n.last(),o=5==n.length?n[3]:null;this.method=Object.isFunction(s)?s.bind(e):Object.isFunction(e[s])?e[s].bind(e):function(t){e[s]=t},this.start(Object.extend({from:t,to:i},o||{}))},update:function(e){this.method(e)}}),Effect.Event=Class.create(Effect.Base,{initialize:function(){this.start(Object.extend({duration:0},arguments[0]||{}))},update:Prototype.emptyFunction}),Effect.Opacity=Class.create(Effect.Base,{initialize:function(e){if(this.element=$(e),!this.element)throw Effect._elementDoesNotExistError;Prototype.Browser.IE&&!this.element.currentStyle.hasLayout&&this.element.setStyle({zoom:1});var t=Object.extend({from:this.element.getOpacity()||0,to:1},arguments[1]||{});this.start(t)},update:function(e){this.element.setOpacity(e)}}),Effect.Move=Class.create(Effect.Base,{initialize:function(e){if(this.element=$(e),!this.element)throw Effect._elementDoesNotExistError;var t=Object.extend({x:0,y:0,mode:"relative"},arguments[1]||{});this.start(t)},setup:function(){this.element.makePositioned(),this.originalLeft=parseFloat(this.element.getStyle("left")||"0"),this.originalTop=parseFloat(this.element.getStyle("top")||"0"),"absolute"==this.options.mode&&(this.options.x=this.options.x-this.originalLeft,this.options.y=this.options.y-this.originalTop)},update:function(e){this.element.setStyle({left:(this.options.x*e+this.originalLeft).round()+"px",top:(this.options.y*e+this.originalTop).round()+"px"})}}),Effect.MoveBy=function(e,t,i){return new Effect.Move(e,Object.extend({x:i,y:t},arguments[3]||{}))},Effect.Scale=Class.create(Effect.Base,{initialize:function(e,t){if(this.element=$(e),!this.element)throw Effect._elementDoesNotExistError;var i=Object.extend({scaleX:!0,scaleY:!0,scaleContent:!0,scaleFromCenter:!1,scaleMode:"box",scaleFrom:100,scaleTo:t},arguments[2]||{});this.start(i)},setup:function(){this.restoreAfterFinish=this.options.restoreAfterFinish||!1,this.elementPositioning=this.element.getStyle("position"),this.originalStyle={},["top","left","width","height","fontSize"].each(function(e){this.originalStyle[e]=this.element.style[e]}.bind(this)),this.originalTop=this.element.offsetTop,this.originalLeft=this.element.offsetLeft;var e=this.element.getStyle("font-size")||"100%";["em","px","%","pt"].each(function(t){e.indexOf(t)>0&&(this.fontSize=parseFloat(e),this.fontSizeType=t)}.bind(this)),this.factor=(this.options.scaleTo-this.options.scaleFrom)/100,this.dims=null,"box"==this.options.scaleMode&&(this.dims=[this.element.offsetHeight,this.element.offsetWidth]),/^content/.test(this.options.scaleMode)&&(this.dims=[this.element.scrollHeight,this.element.scrollWidth]),this.dims||(this.dims=[this.options.scaleMode.originalHeight,this.options.scaleMode.originalWidth])},update:function(e){var t=this.options.scaleFrom/100+this.factor*e;this.options.scaleContent&&this.fontSize&&this.element.setStyle({fontSize:this.fontSize*t+this.fontSizeType}),this.setDimensions(this.dims[0]*t,this.dims[1]*t)},finish:function(e){this.restoreAfterFinish&&this.element.setStyle(this.originalStyle)},setDimensions:function(e,t){var i={};if(this.options.scaleX&&(i.width=t.round()+"px"),this.options.scaleY&&(i.height=e.round()+"px"),this.options.scaleFromCenter){var n=(e-this.dims[0])/2,s=(t-this.dims[1])/2;"absolute"==this.elementPositioning?(this.options.scaleY&&(i.top=this.originalTop-n+"px"),this.options.scaleX&&(i.left=this.originalLeft-s+"px")):(this.options.scaleY&&(i.top=-n+"px"),this.options.scaleX&&(i.left=-s+"px"))}this.element.setStyle(i)}}),Effect.Highlight=Class.create(Effect.Base,{initialize:function(e){if(this.element=$(e),!this.element)throw Effect._elementDoesNotExistError;var t=Object.extend({startcolor:"#ffff99"},arguments[1]||{});this.start(t)},setup:function(){return"none"==this.element.getStyle("display")?void this.cancel():(this.oldStyle={},this.options.keepBackgroundImage||(this.oldStyle.backgroundImage=this.element.getStyle("background-image"),this.element.setStyle({backgroundImage:"none"})),this.options.endcolor||(this.options.endcolor=this.element.getStyle("background-color").parseColor("#ffffff")),this.options.restorecolor||(this.options.restorecolor=this.element.getStyle("background-color")),this._base=$R(0,2).map(function(e){return parseInt(this.options.startcolor.slice(2*e+1,2*e+3),16)}.bind(this)),void(this._delta=$R(0,2).map(function(e){return parseInt(this.options.endcolor.slice(2*e+1,2*e+3),16)-this._base[e]}.bind(this))))},update:function(e){this.element.setStyle({backgroundColor:$R(0,2).inject("#",function(t,i,n){return t+(this._base[n]+this._delta[n]*e).round().toColorPart()}.bind(this))})},finish:function(){this.element.setStyle(Object.extend(this.oldStyle,{backgroundColor:this.options.restorecolor}))}}),Effect.ScrollTo=function(e){var t=arguments[1]||{},i=document.viewport.getScrollOffsets(),n=$(e).cumulativeOffset();return t.offset&&(n[1]+=t.offset),new Effect.Tween(null,i.top,n[1],t,function(e){scrollTo(i.left,e.round())})},Effect.Fade=function(e){e=$(e);var t=e.getInlineOpacity(),i=Object.extend({from:e.getOpacity()||1,to:0,afterFinishInternal:function(e){0==e.options.to&&e.element.hide().setStyle({opacity:t})}},arguments[1]||{});return new Effect.Opacity(e,i)},Effect.Appear=function(e){e=$(e);var t=Object.extend({from:"none"==e.getStyle("display")?0:e.getOpacity()||0,to:1,afterFinishInternal:function(e){e.element.forceRerendering()},beforeSetup:function(e){e.element.setOpacity(e.options.from).show()}},arguments[1]||{});return new Effect.Opacity(e,t)},Effect.Puff=function(e){e=$(e);var t={opacity:e.getInlineOpacity(),position:e.getStyle("position"),top:e.style.top,left:e.style.left,width:e.style.width,height:e.style.height};return new Effect.Parallel([new Effect.Scale(e,200,{sync:!0,scaleFromCenter:!0,scaleContent:!0,restoreAfterFinish:!0}),new Effect.Opacity(e,{sync:!0,to:0})],Object.extend({duration:1,beforeSetupInternal:function(e){Position.absolutize(e.effects[0].element)},afterFinishInternal:function(e){e.effects[0].element.hide().setStyle(t)}},arguments[1]||{}))},Effect.BlindUp=function(e){return e=$(e),e.makeClipping(),new Effect.Scale(e,0,Object.extend({scaleContent:!1,scaleX:!1,restoreAfterFinish:!0,afterFinishInternal:function(e){e.element.hide().undoClipping()}},arguments[1]||{}))},Effect.BlindDown=function(e){e=$(e);var t=e.getDimensions();return new Effect.Scale(e,100,Object.extend({scaleContent:!1,scaleX:!1,scaleFrom:0,scaleMode:{originalHeight:t.height,originalWidth:t.width},restoreAfterFinish:!0,afterSetup:function(e){e.element.makeClipping().setStyle({height:"0px"}).show()},afterFinishInternal:function(e){e.element.undoClipping()}},arguments[1]||{}))},Effect.SwitchOff=function(e){e=$(e);var t=e.getInlineOpacity();return new Effect.Appear(e,Object.extend({duration:.4,from:0,transition:Effect.Transitions.flicker,afterFinishInternal:function(e){new Effect.Scale(e.element,1,{duration:.3,scaleFromCenter:!0,scaleX:!1,scaleContent:!1,restoreAfterFinish:!0,beforeSetup:function(e){e.element.makePositioned().makeClipping()},afterFinishInternal:function(e){e.element.hide().undoClipping().undoPositioned().setStyle({opacity:t})}})}},arguments[1]||{}))},Effect.DropOut=function(e){e=$(e);var t={top:e.getStyle("top"),left:e.getStyle("left"),opacity:e.getInlineOpacity()};return new Effect.Parallel([new Effect.Move(e,{x:0,y:100,sync:!0}),new Effect.Opacity(e,{sync:!0,to:0})],Object.extend({duration:.5,beforeSetup:function(e){e.effects[0].element.makePositioned()},afterFinishInternal:function(e){e.effects[0].element.hide().undoPositioned().setStyle(t)}},arguments[1]||{}))},Effect.Shake=function(e){e=$(e);var t=Object.extend({distance:20,duration:.5},arguments[1]||{}),i=parseFloat(t.distance),n=parseFloat(t.duration)/10,s={top:e.getStyle("top"),left:e.getStyle("left")};return new Effect.Move(e,{x:i,y:0,duration:n,afterFinishInternal:function(e){new Effect.Move(e.element,{x:2*-i,y:0,duration:2*n,afterFinishInternal:function(e){new Effect.Move(e.element,{x:2*i,y:0,duration:2*n,afterFinishInternal:function(e){new Effect.Move(e.element,{x:2*-i,y:0,duration:2*n,afterFinishInternal:function(e){new Effect.Move(e.element,{x:2*i,y:0,duration:2*n,afterFinishInternal:function(e){new Effect.Move(e.element,{x:-i,y:0,duration:n,afterFinishInternal:function(e){e.element.undoPositioned().setStyle(s)}})}})}})}})}})}})},Effect.SlideDown=function(e){e=$(e).cleanWhitespace();var t=e.down().getStyle("bottom"),i=e.getDimensions();return new Effect.Scale(e,100,Object.extend({scaleContent:!1,scaleX:!1,scaleFrom:window.opera?0:1,scaleMode:{originalHeight:i.height,originalWidth:i.width},restoreAfterFinish:!0,afterSetup:function(e){e.element.makePositioned(),e.element.down().makePositioned(),window.opera&&e.element.setStyle({top:""}),e.element.makeClipping().setStyle({height:"0px"}).show()},afterUpdateInternal:function(e){e.element.down().setStyle({bottom:e.dims[0]-e.element.clientHeight+"px"})},afterFinishInternal:function(e){e.element.undoClipping().undoPositioned(),e.element.down().undoPositioned().setStyle({bottom:t})}},arguments[1]||{}))},Effect.SlideUp=function(e){e=$(e).cleanWhitespace();var t=e.down().getStyle("bottom"),i=e.getDimensions();return new Effect.Scale(e,window.opera?0:1,Object.extend({scaleContent:!1,scaleX:!1,scaleMode:"box",scaleFrom:100,scaleMode:{originalHeight:i.height,originalWidth:i.width},restoreAfterFinish:!0,afterSetup:function(e){e.element.makePositioned(),e.element.down().makePositioned(),window.opera&&e.element.setStyle({top:""}),e.element.makeClipping().show()},afterUpdateInternal:function(e){e.element.down().setStyle({bottom:e.dims[0]-e.element.clientHeight+"px"})},afterFinishInternal:function(e){e.element.hide().undoClipping().undoPositioned(),e.element.down().undoPositioned().setStyle({bottom:t})}},arguments[1]||{}))},Effect.Squish=function(e){return new Effect.Scale(e,window.opera?1:0,{restoreAfterFinish:!0,beforeSetup:function(e){e.element.makeClipping()},afterFinishInternal:function(e){e.element.hide().undoClipping()}})},Effect.Grow=function(e){e=$(e);var t,i,n,s,o=Object.extend({direction:"center",moveTransition:Effect.Transitions.sinoidal,scaleTransition:Effect.Transitions.sinoidal,opacityTransition:Effect.Transitions.full},arguments[1]||{}),r={top:e.style.top,left:e.style.left,height:e.style.height,width:e.style.width,opacity:e.getInlineOpacity()},a=e.getDimensions();switch(o.direction){case"top-left":t=i=n=s=0;break;case"top-right":t=a.width,i=s=0,n=-a.width;break;case"bottom-left":t=n=0,i=a.height,s=-a.height;break;case"bottom-right":t=a.width,i=a.height,n=-a.width,s=-a.height;break;case"center":t=a.width/2,i=a.height/2,n=-a.width/2,s=-a.height/2}return new Effect.Move(e,{x:t,y:i,duration:.01,beforeSetup:function(e){e.element.hide().makeClipping().makePositioned()},afterFinishInternal:function(e){new Effect.Parallel([new Effect.Opacity(e.element,{sync:!0,to:1,from:0,transition:o.opacityTransition}),new Effect.Move(e.element,{x:n,y:s,sync:!0,transition:o.moveTransition}),new Effect.Scale(e.element,100,{scaleMode:{originalHeight:a.height,originalWidth:a.width},sync:!0,scaleFrom:window.opera?1:0,transition:o.scaleTransition,restoreAfterFinish:!0})],Object.extend({beforeSetup:function(e){e.effects[0].element.setStyle({height:"0px"}).show()},afterFinishInternal:function(e){e.effects[0].element.undoClipping().undoPositioned().setStyle(r)}},o))}})},Effect.Shrink=function(e){e=$(e);var t,i,n=Object.extend({direction:"center",moveTransition:Effect.Transitions.sinoidal,scaleTransition:Effect.Transitions.sinoidal,opacityTransition:Effect.Transitions.none},arguments[1]||{}),s={top:e.style.top,left:e.style.left,height:e.style.height,width:e.style.width,opacity:e.getInlineOpacity()},o=e.getDimensions();switch(n.direction){case"top-left":t=i=0;break;case"top-right":t=o.width,i=0;break;case"bottom-left":t=0,i=o.height;break;case"bottom-right":t=o.width,i=o.height;break;case"center":t=o.width/2,i=o.height/2}return new Effect.Parallel([new Effect.Opacity(e,{sync:!0,to:0,from:1,transition:n.opacityTransition}),new Effect.Scale(e,window.opera?1:0,{sync:!0,transition:n.scaleTransition,restoreAfterFinish:!0}),new Effect.Move(e,{x:t,y:i,sync:!0,transition:n.moveTransition})],Object.extend({beforeStartInternal:function(e){e.effects[0].element.makePositioned().makeClipping()},afterFinishInternal:function(e){e.effects[0].element.hide().undoClipping().undoPositioned().setStyle(s)}},n))},Effect.Pulsate=function(e){e=$(e);var t=arguments[1]||{},i=e.getInlineOpacity(),n=t.transition||Effect.Transitions.linear,s=function(e){return 1-n(-Math.cos(e*(t.pulses||5)*2*Math.PI)/2+.5)};return new Effect.Opacity(e,Object.extend(Object.extend({duration:2,from:0,afterFinishInternal:function(e){e.element.setStyle({opacity:i})}},t),{transition:s}))},Effect.Fold=function(e){e=$(e);var t={top:e.style.top,left:e.style.left,width:e.style.width,height:e.style.height};return e.makeClipping(),new Effect.Scale(e,5,Object.extend({scaleContent:!1,scaleX:!1,afterFinishInternal:function(i){new Effect.Scale(e,1,{scaleContent:!1,scaleY:!1,afterFinishInternal:function(e){e.element.hide().undoClipping().setStyle(t)}})}},arguments[1]||{}))},Effect.Morph=Class.create(Effect.Base,{initialize:function(e){if(this.element=$(e),!this.element)throw Effect._elementDoesNotExistError;var t=Object.extend({style:{}},arguments[1]||{});if(Object.isString(t.style))if(t.style.include(":"))this.style=t.style.parseStyle();else{this.element.addClassName(t.style),this.style=$H(this.element.getStyles()),this.element.removeClassName(t.style);var i=this.element.getStyles();this.style=this.style.reject(function(e){return e.value==i[e.key]}),t.afterFinishInternal=function(e){e.element.addClassName(e.options.style),e.transforms.each(function(t){e.element.style[t.style]=""})}}else this.style=$H(t.style);this.start(t)},setup:function(){function e(e){return(!e||["rgba(0, 0, 0, 0)","transparent"].include(e))&&(e="#ffffff"),e=e.parseColor(),$R(0,2).map(function(t){return parseInt(e.slice(2*t+1,2*t+3),16)})}this.transforms=this.style.map(function(t){var i=t[0],n=t[1],s=null;if("#zzzzzz"!=n.parseColor("#zzzzzz"))n=n.parseColor(),s="color";else if("opacity"==i)n=parseFloat(n),Prototype.Browser.IE&&!this.element.currentStyle.hasLayout&&this.element.setStyle({zoom:1});else if(Element.CSS_LENGTH.test(n)){var o=n.match(/^([\+\-]?[0-9\.]+)(.*)$/);n=parseFloat(o[1]),s=3==o.length?o[2]:null}var r=this.element.getStyle(i);return{style:i.camelize(),originalValue:"color"==s?e(r):parseFloat(r||0),targetValue:"color"==s?e(n):n,unit:s}}.bind(this)).reject(function(e){return e.originalValue==e.targetValue||"color"!=e.unit&&(isNaN(e.originalValue)||isNaN(e.targetValue))})},update:function(e){for(var t,i={},n=this.transforms.length;n--;)i[(t=this.transforms[n]).style]="color"==t.unit?"#"+Math.round(t.originalValue[0]+(t.targetValue[0]-t.originalValue[0])*e).toColorPart()+Math.round(t.originalValue[1]+(t.targetValue[1]-t.originalValue[1])*e).toColorPart()+Math.round(t.originalValue[2]+(t.targetValue[2]-t.originalValue[2])*e).toColorPart():(t.originalValue+(t.targetValue-t.originalValue)*e).toFixed(3)+(null===t.unit?"":t.unit);this.element.setStyle(i,!0)}}),Effect.Transform=Class.create({initialize:function(e){this.tracks=[],this.options=arguments[1]||{},this.addTracks(e)},addTracks:function(e){return e.each(function(e){e=$H(e);var t=e.values().first();this.tracks.push($H({ids:e.keys().first(),effect:Effect.Morph,options:{style:t}}))}.bind(this)),this},play:function(){return new Effect.Parallel(this.tracks.map(function(e){var t=e.get("ids"),i=e.get("effect"),n=e.get("options"),s=[$(t)||$$(t)].flatten();return s.map(function(e){return new i(e,Object.extend({sync:!0},n))})}).flatten(),this.options)}}),Element.CSS_PROPERTIES=$w("backgroundColor backgroundPosition borderBottomColor borderBottomStyle borderBottomWidth borderLeftColor borderLeftStyle borderLeftWidth borderRightColor borderRightStyle borderRightWidth borderSpacing borderTopColor borderTopStyle borderTopWidth bottom clip color fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop markerOffset maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex"),Element.CSS_LENGTH=/^(([\+\-]?[0-9\.]+)(em|ex|px|in|cm|mm|pt|pc|\%))|0$/,String.__parseStyleElement=document.createElement("div"),String.prototype.parseStyle=function(){var e,t=$H();return Prototype.Browser.WebKit?e=new Element("div",{style:this}).style:(String.__parseStyleElement.innerHTML='<div style="'+this+'"></div>',e=String.__parseStyleElement.childNodes[0].style),Element.CSS_PROPERTIES.each(function(i){e[i]&&t.set(i,e[i])}),Prototype.Browser.IE&&this.include("opacity")&&t.set("opacity",this.match(/opacity:\s*((?:0|1)?(?:\.\d*)?)/)[1]),t},document.defaultView&&document.defaultView.getComputedStyle?Element.getStyles=function(e){var t=document.defaultView.getComputedStyle($(e),null);return Element.CSS_PROPERTIES.inject({},function(e,i){return e[i]=t[i],e})}:Element.getStyles=function(e){e=$(e);var t,i=e.currentStyle;return t=Element.CSS_PROPERTIES.inject({},function(e,t){return e[t]=i[t],e}),t.opacity||(t.opacity=e.getOpacity()),t},Effect.Methods={morph:function(e,t){return e=$(e),new Effect.Morph(e,Object.extend({style:t},arguments[2]||{})),e},visualEffect:function(e,t,i){e=$(e);var n=t.dasherize().camelize(),s=n.charAt(0).toUpperCase()+n.substring(1);return new Effect[s](e,i),e},highlight:function(e,t){return e=$(e),new Effect.Highlight(e,t),e}},$w("fade appear grow shrink fold blindUp blindDown slideUp slideDown pulsate shake puff squish switchOff dropOut").each(function(e){Effect.Methods[e]=function(t,i){return t=$(t),Effect[e.charAt(0).toUpperCase()+e.substring(1)](t,i),t}}),$w("getInlineOpacity forceRerendering setContentZoom collectTextNodes collectTextNodesIgnoreClass getStyles").each(function(e){Effect.Methods[e]=Element[e]}),Element.addMethods(Effect.Methods),define("effects",["prototype"],function(e){return function(){var t;return t||e.Effect}}(this)),define("utils.animation",["prototype","effects"],function(e){return function(){var t;return t||e.jQuery}}(this)),Object.isUndefined(Effect))throw"dragdrop.js requires including script.aculo.us' effects.js library";var Droppables={drops:[],remove:function(e){this.drops=this.drops.reject(function(t){return t.element==$(e)})},add:function(e){e=$(e);var t=Object.extend({greedy:!0,hoverclass:null,tree:!1},arguments[1]||{});if(t.containment){t._containers=[];var i=t.containment;Object.isArray(i)?i.each(function(e){t._containers.push($(e))}):t._containers.push($(i))}t.accept&&(t.accept=[t.accept].flatten()),Element.makePositioned(e),t.element=e,this.drops.push(t)},findDeepestChild:function(e){for(deepest=e[0],i=1;i<e.length;++i)Element.isParent(e[i].element,deepest.element)&&(deepest=e[i]);return deepest},isContained:function(e,t){var i;return i=t.tree?e.treeNode:e.parentNode,t._containers.detect(function(e){return i==e})},isAffected:function(e,t,i){return i.element!=t&&(!i._containers||this.isContained(t,i))&&(!i.accept||Element.classNames(t).detect(function(e){return i.accept.include(e)}))&&Position.within(i.element,e[0],e[1])},deactivate:function(e){e.hoverclass&&Element.removeClassName(e.element,e.hoverclass),this.last_active=null},activate:function(e){e.hoverclass&&Element.addClassName(e.element,e.hoverclass),this.last_active=e},show:function(e,t){if(this.drops.length){var i,n=[];this.drops.each(function(i){Droppables.isAffected(e,t,i)&&n.push(i)}),n.length>0&&(i=Droppables.findDeepestChild(n)),this.last_active&&this.last_active!=i&&this.deactivate(this.last_active),i&&(Position.within(i.element,e[0],e[1]),i.onHover&&i.onHover(t,i.element,Position.overlap(i.overlap,i.element)),i!=this.last_active&&Droppables.activate(i))}},fire:function(e,t){if(this.last_active){var i;return Position.prepare(),i=Draggables.supportsTouch?Draggables._lastPointer:[Event.pointerX(e),Event.pointerY(e)],this.isAffected(i,t,this.last_active)&&this.last_active.onDrop?(this.last_active.onDrop(t,this.last_active.element,e),!0):void 0}},reset:function(){this.last_active&&this.deactivate(this.last_active)}},Draggables={DEFAULT_TOLERANCE:window.Prototype.BrowserFeatures.SupportsTouch?2:1,drags:[],observers:[],supportsTouch:window.Prototype.BrowserFeatures.SupportsTouch,register:function(e){0==this.drags.length&&(this.eventMouseUp=this.endDrag.bindAsEventListener(this),this.eventMouseMove=this.updateDrag.bindAsEventListener(this),this.eventKeypress=this.keyPress.bindAsEventListener(this),Draggables.supportsTouch?(Event.observe(document,"touchend",this.eventMouseUp),Event.observe(document,"touchmove",this.eventMouseMove)):Event.observe(document,"mouseup",this.eventMouseUp),Event.observe(document,"keypress",this.eventKeypress)),this.drags.push(e)},unregister:function(e){this.drags=this.drags.reject(function(t){return t==e}),0==this.drags.length&&(Draggables.supportsTouch?(Event.stopObserving(document,"touchend",this.eventMouseUp),Event.stopObserving(document,"touchmove",this.eventMouseMove)):Event.stopObserving(document,"mouseup",this.eventMouseUp),Event.stopObserving(document,"keypress",this.eventKeypress))},activate:function(e){Draggables.supportsTouch||Event.observe(document,"mousemove",this.eventMouseMove),e.options.delay?this._timeout=setTimeout(function(){Draggables._timeout=null,window.focus(),Draggables.activeDraggable=e}.bind(this),e.options.delay):(window.focus(),this.activeDraggable=e)},deactivate:function(){Draggables.supportsTouch||Event.stopObserving(document,"mousemove",this.eventMouseMove),this.activeDraggable=null},updateDrag:function(e){if(this.activeDraggable){var t=[Event.pointerX(e),Event.pointerY(e)];this.pointerInRadius(t)||(this._lastPointer=t,this.activeDraggable.updateDrag(e,t))}},pointerInRadius:function(e,t){return t=t||2,this._lastPointer&&Math.abs(this._lastPointer[0]-e[0])<=t&&Math.abs(this._lastPointer[1]-e[1])<=t},endDrag:function(e){this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this.activeDraggable&&(Draggables.supportsTouch||(this._lastPointer=null),this.activeDraggable.endDrag(e),this.activeDraggable=null)},keyPress:function(e){this.activeDraggable&&this.activeDraggable.keyPress(e)},addObserver:function(e){this.observers.push(e),this._cacheObserverCallbacks()},removeObserver:function(e){this.observers=this.observers.reject(function(t){return t.element==e||t.element&&e&&t.element.id==e.id}),this._cacheObserverCallbacks()},notify:function(e,t,i){this[e+"Count"]>0&&this.observers.each(function(n){n[e]&&n[e](e,t,i)}),t.options[e]&&t.options[e](t,i)},_cacheObserverCallbacks:function(){["onStart","onEnd","onDrag"].each(function(e){Draggables[e+"Count"]=Draggables.observers.select(function(t){return t[e]}).length})}},Draggable=Class.create({initialize:function(e){var t={handle:!1,reverteffect:function(e,t,i){var n=.02*Math.sqrt(Math.abs(2^t)+Math.abs(2^i));new Effect.Move(e,{x:-i,y:-t,duration:n,queue:{scope:"_draggable",position:"end"}})},endeffect:function(e){Draggable._dragging[e]=!1},zindex:1e3,revert:!1,quiet:!1,scroll:!1,scrollSensitivity:20,scrollSpeed:15,snap:!1,delay:0};(!arguments[1]||Object.isUndefined(arguments[1].endeffect))&&Object.extend(t,{starteffect:function(e){e._opacity=Element.getOpacity(e),Draggable._dragging[e]=!0}});var i=Object.extend(t,arguments[1]||{});this.element=$(e),i.handle&&Object.isString(i.handle)&&(this.handle=this.element.down("."+i.handle,0)),this.handle||(this.handle=$(i.handle)),this.handle||(this.handle=this.element),!i.scroll||i.scroll.scrollTo||i.scroll.outerHTML||(i.scroll=$(i.scroll),this._isScrollChild=Element.childOf(this.element,i.scroll)),Element.makePositioned(this.element),this.options=i,this.dragging=!1,this.eventMouseDown=this.initDrag.bindAsEventListener(this),Draggables.supportsTouch?Event.observe(this.handle,"touchstart",this.eventMouseDown):Event.observe(this.handle,"mousedown",this.eventMouseDown),Draggables.register(this)},destroy:function(){Draggables.supportsTouch?Event.stopObserving(this.handle,"touchstart",this.eventMouseDown):Event.stopObserving(this.handle,"mousedown",this.eventMouseDown),Draggables.unregister(this)},currentDelta:function(){var e=Element.getStyle(this.element,"left")||"",t=Element.getStyle(this.element,"top")||"";return e.include("%")&&(e=this.element.parentNode.getWidth()*parseInt(e)/100),t.include("%")&&(t=this.element.parentNode.getHeight()*parseInt(t)/100),[parseInt(e)||"0",parseInt(t)||"0"]},initDrag:function(e){if((Object.isUndefined(Draggable._dragging[this.element])||!Draggable._dragging[this.element])&&(Event.isLeftClick(e)||Draggables.supportsTouch&&e.touches&&1==e.touches.length)){var t=Event.element(e);if((tag_name=t.tagName.toUpperCase())&&("INPUT"==tag_name||"SELECT"==tag_name||"OPTION"==tag_name||"BUTTON"==tag_name||"TEXTAREA"==tag_name))return;var i=[Event.pointerX(e),Event.pointerY(e)],n=this.element.cumulativeOffset();this.offset=[0,1].map(function(e){return i[e]-n[e]}),Draggables.activate(this),this.countdown=Draggables.DEFAULT_TOLERANCE,Event.stop(e),Draggables.supportsTouch?this.handle.fire("drag:"+e.type,{targetEvent:e}):this.handle.fire("drag:mousedown",{targetEvent:e})}},startDrag:function(e){if(this.dragging=!0,this.delta||(this.delta=this.currentDelta()),this.options.zindex&&(this.originalZ=parseInt(Element.getStyle(this.element,"z-index")||0),this.element.style.zIndex=this.options.zindex),this.options.ghosting&&(this._clone=this.element.cloneNode(!0),this._originallyAbsolute="absolute"==this.element.getStyle("position"),this._originallyAbsolute||Position.absolutize(this.element),this.element.parentNode.insertBefore(this._clone,this.element),"TR"===this.element.parentNode.tagName&&document.body.appendChild(this.element)),this.options.scroll)if(this.options.scroll==window){var t=this._getWindowScroll(this.options.scroll);this.originalScrollLeft=t.left,this.originalScrollTop=t.top;
}else this.originalScrollLeft=this.options.scroll.scrollLeft,this.originalScrollTop=this.options.scroll.scrollTop;Draggables.notify("onStart",this,e),this.options.starteffect&&this.options.starteffect(this.element)},updateDrag:function(event,pointer){if(!this.dragging)if(Draggables.supportsTouch){if(!isIE7()&&this.countdown&&this.countdown--)return;this.startDrag(event)}else{if(this.countdown&&this.countdown--)return;this.startDrag(event)}if(Draggables.supportsTouch&&event.touches.length>1&&this.endDrag(event),this.options.quiet||(Position.prepare(),Droppables.show(pointer,this.element)),Draggables.notify("onDrag",this,event),this.draw(pointer),this.options.change&&this.options.change(this),this.options.scroll){this.stopScrolling();var p;if(this.options.scroll==window)with(this._getWindowScroll(this.options.scroll))p=[left,top,left+width,top+height];else p=Position.page(this.options.scroll).toArray(),p[0]+=this.options.scroll.scrollLeft+Position.deltaX,p[1]+=this.options.scroll.scrollTop+Position.deltaY,p.push(p[0]+this.options.scroll.offsetWidth),p.push(p[1]+this.options.scroll.offsetHeight);var speed=[0,0];pointer[0]<p[0]+this.options.scrollSensitivity&&(speed[0]=pointer[0]-(p[0]+this.options.scrollSensitivity)),pointer[1]<p[1]+this.options.scrollSensitivity&&(speed[1]=pointer[1]-(p[1]+this.options.scrollSensitivity)),pointer[0]>p[2]-this.options.scrollSensitivity&&(speed[0]=pointer[0]-(p[2]-this.options.scrollSensitivity)),pointer[1]>p[3]-this.options.scrollSensitivity&&(speed[1]=pointer[1]-(p[3]-this.options.scrollSensitivity)),this.startScrolling(speed)}Prototype.Browser.WebKit&&window.scrollBy(0,0),Event.stop(event)},finishDrag:function(e,t){if(this.dragging=!1,this.options.quiet){Position.prepare();var i=[Event.pointerX(e),Event.pointerY(e)];Droppables.show(i,this.element)}this.options.ghosting&&(this._originallyAbsolute||(Position.relativize(this.element),"TR"===this._clone.parentNode.tagName&&this._clone.parentNode.insertBefore(this.element,this._clone)),delete this._originallyAbsolute,Element.remove(this._clone),this._clone=null);var n=!1;t&&(n=Droppables.fire(e,this.element),n?Draggables.supportsTouch&&(Draggables._lastPointer=null):n=!1),n&&this.options.onDropped&&this.options.onDropped(this.element),Draggables.notify("onEnd",this,e);var s=this.options.revert;s&&Object.isFunction(s)&&(s=s(this.element));var o=this.currentDelta();s&&this.options.reverteffect?(0==n||"failure"!=s)&&this.options.reverteffect(this.element,o[1]-this.delta[1],o[0]-this.delta[0]):this.delta=o,this.options.zindex&&(this.element.style.zIndex=this.originalZ),this.options.endeffect&&this.options.endeffect(this.element),Draggables.deactivate(this),Droppables.reset()},keyPress:function(e){e.keyCode==Event.KEY_ESC&&(this.finishDrag(e,!1),Event.stop(e))},endDrag:function(e){this.dragging&&(this.stopScrolling(),this.finishDrag(e,!0),Event.stop(e))},draw:function(e){var t=this.element.cumulativeOffset();if(this.options.ghosting){var i=Position.realOffset(this.element);t[0]+=i[0]-Position.deltaX,t[1]+=i[1]-Position.deltaY}var n=this.currentDelta();t[0]-=n[0],t[1]-=n[1],this.options.scroll&&this.options.scroll!=window&&this._isScrollChild&&(t[0]-=this.options.scroll.scrollLeft-this.originalScrollLeft,t[1]-=this.options.scroll.scrollTop-this.originalScrollTop);var s=[0,1].map(function(i){return e[i]-t[i]-this.offset[i]}.bind(this));this.options.snap&&(s=Object.isFunction(this.options.snap)?this.options.snap(s[0],s[1],this):Object.isArray(this.options.snap)?s.map(function(e,t){return(e/this.options.snap[t]).round()*this.options.snap[t]}.bind(this)):s.map(function(e){return(e/this.options.snap).round()*this.options.snap}.bind(this)));var o=this.element.style;this.options.constraint&&"horizontal"!=this.options.constraint||(o.left=s[0]+"px"),this.options.constraint&&"vertical"!=this.options.constraint||(o.top=s[1]+"px"),"hidden"==o.visibility&&(o.visibility="")},stopScrolling:function(){this.scrollInterval&&(clearInterval(this.scrollInterval),this.scrollInterval=null,Draggables._lastScrollPointer=null)},startScrolling:function(e){(e[0]||e[1])&&(this.scrollSpeed=[e[0]*this.options.scrollSpeed,e[1]*this.options.scrollSpeed],this.lastScrolled=new Date,this.scrollInterval=setInterval(this.scroll.bind(this),10))},scroll:function(){var current=new Date,delta=current-this.lastScrolled;if(this.lastScrolled=current,this.options.scroll==window){with(this._getWindowScroll(this.options.scroll))if(this.scrollSpeed[0]||this.scrollSpeed[1]){var d=delta/1e3;this.options.scroll.scrollTo(left+d*this.scrollSpeed[0],top+d*this.scrollSpeed[1])}}else this.options.scroll.scrollLeft+=this.scrollSpeed[0]*delta/1e3,this.options.scroll.scrollTop+=this.scrollSpeed[1]*delta/1e3;Position.prepare(),Droppables.show(Draggables._lastPointer,this.element),Draggables.notify("onDrag",this),this._isScrollChild&&(Draggables._lastScrollPointer=Draggables._lastScrollPointer||$A(Draggables._lastPointer),Draggables._lastScrollPointer[0]+=this.scrollSpeed[0]*delta/1e3,Draggables._lastScrollPointer[1]+=this.scrollSpeed[1]*delta/1e3,Draggables._lastScrollPointer[0]<0&&(Draggables._lastScrollPointer[0]=0),Draggables._lastScrollPointer[1]<0&&(Draggables._lastScrollPointer[1]=0),this.draw(Draggables._lastScrollPointer)),this.options.change&&this.options.change(this)},_getWindowScroll:function(w){var T,L,W,H;with(w.document)w.document.documentElement&&documentElement.scrollTop?(T=documentElement.scrollTop,L=documentElement.scrollLeft):w.document.body&&(T=body.scrollTop,L=body.scrollLeft),w.innerWidth?(W=w.innerWidth,H=w.innerHeight):w.document.documentElement&&documentElement.clientWidth?(W=documentElement.clientWidth,H=documentElement.clientHeight):(W=body.offsetWidth,H=body.offsetHeight);return{top:T,left:L,width:W,height:H}}});Draggable._dragging={};var SortableObserver=Class.create({initialize:function(e,t){this.element=$(e),this.observer=t,this.lastValue=Sortable.serialize(this.element)},onStart:function(){this.lastValue=Sortable.serialize(this.element)},onEnd:function(){Sortable.unmark(),this.lastValue!=Sortable.serialize(this.element)&&this.observer(this.element)}}),Sortable={SERIALIZE_RULE:/^[^_\-](?:[A-Za-z0-9\-\_]*)[_](.*)$/,sortables:{},_findRootElement:function(e){for(;"BODY"!=e.tagName.toUpperCase();){if(e.id&&Sortable.sortables[e.id])return e;e=e.parentNode}},options:function(e){return(e=Sortable._findRootElement($(e)))?Sortable.sortables[e.id]:void 0},destroy:function(e){e=$(e);var t=Sortable.sortables[e.id];t&&(Draggables.removeObserver(t.element),t.droppables.each(function(e){Droppables.remove(e)}),t.draggables.invoke("destroy"),delete Sortable.sortables[t.element.id])},create:function(e){e=$(e);var t=Object.extend({element:e,tag:"li",dropOnEmpty:!1,accept:[],tree:!1,treeTag:"ul",overlap:"vertical",constraint:"vertical",containment:e,handle:!1,only:!1,delay:0,hoverclass:null,ghosting:!1,quiet:!1,scroll:!1,scrollSensitivity:20,scrollSpeed:15,format:this.SERIALIZE_RULE,elements:!1,handles:!1,onDrop:Prototype.emptyFunction,onHover:Sortable.onHover,onChange:Prototype.emptyFunction,onUpdate:Prototype.emptyFunction},arguments[1]||{});this.destroy(e);var i={revert:!0,quiet:t.quiet,scroll:t.scroll,scrollSpeed:t.scrollSpeed,scrollSensitivity:t.scrollSensitivity,delay:t.delay,ghosting:t.ghosting,constraint:t.constraint,onStart:t.onStart,handle:t.handle};t.starteffect&&(i.starteffect=t.starteffect),t.reverteffect?i.reverteffect=t.reverteffect:t.ghosting&&(i.reverteffect=function(e){e.style.top=0,e.style.left=0}),t.endeffect&&(i.endeffect=t.endeffect),t.zindex&&(i.zindex=t.zindex);var n={overlap:t.overlap,containment:t.containment,tree:t.tree,hoverclass:t.hoverclass,onHover:t.onHover,onDrop:t.onDrop},s={onHover:t.onEmptyHover||Sortable.onEmptyHover,overlap:t.overlap,containment:t.containment,hoverclass:t.hoverclass,accept:t.accept,onDrop:t.onDrop};Element.cleanWhitespace(e),t.draggables=[],t.droppables=[],(t.dropOnEmpty||t.tree)&&(Droppables.add(e,s),t.droppables.push(e)),(t.elements||this.findElements(e,t)||[]).each(function(s,o){var r=t.handles?$(t.handles[o]):t.handle?$(s).select("."+t.handle)[0]:s;t.draggables.push(new Draggable(s,Object.extend(i,{handle:r}))),Droppables.add(s,n),t.tree&&(s.treeNode=e),t.droppables.push(s)}),t.tree&&(Sortable.findTreeElements(e,t)||[]).each(function(i){Droppables.add(i,s),i.treeNode=e,t.droppables.push(i)}),this.sortables[e.identify()]=t,Draggables.addObserver(new SortableObserver(e,t.onUpdate))},findElements:function(e,t){return Element.findChildren(e,t.only,t.tree?!0:!1,t.tag)},findTreeElements:function(e,t){return Element.findChildren(e,t.only,t.tree?!0:!1,t.treeTag)},onHover:function(e,t,i){var n=null,s=null;if(!(Element.isParent(t,e)||i>.33&&.66>i&&Sortable.options(t).tree))if(i>.5)Sortable.mark(t,"before"),t.previousSibling!=e&&(n=e.parentNode,e.style.visibility="hidden",t.parentNode.insertBefore(e,t),t.parentNode!=n&&(s=Sortable.options(n),s&&s.onChange(e)),Sortable.options(t.parentNode).onChange(e));else{Sortable.mark(t,"after");var o=t.nextSibling||null;o!=e&&(n=e.parentNode,e.style.visibility="hidden",t.parentNode.insertBefore(e,o),t.parentNode!=n&&(s=Sortable.options(n),s&&s.onChange(e)),Sortable.options(t.parentNode).onChange(e))}},onEmptyHover:function(e,t,i){var n=e.parentNode,s=Sortable.options(t);if(!Element.isParent(t,e)){var o,r=Sortable.findElements(t,{tag:s.tag,only:s.only}),a=null;if(r){var l,c=null,u=Element.offsetSize(t,s.overlap)*(1-i);for(o=0;o<r.length;o+=1)if(c=Element.offsetSize(r[o],s.overlap),l=r[o].cumulativeOffset().top,Position.ycomp>=l&&Position.ycomp<l+r[o].offsetHeight){if(!(u-c>=0)){if(u-c/2>=0){a=o+1<r.length?r[o+1]:null;break}a=r[o];break}u-=c}}t.insertBefore(e,a);var d=Sortable.options(n);d&&d.onChange(e),s.onChange(e)}},unmark:function(){Sortable._marker&&Sortable._marker.hide()},mark:function(e,t){var i=Sortable.options(e.parentNode);if(!i||i.ghosting){Sortable._marker||(Sortable._marker=($("dropmarker")||Element.extend(document.createElement("DIV"))).hide().addClassName("dropmarker").setStyle({position:"absolute"}),document.getElementsByTagName("body").item(0).appendChild(Sortable._marker));var n=e.cumulativeOffset();Sortable._marker.setStyle({left:n[0]+"px",top:n[1]+"px"}),"after"==t&&("horizontal"==i.overlap?Sortable._marker.setStyle({left:n[0]+e.clientWidth+"px"}):Sortable._marker.setStyle({top:n[1]+e.clientHeight+"px"})),Sortable._marker.show()}},_tree:function(e,t,i){for(var n=Sortable.findElements(e,t)||[],s=0;s<n.length;++s){var o=n[s].id.match(t.format);if(o){var r={id:encodeURIComponent(o?o[1]:null),element:e,parent:i,children:[],position:i.children.length,container:$(n[s]).down(t.treeTag)};r.container&&this._tree(r.container,t,r),i.children.push(r)}}return i},tree:function(e){e=$(e);var t=this.options(e),i=Object.extend({tag:t.tag,treeTag:t.treeTag,only:t.only,name:e.id,format:t.format},arguments[1]||{}),n={id:null,parent:null,children:[],container:e,position:0};return Sortable._tree(e,i,n)},_constructIndex:function(e){var t="";do e.id&&(t="["+e.position+"]"+t);while(null!=(e=e.parent));return t},sequence:function(e){e=$(e);var t=Object.extend(this.options(e),arguments[1]||{});return $(this.findElements(e,t)||[]).map(function(e){return e.id.match(t.format)?e.id.match(t.format)[1]:""})},setSequence:function(e,t){e=$(e);var i=Object.extend(this.options(e),arguments[2]||{}),n={};this.findElements(e,i).each(function(e){e.id.match(i.format)&&(n[e.id.match(i.format)[1]]=[e,e.parentNode]),e.parentNode.removeChild(e)}),t.each(function(e){var t=n[e];t&&(t[1].appendChild(t[0]),delete n[e])})},serialize:function(e){e=$(e);var t=Object.extend(Sortable.options(e),arguments[1]||{}),i=encodeURIComponent(arguments[1]&&arguments[1].name?arguments[1].name:e.id);return t.tree?Sortable.tree(e,arguments[1]).children.map(function(e){return[i+Sortable._constructIndex(e)+"[id]="+encodeURIComponent(e.id)].concat(e.children.map(arguments.callee))}).flatten().join("&"):Sortable.sequence(e,arguments[1]).map(function(e){return i+"[]="+encodeURIComponent(e)}).join("&")}};Element.isParent=function(e,t){return e.parentNode&&e!=t?e.parentNode==t?!0:Element.isParent(e.parentNode,t):!1},Element.findChildren=function(e,t,i,n){if(!e.hasChildNodes())return null;n=n.toUpperCase(),t&&(t=[t].flatten());var s=[];return $A(e.childNodes).each(function(e){if(!e.tagName||e.tagName.toUpperCase()!=n||t&&!Element.classNames(e).detect(function(e){return t.include(e)})||s.push(e),i){var o=Element.findChildren(e,t,i,n);o&&s.push(o)}}),s.length>0?s.flatten():[]},Element.offsetSize=function(e,t){return e["offset"+("vertical"==t||"height"==t?"Height":"Width")]},define("dragdrop",["prototype","effects"],function(e){return function(){var t;return t||e.Draggable}}(this)),Draggable.prototype.startDrag=function(e){this.dragging=!0,this.delta||(this.delta=this.currentDelta()),this.options.zindex&&(this.originalZ=parseInt(Element.getStyle(this.element,"z-index")||0),this.element.style.zIndex=this.options.zindex),this.options.ghosting&&(this._clone=this.element.cloneNode(!0),this.element._originallyAbsolute="absolute"==this.element.getStyle("position"),this.element._originallyAbsolute||Position.absolutize(this.element),this.element.parentNode.insertBefore(this._clone,this.element));var t=jQuery("body"),i=jQuery(this.element),n=i.offset();if(this._sizes={window:{w:t.outerWidth(!0),h:t.outerHeight(!0)},element:{w:i.outerWidth(),h:i.outerHeight()},mouseOffset:{left:Event.pointerX(e)-n.left,top:Event.pointerY(e)-n.top}},this.options.superghosting){Position.prepare();var s=[Event.pointerX(e),Event.pointerY(e)];body=document.getElementsByTagName("body")[0],me=this.element,this._clone=me.cloneNode(!0),me.parentNode.insertBefore(this._clone,me),me.id="clone_"+me.id,me.hide(),Position.absolutize(me),me.parentNode.removeChild(me),body.appendChild(me),("0px"==me.style.width||"0px"==me.style.height)&&(me.style.width=Element.getWidth(this._clone)+"px",me.style.height=Element.getHeight(this._clone)+"px"),this.originalScrollTop=Element.getHeight(this._clone)/2,this.draw(s),me.show()}if(this.options.scroll)if(this.options.scroll==window){var o=this._getWindowScroll(this.options.scroll);this.originalScrollLeft=o.left,this.originalScrollTop=o.top}else this.originalScrollLeft=this.options.scroll.scrollLeft,this.originalScrollTop=this.options.scroll.scrollTop;Draggables.notify("onStart",this,e),this.options.starteffect&&this.options.starteffect(this.element)},Draggable.prototype.draw=function(e){"undefined"==typeof this.elemSizeCaptured&&(setTimeout(function(){if(this._sizes){var e=jQuery(this.element);this._sizes.element={w:e.outerWidth(),h:e.outerHeight()}}}.bind(this),100),this.elemSizeCaptured=!0);var t=jQuery(this.element),i=t.offset(),n={left:e[0]-this._sizes.mouseOffset.left,top:e[1]-this._sizes.mouseOffset.top},s=[n.left,n.top];this.options.snap&&(s=Object.isFunction(this.options.snap)?this.options.snap(s[0],s[1],this):Object.isArray(this.options.snap)?s.map(function(e,t){return(e/this.options.snap[t]).round()*this.options.snap[t]}.bind(this)):s.map(function(e){return(e/this.options.snap).round()*this.options.snap}.bind(this))),n={left:s[0],top:s[1]},this.options.constraint&&"horizontal"==this.options.constraint&&(n.top=i.top),this.options.constraint&&"vertical"==this.options.constraint&&(n.left=i.left),this.options.mouseOffset&&(n={left:e[0],top:e[1]}),(0>n.top||0>n.left||n.top+this._sizes.element.h>this._sizes.window.h||n.left+this._sizes.element.w>this._sizes.window.w)&&(0>n.top&&(n.top=0),0>n.left&&(n.left=0),n.top+this._sizes.element.h>this._sizes.window.h&&(n.top=this._sizes.window.h-this._sizes.element.h),n.left+this._sizes.element.w>this._sizes.window.w&&(n.left=this._sizes.window.w-this._sizes.element.w)),t.offset(n),this._sequencer=this._sequencer||0,this._sequencer++,1==this._sequencer&&t.offset(n)},Droppables.isAffected=function(e,t,i){return Position.prepare(),positioned_within=Position.withinIncludingScrolloffsets(i.element,e[0],e[1]),i.element!=t&&(!i._containers||this.isContained(t,i))&&(!i.accept||Element.classNames(t).detect(function(e){return i.accept.include(e)}))&&positioned_within},Draggable.prototype.finishDrag=function(e,t){if(this.dragging=!1,delete this._sequencer,delete this._sizes,this.options.quiet){Position.prepare();var i=[Event.pointerX(e),Event.pointerY(e)];Droppables.show(i,this.element)}this.options.ghosting&&(this.element._originallyAbsolute||Position.relativize(this.element),this.element._originallyAbsolute=void 0,Element.remove(this._clone),this._clone=null),this.options.superghosting&&(body=document.getElementsByTagName("body")[0],Element.remove(this.element),new Draggable(this._clone,this.options));var n=!1;t&&(n=Droppables.fire(e,this.element),n||(n=!1)),n&&this.options.onDropped&&this.options.onDropped(this.element),Draggables.notify("onEnd",this,e);var s=this.options.revert;s&&"function"==typeof s&&(s=s(this.element));var o=this.currentDelta();s&&this.options.reverteffect?(0==n||"failure"!=s)&&this.options.reverteffect(this.element,o[1]-this.delta[1],o[0]-this.delta[0]):this.delta=o,this.options.zindex&&(this.element.style.zIndex=this.originalZ,this._clone&&(this._clone.style.zIndex=this.originalZ)),this.options.endeffect&&this.options.endeffect(this.element),Draggables.deactivate(this),Droppables.reset()},define("dragdrop.extra",["dragdrop","jquery"],function(e){return function(){var t;return t||e.Draggable}}(this));var Truncator=Class.create({initialize:function(e,t){if(e&&e[0]){var i=null;t&&(i=t),e.each(function(e){this.truncate(e,i)}.bind(this))}},truncate:function(e,t){if("ABBR"==e.nodeName){var i=e.title.replace("&quot;",'"');e=e.parentNode,e.update(i.strip().escapeHTML())}var n=Object.isUndefined(e.innerText)?e.textContent:e.innerText;e.insert(Truncator.template.evaluate({divId:Truncator.tmpDivId,spanId:Truncator.tmpSpanId}));var s=$(Truncator.tmpSpanId);s.insert(n.escapeHTML());var o=t?t:e.getWidth(),r=s.getWidth();if(o>=r)return void $(Truncator.tmpDivId).remove();for(var a=n,l=0,c=n.length,u=(c-l)/2;u>1;)u+=l,a=n.substr(0,u),isIE()?s.innerText=a:s.update(a.escapeHTML()),s.getWidth()+30>o?c=u:l=u,u=(c-l)/2;$(Truncator.tmpDivId).remove(),e.update(this.truncateString(this.ellipsifyString(a.escapeHTML()),n.escapeHTML().replace('"',"&quot;")))},untruncate:function(e){e.each(function(e){"ABBR"==e.nodeName&&e.update(e.title.strip().escapeHTML())})},ellipsifyString:function(e){return e+"&hellip;"},truncateString:function(e,t){return'<abbr title="'+t+'">'+e+"</abbr>"}});Truncator.tmpDivId="truncator-tmp-div",Truncator.tmpSpanId="truncator-tmp-span",Truncator.template=new Template('    <div id="#{divId}" style="width:9999px; left:-9999px; top:-9999px; display:block; position: absolute">        <span id="#{spanId}"></span>    </div>'),define("tools.truncator",["prototype"],function(e){return function(){var t;return t||e.jQuery}}(this)),function(){var e=Math,t=/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":"opera"in window?"O":"",n="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,s="ontouchstart"in window,o=t+"Transform"in document.documentElement.style,r=/android/gi.test(navigator.appVersion),a=/iphone|ipad/gi.test(navigator.appVersion),c=/playbook/gi.test(navigator.appVersion),u=a||c,d=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,1)}}(),h=function(){return window.cancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout}(),p="onorientationchange"in window?"orientationchange":"resize",f=s?"touchstart":"mousedown",m=s?"touchmove":"mousemove",g=s?"touchend":"mouseup",v=s?"touchcancel":"mouseup",_="Moz"==t?"DOMMouseScroll":"mousewheel",b="translate"+(n?"3d(":"("),y=n?",0)":")",T=function(e,i){var l,c=this,d=document;c.wrapper="object"==typeof e?e:d.getElementById(e),c.wrapper.style.overflow="hidden",c.scroller=c.wrapper.children[0],c.options={hScroll:!0,vScroll:!0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,checkDOMChanges:!1,hScrollbar:!0,vScrollbar:!0,fixedScrollbar:r,hideScrollbar:a,fadeScrollbar:a&&n,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:!1,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(e){e.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(l in i)c.options[l]=i[l];c.options.useTransform=o?c.options.useTransform:!1,c.options.hScrollbar=c.options.hScroll&&c.options.hScrollbar,c.options.vScrollbar=c.options.vScroll&&c.options.vScrollbar,c.options.zoom=c.options.useTransform&&c.options.zoom,c.options.useTransition=u&&c.options.useTransition,c.scroller.style[t+"TransitionProperty"]=c.options.useTransform?"-"+t.toLowerCase()+"-transform":"top left",c.scroller.style[t+"TransitionDuration"]="0",c.scroller.style[t+"TransformOrigin"]="0 0",c.options.useTransition&&(c.scroller.style[t+"TransitionTimingFunction"]="cubic-bezier(0.33,0.66,0.66,1)"),c.options.useTransform?c.scroller.style[t+"Transform"]=b+"0,0"+y:c.scroller.style.cssText+=";position:absolute;top:0;left:0",c.options.useTransition&&(c.options.fixedScrollbar=!0),c.refresh(),c._bind(p,window),c._bind(f),s||(c._bind("mouseout",c.wrapper),c._bind(_)),c.options.checkDOMChanges&&(c.checkDOMTime=setInterval(function(){c._checkDOMChanges()},500))};T.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(e){var t=this;switch(e.type){case f:if(!s&&0!==e.button)return;t._start(e);break;case m:t._move(e);break;case g:case v:t._end(e);break;case p:t._resize();break;case _:t._wheel(e);break;case"mouseout":t._mouseout(e);break;case"webkitTransitionEnd":t._transitionEnd(e)}},_checkDOMChanges:function(){this.moved||this.zoomed||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale||this.refresh()},_scrollbar:function(i){var n,s=this,r=document;return s[i+"Scrollbar"]?(s[i+"ScrollbarWrapper"]||(n=r.createElement("div"),s.options.scrollbarClass?n.className=s.options.scrollbarClass+i.toUpperCase():n.style.cssText="position:absolute;z-index:100;"+("h"==i?"height:7px;bottom:1px;left:2px;right:"+(s.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(s.hScrollbar?"7":"2")+"px;top:2px;right:1px"),n.style.cssText+=";pointer-events:none;-"+t+"-transition-property:opacity;-"+t+"-transition-duration:"+(s.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(s.options.hideScrollbar?"0":"1"),s.wrapper.appendChild(n),s[i+"ScrollbarWrapper"]=n,n=r.createElement("div"),s.options.scrollbarClass||(n.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);-"+t+"-background-clip:padding-box;-"+t+"-box-sizing:border-box;"+("h"==i?"height:100%":"width:100%")+";-"+t+"-border-radius:3px;border-radius:3px"),n.style.cssText+=";pointer-events:none;-"+t+"-transition-property:-"+t+"-transform;-"+t+"-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);-"+t+"-transition-duration:0;-"+t+"-transform:"+b+"0,0"+y,s.options.useTransition&&(n.style.cssText+=";-"+t+"-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"),s[i+"ScrollbarWrapper"].appendChild(n),s[i+"ScrollbarIndicator"]=n),"h"==i?(s.hScrollbarSize=s.hScrollbarWrapper.clientWidth,s.hScrollbarIndicatorSize=e.max(e.round(s.hScrollbarSize*s.hScrollbarSize/s.scrollerW),8),s.hScrollbarIndicator.style.width=s.hScrollbarIndicatorSize+"px",s.hScrollbarMaxScroll=s.hScrollbarSize-s.hScrollbarIndicatorSize,s.hScrollbarProp=s.hScrollbarMaxScroll/s.maxScrollX):(s.vScrollbarSize=s.vScrollbarWrapper.clientHeight,s.vScrollbarIndicatorSize=e.max(e.round(s.vScrollbarSize*s.vScrollbarSize/s.scrollerH),8),s.vScrollbarIndicator.style.height=s.vScrollbarIndicatorSize+"px",s.vScrollbarMaxScroll=s.vScrollbarSize-s.vScrollbarIndicatorSize,s.vScrollbarProp=s.vScrollbarMaxScroll/s.maxScrollY),void s._scrollbarPos(i,!0)):void(s[i+"ScrollbarWrapper"]&&(o&&(s[i+"ScrollbarIndicator"].style[t+"Transform"]=""),s[i+"ScrollbarWrapper"].parentNode.removeChild(s[i+"ScrollbarWrapper"]),s[i+"ScrollbarWrapper"]=null,s[i+"ScrollbarIndicator"]=null))},_resize:function(){var e=this;setTimeout(function(){e.refresh()},r?200:0)},_pos:function(i,n){i=this.hScroll?i:0,n=this.vScroll?n:0,this.options.useTransform?this.scroller.style[t+"Transform"]=b+i+"px,"+n+"px"+y+" scale("+this.scale+")":(i=e.round(i),n=e.round(n),this.scroller.style.left=i+"px",this.scroller.style.top=n+"px"),this.x=i,this.y=n,this._scrollbarPos("h"),this._scrollbarPos("v")},_scrollbarPos:function(i,n){var s,o=this,r="h"==i?o.x:o.y;o[i+"Scrollbar"]&&(r=o[i+"ScrollbarProp"]*r,0>r?(o.options.fixedScrollbar||(s=o[i+"ScrollbarIndicatorSize"]+e.round(3*r),8>s&&(s=8),o[i+"ScrollbarIndicator"].style["h"==i?"width":"height"]=s+"px"),r=0):r>o[i+"ScrollbarMaxScroll"]&&(o.options.fixedScrollbar?r=o[i+"ScrollbarMaxScroll"]:(s=o[i+"ScrollbarIndicatorSize"]-e.round(3*(r-o[i+"ScrollbarMaxScroll"])),8>s&&(s=8),o[i+"ScrollbarIndicator"].style["h"==i?"width":"height"]=s+"px",r=o[i+"ScrollbarMaxScroll"]+(o[i+"ScrollbarIndicatorSize"]-s))),o[i+"ScrollbarWrapper"].style[t+"TransitionDelay"]="0",o[i+"ScrollbarWrapper"].style.opacity=n&&o.options.hideScrollbar?"0":"1",o[i+"ScrollbarIndicator"].style[t+"Transform"]=b+("h"==i?r+"px,0":"0,"+r+"px")+y)},_start:function(i){var n,o,r,a,l,c=this,u=s?i.touches[0]:i;T.scrolling=!1,clearTimeout(T.scrollTimer),!c.enabled||Draggables.dragging||i.touches.length<2||(c.options.onBeforeScrollStart&&c.options.onBeforeScrollStart.call(c,i),(c.options.useTransition||c.options.zoom)&&c._transitionTime(0),c.moved=!1,c.animating=!1,c.zoomed=!1,c.distX=0,c.distY=0,c.absDistX=0,c.absDistY=0,c.dirX=0,c.dirY=0,c.options.zoom&&s&&i.touches.length>1&&(a=e.abs(i.touches[0].pageX-i.touches[1].pageX),l=e.abs(i.touches[0].pageY-i.touches[1].pageY),c.touchesDistStart=e.sqrt(a*a+l*l),c.originX=e.abs(i.touches[0].pageX+i.touches[1].pageX-2*c.wrapperOffsetLeft)/2-c.x,c.originY=e.abs(i.touches[0].pageY+i.touches[1].pageY-2*c.wrapperOffsetTop)/2-c.y,c.options.onZoomStart&&c.options.onZoomStart.call(c,i)),c.options.momentum&&(c.options.useTransform?(n=getComputedStyle(c.scroller,null)[t+"Transform"].replace(/[^0-9-.,]/g,"").split(","),o=1*n[4],r=1*n[5]):(o=1*getComputedStyle(c.scroller,null).left.replace(/[^0-9-]/g,""),r=1*getComputedStyle(c.scroller,null).top.replace(/[^0-9-]/g,"")),(o!=c.x||r!=c.y)&&(c.options.useTransition?c._unbind("webkitTransitionEnd"):h(c.aniTime),c.steps=[],c._pos(o,r))),c.absStartX=c.x,c.absStartY=c.y,c.startX=c.x,c.startY=c.y,c.pointX=u.pageX,c.pointY=u.pageY,c.startTime=i.timeStamp||(new Date).getTime(),c.options.onScrollStart&&c.options.onScrollStart.call(c,i),c._bind(m),c._bind(g),c._bind(v),T.scrolling=!0)},_move:function(i){var n,o,r,a=this,l=s?i.touches[0]:i,c=l.pageX-a.pointX,u=l.pageY-a.pointY,d=a.x+c,h=a.y+u,p=i.timeStamp||(new Date).getTime();return a.options.onBeforeScrollMove&&a.options.onBeforeScrollMove.call(a,i),a.options.zoom&&s&&i.touches.length>1?(n=e.abs(i.touches[0].pageX-i.touches[1].pageX),o=e.abs(i.touches[0].pageY-i.touches[1].pageY),a.touchesDist=e.sqrt(n*n+o*o),a.zoomed=!0,r=1/a.touchesDistStart*a.touchesDist*this.scale,r<a.options.scaleMin?r=.5*a.options.scaleMin*Math.pow(2,r/a.options.scaleMin):r>a.options.scaleMax&&(r=2*a.options.scaleMax*Math.pow(.5,a.options.scaleMax/r)),a.lastScale=r/this.scale,d=this.originX-this.originX*a.lastScale+this.x,h=this.originY-this.originY*a.lastScale+this.y,this.scroller.style[t+"Transform"]=b+d+"px,"+h+"px"+y+" scale("+r+")",void(a.options.onZoom&&a.options.onZoom.call(a,i))):(a.pointX=l.pageX,a.pointY=l.pageY,(d>0||d<a.maxScrollX)&&(d=a.options.bounce?a.x+c/2:d>=0||a.maxScrollX>=0?0:a.maxScrollX),(h>0||h<a.maxScrollY)&&(h=a.options.bounce?a.y+u/2:h>=0||a.maxScrollY>=0?0:a.maxScrollY),a.absDistX<6&&a.absDistY<6?(a.distX+=c,a.distY+=u,a.absDistX=e.abs(a.distX),void(a.absDistY=e.abs(a.distY))):(a.options.lockDirection&&(a.absDistX>a.absDistY+5?(h=a.y,u=0):a.absDistY>a.absDistX+5&&(d=a.x,c=0)),a.moved=!0,a._pos(d,h),a.dirX=c>0?-1:0>c?1:0,a.dirY=u>0?-1:0>u?1:0,p-a.startTime>300&&(a.startTime=p,a.startX=a.x,a.startY=a.y),void(a.options.onScrollMove&&a.options.onScrollMove.call(a,i))))},_end:function(i){if(!s||0==i.touches.length){var n,o,r,a,l,c,u=this,d=s?i.changedTouches[0]:i,h={dist:0,time:0},p={dist:0,time:0},f=(i.timeStamp||(new Date).getTime())-u.startTime,_=u.x,w=u.y;if(u._unbind(m),u._unbind(g),u._unbind(v),T.scrollTimer=setTimeout(function(){T.scrolling=!1},1e3),u.options.onBeforeScrollEnd&&u.options.onBeforeScrollEnd.call(u,i),u.zoomed)return c=u.scale*u.lastScale,c=Math.max(u.options.zoomMin,c),c=Math.min(u.options.zoomMax,c),u.lastScale=c/u.scale,u.scale=c,u.x=u.originX-u.originX*u.lastScale+u.x,u.y=u.originY-u.originY*u.lastScale+u.y,u.scroller.style[t+"TransitionDuration"]="200ms",u.scroller.style[t+"Transform"]=b+u.x+"px,"+u.y+"px"+y+" scale("+u.scale+")",u.zoomed=!1,u.refresh(),void(u.options.onZoomEnd&&u.options.onZoomEnd.call(u,i));if(!u.moved)return s&&(u.doubleTapTimer&&u.options.zoom?(clearTimeout(u.doubleTapTimer),u.doubleTapTimer=null,u.options.onZoomStart&&u.options.onZoomStart.call(u,i),u.zoom(u.pointX,u.pointY,1==u.scale?u.options.doubleTapZoom:1)):u.doubleTapTimer=setTimeout(function(){for(u.doubleTapTimer=null,n=d.target;1!=n.nodeType;)n=n.parentNode;"SELECT"!=n.tagName&&"INPUT"!=n.tagName&&"TEXTAREA"!=n.tagName&&(o=document.createEvent("MouseEvents"),o.initMouseEvent("click",!0,!0,i.view,1,d.screenX,d.screenY,d.clientX,d.clientY,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,0,null),o._fake=!0,n.dispatchEvent(o))},u.options.zoom?250:0)),u._resetPos(200),void(u.options.onTouchEnd&&u.options.onTouchEnd.call(u,i));if(i.scrollEvent=!0,300>f&&u.options.momentum&&(h=_?u._momentum(_-u.startX,f,-u.x,u.scrollerW-u.wrapperW+u.x,u.options.bounce?u.wrapperW:0):h,p=w?u._momentum(w-u.startY,f,-u.y,u.maxScrollY<0?u.scrollerH-u.wrapperH+u.y:0,u.options.bounce?u.wrapperH:0):p,_=u.x+h.dist,w=u.y+p.dist,(u.x>0&&_>0||u.x<u.maxScrollX&&_<u.maxScrollX)&&(h={dist:0,time:0}),(u.y>0&&w>0||u.y<u.maxScrollY&&w<u.maxScrollY)&&(p={dist:0,time:0})),h.dist||p.dist)return l=e.max(e.max(h.time,p.time),10),u.options.snap&&(r=_-u.absStartX,a=w-u.absStartY,e.abs(r)<u.options.snapThreshold&&e.abs(a)<u.options.snapThreshold?u.scrollTo(u.absStartX,u.absStartY,200):(snap=u._snap(_,w),_=snap.x,w=snap.y,l=e.max(snap.time,l))),u.scrollTo(_,w,l),void(u.options.onTouchEnd&&u.options.onTouchEnd.call(u,i));if(u.options.snap)return r=_-u.absStartX,a=w-u.absStartY,e.abs(r)<u.options.snapThreshold&&e.abs(a)<u.options.snapThreshold?u.scrollTo(u.absStartX,u.absStartY,200):(snap=u._snap(u.x,u.y),(snap.x!=u.x||snap.y!=u.y)&&u.scrollTo(snap.x,snap.y,snap.time)),void(u.options.onTouchEnd&&u.options.onTouchEnd.call(u,i));u._resetPos(200),u.options.onTouchEnd&&u.options.onTouchEnd.call(u,i)}},_resetPos:function(e){var i=this,n=i.x>=0?0:i.x<i.maxScrollX?i.maxScrollX:i.x,s=i.y>=0||i.maxScrollY>0?0:i.y<i.maxScrollY?i.maxScrollY:i.y;return n==i.x&&s==i.y?(i.moved&&(i.moved=!1,i.options.onScrollEnd&&i.options.onScrollEnd.call(i)),i.hScrollbar&&i.options.hideScrollbar&&("webkit"==t&&(i.hScrollbarWrapper.style[t+"TransitionDelay"]="300ms"),i.hScrollbarWrapper.style.opacity="0"),void(i.vScrollbar&&i.options.hideScrollbar&&("webkit"==t&&(i.vScrollbarWrapper.style[t+"TransitionDelay"]="300ms"),i.vScrollbarWrapper.style.opacity="0"))):void i.scrollTo(n,s,e||0)},_wheel:function(e){var t,i,n,s,o,r=this;return"wheelDeltaX"in e?(t=e.wheelDeltaX/12,i=e.wheelDeltaY/12):t=i="detail"in e?3*-e.detail:-e.wheelDelta,"zoom"==r.options.wheelAction?(o=r.scale*Math.pow(2,1/3*(i?i/Math.abs(i):0)),i<r.options.zoomMin&&(i=r.options.zoomMin),i>r.options.zoomMax&&(i=r.options.zoomMax),
void(i!=r.scale&&(!r.wheelZoomCount&&r.options.onZoomStart&&r.options.onZoomStart.call(r,e),r.wheelZoomCount++,r.zoom(e.pageX,e.pageY,i,400),setTimeout(function(){r.wheelZoomCount--,!r.wheelZoomCount&&r.options.onZoomEnd&&r.options.onZoomEnd.call(r,e)},400)))):(n=r.x+t,s=r.y+i,n>0?n=0:n<r.maxScrollX&&(n=r.maxScrollX),s>0?s=0:s<r.maxScrollY&&(s=r.maxScrollY),void r.scrollTo(n,s,0))},_mouseout:function(e){var t=e.relatedTarget;if(!t)return void this._end(e);for(;t=t.parentNode;)if(t==this.wrapper)return;this._end(e)},_transitionEnd:function(e){var t=this;e.target==t.scroller&&(t._unbind("webkitTransitionEnd"),t._startAni())},_startAni:function(){var t,i,n=this,s=n.x,o=n.y,r=(new Date).getTime();if(!n.animating)return n.steps.length?(t=n.steps.shift(),t.x==s&&t.y==o&&(t.time=0),n.animating=!0,n.moved=!0,n.options.useTransition?(n._transitionTime(t.time),n._pos(t.x,t.y),n.animating=!1,void(t.time?n._bind("webkitTransitionEnd"):n._resetPos(0))):void function a(){var l,c,u=(new Date).getTime();return u>=r+t.time?(n._pos(t.x,t.y),n.animating=!1,n.options.onAnimationEnd&&n.options.onAnimationEnd.call(n),void n._startAni()):(u=(u-r)/t.time-1,i=e.sqrt(1-u*u),l=(t.x-s)*i+s,c=(t.y-o)*i+o,n._pos(l,c),void(n.animating&&(n.aniTime=d(a))))}()):void n._resetPos(400)},_transitionTime:function(e){e+="ms",this.scroller.style[t+"TransitionDuration"]=e,this.hScrollbar&&(this.hScrollbarIndicator.style[t+"TransitionDuration"]=e),this.vScrollbar&&(this.vScrollbarIndicator.style[t+"TransitionDuration"]=e)},_momentum:function(t,i,n,s,o){var r=6e-4,a=e.abs(t)/i,l=a*a/(2*r),c=0,u=0;return t>0&&l>n?(u=o/(6/(l/a*r)),n+=u,a=a*n/l,l=n):0>t&&l>s&&(u=o/(6/(l/a*r)),s+=u,a=a*s/l,l=s),l*=0>t?-1:1,c=a/r,{dist:l,time:e.round(c)}},_offset:function(e){for(var t=-e.offsetLeft,i=-e.offsetTop;e=e.offsetParent;)t-=e.offsetLeft,i-=e.offsetTop;return e!=this.wrapper&&(t*=this.scale,i*=this.scale),{left:t,top:i}},_snap:function(t,i){var n,s,o,r,a,l,c=this;for(o=c.pagesX.length-1,n=0,s=c.pagesX.length;s>n;n++)if(t>=c.pagesX[n]){o=n;break}for(o==c.currPageX&&o>0&&c.dirX<0&&o--,t=c.pagesX[o],a=e.abs(t-c.pagesX[c.currPageX]),a=a?e.abs(c.x-t)/a*500:0,c.currPageX=o,o=c.pagesY.length-1,n=0;o>n;n++)if(i>=c.pagesY[n]){o=n;break}return o==c.currPageY&&o>0&&c.dirY<0&&o--,i=c.pagesY[o],l=e.abs(i-c.pagesY[c.currPageY]),l=l?e.abs(c.y-i)/l*500:0,c.currPageY=o,r=e.round(e.max(a,l))||200,{x:t,y:i,time:r}},_bind:function(e,t,i){(t||this.scroller).addEventListener(e,this,!!i)},_unbind:function(e,t,i){(t||this.scroller).removeEventListener(e,this,!!i)},destroy:function(){var e=this;e.scroller.style[t+"Transform"]="",e.hScrollbar=!1,e.vScrollbar=!1,e._scrollbar("h"),e._scrollbar("v"),e._unbind(p,window),e._unbind(f),e._unbind(m),e._unbind(g),e._unbind(v),e.options.hasTouch&&(e._unbind("mouseout",e.wrapper),e._unbind(_)),e.options.useTransition&&e._unbind("webkitTransitionEnd"),e.options.checkDOMChanges&&clearInterval(e.checkDOMTime),e.options.onDestroy&&e.options.onDestroy.call(e)},refresh:function(){var n,s=this,o=0,r=0;if(T.scrolling=!1,s.scale<s.options.zoomMin&&(s.scale=s.options.zoomMin),s.wrapperW=s.wrapper.clientWidth||1,s.wrapperH=s.wrapper.clientHeight||1,s.scrollerW=e.round(s.scroller.offsetWidth*s.scale),s.scrollerH=e.round(s.scroller.offsetHeight*s.scale),s.maxScrollX=s.wrapperW-s.scrollerW,s.maxScrollY=s.wrapperH-s.scrollerH,s.dirX=0,s.dirY=0,s.hScroll=s.options.hScroll&&s.maxScrollX<0,s.vScroll=s.options.vScroll&&(!s.options.bounceLock&&!s.hScroll||s.scrollerH>s.wrapperH),s.hScrollbar=s.hScroll&&s.options.hScrollbar,s.vScrollbar=s.vScroll&&s.options.vScrollbar&&s.scrollerH>s.wrapperH,n=s._offset(s.wrapper),s.wrapperOffsetLeft=-n.left,s.wrapperOffsetTop=-n.top,"string"==typeof s.options.snap)for(s.pagesX=[],s.pagesY=[],els=s.scroller.querySelectorAll(s.options.snap),i=0,l=els.length;i<l;i++)o=s._offset(els[i]),o.left+=s.wrapperOffsetLeft,o.top+=s.wrapperOffsetTop,s.pagesX[i]=o.left<s.maxScrollX?s.maxScrollX:o.left*s.scale,s.pagesY[i]=o.top<s.maxScrollY?s.maxScrollY:o.top*s.scale;else if(s.options.snap){for(s.pagesX=[];o>=s.maxScrollX;)s.pagesX[r]=o,o-=s.wrapperW,r++;for(s.maxScrollX%s.wrapperW&&(s.pagesX[s.pagesX.length]=s.maxScrollX-s.pagesX[s.pagesX.length-1]+s.pagesX[s.pagesX.length-1]),o=0,r=0,s.pagesY=[];o>=s.maxScrollY;)s.pagesY[r]=o,o-=s.wrapperH,r++;s.maxScrollY%s.wrapperH&&(s.pagesY[s.pagesY.length]=s.maxScrollY-s.pagesY[s.pagesY.length-1]+s.pagesY[s.pagesY.length-1])}s._scrollbar("h"),s._scrollbar("v"),s.zoomed||(s.scroller.style[t+"TransitionDuration"]="0",s._resetPos(200))},scrollTo:function(e,t,i,n){var s,o,r=this,a=e;for(r.stop(),a.length||(a=[{x:e,y:t,time:i,relative:n}]),s=0,o=a.length;o>s;s++)a[s].relative&&(a[s].x=r.x-a[s].x,a[s].y=r.y-a[s].y),r.steps.push({x:a[s].x,y:a[s].y,time:a[s].time||0});r._startAni()},scrollToElement:function(t,i){var n,s=this;t=t.nodeType?t:s.scroller.querySelector(t),t&&(n=s._offset(t),n.left+=s.wrapperOffsetLeft,n.top+=s.wrapperOffsetTop,n.left=n.left>0?0:n.left<s.maxScrollX?s.maxScrollX:n.left,n.top=n.top>0?0:n.top<s.maxScrollY?s.maxScrollY:n.top,i=void 0===i?e.max(2*e.abs(n.left),2*e.abs(n.top)):i,s.scrollTo(n.left,n.top,i))},scrollToPage:function(e,t,i){var n,s,o=this;o.options.snap?(e="next"==e?o.currPageX+1:"prev"==e?o.currPageX-1:e,t="next"==t?o.currPageY+1:"prev"==t?o.currPageY-1:t,e=0>e?0:e>o.pagesX.length-1?o.pagesX.length-1:e,t=0>t?0:t>o.pagesY.length-1?o.pagesY.length-1:t,o.currPageX=e,o.currPageY=t,n=o.pagesX[e],s=o.pagesY[t]):(n=-o.wrapperW*e,s=-o.wrapperH*t,n<o.maxScrollX&&(n=o.maxScrollX),s<o.maxScrollY&&(s=o.maxScrollY)),o.scrollTo(n,s,i||400)},disable:function(){this.stop(),this._resetPos(0),this.enabled=!1,this._unbind(m),this._unbind(g),this._unbind(v)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind("webkitTransitionEnd"):h(this.aniTime),this.steps=[],this.moved=!1,this.animating=!1},zoom:function(e,i,n,s){var o=this,r=n/o.scale;o.options.useTransform&&(o.zoomed=!0,s=void 0===s?200:s,e=e-o.wrapperOffsetLeft-o.x,i=i-o.wrapperOffsetTop-o.y,o.x=e-e*r+o.x,o.y=i-i*r+o.y,o.scale=n,o.refresh(),o.x=o.x>0?0:o.x<o.maxScrollX?o.maxScrollX:o.x,o.y=o.y>0?0:o.y<o.maxScrollY?o.maxScrollY:o.y,o.scroller.style[t+"TransitionDuration"]=s+"ms",o.scroller.style[t+"Transform"]=b+o.x+"px,"+o.y+"px"+y+" scale("+n+")",o.zoomed=!1)},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}},"undefined"!=typeof exports?exports.iScroll=T:window.iScroll=T}(),define("iscroll",function(e){return function(){var t;return t||e.iScroll}}(this));var webHelpModule={currentContext:"default",displayWebHelp:function(){var e=__jrsConfigs__.webHelpModuleState;if(e){var t=e.hostURL+"/"+e.pagePrefix+webHelpModule.getPageForContext();window.name="";var i=window.open(t,"MCWebHelp");i.focus()}},getPageForContext:function(){return __jrsConfigs__.webHelpModuleState.contextMap[webHelpModule.currentContext]},setCurrentContext:function(e){webHelpModule.currentContext=e}};define("components.webHelp",["jrs.configs"],function(e){return function(){var t;return t||e.webHelpModule}}(this));var layoutModule={ELEMENT_CONTEXTMENU:"element:contextmenu",SIZEABLE_PATTERN:".sizeable",SIZER_PATTERN:".sizer",RESIZE_OVERLAY_PATTERN:".resizeOverlay",MOVEABLE_PATTERN:".moveable",MOVER_PATTERN:".mover",MINIMIZER_PATTERN:".maximized .minimize",MINIMIZED_PATTERN:".minimized .minimize",TRUNCATE_PATTERN:".trunc",TREE_LEAF_PATTERN:"a.>node",TREE_CONTAINER_PATTERN:".collapsible",TOOLBAR_CAPSULE_PATTERN:"#toolbar .capsule",NAVIGATION_MUTTON_PATTERN:"li.mutton",NAVIGATION_PATTERN:"#navigationOptions li",NAVIGATION_HOVER_PATTERN:"#navigationOptions li.over",META_LINKS_PATTERN:"#metaLinks #main_logOut_link",BUTTON_SET_BUTTON:".buttonSet > *",TABSET_TAB_PATTERN:".tab",BUTTON_PATTERN:".button",PRESSED_PATTERN:".pressed",SELECTED_PATTERN:".selected",LIST_ITEM_PATTERN:".list.responsive > li",LIST_ITEM_WRAP_PATTERN:".wrap",DISCLOSURE_BUTTON_PATTERN:".disclosure",MENU_LIST_PATTERN:"#menu li",SEPARATOR_PATTERN:".separator",MESSAGE_PATTERN:".message",MESSAGE_WARNING_PATTERN:".message.warning",MESSAGE_WARNING_DETAILS_PATTERN:".details",MESSAGE_SUCCESS_PATTERN:".message.success",DETAILS_PATTERN:".details",COLUMN_NODE_WRAPPER_PATTERN:".node > .wrap > .column",COLUMN_LEAF_WRAPPER_PATTERN:".leaf > .wrap > .column",SEARCH_LOCKUP_PATTERN:".searchLockup",DIALOG_PATTERN:".dialog",DIALOG_LOADING_PATTERN:".dialog.loading",SWIPE_SCROLL_PATTERN:".swipeScroll",SCROLL_WRAPPER_PATTERN:".scrollWrapper",ADHOC_MODE_OPTION_CLASS:"tab mode horizontal",DRAGGING_CLASS:"dragging",COPY_CLASS:"copy",PRESSED_CLASS:"pressed",SELECTED_CLASS:"selected",DISABLED_CLASS:"disabled",HOVERED_CLASS:"over",ERROR_CLASS:"error",SUCCESS_CLASS:"error",MESSAGE_CLASS:"error",UP_CLASS:"up",LAST_CLASS:"last",FIRST_CLASS:"first",SCHEDULED_CLASS:"scheduled",MENU_ROOT_CLASS:"menuRoot",NODE_CLASS:"node",LEAF_CLASS:"leaf",ICON_CLASS:"icon",OPEN_CLASS:"open",CLOSED_CLASS:"closed",LOADING_CLASS:"loading",NOTHING_TO_DISPLAY_CLASS:"nothingToDisplay",COLLAPSIBLE_CLASS:"collapsible",RESPONSIVE_CLASS:"responsive",HIDDEN_CLASS:"hidden",NO_GENERATORS_CLASS:"noGenerators",STACKTRACE_CLASS:"stacktrace",EMPHASIS_CLASS:"emphasis",ASCENDING_CLASS:"ascending",DESCENDING_CLASS:"descending",CANCELLABLE_CLASS:"cancellable",DROP_TARGET_CLASS:"dropTarget",BUTTON_CLASS:"button",ONE_COLUMN_CLASS:"oneColumn",CONTROL_PAGE_CLASS:"controlPage",DISABLED_ATTR_NAME:"disabled",SELECTED_ATTR_NAME:"selected",OPEN_ATTR_NAME:"open",CLOSED_ATTR_NAME:"closed",READONLY_ATTR_NAME:"readonly",DIMMER_ID:"pageDimmer",PAGE_BODY_ID:"display",MENU_ID:"menu",MAIN_NAVIGATION_ID:"mainNavigation",MAIN_NAVIGATION_HOME_ITEM_ID:"main_home",MAIN_NAVIGATION_LIBRARY_ITEM_ID:"main_library",META_LINK_LOGOUT_ID:"main_logOut_link",SCROLL_SENSITIVITY:50,DND_MOVABLE_ZINDEX:2e3,DIMMER_Z_INDEX:900,FOLDERS_RESIZABLE_PANEL_ID:"folders",FILTERS_RESIZABLE_PANEL_ID:"filters",PROPERTIES_RESIZABLE_PANEL_ID:"properties",FIELDS_RESIZABLE_PANEL_ID:"fields",FOLDERS_RESIZABLE_PANEL_COOKIE_NAME:"foldersPanelWidth",FOLDERS_MINIMIZED_PANEL_COOKIE_NAME:"foldersMinimized",FILTERS_RESIZABLE_PANEL_COOKIE_NAME:"filtersPanelWidth",FILTERS_MINIMIZED_PANEL_COOKIE_NAME:"filtersMinimized",PROPERTIES_RESIZABLE_PANEL_COOKIE_NAME:"propertiesPanelWidth",PROPERTIES_MINIMIZED_PANEL_COOKIE_NAME:"propertiesMinimized",FIELDS_RESIZABLE_PANEL_COOKIE_NAME:"fieldsPanelWidth",FIELDS_MINIMIZED_PANEL_COOKIE_NAME:"fieldsMinimized",PANEL_WIDTH:"PanelWidth",MINIMIZED:"Minimized",PANEL_STATE_CHANGED_MANUALLY:"PSCM",scrolls:$H(),initialize:function(e){e=$(e)||$(document.body),new Truncator(e.select(layoutModule.TRUNCATE_PATTERN)),isIE7()&&this.fixIE7Sizes(),e.select(this.SIZEABLE_PATTERN).each(this.createSizer.bind(this)),e.select(this.MOVEABLE_PATTERN).each(this.createMover.bind(this)),e.select(".centered_horz,.centered_vert").each(function(e){var t=parseFunc(e,"centered_fn_");t||(t=centerElement),t(e,{horz:e.match(".centered_horz"),vert:e.match(".centered_vert")})}),null!=$(layoutModule.DIMMER_ID)&&($(layoutModule.DIMMER_ID).style.zIndex=layoutModule.DIMMER_Z_INDEX),jQuery.datepicker&&jQuery.datepicker.initialized&&(jQuery.datepicker.initialized=!1),jQuery(function(){0===jQuery("#ajaxbuffer").length&&jQuery("body").append(jQuery('<div id="ajaxbuffer" style="display:none"></div>'))}),jQuery(window).resize(function(){this.resizeTo&&clearTimeout(this.resizeTo),this.resizeTo=setTimeout(function(){jQuery(this).trigger("resizeEnd")},500)})},updateOnOrientation:function(){},isVisible:function(e){return e&&!$(e).hasClassName(layoutModule.HIDDEN_CLASS)},createScroller:function(e,t){if(e){e=e.identify?e:$(e);var i=layoutModule.scrolls.get(e.identify());i&&i.destroy();var n=["mainTableContainer","resultsContainer","filtersPanel","foldersPodContent"];e.identify().startsWith("iframeScroll_")&&n.push(e.identify()),t=Object.extend({hideScrollbar:!1,useTransform:!n.include(e.identify()),bounce:["resultsContainer"].include(e.identify())},t||{});var s=new iScroll(e,t);return layoutModule.scrolls.set(e.identify(),s),s}return null},createSizer:function(e,t){e=$(e);var i=t&&t.sizer?$(t.sizer):e.down(this.SIZER_PATTERN);if(i&&!matchMeOrUp(e,"."+layoutModule.HIDDEN_CLASS)){var n=this.getSizerType(i),s=this.alignmentModule.getSizerAlignment(i,n),o=new Draggable(i);o.resizeablePanel=e,o.primaryPanel=$(e).siblings().find(function(e){return e.match(".primary")}),t&&t.fillerPattern&&(o.filler=$(jQuery(e).find(t.fillerPattern)[0]));var r=function(){return function(e){o.pointerX=e.pointerX(),o.pointerY=e.pointerY()}}();i.observe("mousedown",r),jQuery(i).bind({touchstart:function(e){r(e.originalEvent),this.style.background="#666",this.style.zIndex=9},touchend:function(){this.style.background="transparent"}}),o.sizerType=n,o.alignment=s,o.options={constraint:"diagonal"===n?"":n,onStart:layoutModule.beginSizerDragging.bind(layoutModule),onDrag:isIPad()?doNothing:layoutModule.respondToDrag.bind(layoutModule),onEnd:layoutModule.endSizerDragging.bind(layoutModule)}}},getSizerType:function(e){return e.match(".horizontal")&&"horizontal"||e.match(".vertical")&&"vertical"||e.match(".diagonal")&&"diagonal"},alignmentModule:{alignments:[["left","right"],["top","bottom"]],alignmentIndexes:{horizontal:0,vertical:1},dimensions:["width","height"],getSizerAlignment:function(e,t){var i=["",""];if("diagonal"===t)return["right","bottom"];var n=this.alignmentIndexes[t],s=this.alignments[n],o=[0,1].map(function(t){return parseInt(e.getStyle(s[t]))}),r=isNaN(o[0])||o[0]>o[1]?s[1]:s[0];return i[n]=r,i}},beginSizerDragging:function(e,t){var i=e.element;e.parentOffset=[i.getStyle(e.alignment[0]),i.getStyle(e.alignment[1])],e.offsetUnit="px",e.pointerX=e.pointerX||t.pointerX(),e.pointerY=e.pointerY||t.pointerY(),e.element.addClassName(layoutModule.DRAGGING_CLASS),$$(layoutModule.RESIZE_OVERLAY_PATTERN).each(function(e){e.removeClassName(layoutModule.HIDDEN_CLASS)})},endSizerDragging:function(e,t){layoutModule.respondToDrag(e,t),e.element.removeClassName(layoutModule.DRAGGING_CLASS),$$(layoutModule.RESIZE_OVERLAY_PATTERN).each(function(e){e.addClassName(layoutModule.HIDDEN_CLASS)}),document.fire("dragger:sizer",{targetEvent:t,element:e.element}),jQuery(window).trigger("resize",{targetEvent:t,element:e.element})},respondToDrag:function(e,t){"vertical"!==e.sizerType&&this.resizeOnDrag(e,t,"horizontal"),"horizontal"!==e.sizerType&&this.resizeOnDrag(e,t,"vertical")},resizeOnDrag:function(e,t,i){var n={};n.axis="horizontal"==i?0:1,n.myAlignments=this.alignmentModule.alignments[n.axis],n.dimension=this.alignmentModule.dimensions[n.axis],n.sizeProperty=n.axis?"offsetHeight":"offsetWidth";var s=n.axis?"pointerY":"pointerX",o={pointerY:"clientY",pointerX:"clientX"};e.element;n.sizeableAnchorage=e.alignment[n.axis]===n.myAlignments[0]?n.myAlignments[1]:n.myAlignments[0];var r=t.changedTouches?t.changedTouches[0][o[s]]:t[s](),a=e[s]?r-e[s]:0;a=e.alignment[n.axis]===n.myAlignments[1]?a:0-a,n.dragDelta=a,e[s]=t[s](),this.resizePanelsOnDrag(e,n)},resizePanelsOnDrag:function(e,t){var i=this.getSizeTracker();i.checkpoint(e.resizeablePanel[t.sizeProperty]),e.filler&&!e["fillerDelta"+t.dimension]&&(e["fillerDelta"+t.dimension]=e.resizeablePanel[t.sizeProperty]-e.filler[t.sizeProperty]);var n=getDimensionInPx(e.resizeablePanel,t.dimension);if((this.isInBounds(e,t)||!this.isInBounds(e,t)&&t.dragDelta<0)&&(e.resizeablePanel.setStyle(t.dimension+":"+(n+t.dragDelta)+"px"),e.filler&&e.filler.setStyle(t.dimension+":"+(n+t.dragDelta-e["fillerDelta"+t.dimension])+"px")),window.localStorage&&localStorage.setItem(e.resizeablePanel.identify()+layoutModule.PANEL_WIDTH,e.resizeablePanel.getWidth()),!i.changed(e.resizeablePanel[t.sizeProperty])){var s=getActualDimension(e.resizeablePanel,t.dimension);return e.alignment[t.axis]!=t.myAlignments[0]&&(e.element.style[t.myAlignments[0]]=""),e.element.setStyle(e.alignment[t.axis]+":"+e.parentOffset[t.axis]),e.resizeablePanel.setStyle(t.dimension+":"+s+"px"),e.primaryPanel&&e.primaryPanel.style.zIndex==e.resizeablePanel.style.zIndex&&e.primaryPanel.setStyle(t.sizeableAnchorage+":"+s+"px"),void(e.filler&&e.filler.setStyle(t.dimension+":"+(s-e["fillerDelta"+t.dimension])+"px"))}var o;if(e.resizeablePanel.currentStyle?o=e.resizeablePanel.currentStyle.minWidth:(o=document.defaultView.getComputedStyle(e.resizeablePanel,null),o=o["min-width"]?o["min-width"]:o.minWidth),o=o.substring(0,o.indexOf("px")),e.primaryPanel&&e.primaryPanel.style.zIndex==e.resizeablePanel.style.zIndex){var r=getDimensionInPx(e.primaryPanel,t.sizeableAnchorage)+t.dragDelta,a=o>r?o:r;e.primaryPanel.setStyle(t.sizeableAnchorage+":"+a+"px")}e.alignment[t.axis]!=t.myAlignments[0]&&(e.element.style[t.myAlignments[0]]=""),e.element.setStyle(e.alignment[t.axis]+":"+e.parentOffset[t.axis]),jQuery("body").trigger("layout_update")},isInBounds:function(e,t){var i,n,s,o,r,a=jQuery(e.primaryPanel),l=a.parent(),c=t.dimension;if(e.primaryPanel){c=c.replace(c.charAt(0),c.charAt(0).toUpperCase()),r=jQuery.fn["outer"+c],o=r.call(a,!0)-r.call(a),i=parseInt(a.css("min-"+t.dimension)),isNaN(i)&&(i=0),n=parseInt(a.css(t.sizeableAnchorage)),s=parseInt(l.css(t.dimension));var u=l.children("div:visible:not(.minimized)");return jQuery.each(u,function(){var t=jQuery(this),i=0===t.width()||0===t.height();e.resizeablePanel==this||e.primaryPanel==this||i||(s-=r.call(t,!0))}),s-n-t.dragDelta>i+o}return!0},getSizeTracker:function(){return lastSize=-1,{checkpoint:function(e){lastSize=e},changed:function(e){return e!=lastSize}}},createMover:function(e){var t=e.down(this.MOVER_PATTERN);if(t&&!matchMeOrUp(e,"."+layoutModule.HIDDEN_CLASS)){var i=Math.max(this.DND_MOVABLE_ZINDEX,e.getStyle("zIndex"));new Draggable(e,{handle:t,zindex:i})}},maximize:function(e,t){function i(){s.removeClassName("minimized_if_vertical_orientation"),s.removeClassName("minimized"),s.addClassName("maximized"),window.localStorage&&localStorage.setItem(s.identify()+layoutModule.MINIMIZED,!1),jQuery("div.content",s).show()}t=!0;var n=e.hasClassName?e:$(e),s=n.hasClassName("column")?n:n.up(".column");0===window.orientation&&("filters"==s.id&&layoutModule.minimize(document.getElementById("fields")),"fields"==s.id&&layoutModule.minimize(document.getElementById("filters")));var o,r=layoutModule.alignmentModule.alignments[0],a=r.map(function(e){return parseInt(s.getStyle(e))}),l=r[0===a[0]?0:1],c=s.siblings().find(function(e){return e.match(".primary")});c&&window.localStorage&&(o=localStorage.getItem(s.identify()+layoutModule.PANEL_WIDTH)),o&&!isNaN(o)&&(o+="px",s.setStyle({width:o}),t?(c.style[l]=o,s.removeClassName("minimized_if_vertical_orientation"),s.removeClassName("minimized"),s.addClassName("maximized"),window.localStorage&&localStorage.setItem(s.identify()+layoutModule.MINIMIZED,!1),jQuery("div.content",s).show(),jQuery("div.vtitle",s).hide()):(new Effect.Morph(c,{style:l+":"+o,duration:.6,afterFinish:function(){jQuery("body").trigger("layout_update")}}),new Effect.Opacity(s,{to:0,from:1,duration:.3,queue:{position:"front",scope:"sidePanel"},afterFinish:i}),new Effect.Opacity(s,{to:1,from:0,duration:.3,queue:{position:"end",scope:"sidePanel"}}))),jQuery(s).find(".sizer").show(),jQuery("body").trigger("layout_update",{elem:e.parentNode,type:"panel-maximize"}),jQuery(".column.secondary > div.content > .body").show().height()},minimize:function(e,t){function i(){r.addClassName("minimized"),r.removeClassName("maximized"),r.removeClassName("minimized_if_vertical_orientation"),window.localStorage&&localStorage.setItem(r.identify()+layoutModule.MINIMIZED,!0),jQuery("div.content",r).hide()}var n,s;t=!0;var o=e.hasClassName?e:$(e),r=o.hasClassName("column")?o:o.up(".column"),a=window.localStorage&&"true"==localStorage.getItem(r.identify()+layoutModule.MINIMIZED);!a&&window.localStorage&&localStorage.setItem(r.identify()+layoutModule.PANEL_WIDTH,r.getWidth());var l=layoutModule.alignmentModule.alignments[0],c=l.map(function(e){return parseInt(r.getStyle(e))}),u=l[0===c[0]?0:1];if(n=r.siblings().find(function(e){return e.match(".primary")}))if(s=n.getStyle(u),t){var d=jQuery("div.title",r).eq(0),h=jQuery("div.vtitle",r),p=d.html(),f=d.width();f=7*jQuery.trim(d.text()).length,n.style[u]="24px",r.addClassName("minimized"),r.removeClassName("maximized"),r.removeClassName("minimized_if_vertical_orientation"),window.localStorage&&localStorage.setItem(r.identify()+layoutModule.MINIMIZED,!0),h.length||(h=jQuery('<div class="vtitle"></div>').appendTo(r),h.on("mouseup touchend",function(e){layoutModule.maximize(h[0]),e.preventDefault()}),h.html(jQuery.trim(p)).width(f+24)),isIE7()||isIE8()||isIE9()?h.css({top:0,left:0}):h.css("top",f+24+"px"),location.href.indexOf("nui=1")>0?h.hide():h.show(),jQuery("div.content",r).hide()}else new Effect.Morph(n,{style:u+":0px",duration:.6,afterFinish:function(){jQuery("body").trigger("layout_update")}}),new Effect.Opacity(r,{to:0,from:1,duration:.3,queue:{position:"front",scope:"sidePanel"},afterFinish:i}),new Effect.Opacity(r,{to:1,from:0,duration:.3,queue:{position:"end",scope:"sidePanel"}});jQuery(r).find(".sizer").hide(),jQuery("body").trigger("layout_update",{elem:e.parentNode,type:"panel-minimize"})},resizeOnClient:function(e,t,i){var n,s=[],o=jQuery("#"+t),r=jQuery("#display").width()-20-parseInt(o.width());jQuery.each([e,i],function(e,t){t&&(s.push({id:t,isLeft:0===e,jo:jQuery("#"+t),width:window.localStorage?parseInt(localStorage.getItem(t+layoutModule.PANEL_WIDTH)):250}),s[e].minimized=window.localStorage?localStorage.getItem(t+layoutModule.MINIMIZED):!1,s[e].minimized=Object.isUndefined(s[e].minimized)?s[e].jo.hasClass("minimized"):"true"==s[e].minimized,n=s[e].jo[0].currentStyle?s[e].jo[0].currentStyle.minWidth:document.defaultView.getComputedStyle(s[e].jo[0],null).minWidth,s[e].minWidth=(n&&n.indexOf("px"))>0?n.substring(0,n.indexOf("px")):200,s[e].width=s[e].width?s[e].width:s[e].jo.width(),r-=s[e].width)});var a=0>r?Math.abs(r):0;r=0,jQuery.each(s,function(e,t){t.jo.length&&t.jo.is(":visible")&&(t.minimized?(t.jo.removeClass("maximized").addClass("minimized"),layoutModule.minimize(t.jo[0],!0)):(1==e&&!s[0].minimized&&s[0].jo.is(":visible")&&(t.width-=a,t.width<t.minWidth&&(r=t.width-t.minWidth,t.width=t.minWidth)),t.jo.removeClass("minimized").addClass("maximized"),o.css(t.isLeft?"left":"right",t.width+"px"),t.jo.css("width",t.width+"px")))}),0!==r&&(s[0].width+=r,s[0].width=s[0].width<s[0].minWidth?s[0].minWidth:s[0].width,o.css("left",s[0].width+"px"),s[0].jo.css("width",s[0].width+"px"))},autoMaximize:function(e){var t=window.localStorage?localStorage.getItem(e.identify()+layoutModule.MINIMIZED):"false";"true"==t?e.hasClassName("minimized")&&layoutModule.maximize(e,!0):!e.hasClassName("minimized")&&layoutModule.minimize(e,!0)},autoMinimize:function(e){var t=window.localStorage?localStorage.getItem(e.identify()+layoutModule.MINIMIZED):"false";"false"==t?layoutModule.minimize(e,!0):e.removeClassName("minimized")},fixIE7Sizes:function(){$$(".control.tabSet.buttons.vertical").each(function(e){e.immediateDescendants().each(function(t){t.style.width=e.clientWidth||e.offsetWidth})})},storePanelWidth:function(e,t){window.localStorage&&localStorage.setItem(e+layoutModule.PANEL_WIDTH,t)},getPanelWidth:function(e){return window.localStorage?localStorage.getItem(e+layoutModule.PANEL_WIDTH):void 0},getPanelMinimizedState:function(e){return window.localStorage?localStorage.getItem(e+layoutModule.MINIMIZED):void 0},storePanelMinimizedState:function(e,t){window.localStorage&&localStorage.setItem(e+layoutModule.MINIMIZED,t.toString())},manuallyChangePanelState:function(e,t,i){window.localStorage&&localStorage.setItem(e+layoutModule.PANEL_STATE_CHANGED_MANUALLY+t,i)},panelStateWasManuallyChanged:function(e,t){return window.localStorage?"true"===localStorage.getItem(e+layoutModule.PANEL_STATE_CHANGED_MANUALLY+t):!1}};define("core.layout",["jquery","prototype","utils.common","dragdrop.extra","tools.truncator","iscroll","components.webHelp"],function(e){return function(){var t;return t||e.layoutModule}}(this)),define("bundle",["require","request","requestSettings","underscore","jrs.configs"],function(e){"use strict";var t=e("request"),i=e("requestSettings"),n=e("underscore"),s=e("jrs.configs"),o=s.contextPath+"/rest_v2/bundles",r="all",a=function(e,s){var a;r===e?a="?expanded=true":(e=e.split("/"),a="/"+e[e.length-1]);var l=n.extend({},i,{type:"GET",dataType:"json",url:o+a});t(l).then(function(t){s(r!==e?t:n(t).reduce(function(e,t){return n.extend(e,t)},{}))})};return a.load=function(e,t,i,n){return n.isBuild?void i():void a(e,i)},a}),define("stdnav",["require","exports","module","jquery","underscore","logger"],function(e,t,i){"use strict";var n=e("jquery"),s=(e("underscore"),e("logger").register(i)),o=0,r=function(){o++,this.serial=o,this.menuItemCallbacks={click:{}},this.plugins={},this.modalDialogActive=!1,this.modalDialogRoot=null,this.debugElementID=null,this.chaffLength=1,this.maxChaffLength=8};n.extend(r.prototype,{_maxNavDepth:100,nullOrUndefined:function(e){return null===e||"undefined"==typeof e?!0:!1},closestAncestor:function(e,t,i,s){if(void 0===e||null===e)return void 0;for(var o=n(e).parent(),r=1;void 0!==o;){if(null!==s&&void 0!==s&&r>=s)return void 0;if(o.is(i))return void 0;if(o.is(t))return o;r++,o=o.parent()}return void 0},closestDescendant:function(e,t,i,s){if(null===e||void 0===e||null===t||void 0===t)return void 0;var o;o=null===s||void 0===s?this._maxNavDepth:s;for(var r=[],a=0,l=1,c=0,u=e;void 0!==u;){if(n(u).is(t)&&a>0)return u;if(!n(u).is(i)){var d=n(u).children();d.each(function(e,t){r.unshift(t),c++})}if(0===--l&&(a++,l=c,c=0),a>o)return void 0;u=r.pop()}return void 0},zinit:function(e){return s.debug("stdnav.init("+e+")\n"),this},navtype_nodeNames:{},updateDebugInfo:function(){if(this.debugElementID){var e=n("#"+this.debugElementID),t=n(".superfocus"),i=n(document.activeElement),s=n(".subfocus"),o="[sup:";e.length<1||(o+=t.length,o+=t.length>0?":"+t[0].nodeName+"#"+t[0].id:"?",o+=", foc:",o+=i.length,o+=i.length>0?":"+i[0].nodeName+"#"+i[0].id:"?",o+=", sub:",o+=s.length,o+=s.length>0?":"+s[0].nodeName+"#"+s[0].id:"?",t=n(this._priorSuperfocus),i=n(this._priorFocus),s=n(this._priorSubfocus),o+=" :: psup:",e.length<1||(o+=t.length,o+=t.length>0?":"+t[0].nodeName+"#"+t[0].id:"?",o+=", pfoc:",o+=i.length,o+=i.length>0?":"+i[0].nodeName+"#"+i[0].id:"?",o+=", psub:",o+=s.length,o+=s.length>0?":"+s[0].nodeName+"#"+s[0].id:"?",o+="]",e.text(o)))}},beginModalFocus:function(e){if(e){this.modalDialogActive===!0&&this.endModalFocus(this.modalDialogRoot);var t=n(e),i=n("body *").filter(function(){return!(n.contains(e,this)||t.is(this))});this.modalDialogActive=!0,this.modalDialogRoot=e,i.each(function(e,t){var i=n(t),s=i.attr("tabIndex");"undefined"==typeof s?(i.attr("js-nonmodal-tabindex","undefined"),i.attr("tabIndex","-1")):(i.attr("js-nonmodal-tabindex",s),i.attr("tabIndex","-1"))})}},endModalFocus:function(e){var t,i;e?(t=n(e),i=n("body *").filter(function(){return!(n.contains(t,this)||t.is(this))})):(t=n(),i=n("body *")),i.each(function(e,t){var i=n(t),s=i.attr("js-nonmodal-tabindex");"undefined"==typeof s||("undefined"===s?(i.removeAttr("js-nonmodal-tabindex"),i.removeAttr("tabIndex")):(i.removeAttr("js-nonmodal-tabindex"),i.attr("tabIndex",s)))}),this.modalDialogActive=!1,this.modalDialogRoot=null},isNavigable:function(e){return n(e).is(this._navigableFilter)&&!n(e).is(this._unnavigableFilter)?!0:!1},closestNavigableAncestor:function(e){return this.closestAncestor(e,this._navigableFilter,this._unnavigableFilter,this._maxNavDepth)},closestNavigableDescendant:function(e){return this.closestDescendant(e,this._navigableFilter,this._unnavigableFilter,this._maxNavDepth)},_rebuildNavigationFilters:function(){var e="";n.each(this.navtype_nodeNames,function(t,i){n.each(i,function(t,i){e+=i+","})}),e+="[js-navtype]",this._navigableFilter=e,this._unnavigableFilter='[js-stdnav="false"],[js-navtype="none"]'},registerPlugin:function(e,t){this.plugins[e]=t},unregisterPlugin:function(e){this.plugins[e].unload(),delete this.plugins[e]},registerNavtype:function(e,t,i){this.navtypeBehaviors[e.toLowerCase()]=t,this.navtype_nodeNames[e.toLowerCase()]=i,this._rebuildNavigationFilters()},unregisterNavtype:function(e,t){delete this.navtypeBehaviors[e.toLowerCase()],delete this.navtype_nodeNames[e.toLowerCase()],this._rebuildNavigationFilters()},activate:function(){this.nullBehavior={ariaprep:null,ariarefresh:null,click:null,down:null,end:null,enter:null,entered:null,exit:null,fixfocus:null,fixsubfocus:null,fixsuperfocus:null,focusin:null,focusout:null,home:null,hoverin:null,hoverout:null,inherit:null,inheritable:null,left:null,mousedown:null,mouseover:null,mouseout:null,mouseup:null,next:null,pagedown:null,pageup:null,prev:null,rejoined:null,right:null,subfocusin:null,subfocusout:null,superfocusin:null,superfocusout:null,toggle:null,touchend:null,touchstart:null,up:null},this.defaultBehavior={enter:[this,this.basicEnter,null],entered:[this,this.basicEntered,null],exit:[this,this.basicExit,null],fixfocus:[this,this.basicFixFocus,null],fixsubfocus:[this,this.basicFixSubfocus,null],fixsuperfocus:[this,this.basicFixSuperfocus,null],focusin:[this,this.basicFocusIn,{maxdepth:0}],focusout:[this,this.basicFocusOut,null],inherit:!0,inheritable:!0,rejoined:[this,this.basicRejoined,null],subfocusin:[this,this.basicSubfocusIn,null],subfocusout:[this,this.basicSubfocusOut,null],superfocusin:[this,this.basicSuperfocusIn,null],superfocusout:[this,this.basicSuperfocusOut,{ghostfocus:!1}]},this.navtypeBehaviors={block:{},global:{},inline:{},modal:{next:this._onModalNext,inherit:!1,inheritable:!0}},this._refocusing=!1,this._priorSuperfocus=null,this._priorFocus=null,this._priorSubfocus=null,this._currentSuperfocus=document.activeElement,this._currentFocus=document.activeElement,this._currentSubfocus=document.activeElement,n(this._currentSuperfocus).addClass("superfocus"),n(this._currentSubfocus).addClass("subfocus"),this._rebuildNavigationFilters(),this._bindFocusEvents(),this._bindKeyboardEvents(),this._bindMouseEvents(),this._bindTouchEvents()},start:function(){var e=n(".stdnavinitialfocus");e.length<1&&(document.activeElement&&document.activeElement!=n("body")[0]?e=n(document.activeElement):(e=n("body").children("[tabindex='0']:first"),e.length<1&&(e=n("body")))),this.forceFocus(n("body")[0]),n("#IECM").html("&nbsp;"),this._unforceFocus(n("body")[0]),n("body").blur(),n("#IECM").html("&nbsp;&nbsp;"),this.forceFocus(e[e.length-1]),n("body").attr("aria-busy",!1),n("#ariastatus").attr("aria-label","Standard Navigation initialized."),this.updateDebugInfo()},stop:function(){},deactivate:function(){this._unbindTouchEvents(),this._unbindMouseEvents(),this._unbindKeyboardEvents(),this._unbindFocusEvents()},_bindFocusEvents:function(){n("body").on("focusin",n.proxy(this._onFocusIn,this)),n("body").on("focusout",n.proxy(this._onFocusOut,this))},_bindKeyboardEvents:function(){n(document).on("keydown",n.proxy(this._onKeydown,this))},_bindMouseEvents:function(){n("body").on("click",n.proxy(this._onClick,this)),n("body").on("dblclick",n.proxy(this._onDblClick,this)),n("body").on("mousedown",n.proxy(this._onMouseDown,this)),n("body").on("mouseover",n.proxy(this._onMouseOut,this)),n("body").on("mouseout",n.proxy(this._onMouseOver,this)),n("body").on("mouseup",n.proxy(this._onMouseUp,this))},_bindTouchEvents:function(){n("body").on("touchend",n.proxy(this._onTouchStart,this)),n("body").on("touchstart",n.proxy(this._onTouchStart,this))},_unbindTouchEvents:function(){n("body").off("touchend",n.proxy(this._onTouchStart,this)),n("body").off("touchstart",n.proxy(this._onTouchStart,this))},_unbindMouseEvents:function(){n("body").off("click",n.proxy(this._onClick,this)),n("body").off("dblclick",n.proxy(this._onDblClick,this)),n("body").off("mousedown",n.proxy(this._onMouseDown,this)),n("body").off("mouseover",n.proxy(this._onMouseOut,this)),n("body").off("mouseout",n.proxy(this._onMouseOver,this)),n("body").off("mouseup",n.proxy(this._onMouseUp,this))},_unbindKeyboardEvents:function(){n(document).off("keydown",n.proxy(this._onKeydown,this))},_unbindFocusEvents:function(){n("body").off("focusin",n.proxy(this._onFocusIn,this)),
n("body").off("focusout",n.proxy(this._onFocusOut,this))},_getExplicitBehavior:function(e){var t={};return void 0!==e.attr("js-stdanv-enter")&&(t.enter=e.attr("js-stdnav-enter")),void 0!==e.attr("js-stdanv-exit")&&(t.exit=e.attr("js-stdnav-exit")),void 0!==e.attr("js-stdanv-entered")&&(t.entered=e.attr("js-stdnav-entered")),void 0!==e.attr("js-stdanv-rejoin")&&(t.rejoin=e.attr("js-stdnav-rejoin")),void 0!==e.attr("js-stdanv-up")&&(t.up=e.attr("js-stdnav-up")),void 0!==e.attr("js-stdanv-down")&&(t.down=e.attr("js-stdnav-down")),void 0!==e.attr("js-stdanv-left")&&(t.left=e.attr("js-stdnav-left")),void 0!==e.attr("js-stdanv-right")&&(t.right=e.attr("js-stdnav-right")),void 0!==e.attr("js-stdanv-next")&&(t.next=e.attr("js-stdnav-next")),void 0!==e.attr("js-stdanv-prev")&&(t.prev=e.attr("js-stdnav-prev")),void 0!==e.attr("js-stdanv-inherit")&&(t.inherit=e.attr("js-stdnav-inherit")),void 0!==e.attr("js-stdanv-inheritable")&&(t.inheritable=e.attr("js-stdnav-inheritable")),t},_buildParentBehaviorOBSOLETE:function(e){var t=n(e.parent()[0]);if(void 0===t)return this.defaultBehavior;var i=this._buildImmediateBehavior(t);if(i.inheritable===!1)return this.defaultBehavior;if(i.inherit===!1||t.is("body,iframe"))return n.extend({},!0,this.defaultBehavior,i);var s=this._buildParentBehavior(t);return n.extend({},!0,s,i,{inherit:!1})},_buildBehavior:function(e){for(var t=n.extend(!0,{},this.nullBehavior),i=e,o=0,r=this._buildImmediateBehavior(i);o<this._maxNavDepth&&(n.each(r,function(e,i){e in t?null===t[e]&&(t[e]=i):(s.warn("StdNav: Key '"+e+"' is missing from the NULL-behavior hash"),t[e]=i)}),r.inherit!==!1)&&(o++,i=n(i).parent()[0],r=this._buildImmediateBehavior(i),r.inheritable!==!1););return n.each(this.defaultBehavior,function(e,i){e in t?null===t[e]&&(t[e]=i):(s.warn("StdNav: Key '"+e+"' is defined in defaults but missing from the NULL-behavior hash"),t[e]=i)}),n.extend(!0,{},t)},_buildImmediateBehavior:function(e){if(this.nullOrUndefined(e))return this.defaultBehavior;var t,i=n(e),s=i.prop("nodeName");n.each(this.navtype_nodeNames,function(e,i){n.inArray(s,i)>-1&&(t=e)});var o={};void 0!==t&&(o=this.navtypeBehaviors[t]);var r=i.attr("js-navtype"),a={};void 0!==r&&(a=this.navtypeBehaviors[r.toLowerCase()]);var l=this._getExplicitBehavior(i);return n.extend(!0,{inherit:!0},o,a,l)},_buildBehaviorOBSOLETE:function(e){if(void 0===e||null===e)return this.defaultBehavior;var t=n(e),i=this._buildImmediateBehavior(t),s={};return i.inherit===!0&&(s=this._buildParentBehavior(t)),n.extend(!0,s,i)},isLogicFocusable:function(e){if(this.nullOrUndefined(e))return s.error("isLogicFocusable called on a null or undefined element"),!1;var t=n(e),i=!1,o=t.prop("nodeName");t.attr("tabindex");return(t.is(":input")||n.inArray(o,["A","BUTTON","INPUT","SELECT","OBJECT","TEXTAREA"])>-1)&&t.is(":enabled")&&(i=!0),t.is("[tabindex]")&&(i=!0),i},isUserFocusable:function(e){if(this.nullOrUndefined(e))return s.error("isUserFocusable called on a null or undefined element"),!1;var t=n(e),i=!1,o=t.prop("nodeName"),r=t.attr("tabindex");return(t.is(":input")||n.inArray(o,["A","BUTTON","INPUT","SELECT","OBJECT","TEXTAREA"])>-1)&&t.is(":enabled")&&(i=!0),void 0!==r&&(i="-1"==r?!1:!0),i},suspendFocusability:function(e){if(this.nullOrUndefined(e))return void s.warn("stdnav.suspendFocusability called on null or undefined element");var t=n(e);if(!this.nullOrUndefined(t.attr("js-suspended-tabindex")))return void s.warn("stdnav.suspendFocusability called on already suspended element "+e.nodeType+"#"+e.id);var i=t.attr("tabindex");this.nullOrUndefined(i)?t.attr("js-suspended-tabindex","none"):t.attr("js-suspended-tabindex",i),t.attr("tabindex","-1")},resumeFocusability:function(e){if(this.nullOrUndefined(e))return void s.warn("stdnav.resumeFocusability called on null or undefined element");var t=n(e),i=t.attr("js-suspended-tabindex");return this.nullOrUndefined(i)?void s.warn("stdnav.resumeFocusability called on non-suspended element "+e.nodeName+"#"+e.id):("none"===i?t.removeAttr("tabindex"):t.attr("tabindex",i),void t.removeAttr("js-suspended-tabindex"))},ensureFocusabilityBeyond:function(e){var t=n("[suspended-tabindex]");t.each(function(t){if(!n.contains(t,e)){var i=n(t),s=i.attr("js-suspended-tabindex");i.attr("tabindex",s),i.removeAttr("js-suspended-tabindex")}})},forceFocus:function(e){s.debug("stdnav.forceFocus("+e.nodeName+"#"+e.id+")");var t=n(e),i=0;if(n.each(t.parents("[tabindex]"),function(e,t){var s=n(t);s.attr("tabindex")>i&&(i=s.attr("tabindex")),s.attr("js-suspended-tabindex")>i&&(i=s.attr("js-suspended-tabindex"))}),!t.is(n(document.activeElement))){if((!this.isLogicFocusable(e)||i>t.attr("tabindex"))&&!t.attr("priortabindex")){var o=t.attr("tabindex");void 0!==o?t.data("prior-tabindex",o):t.data("prior-tabindex","none"),t.attr("tabindex",i)}n(e).focus()}},_unforceFocus:function(e){var t=n(e),i=t.data("prior-tabindex");this.nullOrUndefined(i)||("none"==i?t.removeAttr("tabindex"):t.attr("tabindex",i),t.removeData("prior-tabindex"))},_onClick:function(e){var t=n(e.target);if(1==t.length){var i=this._buildBehavior(t);if(null!=i.click){var s=this.runAction("click",e.target);s===!1&&(e.stopPropagation(),e.preventDefault())}}},_onMouseDown:function(e){var t=n(e.target);if(1==t.length){var i=this._buildBehavior(t);if(null!=i.mousedown){var s=this.runAction("mousedown",e.target);s===!1&&(e.stopPropagation(),e.preventDefault())}}},_onMouseUp:function(e){var t=n(e.target);if(1==t.length){var i=this._buildBehavior(t);if(null!=i.mouseup){var s=this.runAction("mouseup",e.target);s===!1&&(e.stopPropagation(),e.preventDefault())}}},_onFocusIn:function(e){this._currentFocus=e.target;var t=null;s.info("stdnav._onFocusIn  ev.target=="+e.target.nodeName+"#"+e.target.id),this.updateDebugInfo();for(var i="",o=0;o<this.chaffLength;o++)i+="&nbsp;";if(n("#IECM").html(i),this.chaffLength=(this.chaffLength+1)%this.maxChaffLength,0===this.chaffLength&&(this.chaffLength=1),n(e.target).length<1)return void(this._refocusing=!1);var r=e.target;if(t=this.runAction("fixfocus",r),null===t&&(t=r),t!==r)this._refocusing=!0,this.forceFocus(t);else if(this._refocusing=!1,r===this._priorFocus);else{if(n(".subfocus").removeClass("subfocus"),this._priorSubfocus&&this.runAction("subfocusout",this._priorSubfocus),this._priorFocus&&(this.runAction("focusout",this._priorFocus),this._unforceFocus(this._priorFocus)),this._currentFocus=r,this._currentSuperfocus=this.runAction("fixsuperfocus",this._currentFocus),null===this._currentSuperfocus&&(this._currentSuperfocus=n("body")[0]),s.debug("stdnav._onFocusIn: fixsuperfocus("+this._currentFocus.nodeName+"#"+this._currentFocus.id+") returned "+this._currentSuperfocus.nodeName+"#"+this._currentSuperfocus.id),this._currentSuperfocus!==this._priorSuperfocus){var a=n(".superfocus");a.length>0?s.debug("Removing .superfocus from "+a[0].nodeName+"#"+a[0].id):s.warn("No current .superfocus to remove"),n(".superfocus").removeClass("superfocus"),this._priorSuperfocus&&(this.runAction("superfocusout",this._priorSuperfocus),this.resumeFocusability(this._priorSuperfocus)),s.debug("Running ARIA refresh for "+this._currentSuperfocus.nodeName+"#"+this._currentSuperfocus.id),this.runAction("ariarefresh",this._currentSuperfocus),s.debug("Adding .superfocus to "+this._currentSuperfocus.nodeName+"#"+this._currentSuperfocus.id),n(this._currentSuperfocus).addClass("superfocus"),n(this._currentSuperfocus).is(this._currentFocus)||this.suspendFocusability(this._currentSuperfocus),this.runAction("superfocusin",this._currentSuperfocus)}this._currentSubfocus=this.runAction("focusin",this._currentFocus),null===this._currentSubfocus&&(this._currentSubfocus=this._currentFocus),n(this._currentSubfocus).addClass("subfocus"),this.runAction("subfocusin",this._currentSubfocus),this.ensureFocusabilityBeyond(this._currentFocus)}this.updateDebugInfo()},_onFocusOut:function(e){this.updateDebugInfo(),this._refocusing===!0||(n(".superfocus").length>0?this._priorSuperfocus=n(".superfocus")[0]:(s.warn("no prior superfocus"),this._priorSuperfocus=n("body")[0]),this._priorFocus=e.target,n(".subfocus").length>0?this._priorSubfocus=n(".subfocus")[0]:(s.warn("no prior subfocus"),this._priorSubfocus=e.target)),this.updateDebugInfo()},_prepSubfocusIn:function(e){0===n(e).parents(":focus").length&&n(e).focus()},setSuperfocus:function(e,t){s.debug("stdnav.setSuperfocus("+e.nodeName+"#"+e.id+", "+t+")"),void 0===t&&(t=!0);var i=n(".subfocus");i.length>0&&(t&&this.runAction("subfocusout",i[0]),i.removeClass("subfocus")),n(e).addClass("subfocus"),t&&(this._prepSubfocusIn(e),this.runAction("subfocusin",e))},setSubfocus:function(e,t){s.debug("stdnav.setSubfocus("+e.nodeName+"#"+e.id+", "+t+")"),void 0===t&&(t=!0);var i=n(".subfocus");i.length>0&&(t&&this.runAction("subfocusout",i[0]),i.removeClass("subfocus")),n(e).addClass("subfocus"),t&&(this._prepSubfocusIn(e),this.runAction("subfocusin",e))},runAction:function(e,t){if(null===t)return void s.warn("tried to run action '"+e+"' on null element");if("undefined"==typeof t)return void s.warn("tried to run action '"+e+"' on undefined element");s.debug("stdnav.runAction("+e+", "+t.nodeName+"#"+t.id+")");var i=this._buildBehavior(t);return this.nullOrUndefined(i[e])?void 0:this._runActionDesc(i[e],t)},_runActionDesc:function(e,t){var i=!0;if("string"==typeof e||e instanceof String){if("#"==e.substr(0,1))if("##parent"==e)this.forceFocus(n(t).parent());else if("##child"==e){var o=n(t).children();o.length>0&&this.forceFocus(n(t).children()[0])}else if("##prev"==e){var r=n(t).prev();r.length>0&&this.forceFocus(n(t).prev()[0])}else if("##next"==e){var a=n(t).next();a.length>0&&this.forceFocus(n(t).next()[0])}else{var l=n(e);void 0!==l&&this.forceFocus(l)}else if("@"==e.substr(0,1)){var c,u,d,h,p,f,m=this;if("@"==e.substr(1,1))m=n(t).data("stdnav-context");else if(h=e.indexOf(":"),h>-1){var g=e.substr(0,h);m=this.actionContexts[g]}p=e.indexOf("("),-1==p?c=e.substr(2):(f=e.indexOf(")"),c=e.substr(2,p-2),-1==f?s.warn("Bad stdnav action: "+e):d=e.substr(p,f-p)),u=m[c],i=u.call(m,d)}}else if(e instanceof Array){void 0===e[1]&&s.warn("undefined actionDesc[1]");var m=e[0];(null===m||"undefined"==typeof m)&&(m=this);var v=e[1],_=e[2];(null===_||"undefined"==typeof _)&&(_={}),i=v.call(m,t,_)}return i},basicClick:function(e,t){var i=this.runAction("fixfocus",e);return this.nullOrUndefined(i)?s.debug("stdnav.basicClick: "+e.nodeName+"#"+e.id+" has no navigable ancestor, ignoring"):(s.debug("stdnav.basicClick("+e.nodeName+"#"+e.id+") refocusing to "+i.nodeName+"#"+i.id),this.nullOrUndefined(i)||this.forceFocus(i)),!0},basicFixFocus:function(e,t){if(this.isNavigable(e)||n(e).is(":input"))return e;var i=this.closestNavigableAncestor(e);return this.nullOrUndefined(i)?null:i},basicFixSuperfocus:function(e,t){var i=null;if(n(e).is(":input,fieldset")){var s=n(e).closest("form");n(e).closest("form"),s.length>0&&(i=s[0])}else i=this.isNavigable(e)?e:this.closestNavigableAncestor(e);return(null===i||"undefined"==typeof i)&&(i=e),i},parentFixSuperfocus:function(e,t){return this.basicFixSuperfocus(e.parentNode,t)},basicFixSubfocus:function(e,t){return e},basicFocusIn:function(e,t){return s.debug("stdnav.basicFocusIn("+e.nodeName+"#"+e.id+")"),e},basicFocusOut:function(e,t){return s.debug("stdnav.basicFocusOut("+e.nodeName+"#"+e.id+")"),null},basicMouseDown:function(e,t){var i=this.runAction("fixfocus",e);return this.nullOrUndefined(i)?s.debug("stdnav.basicClick: "+e.nodeName+"#"+e.id+" has no navigable ancestor, ignoring"):(s.debug("stdnav.basicClick("+e.nodeName+"#"+e.id+") refocusing to "+i.nodeName+"#"+i.id),this.nullOrUndefined(i)||this.forceFocus(i)),!0},basicMouseUp:function(e,t){return!0},basicSuperfocusIn:function(e,t){s.debug("stdnav.basicSuperfocusIn("+e.nodeName+"#"+e.id+")");var i=null;if("focusSelector"in t){var o=":input,fieldset,"+t.focusSelector+'[js-navigable!="false"]',r=null;"barrier"in t&&(r=t.barrier);var a=this._maxNavDepth;"maxdepth"in t&&(a=t.maxdepth),"ghostfocus"in t&&t.ghostfocus===!0&&(i=this.closestDescendant(e,o+" .ghostfocus",r,a),n(i).removeClass("ghostfocus")),null==i&&(i=this.closestDescendant(e,o,r,a))}return null==i&&(i=e),i},basicSuperfocusOut:function(e,t){return s.debug("stdnav.basicSuperfocusOut("+e.nodeName+"#"+e.id+")"),"ghostfocus"in t&&t.ghostfocus===!0&&this._priorFocus&&n(this._priorFocus).addClass("ghostfocus"),null},basicSubfocusIn:function(e,t){return s.debug("stdnav.basicSubfocusIn("+e.nodeName+"#"+e.id+")"),null},basicSubfocusOut:function(e,t){return s.debug("stdnav.basicSubfocusOut("+e.nodeName+"#"+e.id+")"),null},basicEnter:function(e,t){s.debug("stdnav.basicEnter("+e.nodeName+"#"+e.id+")");var i=this.closestNavigableDescendant(e);return void 0!==i&&this.runAction("entered",i),e},basicExit:function(e,t){s.debug("stdnav.basicExit("+e.nodeName+"#"+e.id+")");var i=this.closestNavigableAncestor(n(".superfocus"));return i||(i=n("#mainNavigation")),void 0!==i&&this.runAction("rejoined",i[0]),i[0]},basicEntered:function(e,t){s.debug("stdnav.basicEntered("+e.nodeName+"#"+e.id+")")},basicRejoined:function(e,t){s.debug("stdnav.basicRejoined("+e.nodeName+"#"+e.id+")")},_onKeydown:function(e){e.target;if(0!==n(".subfocus").length){var t=n(".subfocus")[0],i=!1,o=n(t).prop("nodeName");if(!(n(t).is(":input")||n.inArray(o,["INPUT","SELECT","OBJECT","TEXTAREA"])>-1)||"BUTTON"==o||27==e.keyCode){for(var r=n(t).parents(),a=0;a<r.length;a++)if(!this.nullOrUndefined(n(r[a]).attr("js-stdnav"))){i="true"==n(r[a]).attr("js-stdnav")?!0:!1;break}if(!i)return void s.warn("StdNav is disabled in this subdom, aborting action");var l;switch(e.keyCode){case 13:l="enter";break;case 27:l="exit";break;case 32:l="toggle";break;case 33:l="pageup";break;case 34:l="pagedown";break;case 35:l="end";break;case 36:l="home";break;case 37:l="left";break;case 38:l="up";break;case 39:l="right";break;case 40:l="down";break;case 91:l="structleft";break;case 93:l="structright"}if(!this.nullOrUndefined(l)){var c=this.runAction(l,t);this.nullOrUndefined(c)||(e.stopPropagation(),e.preventDefault(),this.forceFocus(c))}}}}});var a=new r;return a});var dialogs={};dialogs.systemConfirm={container:null,message:null,show:function(e,t){window.isEmbeddedDesigner?jQuery(document).trigger("adhocDesigner:notification",[e,t]):(this.container=this.container||jQuery("#systemMessageConsole").on("mouseup touchend",function(){dialogs.systemConfirm.container.slideUp()}),this.message=this.message||document.getElementById("systemMessage"),this.closeText||(this.closeText=this.message.innerHTML.toLowerCase()),this.message.innerHTML=xssUtil.escape(e)+' <span>| <a href="#">'+xssUtil.escape(this.closeText)+"</a></span>",dialogs.systemConfirm.container.slideDown(),setTimeout("dialogs.systemConfirm.hide()",t?t:2e3))},showWarning:function(e,t){e='<span class="warning">'+e+"</span>",this.show(e,t)},hide:function(){dialogs.systemConfirm.container&&dialogs.systemConfirm.container.slideUp()}},dialogs.errorPopup={_dom:null,_content:null,_DOM_ID:"standardAlert",_CONTENT_ID:"errorPopupContents",_PAGE_CONTENT_PATTERN:"#errorPageContent",_DIALOG_WIDTH:"546px",_DIALOG_HEIGHT:"350px",clickHandler:null,show:function(e,t,i){i||(i={});var n=Builder.node("DIV",{style:"display:none"});n.innerHTML=e,document.body.insertBefore(n,document.body.firstChild);var s=$$(this._PAGE_CONTENT_PATTERN)[0],o=s?s.innerHTML:e,r=s&&s.innerHTML;if(n.remove(),o&&(this._dom||(this._dom=$(this._DOM_ID),this._content=$(this._CONTENT_ID),this.clickHandler=this._clickHandler.bindAsEventListener(this)),this._dom)){var a=o;r||(a=Builder.node("P",{"class":"message"}),a.update(xssUtil.escape(o,{softHTMLEscape:!0}))),this._content.update(xssUtil.escape(a,{softHTMLEscape:!0})),this._dom.observe("click",this.clickHandler),this._dom.setStyle({height:i.height||this._DIALOG_HEIGHT,width:i.width||this._DIALOG_WIDTH}),t&&this._dom.addClassName(layoutModule.STACKTRACE_CLASS),dialogs.popup.show(this._dom,t);var l=document.getElementById("completeStackTrace");l&&isIPad()&&new TouchController(l,l.parentNode,{noInit3d:!0})}},_hide:function(){this._dom&&(this._dom.stopObserving("click",this.clickHandler),dialogs.popup.hide(this._dom))},_clickHandler:function(e){var t=e.element();matchAny(t,["button"],!0)&&this._hide()}},dialogs.clusterErrorPopup=_.extend({},dialogs.errorPopup,{show:function(e){var t=this;require(["bundle!jasperserver_messages","bundle!jsexceptions_messages"],function(e,i){var n=i["cluster.exception.session.attribute.missing.popup"];dialogs.errorPopup.show.call(t,n);var s=e["button.home"];jQuery("#"+t._DOM_ID).find("button span.wrap").html(s)})},_hide:function(e){dialogs.errorPopup._hide.apply(this,arguments),window.location="home.html"}}),dialogs.popup={show:function(e,t,i){require(["stdnav","jquery"],function(n,s){if(i=i||{},e=$(e)){"message"in i&&s(e).find(".body").text(i.message.unescapeHTML()),(isIE7()||isIE8())&&(jo=s(e),0==jo.children("div.msshadow").length&&jo.prepend('<div class="msshadow" style="position:absolute;top:-10px;right:10px;bottom:10px;left:-10px;border:0;background:#fff;">&nbsp;</div>')),t&&(pageDimmer.show(),e.match(layoutModule.DIALOG_LOADING_PATTERN)&&pageDimmer.setZindex(e.getStyle("zIndex")-1)),reParent(e,document.body),e.setOpacity(0),e.removeClassName(layoutModule.HIDDEN_CLASS),isIE7()&&!e.match(".sizeable")&&setWidthStyleByReflection(e,".content"),layoutModule.createMover.call(layoutModule,e),layoutModule.createSizer.call(layoutModule,e),i.cascade?cascadeElement(e,{position:i.position,number:i.number,horzOffset:40,vertOffset:40}):centerElement(e,{horz:!0,vert:!0}),dialogs.popup._setMaxZIndex(e),layoutModule.createMover.call(layoutModule,e),isIPad()?e.setOpacity(1)&&e.show():appear(e,.4),s(document.activeElement).addClass("preDialogFocus");var o=e;e&&s(".primary",e).length>0&&(o=s(".primary",e)[0]),(!i||"undefined"==typeof i.focus||i.focus)&&(e.tabIndex=0,o.tabIndex=0,isIE8()?setTimeout(function(){try{o.focus()}catch(e){}},450):o.focus()),!t&&e.observe("click",dialogs.popup.zIndexHandler),n.beginModalFocus(e)}})},hide:function(e){require(["stdnav","jquery"],function(t,i){t.endModalFocus(e);var n=i(".preDialogFocus");n.length>0&&(n[0].focus(),n.removeClass("preDialogFocus")),e&&($elem=$(e),$elem.hasClassName(layoutModule.HIDDEN_CLASS)||($elem.addClassName(layoutModule.HIDDEN_CLASS),pageDimmer.hide(),$elem.match(layoutModule.DIALOG_LOADING_PATTERN)&&pageDimmer.setZindex(layoutModule.DIMMER_Z_INDEX)),$elem.stopObserving("click",dialogs.popup.zIndexHandler))})},zIndexHandler:function(e){var t=Event.element(e),i=matchMeOrUp(t,layoutModule.DIALOG_PATTERN);dialogs.popup._setMaxZIndex(i)},_setMaxZIndex:function(e,t){if(e){var i=t?t.getStyle("zIndex"):0,n=document.body.select(layoutModule.DIALOG_PATTERN),s=function(e){e.visible()&&!e.match(layoutModule.DIALOG_LOADING_PATTERN)&&(i=Math.max(i,e.getStyle("zIndex"),layoutModule.DIMMER_Z_INDEX+1))};1==n.length?s(n[0]):n.each(s),e.setStyle({zIndex:Math.max(i+1,e.getStyle("zIndex"))})}}},dialogs.popupConfirm=_.extend({},dialogs.popup,{show:function(e,t,i){dialogs.popup.show.apply(this,arguments),i=_.extend({okButtonSelector:"button.ok",cancelButtonSelector:"button.cancel"},i);var n=jQuery(e),s=n.find(i.okButtonSelector),o=n.find(i.cancelButtonSelector),r=jQuery.Deferred();return s.on("click",function(){i.validateFunc&&i.validateFunc()===!1||(s.off("click"),o.off("click"),dialogs.popupConfirm.hide(e),r.resolve())}),o.on("click",function(){s.off("click"),o.off("click"),dialogs.popupConfirm.hide(e),r.reject()}),r}}),dialogs.childPopup=_.extend({},dialogs.popup,{cascadePopups:{},show:function(e,t,i,n){i?(n=_.extend({parent:i},n),this.cascadePopups[i.id]||(this.cascadePopups[i.id]=[]),this.cascadePopups[i.id].push(e.id),$(e).setAttribute("data-parentDialog",i.id),dialogs.popup.show.apply(this,[e,t,n]),dialogs.popup._setMaxZIndex(e,i),t&&pageDimmer.setZindex(e.getStyle("zIndex")-1),i.stopObserving("click",dialogs.popup.zIndexHandler)):dialogs.popup.show.apply(this,[e,t,n])},hide:function(e){var t=$(e).getAttribute("data-parentDialog");if(t){this.cascadePopups[t]&&(this.cascadePopups[t]=_.without(this.cascadePopups[t],e.id)),dialogs.popup.hide.apply(this,[e]);var i=$(t);pageDimmer.show(i),dialogs.popup._setMaxZIndex(i)}else dialogs.popup.hide.apply(this,[e])}}),define("components.dialogs",["jquery","prototype","underscore","utils.common","utils.animation","core.layout"],function(e){return function(){var t;return t||e.dialogs}}(this));var about={initialize:function(){about.aboutBox.registerListeners()}};about.aboutBox={show:function(){var e=jQuery("#aboutBox");e.hasClass("hidden")&&dialogs.popup.show(e[0],!0)},_hide:function(){var e=jQuery("#aboutBox");e.hasClass("hidden")||dialogs.popup.hide(e[0])},registerListeners:function(){jQuery(document).delegate("#about","click",function(e){e.preventDefault(),about.aboutBox.show()}),jQuery(document).delegate("#aboutBox button","click",function(e){about.aboutBox._hide(),e.stopPropagation()})}},jQuery(function(){"undefined"==typeof require&&about.initialize()}),define("components.about",["components.dialogs"],function(e){return function(){var t;return t||e.about}}(this)),function(){var e,t=this,i=t.Backbone,n=[],s=(n.push,n.slice);n.splice;e="undefined"!=typeof exports?exports:t.Backbone={},e.VERSION="1.1.0";var o=t._;o||"undefined"==typeof require||(o=require("underscore")),e.$=t.jQuery||t.Zepto||t.ender||t.$,e.noConflict=function(){return t.Backbone=i,this},e.emulateHTTP=!1,e.emulateJSON=!1;var r=e.Events={on:function(e,t,i){if(!l(this,"on",e,[t,i])||!t)return this;this._events||(this._events={});var n=this._events[e]||(this._events[e]=[]);return n.push({callback:t,context:i,ctx:i||this}),this},once:function(e,t,i){if(!l(this,"once",e,[t,i])||!t)return this;var n=this,s=o.once(function(){n.off(e,s),t.apply(this,arguments)});return s._callback=t,this.on(e,s,i)},off:function(e,t,i){var n,s,r,a,c,u,d,h;if(!this._events||!l(this,"off",e,[t,i]))return this;if(!e&&!t&&!i)return this._events={},this;for(a=e?[e]:o.keys(this._events),c=0,u=a.length;u>c;c++)if(e=a[c],r=this._events[e]){if(this._events[e]=n=[],t||i)for(d=0,h=r.length;h>d;d++)s=r[d],(t&&t!==s.callback&&t!==s.callback._callback||i&&i!==s.context)&&n.push(s);n.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=s.call(arguments,1);if(!l(this,"trigger",e,t))return this;var i=this._events[e],n=this._events.all;return i&&c(i,t),n&&c(n,arguments),this},stopListening:function(e,t,i){var n=this._listeningTo;if(!n)return this;var s=!t&&!i;i||"object"!=typeof t||(i=this),e&&((n={})[e._listenId]=e);for(var r in n)e=n[r],e.off(t,i,this),(s||o.isEmpty(e._events))&&delete this._listeningTo[r];return this}},a=/\s+/,l=function(e,t,i,n){if(!i)return!0;if("object"==typeof i){for(var s in i)e[t].apply(e,[s,i[s]].concat(n));return!1}if(a.test(i)){for(var o=i.split(a),r=0,l=o.length;l>r;r++)e[t].apply(e,[o[r]].concat(n));return!1}return!0},c=function(e,t){var i,n=-1,s=e.length,o=t[0],r=t[1],a=t[2];switch(t.length){case 0:for(;++n<s;)(i=e[n]).callback.call(i.ctx);return;case 1:for(;++n<s;)(i=e[n]).callback.call(i.ctx,o);return;case 2:for(;++n<s;)(i=e[n]).callback.call(i.ctx,o,r);return;case 3:for(;++n<s;)(i=e[n]).callback.call(i.ctx,o,r,a);return;default:for(;++n<s;)(i=e[n]).callback.apply(i.ctx,t)}},u={listenTo:"on",listenToOnce:"once"};o.each(u,function(e,t){r[t]=function(t,i,n){var s=this._listeningTo||(this._listeningTo={}),r=t._listenId||(t._listenId=o.uniqueId("l"));return s[r]=t,n||"object"!=typeof i||(n=this),t[e](i,n,this),this}}),r.bind=r.on,r.unbind=r.off,o.extend(e,r);var d=e.Model=function(e,t){var i=e||{};t||(t={}),this.cid=o.uniqueId("c"),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(i=this.parse(i,t)||{}),i=o.defaults({},i,o.result(this,"defaults")),this.set(i,t),this.changed={},this.initialize.apply(this,arguments)};o.extend(d.prototype,r,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return o.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return o.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,i){var n,s,r,a,l,c,u,d;if(null==e)return this;if("object"==typeof e?(s=e,i=t):(s={})[e]=t,i||(i={}),!this._validate(s,i))return!1;r=i.unset,l=i.silent,a=[],c=this._changing,this._changing=!0,c||(this._previousAttributes=o.clone(this.attributes),this.changed={}),d=this.attributes,u=this._previousAttributes,this.idAttribute in s&&(this.id=s[this.idAttribute]);for(n in s)t=s[n],o.isEqual(d[n],t)||a.push(n),o.isEqual(u[n],t)?delete this.changed[n]:this.changed[n]=t,r?delete d[n]:d[n]=t;if(!l){a.length&&(this._pending=!0);for(var h=0,p=a.length;p>h;h++)this.trigger("change:"+a[h],this,d[a[h]],i)}if(c)return this;if(!l)for(;this._pending;)this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,o.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var i in this.attributes)t[i]=void 0;return this.set(t,o.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!o.isEmpty(this.changed):o.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?o.clone(this.changed):!1;var t,i=!1,n=this._changing?this._previousAttributes:this.attributes;for(var s in e)o.isEqual(n[s],t=e[s])||((i||(i={}))[s]=t);return i},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return o.clone(this._previousAttributes)},fetch:function(e){e=e?o.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=this,i=e.success;return e.success=function(n){return t.set(t.parse(n,e),e)?(i&&i(t,n,e),void t.trigger("sync",t,n,e)):!1},R(this,e),this.sync("read",this,e)},save:function(e,t,i){var n,s,r,a=this.attributes;if(null==e||"object"==typeof e?(n=e,i=t):(n={})[e]=t,i=o.extend({validate:!0},i),n&&!i.wait){if(!this.set(n,i))return!1}else if(!this._validate(n,i))return!1;n&&i.wait&&(this.attributes=o.extend({},a,n)),void 0===i.parse&&(i.parse=!0);var l=this,c=i.success;return i.success=function(e){l.attributes=a;var t=l.parse(e,i);return i.wait&&(t=o.extend(n||{},t)),o.isObject(t)&&!l.set(t,i)?!1:(c&&c(l,e,i),void l.trigger("sync",l,e,i))},R(this,i),s=this.isNew()?"create":i.patch?"patch":"update","patch"===s&&(i.attrs=n),r=this.sync(s,this,i),n&&i.wait&&(this.attributes=a),r},destroy:function(e){e=e?o.clone(e):{};var t=this,i=e.success,n=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(s){(e.wait||t.isNew())&&n(),i&&i(t,s,e),t.isNew()||t.trigger("sync",t,s,e)},this.isNew())return e.success(),!1;R(this,e);var s=this.sync("delete",this,e);return e.wait||n(),s},url:function(){var e=o.result(this,"urlRoot")||o.result(this.collection,"url")||P();return this.isNew()?e:e+("/"===e.charAt(e.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(e){return this._validate({},o.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=o.extend({},this.attributes,e);var i=this.validationError=this.validate(e,t)||null;return i?(this.trigger("invalid",this,i,o.extend(t,{validationError:i})),!1):!0}});var h=["keys","values","pairs","invert","pick","omit"];o.each(h,function(e){d.prototype[e]=function(){var t=s.call(arguments);return t.unshift(this.attributes),o[e].apply(o,t)}});var p=e.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,o.extend({silent:!0},t))},f={add:!0,remove:!0,merge:!0},m={add:!0,remove:!1};o.extend(p.prototype,r,{model:d,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return e.sync.apply(this,arguments)},add:function(e,t){return this.set(e,o.extend({merge:!1},t,m))},remove:function(e,t){var i=!o.isArray(e);e=i?[e]:o.clone(e),t||(t={});var n,s,r,a;for(n=0,s=e.length;s>n;n++)a=e[n]=this.get(e[n]),a&&(delete this._byId[a.id],delete this._byId[a.cid],r=this.indexOf(a),this.models.splice(r,1),this.length--,t.silent||(t.index=r,a.trigger("remove",a,this,t)),this._removeReference(a));return i?e[0]:e},set:function(e,t){t=o.defaults({},t,f),t.parse&&(e=this.parse(e,t));var i=!o.isArray(e);e=i?e?[e]:[]:o.clone(e);var n,s,r,a,l,c,u,h=t.at,p=this.model,m=this.comparator&&null==h&&t.sort!==!1,g=o.isString(this.comparator)?this.comparator:null,v=[],_=[],b={},y=t.add,T=t.merge,w=t.remove,S=!m&&y&&w?[]:!1;for(n=0,s=e.length;s>n;n++){if(l=e[n],r=l instanceof d?a=l:l[p.prototype.idAttribute],c=this.get(r))w&&(b[c.cid]=!0),T&&(l=l===a?a.attributes:l,t.parse&&(l=c.parse(l,t)),c.set(l,t),m&&!u&&c.hasChanged(g)&&(u=!0)),e[n]=c;else if(y){if(a=e[n]=this._prepareModel(l,t),!a)continue;v.push(a),a.on("all",this._onModelEvent,this),this._byId[a.cid]=a,null!=a.id&&(this._byId[a.id]=a)}S&&S.push(c||a)}if(w){for(n=0,s=this.length;s>n;++n)b[(a=this.models[n]).cid]||_.push(a);_.length&&this.remove(_,t)}if(v.length||S&&S.length)if(m&&(u=!0),this.length+=v.length,null!=h)for(n=0,s=v.length;s>n;n++)this.models.splice(h+n,0,v[n]);else{S&&(this.models.length=0);var C=S||v;for(n=0,s=C.length;s>n;n++)this.models.push(C[n])}if(u&&this.sort({silent:!0}),!t.silent){for(n=0,s=v.length;s>n;n++)(a=v[n]).trigger("add",a,this,t);(u||S&&S.length)&&this.trigger("sort",this,t)}return i?e[0]:e},reset:function(e,t){t||(t={});for(var i=0,n=this.models.length;n>i;i++)this._removeReference(this.models[i]);return t.previousModels=this.models,this._reset(),e=this.add(e,o.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,o.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return this.add(e,o.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(){return s.apply(this.models,arguments)},get:function(e){return null==e?void 0:this._byId[e.id]||this._byId[e.cid]||this._byId[e]},at:function(e){return this.models[e]},where:function(e,t){return o.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var i in e)if(e[i]!==t.get(i))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),o.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(o.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return o.invoke(this.models,"get",e)},fetch:function(e){e=e?o.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=e.success,i=this;return e.success=function(n){var s=e.reset?"reset":"set";i[s](n,e),t&&t(i,n,e),i.trigger("sync",i,n,e)},R(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?o.clone(t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var i=this,n=t.success;return t.success=function(e,t,s){s.wait&&i.add(e,s),n&&n(e,t,s)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof d)return e.collection||(e.collection=this),e;t=t?o.clone(t):{},t.collection=this;var i=new this.model(e,t);return i.validationError?(this.trigger("invalid",this,i.validationError,t),!1):i},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,i,n){("add"!==e&&"remove"!==e||i===this)&&("destroy"===e&&this.remove(t,n),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}});var g=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain"];
o.each(g,function(e){p.prototype[e]=function(){var t=s.call(arguments);return t.unshift(this.models),o[e].apply(o,t)}});var v=["groupBy","countBy","sortBy"];o.each(v,function(e){p.prototype[e]=function(t,i){var n=o.isFunction(t)?t:function(e){return e.get(t)};return o[e](this.models,n,i)}});var _=e.View=function(e){this.cid=o.uniqueId("view"),e||(e={}),o.extend(this,o.pick(e,y)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},b=/^(\S+)\s*(.*)$/,y=["model","collection","el","id","attributes","className","tagName","events"];o.extend(_.prototype,r,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,i){return this.$el&&this.undelegateEvents(),this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0],i!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=o.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var i=e[t];if(o.isFunction(i)||(i=this[e[t]]),i){var n=t.match(b),s=n[1],r=n[2];i=o.bind(i,this),s+=".delegateEvents"+this.cid,""===r?this.$el.on(s,i):this.$el.on(s,r,i)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(o.result(this,"el"),!1);else{var t=o.extend({},o.result(this,"attributes"));this.id&&(t.id=o.result(this,"id")),this.className&&(t["class"]=o.result(this,"className"));var i=e.$("<"+o.result(this,"tagName")+">").attr(t);this.setElement(i,!1)}}}),e.sync=function(t,i,n){var s=w[t];o.defaults(n||(n={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var r={type:s,dataType:"json"};if(n.url||(r.url=o.result(i,"url")||P()),null!=n.data||!i||"create"!==t&&"update"!==t&&"patch"!==t||(r.contentType="application/json",r.data=JSON.stringify(n.attrs||i.toJSON(n))),n.emulateJSON&&(r.contentType="application/x-www-form-urlencoded",r.data=r.data?{model:r.data}:{}),n.emulateHTTP&&("PUT"===s||"DELETE"===s||"PATCH"===s)){r.type="POST",n.emulateJSON&&(r.data._method=s);var a=n.beforeSend;n.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",s),a?a.apply(this,arguments):void 0}}"GET"===r.type||n.emulateJSON||(r.processData=!1),"PATCH"===r.type&&T&&(r.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=n.xhr=e.ajax(o.extend(r,n));return i.trigger("request",i,l,n),l};var T=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),w={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var S=e.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},C=/\((.*?)\)/g,E=/(\(\?)?:\w+/g,x=/\*\w+/g,D=/[\-{}\[\]+?.,\\\^$|#\s]/g;o.extend(S.prototype,r,{initialize:function(){},route:function(t,i,n){o.isRegExp(t)||(t=this._routeToRegExp(t)),o.isFunction(i)&&(n=i,i=""),n||(n=this[i]);var s=this;return e.history.route(t,function(o){var r=s._extractParameters(t,o);n&&n.apply(s,r),s.trigger.apply(s,["route:"+i].concat(r)),s.trigger("route",i,r),e.history.trigger("route",s,i,r)}),this},navigate:function(t,i){return e.history.navigate(t,i),this},_bindRoutes:function(){if(this.routes){this.routes=o.result(this,"routes");for(var e,t=o.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(D,"\\$&").replace(C,"(?:$1)?").replace(E,function(e,t){return t?e:"([^/]+)"}).replace(x,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){var i=e.exec(t).slice(1);return o.map(i,function(e){return e?decodeURIComponent(e):null})}});var M=e.History=function(){this.handlers=[],o.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},I=/^[#\/]|\s+$/g,N=/^\/+|\/+$/g,k=/msie [\w.]+/,O=/\/$/,A=/[?#].*$/;M.started=!1,o.extend(M.prototype,r,{interval:50,getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=this.location.pathname;var i=this.root.replace(O,"");e.indexOf(i)||(e=e.slice(i.length))}else e=this.getHash();return e.replace(I,"")},start:function(t){if(M.started)throw new Error("Backbone.history has already been started");M.started=!0,this.options=o.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var i=this.getFragment(),n=document.documentMode,s=k.exec(navigator.userAgent.toLowerCase())&&(!n||7>=n);this.root=("/"+this.root+"/").replace(N,"/"),s&&this._wantsHashChange&&(this.iframe=e.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(i)),this._hasPushState?e.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!s?e.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=i;var r=this.location,a=r.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!a)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._hasPushState&&a&&r.hash&&(this.fragment=this.getHash().replace(I,""),this.history.replaceState({},document.title,this.root+this.fragment+r.search))}return this.options.silent?void 0:this.loadUrl()},stop:function(){e.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),M.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t===this.fragment?!1:(this.iframe&&this.navigate(t),void this.loadUrl())},loadUrl:function(e){return e=this.fragment=this.getFragment(e),o.any(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0})},navigate:function(e,t){if(!M.started)return!1;t&&t!==!0||(t={trigger:!!t});var i=this.root+(e=this.getFragment(e||""));if(e=e.replace(A,""),this.fragment!==e){if(this.fragment=e,""===e&&"/"!==i&&(i=i.slice(0,-1)),this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,i){if(i){var n=e.href.replace(/(javascript:|#).*$/,"");e.replace(n+"#"+t)}else e.hash="#"+t}}),e.history=new M;var L=function(e,t){var i,n=this;i=e&&o.has(e,"constructor")?e.constructor:function(){return n.apply(this,arguments)},o.extend(i,n,t);var s=function(){this.constructor=i};return s.prototype=n.prototype,i.prototype=new s,e&&o.extend(i.prototype,e),i.__super__=n.prototype,i};d.extend=p.extend=S.extend=_.extend=M.extend=L;var P=function(){throw new Error('A "url" property or function must be specified')},R=function(e,t){var i=t.error;t.error=function(n){i&&i(e,n,t),e.trigger("error",e,n,t)}}}.call(this),define("backbone.original",["underscore","json3","jquery"],function(e){return function(){var t;return t||e.Backbone}}(this)),define("backbone",["require","backbone.original","request"],function(e){"use strict";var t=e("backbone.original"),i=e("request");return t.ajax=i,t});var Mustache=function(){function e(e){return String(e).replace(/&(?!\w+;)|[<>"']/g,function(e){return r[e]||e})}var t=Object.prototype.toString;Array.isArray=Array.isArray||function(e){return"[object Array]"==t.call(e)};var i,n=String.prototype.trim;if(n)i=function(e){return null==e?"":n.call(e)};else{var s,o;/\S/.test("")?(s=/^[\s\xA0]+/,o=/[\s\xA0]+$/):(s=/^\s+/,o=/\s+$/),i=function(e){return null==e?"":e.toString().replace(s,"").replace(o,"")}}var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},a={},l=function(){};return l.prototype={otag:"{{",ctag:"}}",pragmas:{},buffer:[],pragmas_implemented:{"IMPLICIT-ITERATOR":!0},context:{},render:function(e,t,i,n){if(n||(this.context=t,this.buffer=[]),!this.includes("",e))return n?e:void this.send(e);e=this.render_pragmas(e);var s=this.render_section(e,t,i);return s===!1&&(s=this.render_tags(e,t,i,n)),n?s:void this.sendLines(s)},send:function(e){""!==e&&this.buffer.push(e)},sendLines:function(e){if(e)for(var t=e.split("\n"),i=0;i<t.length;i++)this.send(t[i])},render_pragmas:function(e){if(!this.includes("%",e))return e;var t=this,i=this.getCachedRegex("render_pragmas",function(e,t){return new RegExp(e+"%([\\w-]+) ?([\\w]+=[\\w]+)?"+t,"g")});return e.replace(i,function(e,i,n){if(!t.pragmas_implemented[i])throw{message:"This implementation of mustache doesn't understand the '"+i+"' pragma"};if(t.pragmas[i]={},n){var s=n.split("=");t.pragmas[i][s[0]]=s[1]}return""})},render_partial:function(e,t,n){if(e=i(e),!n||void 0===n[e])throw{message:"unknown_partial '"+e+"'"};return t&&"object"==typeof t[e]?this.render(n[e],t[e],n,!0):this.render(n[e],t,n,!0)},render_section:function(e,t,i){if(!this.includes("#",e)&&!this.includes("^",e))return!1;var n=this,s=this.getCachedRegex("render_section",function(e,t){return new RegExp("^([\\s\\S]*?)"+e+"(\\^|\\#)\\s*(.+)\\s*"+t+"\n*([\\s\\S]*?)"+e+"\\/\\s*\\3\\s*"+t+"\\s*([\\s\\S]*)$","g")});return e.replace(s,function(e,s,o,r,a,l){var c,u=s?n.render_tags(s,t,i,!0):"",d=l?n.render(l,t,i,!0):"",h=n.find(r,t);return"^"===o?c=!h||Array.isArray(h)&&0===h.length?n.render(a,t,i,!0):"":"#"===o&&(c=Array.isArray(h)?n.map(h,function(e){return n.render(a,n.create_context(e),i,!0)}).join(""):n.is_object(h)?n.render(a,n.create_context(h),i,!0):"function"==typeof h?h.call(t,a,function(e){return n.render(e,t,i,!0)}):h?n.render(a,t,i,!0):""),u+c+d})},render_tags:function(t,i,n,s){for(var o=this,r=function(){return o.getCachedRegex("render_tags",function(e,t){return new RegExp(e+"(=|!|>|&|\\{|%)?([^#\\^]+?)\\1?"+t+"+","g")})},a=r(),l=function(t,s,l){switch(s){case"!":return"";case"=":return o.set_delimiters(l),a=r(),"";case">":return o.render_partial(l,i,n);case"{":case"&":return o.find(l,i);default:return e(o.find(l,i))}},c=t.split("\n"),u=0;u<c.length;u++)c[u]=c[u].replace(a,l,this),s||this.send(c[u]);return s?c.join("\n"):void 0},set_delimiters:function(e){var t=e.split(" ");this.otag=this.escape_regex(t[0]),this.ctag=this.escape_regex(t[1])},escape_regex:function(e){if(!arguments.callee.sRE){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];arguments.callee.sRE=new RegExp("(\\"+t.join("|\\")+")","g")}return e.replace(arguments.callee.sRE,"\\$1")},find:function(e,t){function n(e){return e===!1||0===e||e}e=i(e);var s;if(e.match(/([a-z_]+)\./gi)){var o=this.walk_context(e,t);n(o)&&(s=o)}else n(t[e])?s=t[e]:n(this.context[e])&&(s=this.context[e]);return"function"==typeof s?s.apply(t):void 0!==s?s:""},walk_context:function(e,t){for(var i=e.split("."),n=void 0!=t[i[0]]?t:this.context,s=n[i.shift()];void 0!=s&&i.length>0;)n=s,s=s[i.shift()];return"function"==typeof s?s.apply(n):s},includes:function(e,t){return-1!=t.indexOf(this.otag+e)},create_context:function(e){if(this.is_object(e))return e;var t=".";this.pragmas["IMPLICIT-ITERATOR"]&&(t=this.pragmas["IMPLICIT-ITERATOR"].iterator);var i={};return i[t]=e,i},is_object:function(e){return e&&"object"==typeof e},map:function(e,t){if("function"==typeof e.map)return e.map(t);for(var i=[],n=e.length,s=0;n>s;s++)i.push(t(e[s]));return i},getCachedRegex:function(e,t){var i=a[this.otag];i||(i=a[this.otag]={});var n=i[this.ctag];n||(n=i[this.ctag]={});var s=n[e];return s||(s=n[e]=t(this.otag,this.ctag)),s}},{name:"mustache.js",version:"0.4.0",to_html:function(e,t,i,n){var s=new l;return n&&(s.send=n),s.render(e,t||{},i),n?void 0:s.buffer.join("\n")}}}();define("mustache",function(e){return function(){var t,i;return i=function(){return Mustache},t=i.apply(e,arguments)}}(this)),jaspersoft.components.templateEngine=function(e,t,i){return{render:function(e,n,s){if(!s)return i.to_html(e,n);if(s==this.STD_PLACEHOLDERS){var o=String(e);return t.each(n,function(e,t){var i=new RegExp("\\{"+t+"\\}");o=o.replace(i,e)}),o}},renderUrl:function(e,t,n){var s=i.to_html(e,t);return n&&(s=encodeURI(s)),s},getTemplateText:function(t){var i=e("#"+t);return i.html()},createTemplate:function(t){var n=e("#"+t),s=n.html();return s&&s.length>0?function(e){return i.to_html(s,e)}:void 0},createTemplateFromText:function(e){return e&&e.length>0?function(t){return i.to_html(e,t)}:void 0},createTemplateSection:function(e,t){var n="\\{\\{#val\\}\\}(\\s|\\S)*\\{\\{/val\\}\\}",s=n.replace(/val/g,e),o=new RegExp(s,"g"),r=this.getTemplateText(t),a=r.match(o)[0];return function(e){return i.to_html(a,e)}},STD_PLACEHOLDERS:"std_placeholder"}}(jQuery,_,Mustache),define("components.templateengine",["namespace","jquery","underscore","mustache"],function(e){return function(){var t;return t||e.jaspersoft.components.templateEngine}}(this)),define("serverSettingsCommon/enum/serverSettingGroupsEnum",{CUSTOM:"custom",LOG4J:"log4j",MONDRIAN:"mondrian",AWS:"aws",JDBC:"jdbc",ADHOC:"adhoc",JI:"ji",CUSTOM_SERVER_SETTINGS:"customServerSettings"}),define("attributes/enum/levelIdEnum",[],function(){return["tenantId","id","userName"]}),define("attributes/collection/AttributesCollection",["require","underscore","jquery","json3","backbone","request","components.templateengine","serverSettingsCommon/enum/serverSettingGroupsEnum","attributes/enum/levelIdEnum"],function(e){var t=e("underscore"),i=e("jquery"),n=e("json3"),s=e("backbone"),o=e("request"),r=e("components.templateengine"),a=e("serverSettingsCommon/enum/serverSettingGroupsEnum"),l=e("attributes/enum/levelIdEnum"),c={TENANT:"tenant:/",USER:"user:/"},u=s.Collection.extend({initialize:function(e,t){t=t||{};var i="rest_v2/attributes?_embedded=permission",n=i+"&group="+a.CUSTOM,s=t.context||{};this.urlGETTemplate=s.urlGETTemplate||n,this.urlPUTTemplate=s.urlPUTTemplate||i},parse:function(e){return e&&e.attribute?e.attribute:[]},setContext:function(e){e=e||{urlGETTemplate:this.urlGETTemplate,urlPUTTemplate:this.urlPUTTemplate};var n=new i.Deferred;return t.isEqual(this.context,e)?n.resolve():(this.context=e,this.fetch({reset:!0,headers:{Accept:"application/attributes.collection.hal+json"}}).done(n.resolve)),n},getContext:function(){return this.context},url:function(e){var i=t.extend({},this.context),n="PUT"===e?this.urlPUTTemplate:this.urlGETTemplate;return t.each(l,function(e){i[e]&&(i[e]=this.escapeLevelId(i[e]))},this),r.renderUrl(n,i,!1)},escapeLevelId:function(e){return encodeURIComponent(e).replace(/'/g,"%27")},save:function(e,t){var i="PUT",s=this._modelsToJSON(t,!0),r="application/hal+json";return o({url:this.url(i)+this._concatNames(e),type:"PUT",contentType:r,headers:{Accept:r},data:n.stringify({attribute:s})})},validateSearch:function(e,i,n,s){var o="&recursive=true",r=s&&this._concatGroups();return this.search(e,i,o,n,r).done(t.bind(this._successSearchCallback,this,e,i))},filterInheritedAttributes:function(e){var i=e&&e.attribute;return e?t.filter(i,function(e){return e.inherited&&!this.findWhere({name:e.name,inherited:!0})},this):null},search:function(e,t,i,n,s){i=i||"",s=s||"";var r="application/attributes.collection.hal+json";return o({url:this.url()+this._concatNames(e,n)+i+s,type:"GET",dataType:"json",contentType:r,headers:{Accept:r}})},getHolder:function(){return this.context.id?c.TENANT+this.context.id:this.context.tenantId?c.USER+this.context.tenantId+"/"+this.context.userName:c.TENANT},addItemsToCollection:function(e){!t.isArray(e)&&(e=[e]),t.each(e,function(e){this.addNew(e)},this)},addNew:function(e){e=e||{};var t=new this.model(e);return this.add(t),t},_modelsToJSON:function(e,i){return t.map(e,function(e){return e.toJSON({omitValue:i})})},_successSearchCallback:function(e,i,n){e=t.isArray(e)?e:[e],i=this._modelsToJSON(i);var s,o,r=this.getHolder();t.each(e,function(e){o=r?r:e.holder,e.holder=o,n&&n.attribute.length&&(e.attr=n.attribute),i&&t.where(i,{name:e.get("name"),inherited:!1}).length>1&&(s={holder:o},e.attr?e.attr.push(s):e.attr=[s])},this)},_concatGroups:function(){var e="";return t.each(t.omit(a,"CUSTOM"),function(t){e+="&group="+t}),e},_concatNames:function(e,i){e=t.isArray(e)?e:[e];var n,s="",o=this,r=function(e){return"&name="+o.escapeLevelId(e)};return t.each(e,function(e){n=e.get("id"),!i&&e.isRenamed()&&n&&(s+=r(n)),s+=r(e.get("name"))},this),s}});return u}),function(e){"object"==typeof exports?module.exports=e(require("backbone"),require("underscore")):"function"==typeof define&&define.amd&&define("backbone.validation.original",["backbone","underscore"],e)}(function(e,t){return e.Validation=function(t){"use strict";var i={forceUpdate:!1,selector:"name",labelFormatter:"sentenceCase",valid:Function.prototype,invalid:Function.prototype},n={formatLabel:function(e,t){return c[i.labelFormatter](e,t)},format:function(){var e=Array.prototype.slice.call(arguments),t=e.shift();return t.replace(/\{(\d+)\}/g,function(t,i){return"undefined"!=typeof e[i]?e[i]:t})}},s=function(i,n,o){return n=n||{},o=o||"",t.each(i,function(t,r){i.hasOwnProperty(r)&&(t&&"object"==typeof t&&!(t instanceof Array||t instanceof Date||t instanceof RegExp||t instanceof e.Model||t instanceof e.Collection)?s(t,n,o+r+"."):n[o+r]=t)}),n},o=function(){var e=function(e){return t.reduce(t.keys(t.result(e,"validation")||{}),function(e,t){return e[t]=void 0,e},{})},o=function(e,i){var n=e.validation?t.result(e,"validation")[i]||{}:{};return(t.isFunction(n)||t.isString(n))&&(n={fn:n}),t.isArray(n)||(n=[n]),t.reduce(n,function(e,i){return t.each(t.without(t.keys(i),"msg"),function(t){e.push({fn:u[t],val:i[t],msg:i.msg})}),e},[])},a=function(e,i,s,r){return t.reduce(o(e,i),function(o,a){var l=t.extend({},n,u),c=a.fn.call(l,s,i,a.val,e,r);return c===!1||o===!1?!1:c&&!o?t.result(a,"msg")||c:o},"")},l=function(e,i){var n,o={},r=!0,l=t.clone(i),c=s(i);return t.each(c,function(t,i){n=a(e,i,t,l),n&&(o[i]=n,r=!1)}),{invalidAttrs:o,isValid:r}},c=function(i,n){return{preValidate:function(e,i){var n,s=this,o={};return t.isObject(e)?(t.each(e,function(e,t){n=s.preValidate(t,e),n&&(o[t]=n)}),t.isEmpty(o)?void 0:o):a(this,e,i,t.extend({},this.attributes))},isValid:function(e){var i=s(this.attributes);return t.isString(e)?!a(this,e,i[e],t.extend({},this.attributes)):t.isArray(e)?t.reduce(e,function(e,n){return e&&!a(this,n,i[n],t.extend({},this.attributes))},!0,this):(e===!0&&this.validate(),this.validation?this._isValid:!0)},validate:function(o,r){var a=this,c=!o,u=t.extend({},n,r),d=e(a),h=t.extend({},d,a.attributes,o),p=s(o||h),f=l(a,h);return a._isValid=f.isValid,t.each(d,function(e,t){var n=f.invalidAttrs.hasOwnProperty(t);n||u.valid(i,t,u.selector)}),t.each(d,function(e,t){var n=f.invalidAttrs.hasOwnProperty(t),s=p.hasOwnProperty(t);n&&(s||c)&&u.invalid(i,t,f.invalidAttrs[t],u.selector)}),t.defer(function(){a.trigger("validated",a._isValid,a,f.invalidAttrs),a.trigger("validated:"+(a._isValid?"valid":"invalid"),a,f.invalidAttrs)}),!u.forceUpdate&&t.intersection(t.keys(f.invalidAttrs),t.keys(p)).length>0?f.invalidAttrs:void 0}}},d=function(e,i,n){t.extend(i,c(e,n))},h=function(e){delete e.validate,delete e.preValidate,delete e.isValid},p=function(e){d(this.view,e,this.options)},f=function(e){h(e)};return{version:"0.9.1",configure:function(e){t.extend(i,e)},bind:function(e,n){n=t.extend({},i,r,n);var s=n.model||e.model,o=n.collection||e.collection;if("undefined"==typeof s&&"undefined"==typeof o)throw"Before you execute the binding your view must have a model or a collection.\nSee http://thedersen.com/projects/backbone-validation/#using-form-model-validation for more information.";s?d(e,s,n):o&&(o.each(function(t){d(e,t,n)}),o.bind("add",p,{view:e,options:n}),o.bind("remove",f))},unbind:function(e,i){i=t.extend({},i);var n=i.model||e.model,s=i.collection||e.collection;n?h(n):s&&(s.each(function(e){h(e)}),s.unbind("add",p),s.unbind("remove",f))},mixin:c(null,i)}}(),r=o.callbacks={valid:function(e,t,i){e.$("["+i+'~="'+t+'"]').removeClass("invalid").removeAttr("data-error")},invalid:function(e,t,i,n){e.$("["+n+'~="'+t+'"]').addClass("invalid").attr("data-error",i)}},a=o.patterns={digits:/^\d+$/,number:/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/,email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,url:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i},l=o.messages={required:"{0} is required",acceptance:"{0} must be accepted",min:"{0} must be greater than or equal to {1}",max:"{0} must be less than or equal to {1}",range:"{0} must be between {1} and {2}",length:"{0} must be {1} characters",minLength:"{0} must be at least {1} characters",maxLength:"{0} must be at most {1} characters",rangeLength:"{0} must be between {1} and {2} characters",oneOf:"{0} must be one of: {1}",equalTo:"{0} must be the same as {1}",digits:"{0} must only contain digits",number:"{0} must be a number",email:"{0} must be a valid email",url:"{0} must be a valid url",inlinePattern:"{0} is invalid"},c=o.labelFormatters={none:function(e){return e},sentenceCase:function(e){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,function(e,t){return 0===t?e.toUpperCase():" "+e.toLowerCase()}).replace(/_/g," ")},label:function(e,t){return t.labels&&t.labels[e]||c.sentenceCase(e,t)}},u=o.validators=function(){var e=String.prototype.trim?function(e){return null===e?"":String.prototype.trim.call(e)}:function(e){var t=/^\s+/,i=/\s+$/;return null===e?"":e.toString().replace(t,"").replace(i,"")},i=function(e){return t.isNumber(e)||t.isString(e)&&e.match(a.number)},n=function(i){return!(t.isNull(i)||t.isUndefined(i)||t.isString(i)&&""===e(i)||t.isArray(i)&&t.isEmpty(i))};return{fn:function(e,i,n,s,o){return t.isString(n)&&(n=s[n]),n.call(s,e,i,o)},required:function(e,i,s,o,r){var a=t.isFunction(s)?s.call(o,e,i,r):s;return a||n(e)?a&&!n(e)?this.format(l.required,this.formatLabel(i,o)):void 0:!1},acceptance:function(e,i,n,s){return"true"===e||t.isBoolean(e)&&e!==!1?void 0:this.format(l.acceptance,this.formatLabel(i,s))},min:function(e,t,n,s){return!i(e)||n>e?this.format(l.min,this.formatLabel(t,s),n):void 0},max:function(e,t,n,s){return!i(e)||e>n?this.format(l.max,this.formatLabel(t,s),n):void 0},range:function(e,t,n,s){return!i(e)||e<n[0]||e>n[1]?this.format(l.range,this.formatLabel(t,s),n[0],n[1]):void 0},length:function(e,i,n,s){return t.isString(e)&&e.length===n?void 0:this.format(l.length,this.formatLabel(i,s),n)},minLength:function(e,i,n,s){return!t.isString(e)||e.length<n?this.format(l.minLength,this.formatLabel(i,s),n):void 0},maxLength:function(e,i,n,s){return!t.isString(e)||e.length>n?this.format(l.maxLength,this.formatLabel(i,s),n):void 0},rangeLength:function(e,i,n,s){return!t.isString(e)||e.length<n[0]||e.length>n[1]?this.format(l.rangeLength,this.formatLabel(i,s),n[0],n[1]):void 0},oneOf:function(e,i,n,s){return t.include(n,e)?void 0:this.format(l.oneOf,this.formatLabel(i,s),n.join(", "))},equalTo:function(e,t,i,n,s){return e!==s[i]?this.format(l.equalTo,this.formatLabel(t,n),this.formatLabel(i,n)):void 0},pattern:function(e,t,i,s){return n(e)&&e.toString().match(a[i]||i)?void 0:this.format(l[i]||l.inlinePattern,this.formatLabel(t,s),i)}}}();return t.each(u,function(e,i){u[i]=t.bind(u[i],t.extend({},n,u))}),o}(t),e.Validation}),define("common/util/parse/NumberUtils",["require","underscore"],function(e){"use strict";var t=e("underscore"),i=function(e){function t(e){return"."===e?e="\\.":" "===e&&(e="\\s"),e}this.DECIMAL_SEPARATOR=e?e.decimalSeparator||".":".",this.GROUPING_SEPARATOR=e?e.groupingSeparator||",":",",this.decimalSeparator=t(this.DECIMAL_SEPARATOR),this.groupingSeparator=t(this.GROUPING_SEPARATOR),this.DECIMAL_NUMBER_PATTERN=new RegExp("^-?([1-9]{1}[0-9]{0,2}("+this.groupingSeparator+"[0-9]{3})*("+this.decimalSeparator+"[0-9]+)?|[1-9]{1}[0-9]{0,}("+this.decimalSeparator+"[0-9]+)?|0("+this.decimalSeparator+"[0-9]+)?)$"),this.INTEGER_NUMBER_PATTERN=new RegExp("^-?([1-9]{1}[0-9]{0,2}("+this.groupingSeparator+"[0-9]{3})*|[1-9]{1}[0-9]{0,}|0)$")},n=-2147483648,s=2147483647,o=9007199254740992,r=-9007199254740992;return i.prototype.number_format=function(e,t,i,n){e=(e+"").replace(/[^0-9+\-Ee.]/g,"");var s=isFinite(+e)?+e:0,o=isFinite(+t)?Math.abs(t):0,r="undefined"==typeof n?",":n,a="undefined"==typeof i?".":i,l="",c=function(e,t){var i=Math.pow(10,t);return""+(Math.round(e*i)/i).toFixed(t)};return l=(o?c(s,o):""+Math.round(s)).split("."),l[0].length>3&&(l[0]=l[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,r)),(l[1]||"").length<o&&(l[1]=l[1]||"",l[1]+=new Array(o-l[1].length+1).join("0")),l.join(a)},i.prototype.isInt=function(e){return this.isNumberInt(e)||this.isStringInt(e)},i.prototype.isNumberInt=function(e){return t.isNumber(e)&&!isNaN(e)&&e!==Number.POSITIVE_INFINITY&&e!==Number.NEGATIVE_INFINITY&&(e===+e&&e===(0|e)||e%1===0)},i.prototype.isStringInt=function(e){return t.isString(e)&&this.INTEGER_NUMBER_PATTERN.test(e)},i.prototype.isInt32=function(e){return this.isInt(e)&&this.parseNumber(e)>=n&&this.parseNumber(e)<=s},i.prototype.isDecimal=function(e){return t.isNumber(e)&&!isNaN(e)&&e!==Number.POSITIVE_INFINITY&&e!==Number.NEGATIVE_INFINITY||t.isString(e)&&this.DECIMAL_NUMBER_PATTERN.test(e)},i.prototype.parseNumber=function(e){if(t.isNumber(e))return e;if(t.isString(e)&&this.DECIMAL_NUMBER_PATTERN.test(e)){e=e.replace(new RegExp(this.groupingSeparator,"g"),"").replace(new RegExp(this.decimalSeparator,"g"),".");var i=1*e;return i>o||r>i?(window.console&&window.console.warn(e+" is out of the ["+r+", "+o+"] bounds. Parsing results may be corrupted. Use string representation instead. For more details see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number."),!1):i}return void 0},i.prototype.formatNumber=function(e){var t=e.toString().split(".")[1];try{return this.number_format(e,t?t.length:0,this.DECIMAL_SEPARATOR,this.GROUPING_SEPARATOR)}catch(i){return e.toString()}},i}),define("backbone.validation",["require","backbone.validation.original","underscore","common/util/parse/NumberUtils"],function(e){"use strict";var t=e("backbone.validation.original"),i=e("underscore"),n=e("common/util/parse/NumberUtils"),s=new n,o=t.mixin.validate;return t.mixin.validate=function(e,t){t||(t={});var n=this;return o.call(this,e,i.extend({valid:function(e,t){n.trigger("validate:"+t,n,t)},invalid:function(e,t,i){n.trigger("validate:"+t,n,t,i)}},t))},i.extend(t.validators,{doesNotContainSymbols:function(e,t,i){return new RegExp("["+i+"]","g").test(e)?"Attribute '"+t+"' contains forbidden symbols":void 0},integerNumber:function(e){return s.isNumberInt(e)?void 0:"Value is not a valid integer number"},url:function(e){return/(http|https):\/\/.*\..*./.test(e)?void 0:"Value is not a valid url"},hexColor:function(e){return/^#[0-9a-f]{3,6}$/i.test(e)?void 0:"Value is not a valid hex color"},xRegExpPattern:function(e,t,i,n){return i.test(e)?void 0:"Value does not match pattern"},startsWithLetter:function(e,t,i,n){return e.substr(0,1).match(/[A-Za-z]/)?void 0:"Value should start with letter"},containsOnlyWordCharacters:function(e,t,i,n){return e.search(/\W/)>=0?"Value should contain only word characters (letters, digits and underscore)":void 0},arrayMinLength:function(e,t,n,s){return i.isArray(e)&&e.length<n?"Array length is less than "+n:void 0}}),t}),define("common/util/classUtil",["require","underscore"],function(e){"use strict";var t=e("underscore"),i={mixin:function(){var e,t,i=Array.prototype,n=i.shift.call(arguments);for(e=0;e<arguments.length;e+=1)if(arguments[e])for(t in arguments[e])arguments[e].hasOwnProperty(t)&&(n[t]=arguments[e][t]);return n},inherit:function(e,n){var s;s=n&&n.hasOwnProperty("constructor")?n.constructor:function(){return e.apply(this,arguments)};var o=function(){};return o.prototype=e.prototype,s.prototype=new o,n&&t.extend(s.prototype,n),s.prototype.constructor=s,s.parent=e.prototype,s.extend=function(e){return i.inherit(s,e)},s},extend:function(e){return i.inherit(function(){},e)}};return i}),define("common/util/i18nMessage",["require","common/util/classUtil"],function(e){"use strict";var t=e("common/util/classUtil"),i=t.extend({constructor:function(e){this.code=e,this.args=Array.prototype.slice.call(arguments,1)},bundle:{}});return i.prototype.toString=function(){var e=this.bundle[this.code];if(!e)return this.code;for(var t=0,i=this.args.length;i>t;t++)e=e.replace("{"+t+"}",this.args[t]);return e},i}),function(e,t){"undefined"!=typeof exports?module.exports=t(require("underscore"),require("backbone")):"function"==typeof define&&define.amd?define("backbone.epoxy.original",["underscore","backbone"],t):t(e._,e.Backbone)}(this,function(e,t){function i(e,t,i){return e._super.prototype[t].apply(e,i)}function n(t,i,s,o){for(var r in i)if(i.hasOwnProperty(r)){var a=i[r];if(t.hasComputed(r)){if(o.length&&e.contains(o,r))throw"Recursive setter: "+o.join(" > ");a=t.c()[r].set(a),a&&y(a)&&(s=n(t,a,s,o.concat(r)))}else s[r]=a}return s}function s(t,i,n,s){n=n||{},n.get&&b(n.get)&&(n._get=n.get),n.set&&b(n.set)&&(n._set=n.set),delete n.get,delete n.set,e.extend(this,n),this.model=t,this.name=i,this.deps=this.deps||[],s||this.init()}function o(t){return b(t)?t():(y(t)&&(t=e.clone(t),e.each(t,function(e,i){t[i]=o(e)})),t)}function r(e){return b(e)?{set:e}:e}function a(t){return function(){var i=arguments,n=b(t)?t:t.get,s=t.set;return function(t){return _(t)?n.apply(this,e.map(i,o)):i[0]((s?s:n).call(this,t))}}}function l(t,i,n,s,o){return(t=e.result(t,s))?(w(t)?(o=o?o+"_":"",i["$"+s]=function(){return O&&O.push([t,"change"]),t},e.each(t.toJSON({computed:!0}),function(e,s){i[o+s]=function(e){return c(t,s,e,n)}})):S(t)&&(i["$"+s]=function(){return O&&O.push([t,"reset add remove sort update"]),
t}),t):void 0}function c(t,i,n,s){if(O&&O.push([t,"change:"+i]),!_(n)){if(!y(n)||T(n)||e.isDate(n)){var o=n;n={},n[i]=o}return s&&s.save?t.save(n,s):t.set(n,s)}return t.get(i)}function u(e,t){if(":el"===t)return e.$el;var i=e.$(t);return e.$el.is(t)&&(i=i.add(e.$el)),i}function d(t,i,n,s,o,r){try{var a=M[n]||(M[n]=new Function("$f","$c","with($f){with($c){return{"+n+"}}}")),l=a(r,s)}catch(c){throw'Error parsing bindings: "'+n+'"\n>> '+c}var u=e.map(e.union(l.events||[],["change"]),function(e){return e+".epoxy"}).join(" ");e.each(l,function(e,n){if(o.hasOwnProperty(n))t.b().push(new f(t,i,o[n],e,u,s,l));else if(!k.hasOwnProperty(n))throw'binding handler "'+n+'" is not defined.'})}function h(e,t,i){return e&&e.hasOwnProperty(t)?_(i)?o(e[t]):e[t](i):void 0}function p(e,t){var i=[];if(t&&e)for(var n=0,s=t.length;s>n;n++)i.push(t[n]in e?e[t[n]]():null);return i}function f(t,i,n,s,r,a,l){var c=this,u=i[0].tagName.toLowerCase(),d="input"==u||"select"==u||"textarea"==u||"true"==i.prop("contenteditable"),h=[],p=function(e){c.$el&&c.set(c.$el,o(s),e)};if(c.view=t,c.$el=i,c.evt=r,e.extend(c,n),s=c.init(c.$el,o(s),a,l)||s,O=h,p(),O=null,d&&n.get&&b(s)&&c.$el.on(r,function(e){s(c.get(c.$el,o(s),e))}),h.length)for(var f=0,m=h.length;m>f;f++)c.listenTo(h[f][0],h[f][1],p)}var m,g=t.Epoxy={},v=Array.prototype,_=e.isUndefined,b=e.isFunction,y=e.isObject,T=e.isArray,w=function(e){return e instanceof t.Model},S=function(e){return e instanceof t.Collection},C=function(){},E={mixin:function(e){e=e||{};for(var t in this.prototype)"bindings"===t&&e.bindings||this.prototype.hasOwnProperty(t)&&"constructor"!==t&&(e[t]=this.prototype[t]);return e}},x=["computeds"];g.Model=t.Model.extend({_super:t.Model,constructor:function(t,n){e.extend(this,e.pick(n||{},x)),i(this,"constructor",arguments),this.initComputeds(t,n)},getCopy:function(t){return e.clone(this.get(t))},get:function(e){return m&&m.push(["change:"+e,this]),this.hasComputed(e)?this.c()[e].get():i(this,"get",arguments)},set:function(t,s,o){var r=t;r&&!y(r)?(r={},r[t]=s):o=s,o=o||{};var a=this._setting=[];o.unset||(r=n(this,r,{},[])),delete this._setting;var l=i(this,"set",[r,o]);return o.silent||(!this.hasChanged()&&a.length&&this.trigger("change",this),e.each(a,function(e){this.trigger.apply(this,e)},this)),l},toJSON:function(t){var n=i(this,"toJSON",arguments);return t&&t.computed&&e.each(this.c(),function(e,t){n[t]=e.value}),n},destroy:function(){return this.clearComputeds(),i(this,"destroy",arguments)},c:function(){return this._c||(this._c={})},initComputeds:function(t,i){this.clearComputeds();var n=e.result(this,"computeds")||{};n=e.extend(n,e.pick(t||{},e.keys(n))),e.each(n,function(e,t){e._init=1,this.addComputed(t,e)},this),e.invoke(this.c(),"init")},addComputed:function(e,t,i){this.removeComputed(e);var n=t,o=n._init;if(b(t)){var r=2;n={},n._get=t,b(i)&&(n._set=i,r++),n.deps=v.slice.call(arguments,r)}return this.c()[e]=new s(this,e,n,o),this},hasComputed:function(e){return this.c().hasOwnProperty(e)},removeComputed:function(e){return this.hasComputed(e)&&(this.c()[e].dispose(),delete this.c()[e]),this},clearComputeds:function(){for(var e in this.c())this.removeComputed(e);return this},modifyArray:function(e,t,i){var n=this.get(e);if(T(n)&&b(v[t])){var s=v.slice.call(arguments,2),o=v[t].apply(n,s);return i=i||{},i.silent||this.trigger("change:"+e+" change",this,v,i),o}return null},modifyObject:function(e,t,i,n){var s=this.get(e),o=!1;return y(s)?(n=n||{},_(i)&&s.hasOwnProperty(t)?(delete s[t],o=!0):s[t]!==i&&(s[t]=i,o=!0),o&&!n.silent&&this.trigger("change:"+e+" change",this,s,n),s):null}},E),e.extend(s.prototype,t.Events,{init:function(){var t={},i=m=[];this.get(!0),m=null,i.length&&(e.each(i,function(i){var n=i[0],s=i[1];t[n]?e.contains(t[n],s)||t[n].push(s):t[n]=[s]}),e.each(t,function(t,i){for(var n=0,s=t.length;s>n;n++)this.listenTo(t[n],i,e.bind(this.get,this,!0))},this))},val:function(e){return this.model.get(e)},get:function(t){if(t===!0&&this._get){var i=this._get.apply(this.model,e.map(this.deps,this.val,this));this.change(i)}return this.value},set:function(e){if(this._get){if(this._set)return this._set.apply(this.model,arguments);throw"Cannot set read-only computed attribute."}return this.change(e),null},change:function(t){if(!e.isEqual(t,this.value)){this.value=t;var i=["change:"+this.name,this.model,t];this.model._setting?this.model._setting.push(i):(i[0]+=" change",this.model.trigger.apply(this.model,i))}},dispose:function(){this.stopListening(),this.off(),this.model=this.value=null}});var D={optionText:"label",optionValue:"value"},M={},I={attr:r(function(e,t){e.attr(t)}),checked:r({get:function(t,i){var n=!!t.prop("checked"),s=t.val();if(this.isRadio(t))return s;if(T(i)){i=i.slice();var o=e.indexOf(i,s);return n&&0>o?i.push(s):!n&&o>-1&&i.splice(o,1),i}return n},set:function(t,i){var n=!!i;this.isRadio(t)?n=i==t.val():T(i)&&(n=e.contains(i,t.val())),t.prop("checked",n)},isRadio:function(e){return"radio"===e.attr("type").toLowerCase()}}),classes:r(function(t,i){e.each(i,function(e,i){t.toggleClass(i,!!e)})}),collection:r({init:function(e,t,i,n){if(this.i=n.itemView?this.view[n.itemView]:this.view.itemView,!S(t))throw'Binding "collection" requires a Collection.';if(!b(this.i))throw'Binding "collection" requires an itemView.';this.v={}},set:function(t,i,n){var s,o=this.v,r=this.i,a=i.models,l=O;if(O=null,n=n||i,w(n))if(o.hasOwnProperty(n.cid))o[n.cid].remove(),delete o[n.cid];else{o[n.cid]=s=new r({model:n,collectionView:this.view});var c=e.indexOf(a,n),u=t.children();c<u.length?u.eq(c).before(s.$el):t.append(s.$el)}else if(S(n)){var d=a.length===e.size(o)&&i.every(function(e){return o.hasOwnProperty(e.cid)});t.children().detach();var h=document.createDocumentFragment();d?i.each(function(e){h.appendChild(o[e.cid].el)}):(this.clean(),i.each(function(e){o[e.cid]=s=new r({model:e,collectionView:this.view}),h.appendChild(s.el)},this)),t.append(h)}O=l},clean:function(){for(var e in this.v)this.v.hasOwnProperty(e)&&(this.v[e].remove(),delete this.v[e])}}),css:r(function(e,t){e.css(t)}),disabled:r(function(e,t){e.prop("disabled",!!t)}),enabled:r(function(e,t){e.prop("disabled",!t)}),html:r(function(e,t){e.html(t)}),options:r({init:function(e,t,i,n){this.e=n.optionsEmpty,this.d=n.optionsDefault,this.v=n.value},set:function(t,i){var n=this,s=o(n.e),r=o(n.d),a=o(n.v),l=S(i)?i.models:i,c=l.length,u=!0,d="";c||r||!s?(r&&(l=[r].concat(l)),e.each(l,function(e,t){d+=n.opt(e,c)})):(d+=n.opt(s,c),u=!1),t.html(d).prop("disabled",!u).val(a);var h=t.val();n.v&&!e.isEqual(a,h)&&n.v(h)},opt:function(e,t){var i=e,n=e,s=D.optionText,o=D.optionValue;return y(e)&&(i=w(e)?e.get(s):e[s],n=w(e)?e.get(o):e[o]),['<option value="',n,'">',i,"</option>"].join("")},clean:function(){this.d=this.e=this.v=0}}),template:r({init:function(t,i,n){var s=t.find("script,template");return this.t=e.template(s.length?s.html():t.html()),T(i)?e.pick(n,i):void 0},set:function(e,t){t=w(t)?t.toJSON({computed:!0}):t,e.html(this.t(t))},clean:function(){this.t=null}}),text:r({get:function(e){return e.text()},set:function(e,t){e.text(t)}}),toggle:r(function(e,t){e.toggle(!!t)}),value:r({get:function(e){return e.val()},set:function(e,t){try{e.val()+""!=t+""&&e.val(t)}catch(i){}}})},N={all:a(function(){for(var e=arguments,t=0,i=e.length;i>t;t++)if(!e[t])return!1;return!0}),any:a(function(){for(var e=arguments,t=0,i=e.length;i>t;t++)if(e[t])return!0;return!1}),length:a(function(e){return e.length||0}),none:a(function(){for(var e=arguments,t=0,i=e.length;i>t;t++)if(e[t])return!1;return!0}),not:a(function(e){return!e}),format:a(function(e){for(var t=arguments,i=1,n=t.length;n>i;i++)e=e.replace(new RegExp("\\$"+i,"g"),t[i]);return e}),select:a(function(e,t,i){return e?t:i}),csv:a({get:function(e){return e=String(e),e?e.split(","):[]},set:function(e){return T(e)?e.join(","):e}}),integer:a(function(e){return e?parseInt(e,10):0}),decimal:a(function(e){return e?parseFloat(e):0})},k={events:1,itemView:1,optionsDefault:1,optionsEmpty:1};g.binding={allowedParams:k,addHandler:function(e,t){I[e]=r(t)},addFilter:function(e,t){N[e]=a(t)},config:function(t){e.extend(D,t)},emptyCache:function(){M={}}};var O,A=["viewModel","bindings","bindingFilters","bindingHandlers","bindingSources","computeds"];return g.View=t.View.extend({_super:t.View,constructor:function(t){e.extend(this,e.pick(t||{},A)),i(this,"constructor",arguments),this.applyBindings()},b:function(){return this._b||(this._b=[])},bindings:"data-bind",setterOptions:null,applyBindings:function(){this.removeBindings();var i=this,n=e.clone(e.result(i,"bindingSources")),s=i.bindings,o=i.setterOptions,c=e.clone(I),h=e.clone(N),f=i._c={};e.each(e.result(i,"bindingHandlers")||{},function(e,t){c[t]=r(e)}),e.each(e.result(i,"bindingFilters")||{},function(e,t){h[t]=a(e)}),i.model=l(i,f,o,"model"),i.viewModel=l(i,f,o,"viewModel"),i.collection=l(i,f,o,"collection"),i.collection&&i.collection.view&&(i.itemView=i.collection.view),n&&(e.each(n,function(e,t){n[t]=l(n,f,o,t,t)}),i.bindingSources=n),e.each(e.result(i,"computeds")||{},function(e,t){var n=b(e)?e:e.get,s=e.set,o=e.deps;f[t]=function(e){return!_(e)&&s?s.call(i,e):n.apply(i,p(i._c,o))}}),y(s)?e.each(s,function(e,t){var n=u(i,t);n.length&&d(i,n,e,f,c,h)}):u(i,"["+s+"]").each(function(){var e=t.$(this);d(i,e,e.attr(s),f,c,h)})},getBinding:function(e){return h(this._c,e)},setBinding:function(e,t){return h(this._c,e,t)},removeBindings:function(){if(this._c=null,this._b)for(;this._b.length;)this._b.pop().dispose()},remove:function(){this.removeBindings(),i(this,"remove",arguments)}},E),e.extend(f.prototype,t.Events,{init:C,get:C,set:C,clean:C,dispose:function(){this.clean(),this.stopListening(),this.$el.off(this.evt),this.$el=this.view=null}}),g}),define("common/component/colorPicker/enum/colors",[],function(){return["rgb(152, 0, 0)","rgb(255, 0, 0)","rgb(255, 153, 0)","rgb(255, 255, 0)","rgb(0, 255, 0)","rgb(0, 255, 255)","rgb(74, 134, 232)","rgb(0, 0, 255)","rgb(153, 0, 255)","rgb(255, 0, 255)","rgb(0, 0, 0)","rgb(67, 67, 67)","rgb(102, 102, 102)","rgb(153, 153, 153)","rgb(183, 183, 183)","rgb(204, 204, 204)","rgb(217, 217, 217)","rgb(239, 239, 239)","rgb(243, 243, 243)","rgb(255, 255, 255)","rgb(230, 184, 175)","rgb(244, 204, 204)","rgb(252, 229, 205)","rgb(255, 242, 204)","rgb(217, 234, 211)","rgb(208, 224, 227)","rgb(201, 218, 248)","rgb(207, 226, 243)","rgb(217, 210, 233)","rgb(234, 209, 220)","rgb(221, 126, 107)","rgb(234, 153, 153)","rgb(249, 203, 156)","rgb(255, 229, 153)","rgb(182, 215, 168)","rgb(162, 196, 201)","rgb(164, 194, 244)","rgb(159, 197, 232)","rgb(180, 167, 214)","rgb(213, 166, 189)","rgb(204, 65, 37)","rgb(224, 102, 102)","rgb(246, 178, 107)","rgb(255, 217, 102)","rgb(147, 196, 125)","rgb(118, 165, 175)","rgb(109, 158, 235)","rgb(111, 168, 220)","rgb(142, 124, 195)","rgb(194, 123, 160)","rgb(166, 28, 0)","rgb(204, 0, 0)","rgb(230, 145, 56)","rgb(241, 194, 50)","rgb(106, 168, 79)","rgb(69, 129, 142)","rgb(60, 120, 216)","rgb(61, 133, 198)","rgb(103, 78, 167)","rgb(166, 77, 121)","rgb(133, 32, 12)","rgb(153, 0, 0)","rgb(180, 95, 6)","rgb(191, 144, 0)","rgb(56, 118, 29)","rgb(19, 79, 92)","rgb(17, 85, 204)","rgb(11, 83, 148)","rgb(53, 28, 117)","rgb(116, 27, 71)","rgb(91, 15, 0)","rgb(102, 0, 0)","rgb(120, 63, 4)","rgb(127, 96, 0)","rgb(39, 78, 19)","rgb(12, 52, 61)","rgb(28, 69, 135)","rgb(7, 55, 99)","rgb(32, 18, 77)","rgb(76, 17, 48)"]}),define("requirejs.plugin.text",["module"],function(e){"use strict";var t,i,n,s,o,r=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],a=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,l=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,c="undefined"!=typeof location&&location.href,u=c&&location.protocol&&location.protocol.replace(/\:/,""),d=c&&location.hostname,h=c&&(location.port||void 0),p={},f=e.config&&e.config()||{};return t={version:"2.0.9",strip:function(e){if(e){e=e.replace(a,"");var t=e.match(l);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:f.createXhr||function(){var e,t,i;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;3>t;t+=1){i=r[t];try{e=new ActiveXObject(i)}catch(n){}if(e){r=[i];break}}return e},parseName:function(e){var t,i,n,s=!1,o=e.indexOf("."),r=0===e.indexOf("./")||0===e.indexOf("../");return-1!==o&&(!r||o>1)?(t=e.substring(0,o),i=e.substring(o+1,e.length)):t=e,n=i||t,o=n.indexOf("!"),-1!==o&&(s="strip"===n.substring(o+1),n=n.substring(0,o),i?i=n:t=n),{moduleName:t,ext:i,strip:s}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,i,n,s){var o,r,a,l=t.xdRegExp.exec(e);return l?(o=l[2],r=l[3],r=r.split(":"),a=r[1],r=r[0],!(o&&o!==i||r&&r.toLowerCase()!==n.toLowerCase()||(a||r)&&a!==s)):!0},finishLoad:function(e,i,n,s){n=i?t.strip(n):n,f.isBuild&&(p[e]=n),s(n)},load:function(e,i,n,s){if(s.isBuild&&!s.inlineText)return void n();f.isBuild=s.isBuild;var o=t.parseName(e),r=o.moduleName+(o.ext?"."+o.ext:""),a=i.toUrl(r),l=f.useXhr||t.useXhr;!c||l(a,u,d,h)?t.get(a,function(i){t.finishLoad(e,o.strip,i,n)},function(e){n.error&&n.error(e)}):i([r],function(e){t.finishLoad(o.moduleName+"."+o.ext,o.strip,e,n)})},write:function(e,i,n,s){if(p.hasOwnProperty(i)){var o=t.jsEscape(p[i]);n.asModule(e+"!"+i,"define(function () { return '"+o+"';});\n")}},writeFile:function(e,i,n,s,o){var r=t.parseName(i),a=r.ext?"."+r.ext:"",l=r.moduleName+a,c=n.toUrl(r.moduleName+a)+".js";t.load(l,n,function(i){var n=function(e){return s(c,e)};n.asModule=function(e,t){return s.asModule(e,c,t)},t.write(e,l,n,o)},o)}},"node"===f.env||!f.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]?(i=require.nodeRequire("fs"),t.get=function(e,t,n){try{var s=i.readFileSync(e,"utf8");0===s.indexOf("\ufeff")&&(s=s.substring(1)),t(s)}catch(o){n(o)}}):"xhr"===f.env||!f.env&&t.createXhr()?t.get=function(e,i,n,s){var o,r=t.createXhr();if(r.open("GET",e,!0),s)for(o in s)s.hasOwnProperty(o)&&r.setRequestHeader(o.toLowerCase(),s[o]);f.onXhr&&f.onXhr(r,e),r.onreadystatechange=function(t){var s,o;4===r.readyState&&(s=r.status,s>399&&600>s?(o=new Error(e+" HTTP status: "+s),o.xhr=r,n(o)):i(r.responseText),f.onXhrComplete&&f.onXhrComplete(r,e))},r.send(null)}:"rhino"===f.env||!f.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?t.get=function(e,t){var i,n,s="utf-8",o=new java.io.File(e),r=java.lang.System.getProperty("line.separator"),a=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(o),s)),l="";try{for(i=new java.lang.StringBuffer,n=a.readLine(),n&&n.length()&&65279===n.charAt(0)&&(n=n.substring(1)),null!==n&&i.append(n);null!==(n=a.readLine());)i.append(r),i.append(n);l=String(i.toString())}finally{a.close()}t(l)}:("xpconnect"===f.env||!f.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(n=Components.classes,s=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),o="@mozilla.org/windows-registry-key;1"in n,t.get=function(e,t){var i,r,a,l={};o&&(e=e.replace(/\//g,"\\")),a=new FileUtils.File(e);try{i=n["@mozilla.org/network/file-input-stream;1"].createInstance(s.nsIFileInputStream),i.init(a,1,0,!1),r=n["@mozilla.org/intl/converter-input-stream;1"].createInstance(s.nsIConverterInputStream),r.init(i,"utf-8",i.available(),s.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),r.readString(i.available(),l),r.close(),i.close(),t(l.value)}catch(c){throw new Error((a&&a.path||"")+": "+c)}}),t}),define("text",["require","requirejs.plugin.text","underscore","request"],function(e){"use strict";var t=e("requirejs.plugin.text"),i=e("underscore"),n=e("request"),s=t.createXhr,o=t.load;return i.extend(t,{useXhr:function(){return!0},createXhr:function(){var e=s.apply(t,arguments),o={},r={response:void 0,responseBody:void 0,responseText:void 0,responseType:void 0,responseXML:void 0,status:void 0,statusText:void 0};for(var a in e)-1==a.indexOf("response")&&-1==a.indexOf("status")&&(r[a]=e[a]);return i.extend(r,{open:function(e,t,i){o.url=t,r.status=1},send:function(){n(o).done(function(e,t,i){r.readyState=i.readyState,r.status=i.status,r.responseText=i.responseText,r.onreadystatechange()}).fail(function(e){r.onerror(e)})}})},load:function(e,t,n,s){return s.isBuild&&s.excludeText&&i.indexOf(s.excludeText,e)>=0?void n():o(e,t,n,s)}})}),define("text!common/component/colorPicker/template/simpleColorPickerTemplate.htm",[],function(){return'<div class="simpleColorPicker">\n    <div class="header">\n        <h2>{{- label || i18n["color.picker.label"]}}</h2>\n    </div>\n    <div class="body">\n        {{ if (showTransparentInput) { }}\n        <div class="color transparent">{{- i18n["color.picker.transparent"]}}</div>\n        {{ } }}\n        {{ if (showNoneInput) { }}\n        <div class="color none">{{- i18n["color.picker.none"]}}</div>\n        {{ } }}\n        {{ _.each(colors, function(color, index){ }}\n        <div class="colorWrapper" data-index="{{- index}}">\n            <div class="color" title="{{- color}}" style="background-color: {{- color}}"></div>\n        </div>\n        {{ }) }}\n    </div>\n    <div class="footer"></div>\n</div>'}),define("requirejs.plugin.css",[],function(){if("undefined"==typeof window)return{load:function(e,t,i){i()}};var e=document.getElementsByTagName("head")[0],t=window.navigator.userAgent.match(/Trident\/([^ ;]*)|AppleWebKit[\/|5]([^ ;]*)|Opera\/([^ ;]*)|rv\:([^ ;]*)(.*?)Gecko\/([^ ;]*)|MSIE\s([^ ;]*)|AndroidWebKit\/([^ ;]*)/)||0,i=!1,n=!0;t[1]||t[7]?i=parseInt(t[1])<6||parseInt(t[7])<=9:t[2]||t[8]?n=!1:t[4]&&(i=parseInt(t[4])<18);var s={};s.pluginBuilder="./css-builder";var o,r,a,l=function(){o=document.createElement("style"),e.appendChild(o),r=o.styleSheet||o.sheet},c=0,u=[],d=function(e){r.addImport(e+"?"+Math.random()),o.onload=function(){h()},c++,31==c&&(l(),c=0)},h=function(){a();var e=u.shift();return e?(a=e[1],void d(e[0])):void(a=null)},p=function(e,t){if(r&&r.addImport||l(),r&&r.addImport)a?u.push([e,t]):(d(e),a=t);else{o.textContent='@import "'+e+'";';var i=setInterval(function(){try{o.sheet.cssRules,clearInterval(i),t()}catch(e){}},10)}},f=function(t,i){var s=document.createElement("link");if(s.type="text/css",s.rel="stylesheet",n)s.onload=function(){s.onload=function(){},setTimeout(i,7)};else var o=setInterval(function(){for(var e=0;e<document.styleSheets.length;e++){var t=document.styleSheets[e];if(t.href==s.href)return clearInterval(o),i()}},10);s.href=t,e.appendChild(s)};return s.normalize=function(e,t){return".css"==e.substr(e.length-4,4)&&(e=e.substr(0,e.length-4)),t(e)},s.load=function(e,t,n,s){(i?p:f)(t.toUrl(e+".css"),n)},s}),define("css",["require","requirejs.plugin.css","underscore"],function(e){"use strict";var t=e("requirejs.plugin.css"),i=e("underscore"),n=i.clone(t);return n.load=function(e,i,n,s){if(!s.config.theme)return void n();var o=s.config.theme||{},r=o.baseUrl||"/",a=o.path||"themes",l=o.name||"default";"/"!==r.slice(-1)&&(r+="/"),e=r+[a,l,e].join("/"),t.load.call(this,e,i,n,s)},n}),define("common/component/colorPicker/SimpleColorPicker",["require","backbone","underscore","jquery","bundle!js-sdk/CommonBundle","./enum/colors","text!common/component/colorPicker/template/simpleColorPickerTemplate.htm","css!simpleColorPicker"],function(e){"use strict";var t=e("backbone"),i=e("underscore"),n=e("jquery"),s=e("bundle!js-sdk/CommonBundle"),o=e("./enum/colors"),r=e("text!common/component/colorPicker/template/simpleColorPickerTemplate.htm");return e("css!simpleColorPicker"),t.View.extend({events:{"click .color":"_selectColor"},constructor:function(e){e||(e={}),this.label=e&&e.label,this.showTransparentInput=e&&e.showTransparentInput,this.showNoneInput=e&&e.showNoneInput,t.View.apply(this,arguments)},el:function(){return i.template(r)({colors:o,i18n:s,label:this.label,showTransparentInput:this.showTransparentInput,showNoneInput:this.showNoneInput})},highlightColor:function(e){var t,n;null===e?t=this.$el.find(".color.none"):"rgba(0, 0, 0, 0)"===e||"transparent"===e?t=this.$el.find(".color.transparent"):(n=i.indexOf(o,e),n>=0&&(t=this.$el.find("div[data-index='"+n+"']"))),this.$el.find(".color.transparent.selected, .color.none.selected, .colorWrapper.selected").removeClass("selected"),t&&t.addClass("selected")},_selectColor:function(e){var t,i=n(e.target);t=i.is(".none")?null:i.css("background-color"),this.highlightColor(t),this.trigger("color:selected",t)},show:function(){this.$el.show()},hide:function(){this.$el.hide()}})}),define("common/component/base/AttachableComponent",["require","jquery","underscore","common/util/classUtil"],function(e){"use strict";var t=e("jquery"),i=e("underscore"),n=e("common/util/classUtil");return n.extend({constructor:function(e,i){if(this.padding=i?i:{top:5,left:5},!e||0===t(e).length)throw new Error("AttachableComponent should be attached to an element");this.$attachTo=t(e)},show:function(){var e=this.$attachTo.offset(),n=this.$attachTo.height(),s=this.$attachTo.width(),o=t("body"),r=o.height(),a=o.width(),l=this.$el.innerWidth(),c=this.$el.innerHeight(),u=e.top+n+this.padding.top,d=e.left,h=e.top+n+this.padding.top,p=e.left;c+u>r&&(h=e.top-c-this.padding.top),l+d>a&&(p=e.left-l+s),i.extend(this,{top:h,left:p}),this.$el.css({top:this.top,left:this.left}),this.$el.show(),this.trigger("show",this)},hide:function(){return this.$el.hide(),this.trigger("hide",this),this}})}),define("common/component/base/ClickComponent",["require","common/component/base/AttachableComponent","jquery","underscore"],function(e){"use strict";var t=e("common/component/base/AttachableComponent"),i=e("jquery"),n=e("underscore");return t.extend({constructor:function(e){t.apply(this,arguments),n.bindAll(this,"_onElementClick","_onDocumentMousedown"),this.$attachTo.on("click",this._onElementClick),i("body").on("mousedown",this._onDocumentMousedown)},_onElementClick:function(){this.show()},_onDocumentMousedown:function(e){i.contains(this.$el[0],e.target)||this.$el.is(e.target)||i.contains(this.$attachTo[0],e.target)||this.$attachTo.is(e.target)||this.hide()},remove:function(){this.$attachTo.off("click",this._onElementClick),i("body").off("mousedown",this._onDocumentMousedown)}})}),define("common/component/colorPicker/SimpleAttachableColorPicker",["require","common/component/colorPicker/SimpleColorPicker","common/component/base/ClickComponent","jquery","./enum/colors","text!common/component/colorPicker/template/simpleColorPickerTemplate.htm"],function(e){"use strict";var t=e("common/component/colorPicker/SimpleColorPicker"),i=e("common/component/base/ClickComponent"),n=e("jquery");e("./enum/colors"),e("text!common/component/colorPicker/template/simpleColorPickerTemplate.htm");return t.extend(i.extend({constructor:function(e,n,s){i.call(this,e,n),t.call(this,s)},initialize:function(){t.prototype.initialize.apply(this),this.hide(),n("body").append(this.$el)},_selectColor:function(e){this.hide(),t.prototype._selectColor.apply(this,arguments)},remove:function(){i.prototype.remove.apply(this,arguments),t.prototype.remove.apply(this,arguments)}}).prototype)}),define("backbone.epoxy",["require","backbone.epoxy.original","common/component/colorPicker/SimpleAttachableColorPicker","underscore"],function(e){function t(e,t){var i=e.data("bind"),n=new RegExp(t+":(\\w*)\\(?(\\w*)?\\)?");return s.last(s.compact(i.match(n)))}var i=e("backbone.epoxy.original"),n=e("common/component/colorPicker/SimpleAttachableColorPicker"),s=e("underscore");return i.binding.addHandler("validationErrorClass",{init:function(e,i,n,s){this.attr=t(e,"validationErrorClass");var o=this.view.model;this._onAttrValidated=function(t,i,n){e[n?"addClass":"removeClass"]("error")},o.on("validate:"+this.attr,this._onAttrValidated)},get:function(e,t,i){return e.val()},set:function(e,t){e.val(t)},clean:function(){this.view.model.off("validate:"+this.attr,this._onAttrValidated)}}),i.binding.addHandler("validationErrorText",{init:function(e,i,n,s){this.attr=t(e,"validationErrorText");var o=this.view.model;this._onAttrValidated=function(t,i,n){e.text(n||"")},o.on("validate:"+this.attr,this._onAttrValidated)},get:function(e,t,i){return e.val()},set:function(e,t){e.val(t)},clean:function(){this.view.model.off("validate:"+this.attr,this._onAttrValidated)}}),i.binding.addFilter("escapeCharacters",{get:function(e){return s.escape(e)},set:function(e){return s.unescape(e)}}),i.binding.addHandler("colorpicker",{init:function(e,i,o,r){var a=!!e.data("showTransparentInput"),l=e.data("label"),c=t(e,"colorpicker");this.attachableColorPicker=new n(e,{top:5,left:5},{label:l,showTransparentInput:a}),this.callback=function(e){o[c](e)},this.attachableColorPicker.on("color:selected",s.bind(this.callback,this))},get:function(e,t,i){return e.val()},set:function(e,t){var i=e.find(".colorIndicator");this.attachableColorPicker.highlightColor(t),i.css("background-color",t)},clean:function(){this.attachableColorPicker.off("color:selected",s.bind(this.callback,this)),this.attachableColorPicker.remove()}}),i.binding.addHandler("radioDiv",{init:function(e,i,n,o){var r=t(e,"radioDiv");this.callback=function(){var t=e.data("value");n[r](t)},e.on("click",s.bind(this.callback,this))},get:function(e,t,i){return e.data("value")},set:function(e,t){var i=e.siblings("div[data-bind*='radioDiv:']");e.data("value")===t&&(e.addClass("checked"),e.children(".radioChild").addClass("checked"),i.removeClass("checked"),i.children(".radioChild").removeClass("checked"))}}),i.binding.addHandler("checkboxDiv",{init:function(e,i,n,o){var r=t(e,"checkboxDiv");this.callback=function(){n[r](!n[r]())},e.on("click",s.bind(this.callback,this))},get:function(e,t,i){return e.data("value")},set:function(e,t){t?(e.addClass("checked"),e.children(".checkboxChild").addClass("checked")):(e.removeClass("checked"),e.children(".checkboxChild").removeClass("checked"))}}),i.binding.addHandler("slide",function(e,t){e[t?"slideDown":"slideUp"]({complete:function(){!t&&e.hide()}})}),i.binding.addFilter("prependText",function(e,t){return"'"===t.charAt(0)&&"'"===t.charAt(t.length-1)&&(t=t.slice(1,t.length-1)),t+" "+(s.isUndefined(e)?"":e)}),i}),define("attributes/enum/permissionMasksEnum",[],function(){return{ADMINISTRATOR:1,READ_ONLY:2,EXECUTE_ONLY:32,NO_ACCESS:0}}),define("attributes/model/AttributeModel",["require","underscore","jquery","backbone.validation","bundle!AttributeBundle","common/util/i18nMessage","backbone.epoxy","attributes/enum/permissionMasksEnum"],function(e){var t=e("underscore"),i=e("jquery"),n=e("backbone.validation"),s=e("bundle!AttributeBundle"),o=e("common/util/i18nMessage").extend({bundle:s}),r=e("backbone.epoxy"),a=e("attributes/enum/permissionMasksEnum"),l=255,c=2e3,u=r.Model.extend({defaults:{id:void 0,name:void 0,value:"",description:"",inherited:!1,permissionMask:1,secure:!1},constructor:function(){this._initModelWithPermissionDefaults&&this._initModelWithPermissionDefaults(),r.Model.apply(this,arguments)},initialize:function(){this.get("id")||this.setId(),this.validateSameNames=!1,this.setState("originalState"),this.setState("confirmedState")},url:function(){var e=encodeURIComponent(this.id).replace(/'/g,"%27");return this.collection.url(this.isNew()?"":e)},validation:{name:[{required:!0,msg:new o("attributes.error.attribute.name.empty")},{maxLength:l,msg:new o("attributes.error.attribute.name.too.long",l)},{doesNotContainSymbols:"\\\\/",msg:new o("attributes.error.attribute.name.invalid")},{fn:function(){if(this.attr){for(var e,i,n,s=this.attr.length,r=0;s>r;r++){if(n=this.attr[r],t.defaults(n,this.defaults),i=this.holder===n.holder&&this.get("inherited")===n.inherited){e="attributes.error.attribute.name.already.exist";break}if(n.inherited&&n.permissionMask===a.READ_ONLY){e="attributes.error.attribute.name.already.exist.at.higher.level";break}}return this.attr=null,this.holder=null,e&&new o(e)}}},{fn:function(){return this.validateIfSecure?new o("attributes.error.attribute.secure.renaming.not.allowed"):void 0}}],value:[{maxLength:c,msg:new o("attributes.error.attribute.value.too.long",c)},{fn:function(){return this.validateIfSecure?(this.validateIfSecure=!1," "):void 0}}],description:[{maxLength:l,msg:new o("attributes.error.attribute.description.too.long",l)}]},setId:function(){var e=this.get("name"),t=this.get("id");e!==t&&this.set("id",e)},toggleSameNamesValidation:function(){this.validateSameNames=!this.validateSameNames},resetField:function(e){this.set(e,this.defaults[e])},reset:function(e,t){var i={};return t=this.getState(t),i[e]=t[e],this.set(e?i:t),this},isRenamed:function(){return this.get("name")!==this.get("id")},isOriginallyInherited:function(){return this.originalState.inherited},isOverridden:function(){return!this.compareAttribute("inherited")},compareAttribute:function(e){return this.originalState[e]===this.confirmedState[e]},setState:function(e,i){i=i||this.attributes,this[e||"originalState"]=t.clone(i)},getState:function(e){return this[e||"originalState"]},trimAttrs:function(e,n){t.each(e,function(e){var t=this.get(e);this.set(e,i.trim(t),n)},this)},toJSON:function(e){e=e||{};var i=this.getState().value===this.getState("confirmedState").value,n=this.get("secure"),s=this.isNew()||this.isOverridden(),o=r.Model.prototype.toJSON.apply(this,arguments);return e.omitValue&&!s&&i&&n&&t.omit(o,"value")||o}});return t.extend(u.prototype,n.mixin),u}),define("common/util/browserDetection",["require","jquery"],function(e){"use strict";var t=e("jquery");return{isMozilla:function(){return"Netscape"===navigator.appName},isFirefox:function(){return-1!==navigator.userAgent.toLowerCase().indexOf("firefox")},isWebKitEngine:function(){return t.browser&&t.browser.webkit},isChrome:function(){return navigator.userAgent.toLowerCase().indexOf("chrome")},isIPad:function(){return"iPad"==navigator.platform},isIOS:function(){return navigator.userAgent.match(/(iPad|iPhone|iPod)/g)},isAndroid:function(){return navigator.userAgent.toLowerCase().indexOf("android")},isIE:function(){return"Microsoft Internet Explorer"===navigator.appName||navigator.userAgent.indexOf("Trident/")>=0},isIE6:function(){return this.isIEVersion(6)},isIE7:function(){return this.isIEVersion(7)},isIE8:function(){return this.isIEVersion(8)},isIE9:function(){return this.isIEVersion(9)},isIE10:function(){return this.isIEVersion(10)},isIE11:function(){return this.isIEVersion(11)},isIEVersion7Upwards:function(){return this.getIEVersion()>=7},isIEVersion:function(e){return this.getIEVersion()===e},getIEVersion:function(){var e=0;if(this.getIEVersion.version>=0)return this.getIEVersion.version;if(this.isIE())if("Netscape"===navigator.appName){var t=navigator.userAgent,i=new RegExp("Trident/.*rv:([0-9]{1,}[\\.0-9]{0,})");null!=i.exec(t)&&(e=parseFloat(RegExp.$1))}else{var n=navigator.appVersion.split("MSIE")[1];e=parseFloat(n)}return this.getIEVersion.version=e,e}}}),define("common/util/eventAutomation",["require","common/util/browserDetection","jquery"],function(e){"use strict";var t=e("common/util/browserDetection"),i=e("jquery");return{mouseEventOptions:{bubbles:!0,cancelable:!0,view:document.defaultView,detail:0,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null,srcElement:null},triggerNativeEvent:function(e,n,s){var o,r=t.isIE();if(n=n||(r?document.documentElement:window),document.createEvent){var a;switch(e){case"click":case"doubleclick":case"mousedown":case"mousemove":case"mouseout":case"mouseover":case"mouseup":a=i.extend({},this.mouseEventOptions,s),a.srcElement=n,"function"==typeof MouseEvent?o=new MouseEvent(e,a):(o=document.createEvent("MouseEvents"),o.initMouseEvent(e,a.bubbles,a.cancelable,a.view,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.button,a.relatedTarget));break;default:a=i.extend({},this.eventOptions,s),a.srcElement=n,o=document.createEvent("HTMLEvents"),o.initEvent(e,a.bubble,a.cancelable)}n.dispatchEvent(o);
}else o=document.createEventObject(),o.srcElement=n,"click"==e&&"undefined"!=typeof n.click?n.click():n.fireEvent("on"+e,o)},simulateClickSequence:function(e){this.triggerNativeEvent("mousedown",e),this.triggerNativeEvent("mouseup",e),this.triggerNativeEvent("click",e)},simulateDoubleClickSequence:function(e){this.triggerNativeEvent("mousedown",e),this.triggerNativeEvent("mouseup",e),this.triggerNativeEvent("click",e),this.triggerNativeEvent("mousedown",e),this.triggerNativeEvent("mouseup",e),this.triggerNativeEvent("click",e),this.triggerNativeEvent("dblclick",e)}}}),define("stdnavPluginAnchor",["require","exports","module","jquery","underscore","common/util/eventAutomation","logger","stdnav"],function(e,t,i){"use strict";var n=e("jquery"),s=(e("underscore"),e("common/util/eventAutomation")),o=e("logger").register(i),r=e("stdnav"),a=0,l=function(){a++,this.serial=a};n.extend(l.prototype,{zinit:function(e){return o.debug("stdnavPluginAnchor.init("+e+")\n"),this},activate:function(){this.behavior={ariaprep:[this,this._ariaPrep,null],ariarefresh:[this,this._ariaRefresh,null],down:[this,this._onLeftOrUp,null],enter:[this,this._onEnterOrEntered,null],entered:[this,this._onEnterOrEntered,null],inherit:!1,inheritable:!0,left:[this,this._onLeftOrUp,null],right:[this,this._onRightOrDown,null],up:[this,this._onRightOrDown,null]},r.registerNavtype(this.navtype,this.behavior,this.navtype_tags)},deactivate:function(){r.unregisterNavtype("anchor",this.behavior)},_ariaPrep:function(e){return n(e).attr("role","link"),null},_ariaRefresh:function(e){return n(e).attr("role","link"),null},_fixSubfocus:function(e){var t,i=n(e);if(i.is("A"))t=i;else if(t=n(e).closest("A"),void 0===t)return void 0;return t.find(".ghostfocus").removeClass(".ghostfocus"),t.children().find(".subfocus").removeClass(".subfocus"),t},_onFocusIn:function(e){var t,i=n(e).children(".ghostfocus");if(i.length>0)i.removeClass("ghostfocus"),t=this._fixSubfocus(i[0]);else{var s=n(e).children('li[js-navigable!="false"]');t=s.length>0?this._fixSubfocus(s[0]):e}return t},_onLeftOrUp:function(e){var t=n(e).prev("a");return t.length<1?e:t[0]},_onRightOrDown:function(e){var t=n(e).next("a");return t.length<1?e:t[0]},_onSubfocusIn:function(e){if("A"!=n(e).prop("nodeName")){var t=this._fixSubfocus(e);r.setSubfocus(t,!1)}},_onEnterOrEntered:function(e){var t=n(e);return t.is("a")&&s.simulateClickSequence(e),e}}),n.extend(l.prototype,{navtype:"anchor",navtype_tags:["A"]});var c=new l;return c}),define("stdnavPluginButton",["require","exports","module","jquery","underscore","common/util/eventAutomation","logger","stdnav"],function(e,t,i){"use strict";var n=e("jquery"),s=(e("underscore"),e("common/util/eventAutomation")),o=e("logger").register(i),r=e("stdnav"),a=0,l=function(){a++,this.serial=a};n.extend(l.prototype,{zinit:function(e){return o.debug("stdnavPluginButton.init("+e+")\n"),this},activate:function(){this.behavior={enter:[this,this._onEnterOrEntered,null],entered:[this,this._onEnterOrEntered,null],inherit:!1,inheritable:!0},r.registerNavtype(this.navtype,this.behavior,this.navtype_tags)},deactivate:function(){r.unregisterNavtype("button",this.behavior)},_fixSubfocus:function(e){var t,i=n(e);if(i.is("BUTTON,[role='button']"))t=i;else if(t=n(e).closest("BUTTON,[role='button']"),void 0===t)return void 0;return t.find(".ghostfocus").removeClass(".ghostfocus"),t.children().find(".subfocus").removeClass(".subfocus"),t},_onFocusIn:function(e){var t,i=n(e).children(".ghostfocus");if(i.length>0)i.removeClass("ghostfocus"),t=this._fixSubfocus(i[0]);else{var s=n(e).children('li[js-navigable!="false"]');t=s.length>0?this._fixSubfocus(s[0]):e}return t},_onSubfocusIn:function(e){if("BUTTON"!=n(e).prop("nodeName")){var t=this._fixSubfocus(e);r.setSubfocus(t,!1)}},_onEnterOrEntered:function(e){var t=n(e);return t.is("BUTTON,[role='button']")&&s.simulateClickSequence(e),e}}),n.extend(l.prototype,{navtype:"button",navtype_tags:["BUTTON"]});var c=new l;return c}),define("stdnavPluginForms",["require","exports","module","jquery","underscore","logger","stdnav"],function(e,t,i){"use strict";var n=e("jquery"),s=(e("underscore"),e("logger").register(i)),o=e("stdnav"),r=0,a=function(){r++,this.serial=r};n.extend(a.prototype,{zinit:function(e){return s.debug("stdnavPluginForms.init("+e+")\n"),this},activate:function(){this.behavior={ariaprep:[this,this._ariaPrep,null],ariarefresh:[this,this._ariaRefresh,null],inherit:!1,inheritable:!0,fixsuperfocus:[o,o.basicFixSuperfocus,null],superfocusin:[o,o.basicSuperfocusIn,{maxdepth:1,focusSelector:":input",ghostfocus:!1}]},o.registerNavtype(this.navtype,this.behavior,this.navtype_tags)},deactivate:function(){o.unregisterNavtype(this.navtype,this.behavior)},_ariaPrep:function(e){return n(e).attr("role","form"),null},_ariaRefresh:function(e){return n(e).attr("role","form"),null}}),n.extend(a.prototype,{navtype:"forms",navtype_tags:["FORM","INPUT","OPTGROUP","OPTION","SELECT","TEXTAREA"]});var l=new a;return l}),define("stdnavPluginGrid",["require","exports","module","jquery","underscore","logger","stdnav"],function(e,t,i){"use strict";var n=e("jquery"),s=(e("underscore"),e("logger").register(i)),o=e("stdnav"),r=0,a=function(){r++,this.serial=r};n.extend(a.prototype,{zinit:function(e){return s.debug("stdnavPluginGrid.init("+e+")\n"),this},activate:function(){this.behavior={focusin:[this,o.basicFocusIn,{maxdepth:2,subfocusclass:"gridcell"}],focusout:[this,o.ghostFocusOut,null],subfocusin:[this,this._onSubfocusIn,null],left:[this,this._onLeft,null],right:[this,this._onRight,null],up:[this,this._onUp,null],down:[this,this._onDown,null],hoverin:[this,this._onHover,null],inherit:!0,inheritable:!0},o.registerNavtype(this.navtype,this.behavior,this.navtype_tags)},deactivate:function(){o.unregisterNavtype(this.navtype,this.behavior)},_findSubfocus:function(e){var t=n(e).closest(".grid"),i=t.find(".subfocus");return void 0!==i?n(i[0]):void 0},_fixSubfocus:function(e){var t,i;if(e.hasClass("grid"))if(t=e.children(".gridrow").children(".gridcell .ghostfocus"),t.length>0)i=t[0];else{var s=e.children(".gridrow");if(s.length>0){var o=n(s[0]).children(".gridcell");i=o.length>0?o[0]:s[0]}else i=e}else e.hasClass("gridrow")?(t=e.children(".gridcell .ghostfocus"),i=t[0]):e.hasClass("gridcell")&&(i=e);return i},_onSubfocusIn:function(e){if(n(e).hasClass("gridcell")===!1){var t=this._fixSubfocus(n(e));o.setSubfocus(t,!1)}},_onLeft:function(e){var t=this._findSubfocus(e),i=n(!1);return t.hasClass("gridcell")&&(i=t.prev(".gridcell")),1===i.length&&o.setSubfocus(i),!1},_onRight:function(e){var t=this._findSubfocus(e),i=n(!1);return t.hasClass("gridcell")&&(i=t.next(".gridcell")),1===i.length&&o.setSubfocus(i),!1},_onUp:function(e){var t=this._findSubfocus(e),i=n(!1),s=n(!1),r=n(!1);if(t.hasClass("gridcell")&&(i=t.closest(".gridrow"),1===i.length&&(s=i.prev(".gridrow")),1===s.length)){var a=t,l=-1;do l++,a=n(a.prev(".gridcell")[0]);while(a.length>0);for(r=n(s.find(".gridcell")[0]);l>0;)a=r.next(".gridcell"),a.length>0&&(r=n(a[0])),l--}return 1===r.length&&o.setSubfocus(r),!1},_onDown:function(e){var t=this._findSubfocus(e),i=n(!1),s=n(!1),r=n(!1);if(t.hasClass("gridcell")&&(i=t.closest(".gridrow"),i.length>0&&(s=i.next(".gridrow")),s.length>0)){var a=t,l=-1;do l++,a=n(a.prev(".gridcell")[0]);while(a.length>0);for(r=n(s.find(".gridcell")[0]);l>0;)a=r.next(".gridcell"),a.length>0&&(r=n(a[0])),l--}return 1===r.length&&o.setSubfocus(r),!1}}),n.extend(a.prototype,{navtype:"grid",navtype_tags:[]});var l=new a;return l}),define("stdnavPluginList",["require","exports","module","jquery","underscore","logger","stdnav"],function(e,t,i){"use strict";var n=e("jquery"),s=(e("underscore"),e("logger").register(i)),o=e("stdnav"),r=0,a=function(){r++,this.serial=r};n.extend(a.prototype,{zinit:function(e){return s.debug("stdnavPluginList.init("+e+")\n"),this},activate:function(){this.behavior={ariaprep:[this,this._ariaPrep,null],ariarefresh:[this,this._ariaRefresh,null],down:[this,this._onDown,null],fixfocus:[this,this._fixFocus,null],fixsuperfocus:[this,this._fixSuperfocus,null],inherit:!0,inheritable:!0,left:[this,this._onLeft,null],right:[this,this._onRight,null],up:[this,this._onUp,null],superfocusin:[o,o.basicSuperfocusIn,{maxdepth:1,focusSelector:"li",ghostfocus:!1}],superfocusout:[o,o.basicSuperfocusOut,{ghostfocus:!1}]},o.registerNavtype(this.navtype,this.behavior,this.navtype_tags)},deactivate:function(){o.unregisterNavtype("list",this.behavior)},_ariaPrep:function(e){this._ariaRefresh(e)},_ariaRefresh:function(e){var t=n(e);t.attr("role","application");var i=t.attr("aria-label"),s=t.attr("aria-labelledby"),r=t.children("li"),a=t.attr("js-itemplural");""!==a&&a||(a="items");var l=!1;if(o.nullOrUndefined(i)&&o.nullOrUndefined(s)){var c=r.find("a");c.length===r.length?(t.attr("aria-label","List of "+r.length+" links."),l=!0):t.attr("aria-label","List of "+r.length+a)}return n.each(r,function(e,t){var i=n(t),s=i.find("a");if(s.length>0){i.attr("role","link");var l=i.attr("aria-label"),c=i.attr("aria-labelledby");if(o.nullOrUndefined(l)&&o.nullOrUndefined(c)){var u=i.text();n(s[0]).text();l=u+". "+(e+1)+" of "+r.length+" "+a+".",i.attr("aria-label",l)}}}),null},_fixFocus:function(e){var t,i,s=n(e);if(s.is("ul,ol"))if(t=s.children("li .ghostfocus"),t.length>0)i=t[0];else{var o=s.children("li");i=o.length>0?o[0]:e}else if(s.is("li"))i=e;else{var r=s.closest("li");i=r.length>0?n(r[0]).prop["js-navigable"]===!1?s.closest("ul,ol"):r[0]:s.closest("ul,ol")}return i},_fixSubfocus:function(e){return null},_fixSuperfocus:function(e){var t,i=n(e).closest("ol,ul");return t=i.length>0?i[0]:null},_onClick:function(e){n(e).closest("ul, ol").focus(),o.setSubfocus(this._fixSubfocus(e))},_onSuperfocusIn:function(e){var t,i=n(e).children("li .ghostfocus");if(i.length>0)i.removeClass("ghostfocus"),t=i[0];else{var s=n(e).children('li[js-navigable!="false"]');t=s.length>0?s[0]:e}return t},_onSuperfocusOut:function(e){},_onLeft:function(e){var t=e,i=n(e).closest("ul,ol");if(i.hasClass("horizontal")){var s=n(e).prev("li");if(0===s.length){if("wrap"==i.attr("js-stdnav-wrap")){var o=i.children("li");o.length>0&&(t=o[o.length-1])}}else t=s[0]}return t},_onRight:function(e){var t=e,i=n(e).closest("ul,ol");if(i.hasClass("horizontal")){var s=n(e).next("li");if(0===s.length){if("wrap"==i.attr("js-stdnav-wrap")){var o=i.children("li");o.length>0&&(t=o[0])}}else t=s[0]}return t},_onUp:function(e){var t=e,i=n(e).closest("ul,ol");if(!i.hasClass("horizontal")){var s=n(e).prev("li");if(0===s.length){if("wrap"==i.attr("js-stdnav-wrap")){var o=i.children("li");o.length>0&&(t=o[o.length-1])}}else t=s[0]}return t},_onDown:function(e){var t=e,i=n(e).closest("ul,ol");if(!i.hasClass("horizontal")){var s=n(e).next("li");if(0===s.length){if("wrap"==i.attr("js-stdnav-wrap")){var o=i.children("li");o.length>0&&(t=o[0])}}else t=s[0]}return t}}),n.extend(a.prototype,{navtype:"list",navtype_tags:["UL","OL"]});var l=new a;return l}),define("stdnavPluginTable",["require","exports","module","jquery","underscore","logger","stdnav"],function(e,t,i){"use strict";var n=e("jquery"),s=(e("underscore"),e("logger").register(i)),o=e("stdnav"),r=0,a=function(){r++,this.serial=r};n.extend(a.prototype,{zinit:function(e){return s.debug("stdnavPluginTable.init("+e+")\n"),this},activate:function(){this.behavior={ariaprep:[this,this._ariaPrep,null],ariarefresh:[this,this._ariaRefresh,null],down:[this,this._onDown,null],fixfocus:[this,this._fixFocus,null],fixsuperfocus:[this,this._fixSuperfocus,null],inherit:!0,inheritable:!0,left:[this,this._onLeft,null],mousedown:[o,o.basicMouseDown],right:[this,this._onRight,null],up:[this,this._onUp,null],superfocusin:[o,o.basicSuperfocusIn,{maxdepth:4,focusSelector:"td",ghostfocus:!1}],superfocusout:[o,o.basicSuperfocusOut,{ghostfocus:!1}]},o.registerNavtype(this.navtype,this.behavior,this.navtype_tags)},deactivate:function(){o.unregisterNavtype(this.navtype,this.behavior)},_ariaPrep:function(e){this._ariaRefresh(e)},_ariaRefresh:function(e){var t=n(e);t.attr("role","application");var i=t.attr("aria-label"),s=t.attr("aria-labelledby"),r=t.find("td,th"),a=!1;if(o.nullOrUndefined(i)&&o.nullOrUndefined(s)){var l=r.find("a");l.length===r.length?(t.attr("aria-label","Table of "+r.length+" links."),a=!0):t.attr("aria-label","Table of "+r.length+" cells.")}return n.each(r,function(e,t){var i=n(t),s=i.find("a");if(s.length>0){i.attr("role","link");var r=i.attr("aria-label"),a=i.attr("aria-labelledby");if(o.nullOrUndefined(r)&&o.nullOrUndefined(a)){var l=i.text();n(s[0]).text();r=l,i.attr("aria-label",r)}}}),null},_findSubfocus:function(e){var t=n(e).closest("table"),i=t.find(".subfocus");return void 0!==i?n(i[0]):void 0},_getPreviousSection:function(e){var t,i=n(e).closest("thead,tbody,tfoot");if(void 0===i)return void 0;switch(i.prop("nodeType")){case"TFOOT":t=i.parent().children("TBODY");break;case"TBODY":t=i.parent().children("THEAD");break;case"THEAD":}return void 0!==t&&t.length>0?t[0]:void 0},_getNextSection:function(e){var t,i=n(e).closest("thead,tbody,tfoot");if(void 0===i)return void 0;switch(i.prop("nodeType")){case"THEAD":t=i.parent().children("TBODY");break;case"TBODY":t=i.parent().children("TFOOT");break;case"TFOOT":}return void 0!==t&&t.length>0?t[0]:void 0},_fixSuperfocus:function(e){var t,i=n(e).closest("table");return t=i.length>0?i[0]:null},_fixFocus:function(e){var t;switch(n(e).prop("nodeName")){case"TH":case"TD":t=e;break;case"TR":t=o.closestDescendant(e,"td,th .ghostfocus",null,1),void 0===t&&(t=o.closestDescendant(e,"td,th",null,1),void 0===t&&(t=n(e).prev("tr"),void 0===t&&(t=this._fixFocus(n(e).parent()))));break;case"THEAD":case"TBODY":case"TFOOT":if(t=o.closestDescendant(e,"td,th .ghostfocus",null,2),void 0===t&&(t=o.closestDescendant(e,"td,th",null,2),void 0===t)){var i=this._getNextSection(e);t=void 0===i?this._fixFocus(n(e).closest("table")):this._fixFocus(i)}break;case"COLGROUP":case"COL":t=this._fixFocus(n(e).closest("table"));break;case"CAPTION":t=this._fixFocus(n(e).closest("table"));break;case"TABLE":t=o.closestDescendant(e,"td,th .ghostfocus",null,5),void 0===t&&(t=o.closestDescendant(e,"td,th",null,5),void 0===t&&(t=e));break;default:t=this._fixFocus(n(e).closest("td,th,table"))}return t},_onSubfocusIn:function(e){var t=e;n(e).is("td")===!1&&(t=this._fixSubfocus(n(e)),o.setSubfocus(t,!1)),n.call(this,o.basicSubfocusIn,t)},_onLeft:function(e){var t=this._findSubfocus(e),i=n(!1);return t.is("td")&&(i=t.prev("td")),1===i.length?i:e},_onRight:function(e){var t=this._findSubfocus(e),i=n(!1);return t.is("td")&&(i=t.next("td")),1===i.length?i:e},_onUp:function(e){var t=this._findSubfocus(e),i=n(!1),s=n(!1),o=n(!1);if(t.is("td")&&(i=t.closest("tr"),1===i.length&&(s=i.prev("tr")),1==s.length)){var r=t,a=-1;do a++,r=n(r.prev("td")[0]);while(r.length>0);for(o=n(s.find("td")[0]);a>0;)r=o.next("td"),r.length>0&&(o=n(r[0])),a--}return 1===o.length?o:e},_onDown:function(e){var t=this._findSubfocus(e),i=n(!1),s=n(!1),o=n(!1);if(t.is("td")&&(i=t.closest("tr"),i.length>0&&(s=i.next("tr")),s.length>0)){var r=t,a=-1;do a++,r=n(r.prev("td")[0]);while(r.length>0);for(o=n(s.find("td")[0]);a>0;)r=o.next("td"),r.length>0&&(o=n(r[0])),a--}return 1===o.length?o:e}}),n.extend(a.prototype,{navtype:"table",navtype_tags:["TABLE"]});var l=new a;return l}),JSTooltip.addVar("SEPARATOR","@@"),JSTooltip.addVar("TOOLTIP_LABEL","tooltiplabel"),JSTooltip.addVar("TOOLTIP_TEXT","tooltiptext"),JSTooltip.addVar("TOOLTIP_TEMPLATE","tooltiptemplate"),JSTooltip.addVar("TOOLTIP_TEMPLATE_ID","jsTooltip"),JSTooltip.addVar("LABEL_PATTERN",".message.label"),JSTooltip.addVar("TEXT_PATTERN",".message:not(.label)"),JSTooltip.addMethod("_toAttribute",function(e,t){this.srcElement&&(t=xssUtil.escape(t),this.srcElement.writeAttribute(e,isArray(t)?t.join(this.SEPARATOR):t))}),JSTooltip.addMethod("_fromAttribute",function(e){if(this.srcElement&&this.srcElement.hasAttribute(e)){var t=this.srcElement.readAttribute(e);return t.include(this.SEPARATOR)?t.split(this.SEPARATOR):t}return null}),JSTooltip.addMethod("_setValues",function(e,t){e.each(function(e,i){t[i]&&e.update(xssUtil.escape(t[i]))})}),JSTooltip.addMethod("_calculateZIndex",function(e){function t(e){return parseInt(jQuery(e).css("z-index"))}var i=t(e);(!_.isNumber(i)||_.isNaN(i))&&(i=1e3);var n=_.flatten([this.srcElement,jQuery(this.srcElement).parents().toArray()]),s=_.reduce(n,function(e,i){var n=t(i);return _.isNumber(n)&&!_.isNaN(n)&&(e=Math.max(e,n)),e},i);return s+1}),JSTooltip.addMethod("_escapeText",function(e){return _.isArray(e)?_.map(e,function(e){return xssUtil.escape(e)}):xssUtil.escape(e)}),JSTooltip.addMethod("show",function(e){e&&(this.offsets=e),this._element=$(this.templateId);var e;this.showBelow?(e=getBoxOffsets(this.srcElement),e[1]+=this.srcElement.clientHeight+5):e=[getScrollLeft()+5,getScrollTop()+5],this.offsets&&(e[0]+=this.offsets[0],e[1]+=this.offsets[1]),this._element.setStyle({position:"absolute",left:e[0]+"px",top:e[1]+"px",zIndex:this._calculateZIndex(this._element)});var t=this._element.select(this.LABEL_PATTERN),i=this._element.select(this.TEXT_PATTERN);if(this.label&&this._setValues(t,isArray(this.label)?this.label:[this.label]),this.text&&this._setValues(i,isArray(this.text)?this.text:[this.text]),this._element.removeClassName(layoutModule.HIDDEN_CLASS),e[0]+this._element.clientWidth>jQuery(window).width()){var n=e[0]-this._element.clientWidth>0?e[0]-this._element.clientWidth:15;this._element.setStyle({left:n+"px"})}if(e[1]+this._element.clientHeight>jQuery(window).height()){var s=e[1]-this._element.clientHeight-10;this._element.setStyle({top:s+"px"})}return this.loadTextCallback&&!this.loadTextExecuted&&(this.loadTextExecuted=!0,this.loadTextCallback(this)),this}),JSTooltip.addMethod("updateText",function(e){this.text=this._escapeText(e),this.show()}),JSTooltip.addMethod("hide",function(){this._element&&this._element.addClassName(layoutModule.HIDDEN_CLASS)}),JSTooltip.addMethod("disable",function(){tooltipModule.hideJSTooltip(this.srcElement),this.disabled=!0}),JSTooltip.addMethod("enable",function(){this.disabled=!1,tooltipModule.showJSTooltip(this.srcElement,this.offsets)}),JSTooltip.addMethod("remove",function(){var e=tooltipModule.tooltips.indexOf(this.srcElement.jsTooltip);-1!==e&&(tooltipModule.hideJSTooltip(this.srcElement),tooltipModule.tooltips.splice(e,1)),this.removed=!0}),JSTooltip.addMethod("isRemoved",function(){return this.removed});var tooltipModule={TOOLTIP_PATTERN:"*[tooltiptext] > *",ELEMENT_WITH_TOOLTIP_PATTERN:"*[tooltiptext]",actualX:0,actualY:0,tooltips:[],showJSTooltip:function(e,t){if(e.jsTooltip){if(!e.jsTooltip.disabled){this.actualX=t[0],this.actualY=t[1],this.cleanUp();var i=jQuery(e).attr("tooltipappeardelay");i=i?parseInt(i):1e3,e.jsTooltip.timer&&clearTimeout(e.jsTooltip.timer),e.jsTooltip.timer=setTimeout(function(){e.jsTooltip.show([tooltipModule.actualX,tooltipModule.actualY])},i),jQuery(e).on("mousemove",function(e){tooltipModule.actualX=e.clientX,tooltipModule.actualY=e.clientY})}}else e.jsTooltip=new JSTooltip(e,{})},hideJSTooltip:function(e){e&&e.jsTooltip&&(e.jsTooltip.timer&&clearTimeout(e.jsTooltip.timer),e.jsTooltip.hide(),jQuery(e).off("mousemove"))},cleanUp:function(){if(this.tooltips&&this.tooltips.length>0){var e=[],t="fuigasuifdughaiadbvguaidbapvuwbev";this.tooltips.each(function(i){i.srcElement.id&&document.getElementById(i.srcElement.id)||(i.srcElement.setAttribute("id",t),document.getElementById(t)||(i.hide(),e.push(i)),i.srcElement.setAttribute("id",null))}),e.length>0&&(this.tooltips=this.tooltips.reject(function(t){return e.include(t)}))}}};define("components.tooltip",["jquery","prototype","underscore","utils.common","core.layout"],function(e){return function(){var t;return t||e.JSTooltip}}(this)),document.observe(isSupportsTouch()?"drag:touchstart":"drag:mousedown",function(e){var t=e.memo.targetEvent.element();if(!isSupportsTouch()||!event.treeEvent&&!event.listEvent){var i=matchMeOrUp(t,layoutModule.LIST_ITEM_PATTERN);i&&!t.match(layoutModule.DISCLOSURE_BUTTON_PATTERN)&&buttonManager.down(i,function(e){return $(e).down(layoutModule.LIST_ITEM_WRAP_PATTERN)}),t.match(layoutModule.DISCLOSURE_BUTTON_PATTERN)&&buttonManager.down(t)}});var buttonManager={over:function(e,t){if(e&&!this.isSelected(e)){var i=t?t(e):e;$(i).addClassName(layoutModule.HOVERED_CLASS)}},out:function(e,t){if(e){var i=t?t(e):e;$(i).removeClassName(layoutModule.HOVERED_CLASS).removeClassName(layoutModule.PRESSED_CLASS)}},down:function(e,t){if(e&&!this.isSelected(e)){var i=t?t(e):e;$(i).removeClassName(layoutModule.HOVERED_CLASS).addClassName(layoutModule.PRESSED_CLASS)}},up:function(e,t){if(e&&!this.isSelected(e)){var i=t?t(e):e;i=$(i),i.removeClassName(layoutModule.PRESSED_CLASS),!isIPad()&&i.addClassName(layoutModule.HOVERED_CLASS)}},disable:function(e){e&&(buttonManager.out(e),$(e).writeAttribute(layoutModule.DISABLED_ATTR_NAME,layoutModule.DISABLED_ATTR_NAME))},enable:function(e){e&&(buttonManager.out(e),$(e).writeAttribute(layoutModule.DISABLED_ATTR_NAME,null))},isDisabled:function(e){return e?$(e).readAttribute(layoutModule.DISABLED_ATTR_NAME)===layoutModule.DISABLED_ATTR_NAME||$(e).hasClassName(layoutModule.DISABLED_CLASS):void 0},unSelect:function(e){e&&$(e).removeClassName(layoutModule.SELECTED_CLASS)},select:function(e){e&&$(e).addClassName(layoutModule.SELECTED_CLASS)},isSelected:function(e,t){if(e){var i=t?t(e):$(e),n=i.up("li");return n&&n.hasClassName(layoutModule.SELECTED_CLASS)}return!1}};document.observe("mouseup",function(e){if(isRightClick(e)){var t=e.element();document.fire(layoutModule.ELEMENT_CONTEXTMENU,{targetEvent:e,node:t})}}),document.observe("contextmenu",function(e){return Event.stop(e),!1}),document.observe("dom:loaded",function(e){isIE()&&document.body.setAttribute("oncontextmenu","return false"),jQuery("body").on("mouseover mouseout",layoutModule.BUTTON_PATTERN,function(e){hasDisabledAttributeSet(this)||("mouseover"==e.type?buttonManager.over(this):buttonManager.out(this))}),jQuery("body").on("focus",layoutModule.BUTTON_PATTERN,function(e){hasDisabledAttributeSet(this)||buttonManager.over(this)}),jQuery("body").on("blur",layoutModule.BUTTON_PATTERN+"."+layoutModule.HOVERED_CLASS,function(e){hasDisabledAttributeSet(this)||buttonManager.out(this)}),jQuery("body").on("mousedown mouseup touchstart touchend",[layoutModule.BUTTON_PATTERN,layoutModule.MENU_LIST_PATTERN,layoutModule.DISCLOSURE_BUTTON_PATTERN,layoutModule.META_LINKS_PATTERN].join(","),function(e){"mousedown"==e.type||"touchstart"==e.type?!hasDisabledAttributeSet(this)&&buttonManager.down(this):!hasDisabledAttributeSet(this)&&buttonManager.up(this),("mouseup"==e.type||"touchend"==e.type)&&(this.parentNode.id==layoutModule.MAIN_NAVIGATION_HOME_ITEM_ID&&primaryNavModule.navigationOption("home"),this.parentNode.id==layoutModule.MAIN_NAVIGATION_LIBRARY_ITEM_ID&&primaryNavModule.navigationOption("library"))}),jQuery("#frame").on("touchend mouseup",".minimize",function(e){this.parentNode.className.indexOf("maximized")>=0?layoutModule.minimize(this):layoutModule.maximize(this),e.preventDefault()}),jQuery("#frame").on("touchend mouseup",layoutModule.TABSET_TAB_PATTERN,function(e){if(!hasDisabledAttributeSet(this)&&"true"!==jQuery(this.parentNode).attr("disableCoreEvents")){jQuery(this).siblings().removeClass(layoutModule.SELECTED_CLASS).each(function(e,t){jQuery(jQuery(this).attr("tabId")).addClass("hidden")}),jQuery(this).addClass(layoutModule.SELECTED_CLASS),jQuery(jQuery(this).attr("tabId")).removeClass("hidden");var t=jQuery(this).closest(".tabs").find(".control.tabSet.anchor");"#attributesTab"===jQuery(this).attr("tabId")?t.addClass("attributesAnchor"):t.removeClass("attributesAnchor")}}),jQuery("#"+layoutModule.META_LINK_LOGOUT_ID).on("mousedown touchstart",function(e){e.preventDefault(),primaryNavModule.navigationOption("logOut")}),jQuery("body").on("mouseover mouseout click","[tooltiptext]",function(e){("mouseout"==e.type||"click"==e.type)&&tooltipModule.hideJSTooltip(this),"mouseover"==e.type&&tooltipModule.showJSTooltip(this,[e.clientX,e.clientY])}),jQuery("#mainNavigation").on("mouseover",layoutModule.NAVIGATION_MUTTON_PATTERN,function(e){primaryNavModule.showNavButtonMenu(e,this)}),isSupportsTouch()&&(document.body.addEventListener("touchstart",function(e){window.calendar&&window.calendar.hide&&!window.calendar.hidden&&window.calendar.hide(),"undefined"!=typeof TouchController&&(TouchController.element_scrolled=!1)},!1),document.body.addEventListener("touchmove",function(e){},!1)),jQuery("#filePath").on("mouseenter mouseout",function(){jQuery("#fake_upload_button").toggleClass("over")})}),define("core.events.bis",["jquery","prototype","utils.common","core.layout","components.tooltip"],function(e){return function(){var t;return t||e.buttonManager}}(this)),"undefined"==typeof localContext&&(localContext=window);var actionModel={};actionModel.SIMPLE_ACTION="simpleAction",actionModel.SELECT_ACTION="selectAction",actionModel.INPUT_ACTION="inputAction",actionModel.OPTION_ACTION="optionAction",actionModel.SEPARATOR="separator",actionModel.SINGLE_SELECT_CONSTRAINT="singleSelect",actionModel.HIGH_Z_INDEX=99999,actionModel.RES_LABEL="$label",actionModel.RES_ID="$id",actionModel.RES_SELECTED="$selected",actionModel.EVENT="$event",actionModel.selObjects=[],actionModel.lastItemWasSeparator=!1,actionModel.noItemsYet=!0,actionModel.data=null,actionModel.openedSubMenus=[],actionModel.parentMenu="",actionModel.menuDom=null,actionModel.menuListDom=null,actionModel.PARENT_MENU_CONTAINER="menuList",actionModel.PARENT_MENU_STYLE="menu vertical context hidden",actionModel.SIMPLE_ACTION_DOM_ID="menuList_simpleAction",actionModel.SEPARATOR_DOM_ID="menuList_separator",actionModel.FLYOUT_PARENT_DOM_ID="menuList_flyout",actionModel.EXTRA_INPUT_DOM_ID="menuList_extraInput",actionModel.LIST_ITEM_DOM_ID="menuList_listItem",actionModel.DISPLAY_STYLE="inline",actionModel.DROP_DOWN_MENU_CLASS="dropDown",actionModel.MOUSE_OUT_PATTERNS=["#"+layoutModule.MENU_ID,"."+layoutModule.MENU_ROOT_CLASS,".toolbar .capsule",".header > .button.mutton","#"+layoutModule.MENU_ID+" *",layoutModule.MENU_ROOT_CLASS+" *"],actionModel.showDynamicMenu=function(e,t,i,n,s,o){if(null==e){if(!isProVersion())return;var r=designerBase.getSelectedObject();if(!r||!r.menuLevel)return;e=r.menuLevel}actionModel.resetMenu(),actionModel.updateCSSClass(i),actionModel.initActionModelData(s),actionModel.assembleMenuFromActionModel(e,t,actionModel.menuListDom,o),actionModel.setMenuPosition(actionModel.menuDom,t,n),actionModel.setMenuEventHandlers(actionModel.menuDom),isIE()&&jQuery("#"+actionModel.menuDom.id).prepend('<div class="msshadow"></div>'),actionModel.makeMenuVisible(actionModel.menuDom),isIE7()&&setWidthStyleByReflection(actionModel.menuDom,".content"),actionModel.adjustMenuPosition(actionModel.menuDom),jQuery(actionModel.MOUSE_OUT_PATTERNS.join(",")).on("mouseout",actionModel.closeHandler)},actionModel.closeHandler=function(e){var t=jQuery(e.relatedTarget);(t.hasClass("mutton")||t.parents(".mutton").length)&&e.relatedTarget||"menu"===t.attr("id")||t.parents("#menu").length||(jQuery("body").trigger("actionmodel-mouseout"),actionModel.hideMenu())},actionModel.resetMenu=function(){var e=$("menu");e.parentId=void 0,e.setAttribute("tabIndex",-1),e.childElements().each(function(e){Element.remove(e)}),e.innerHTML=$("commonMenu").cloneNode(!0).innerHTML;var t=e.down("ul"),i=t.readAttribute("id");t.writeAttribute("id",actionModel.updateTemplateId(i)),e.className=actionModel.PARENT_MENU_STYLE,e.writeAttribute("style",""),actionModel.menuDom=e,actionModel.menuListDom=t,actionModel.lastInputSrc="none"},actionModel.updateTemplateId=function(e){var t=new RegExp("_template");return e.replace(t,"")},actionModel.updateCSSClass=function(e){isNotNullORUndefined(e)&&($(actionModel.menuDom).className=e+" hidden")},actionModel.setMenuPosition=function(e,t,i){var n,s=t?t:window.event;n=s?isSupportsTouch()&&s.changedTouches?{x:s.changedTouches[0].pageX+20,y:s.changedTouches[0].pageY}:Event.pointer(s):{x:0,y:0};var o,r;isNotNullORUndefined(i)?(o=isNotNullORUndefined(i.menuLeft)?i.menuLeft:n.x,r=isNotNullORUndefined(i.menuTop)?i.menuTop:n.y):(o=n.x,r=n.y),e.setStyle({left:o+"px",top:r+"px"})},actionModel.adjustMenuPosition=function(e,t,i,n,s){(!$(e).hasClassName(this.DROP_DOWN_MENU_CLASS)||$(e).hasClassName("fitable"))&&fitObjectIntoScreen(e,null,i,null,s)},actionModel.assembleMenuFromActionModel=function(e,t,i,n){actionModel.noItemsYet=!0;var s=actionModel.data[e];n&&(s=n(e,s)),s.each(function(e){actionModel.appendToMenu(e,t,i)}),actionModel.removeTrailingSeparator()},actionModel.initActionModelData=function(e){"navigationActionModel"===e?actionModel.data=primaryNavModule.JSON:actionModel.data=_.isString(e)?jQuery("#"+e).html().evalJSON():e},actionModel.appendToMenu=function(e,t,i){if(actionModel.passesClientTest(e)){var n=getMenuMouseupFunction(getAsFunction(e.action),e.actionArgs,e.text,e.id,t);actionModel.appendDesiredRowType(e,t,n,i)}},actionModel.appendDesiredRowType=function(e,t,i,n){var s=function(){actionModel.isMenuShowing()&&actionModel.hideMenu(),i&&i()};e.type==actionModel.SIMPLE_ACTION&&actionModel.addSimpleActionRow(e,s,n),e.type!=actionModel.SEPARATOR||actionModel.lastItemWasSeparator||actionModel.addSeparatorRows(e,n),e.type==actionModel.SELECT_ACTION&&actionModel.addSelector(e,n,t),e.type==actionModel.OPTION_ACTION&&actionModel.addOption(e,s,n)},actionModel.addSimpleActionRow=function(e,t,i){var n=null;n=e.className&&"requiresInput"==e.className?$(actionModel.EXTRA_INPUT_DOM_ID).cloneNode(!0):$(actionModel.SIMPLE_ACTION_DOM_ID).cloneNode(!0),isSupportsTouch()?n.ontouchend=t:n.onmouseup=t,n.onmouseup_saved=t;var s=$(n).down(".button"),o=document.createTextNode(e.text);o.nodeValue=replaceNbsps(o.nodeValue),s.appendChild(o);var r=n.readAttribute("id")+getRandomId();n.writeAttribute("id",r),actionModel.insertMenuRow(i,n,!1,e.isDisabled,e.id,null)},actionModel.addSeparatorRows=function(e,t){var i=null;if(!actionModel.noItemsYet){var n=$(actionModel.SEPARATOR_DOM_ID).cloneNode(!0),s=n.readAttribute("id")+getRandomId();n.writeAttribute("id",s),e.className&&(i=e.className),actionModel.insertMenuRow(t,n,!0,e.isDisabled,null,i)}},actionModel.addOption=function(e,t,i){if(actionModel.passesClientTest(e)){var n=null,s=$(actionModel.LIST_ITEM_DOM_ID).cloneNode(!0);e.button=e.button&&"true"==String(e.button).toLowerCase()?!0:!1,isSupportsTouch()?s.ontouchend=t:s.onmouseup=t,s.onmouseup_saved=t;var o=$(s).down(".button"),r=document.createTextNode(e.text);r.nodeValue=replaceNbsps(r.nodeValue),o.appendChild(r);var a=s.readAttribute("id")+getRandomId();s.writeAttribute("id",a),e.className&&(n=e.className),!e.button&&evaluateTest(e.isSelectedTest,e.isSelectedTestArgs,e.text,e.id,!1,!1)&&o.addClassName("down"),actionModel.insertMenuRow(i,s,!1,e.isDisabled,e.id,n)}},actionModel.addSelector=function(e,t,i){var n,s=e.className;if("flyout"==s){if(e&&e.children.length>0){n=$(actionModel.FLYOUT_PARENT_DOM_ID).cloneNode(!0);var o=$(n).down(".button"),r=document.createTextNode(e.text);r.nodeValue=replaceNbsps(r.nodeValue),o.appendChild(r);var a=n.readAttribute("id")+getRandomId();n.writeAttribute("id",a),actionModel.insertMenuRow(t,n,!1,e.isDisabled,e.id,null);var l=actionModel.menuDom.cloneNode(!1);l.writeAttribute("id",n.readAttribute("id")+"_subMenu"),l.innerHTML=$("commonMenu").cloneNode(!0).innerHTML;var c=l.down("ul"),u=c.readAttribute("id");c.writeAttribute("id",actionModel.updateTemplateId(u)),n.appendChild(l);var d=l.select("ul")[0],h=d.writeAttribute("id",d.readAttribute("id")+"_subMenu");actionModel.buildSubMenu(e,h,i)}}else e.children.each(function(e){var n=getMenuMouseupFunction(getAsFunction(e.action),e.actionArgs,e.text,e.id,i);actionModel.appendDesiredRowType(e,i,n,t)})},actionModel.getSubMenuLeft=function(e){var t=$(e).up(2).clientWidth,i=Math.abs(parseInt($(e).up(1).offsetLeft));return t+i},actionModel.getSubMenuTop=function(e){return Math.abs(parseInt($(e).offsetTop))},actionModel.showChildSubmenu=function(e){var t,i,n=e.parentNode.parentNode.parentNode.id,s=!1;for(t=0;t<actionModel.openedSubMenus.length;t++)actionModel.openedSubMenus[t]==n&&(i=t,
s=!0,jQuery("#"+n+">div.content>ul").children("li.node").each(function(){actionModel.hideChildSubmenu(jQuery(this).get(0))})),s&&jQuery("#"+actionModel.openedSubMenus[t]+">div.content>ul").children("li.node").each(function(){actionModel.hideChildSubmenu(jQuery(this).get(0))});actionModel.openedSubMenus.splice(i,actionModel.openedSubMenus.length-i);var o=null,r=null,a=null,l=20,c=e.childElements()[1];c.setStyle({display:actionModel.DISPLAY_STYLE}),c.setStyle({position:"absolute"});var u=actionModel.getSubMenuLeft(e),d=0;c.setStyle({left:u+"px",top:d+"px"}),isIE()&&jQuery(c).prepend('<div class="msshadow"></div>'),actionModel.makeMenuVisible(c),isIE7()&&setWidthStyleByReflection(c,".content"),o=$(c).cumulativeOffset()[1],r=$(c).getHeight();var h=getWindowHeight(),p=o+r;p>h&&(d=h-p-l,c.setStyle({top:d+"px"}));var f=c.cumulativeOffset()[0];a=c.getWidth(),getWindowWidth()<f+a&&c.setStyle({left:"-"+a+"px"}),actionModel.openedSubMenus.push(n)},actionModel.hideChildSubmenu=function(e){var t=e.childElements()[1];t.setStyle({display:"none"}),t.setStyle({position:"absolute"}),t.setStyle({left:0}),actionModel.makeMenuInVisible($(t))},actionModel.makeMenuVisible=function(e){var t=e.down("ul");t.childElements().length>0&&(e.setStyle({zIndex:actionModel.HIGH_Z_INDEX}),$(e).removeClassName("hidden"))},actionModel.makeMenuInVisible=function(e){e.addClassName("hidden")},actionModel.buildSubMenu=function(e,t,i){e.children.each(function(e){actionModel.appendToMenu(e,i,$(t))})},actionModel.isMenuShowing=function(){return!("none"==$("menu").getStyle("display")||$("menu").hasClassName("hidden"))},actionModel.updateRowDom=function(e,t){if(e){e.innerHTML=t;var i=e.readAttribute("id")+getRandomId();e.writeAttribute("id",i)}return e},actionModel.launchNewMenu=function(){actionModel.hideMenu(),alert("action not implemented...")},actionModel.insertMenuRow=function(e,t,i,n,s,o){null==t.readAttribute("id")&&(s?t.setAttribute("id",s):t.identify()),n&&actionModel.disableMenuOption(t),o&&t.addClassName(o),e.appendChild(t),actionModel.lastItemWasSeparator=i,actionModel.noItemsYet=!1},actionModel.disableMenuOption=function(e){buttonManager.disable(e),_.isEmpty(e.childNodes)&&buttonManager.disable(e.childNodes[0])},actionModel.passesClientTest=function(e){var t,i=!0;if(e.clientTest){t=e.clientTest;var n=!1;t.startsWith("!")&&(t=e.clientTest.sub("!",""),n=!0),i=evaluateTest(t,e.clientTestArgs,e.text,e.id,n,null)}var s=actionModel.selObjects;return _.isEmpty(s)||i&&e.selectionConstraint&&(i=e.selectionConstraint==actionModel.SINGLE_SELECT_CONSTRAINT?1==s.length:s.length>1),i},actionModel.removeTrailingSeparator=function(){var e=actionModel.menuListDom.lastChild;if($(e)&&!actionModel.noItemsYet){var t=e.identify(),i=new RegExp("w*separatorw*");i.test(t)&&e.remove()}},actionModel.getMenuParent=function(){return $(actionModel.menuDom.parentId)},actionModel.getFirstMenuButton=function(){return actionModel.menuDom.down(layoutModule.BUTTON_PATTERN,0)},actionModel.focusMenu=function(){var e=jQuery("#"+actionModel.menuDom.id);if(!jQuery.contains(e,document.activeElement)){actionModel.lastFocused=document.activeElement;var t=e.find(layoutModule.BUTTON_PATTERN);t.length>0&&$(t[0]).focus()}},actionModel.showDropDownMenu=function(e,t,i,n,s){t=jQuery(t);var o=t.offset(),r={menuLeft:o.left,menuTop:o.top+t.height()-1};actionModel.showDynamicMenu(i,e,n,r,s)},actionModel.setMenuEventHandlers=function(e){e.select("li").each(function(e){e.hasClassName("disabled")||e.hasClassName("node")&&(isSupportsTouch()?Event.observe(e,"touchstart",function(t){t.firstCall||actionModel.showChildSubmenu(e),t.firstCall=!0}):(Event.observe(e,"mouseenter",function(t){actionModel.showChildSubmenu(e)}),Event.observe(e,"mouseleave",function(t){actionModel.hideChildSubmenu(e)})))})},actionModel.initializeOneTimeMenuHandlers=function(){},actionModel.hideMenu=function(){if(actionModel.isMenuShowing()){var e=function(){var e=actionModel.lastFocused;try{e&&e.focus()}catch(t){}};!isSupportsTouch()&&setTimeout(e,0),actionModel.makeMenuInVisible($("menu")),jQuery(actionModel.MOUSE_OUT_PATTERNS.join(",")).off("mouseout",actionModel.closeHandler)}},actionModel.createMenuElement=function(e,t){if(!e)throw new Error("Can not construct actionModel object: type can not be empty");return Object.extend({type:e},t)},actionModel.setSelected=function(e){actionModel.selObjects=e},define("actionModel.modelGenerator",["prototype","utils.common","core.events.bis"],function(e){return function(){var t;return t||e.actionModel}}(this));var primaryNavModule={NAVIGATION_MENU_CLASS:"menu vertical dropDown",ACTION_MODEL_TAG:"navigationActionModel",CONTEXT_POSTFIX:"_mutton",NAVIGATION_MUTTON_DOM_ID:"navigation_mutton",NAVIGATION_MENU_PARENT_DOM_ID:"navigationOptions",JSON:null,navigationPaths:{browse:{url:"flow.html",params:"_flowId=searchFlow"},home:{url:"home.html"},library:{url:"flow.html",params:"_flowId=searchFlow&mode=library"},logOut:{url:"exituser.html"},search:{url:"flow.html",params:"_flowId=searchFlow&mode=search"},report:{url:"flow.html",params:"_flowId=searchFlow&mode=search&filterId=resourceTypeFilter&filterOption=resourceTypeFilter-reports&searchText="},jobs:{url:"scheduler/main.html"},olap:{url:"flow.html",params:"_flowId=searchFlow&mode=search&filterId=resourceTypeFilter&filterOption=resourceTypeFilter-view&searchText="},event:{url:"flow.html",params:"_flowId=logEventFlow"},samples:{url:"flow.html",params:"_flowId=sampleFlow&page=dialogs"},adminHome:{url:"flow.html",params:"_flowId=adminHomeFlow"},organization:{url:"flow.html",params:"_flowId=tenantFlow"},etl:{url:"etl"},mondrianProperties:{url:"olap/properties.html"},flush:{url:"olap/flush.html"},user:{url:"flow.html",params:"_flowId=userListFlow"},role:{url:"flow.html",params:"_flowId=roleListFlow"},analysisOptions:{url:"flow.html",params:"_flowId=mondrianPropertiesFlow"},designerOptions:{url:"flow.html",params:"_flowId=designerOptionsFlow"},designerCache:{url:"flow.html",params:"_flowId=designerCacheFlow"},awsSettings:{url:"flow.html",params:"_flowId=awsSettingsFlow"},designer:{url:"flow.html",params:"_flowId=adhocFlow"},dashboard:{url:"dashboard/designer.html"},legacyDashboard:{url:"flow.html",params:"_flowId=dashboardDesignerFlow&createNew=true"},domain:{url:"flow.html",params:"_flowId=createSLDatasourceFlow&ParentFolderUri="},dataSource:{url:"flow.html",params:"_flowId=addDataSourceFlow&ParentFolderUri="+encodeURIComponent("/datasources")},logSettings:{url:"log_settings.html"},createReport:{url:"view/view/modules/adhoc/createReport"}},bodyIds:{designer:"designerBase.confirmAndLeave",dashboardDesigner:"designerBase.confirmAndLeave",repoBrowse:"repositorySearch.confirmAndLeave",repoSearch:"repositorySearch.confirmAndLeave",manage_users:"orgModule.confirmAndLeave",manage_roles:"orgModule.confirmAndLeave",manage_orgs:"orgModule.confirmAndLeave",domainDesigner_tables:"domain.designer.confirmAndLeave",domainDesigner_derivedTables:"domain.designer.confirmAndLeave",domainDesigner_joins:"domain.designer.confirmAndLeave",domainDesigner_calculatedFields:"domain.designer.confirmAndLeave",domainDesigner_filters:"domain.designer.confirmAndLeave",domainDesigner_display:"domain.designer.confirmAndLeave",dataChooserDisplay:"domain.chooser.confirmAndLeave",dataChooserFields:"domain.chooser.confirmAndLeave",dataChooserPreFilters:"domain.chooser.confirmAndLeave",dataChooserSaveAsTopic:"domain.chooser.confirmAndLeave",reportViewer:"Report.confirmAndLeave"},globalActions:{logOut:function(e){return primaryNavModule.bodyIds[e]}},initializeNavigation:function(){var e,t,i;this.JSON=$("navigationActionModel").text?$("navigationActionModel").text.evalJSON():{};var n=/[A-Za-z]+[_]{1}[A-Za-z]+/;for(e in this.JSON)if(t=n.exec(e)[0],i=this.JSON[e][0],isNotNullORUndefined(i))this.createMutton(t,i.text);else if("main_home"===t||"main_library"===t){var s=$(t);s&&$(s).removeClassName("hidden")}},createMutton:function(e,t){var i=$(this.NAVIGATION_MUTTON_DOM_ID).cloneNode("true"),n=$(i).down(".button");$(i).setAttribute("id",e);var s=document.createTextNode(t);n.appendChild(s);var o=$(this.NAVIGATION_MENU_PARENT_DOM_ID);o&&o.appendChild(i)},showNavButtonMenu:function(e,t){var i=jQuery(t).attr("id");actionModel.showDropDownMenu(e,t,i+this.CONTEXT_POSTFIX,this.NAVIGATION_MENU_CLASS,this.ACTION_MODEL_TAG),$("menu").parentId=i},isNavButton:function(e){return $(e).hasClassName("mutton")||$(e).hasClassName("icon")},setNewLocation:function(e,t){var i=this.navigationPaths[e],n=t||i.params;i&&(n=n?"?"+n:"",window.location.href=__jrsConfigs__.urlContext+"/"+i.url+n)},navigationOption:function(e){var t=$(document.body).readAttribute("id"),i=null;if(primaryNavModule.globalActions[e]?i=primaryNavModule.globalActions[e](t):primaryNavModule.bodyIds[t]&&(i=primaryNavModule.bodyIds[t]),i){var n=getAsFunction(i),s=n();if("function"==typeof s)return void s(function(){primaryNavModule.setNewLocation(e)});if(!s)return}primaryNavModule.setNewLocation(e)},onMenuHeaderMouseOver:function(e,t){this.showNavButtonMenu(e,t)}};define("actionModel.primaryNavigation",["actionModel.modelGenerator"],function(e){return function(){var t;return t||e.primaryNavModule}}(this)),define("stdnavPluginActionMenu",["require","exports","module","jquery","underscore","logger","stdnav","actionModel.modelGenerator","core.events.bis","core.layout","actionModel.primaryNavigation"],function(e,t,i){"use strict";var n=e("jquery"),s=e("underscore"),o=e("logger").register(i),r=e("stdnav"),a=e("actionModel.modelGenerator"),l=e("core.events.bis"),c=e("core.layout"),u=e("actionModel.primaryNavigation"),d=0,h=function(){d++,this.serial=d,this.menu_item_callbacks={click:{}}};s.extend(h.prototype,{zinit:function(e){return this},activate:function(){this.behavior={down:[this,this._onDown,null],enter:null,exit:null,fixfocus:[this,this._fixFocus,null],fixsubfocus:[this,this._fixFocus,null],fixsuperfocus:[this,this._fixSuperfocus,null],focusin:[this,this._onFocusIn,null],focusout:[this,this._onFocusOut,null],left:[this,this._onLeft,null],right:[this,this._onRight,null],superfocusout:[this,this._onSuperfocusOut,null],up:[this,this._onUp,null],inherit:!1,inheritable:!0},r.registerNavtype(this.navtype,this.behavior,this.navtype_tags)},deactivate:function(){r.unregisterNavtype(this.navtype,this)},_fixFocus:function(e){var t,i=n(e);if(i.is("div,ul,ol")){var s=i.find(".pressed");s.length>0?t=s[0]:(s=i.find("li"),t=s.length>0?s[0]:e)}else if(i.is("li"))t=e;else{var o=i.closest("li");o.length>0?t=n(o[0]).prop["js-navigable"]===!1?i.closest("ul,ol"):o[0]:(t=i.closest("ul,ol"),t=i.find("li"),t.length>0&&(t=t[0]))}return t},_fixSuperfocus:function(e){var t,i=n(e).closest(".menuRoot,.dropDown");return t=i.length>0?i[0]:null},_onFocusIn:function(e){var t,i=(n(e),n(e));if(i.length>0){var s=i.closest(c.NAVIGATION_PATTERN);if(s.length>0)l.over(s.find(c.BUTTON_PATTERN)[0]),t=s.closest(c.NAVIGATION_MUTTON_PATTERN),t.length>0?u.showNavButtonMenu(null,t[0]):a.hideMenu();else{var s=i.closest(c.MENU_LIST_PATTERN);s.length>0&&(l.over(s.find(c.BUTTON_PATTERN)[0]),t=s.closest(c.NAVIGATION_MUTTON_PATTERN))}}return e},_onFocusOut:function(e){var t=n(e).closest(c.NAVIGATION_PATTERN);if(t.length>0)this.lastMenuBarItem!==e&&l.out(t.find(c.BUTTON_PATTERN)[0]);else{var t=n(e).closest(c.MENU_LIST_PATTERN);t.length>0&&l.out(t.find(c.BUTTON_PATTERN)[0])}return null},_onSuperfocusOut:function(e){var t=(n(e),n("#"+c.MAIN_NAVIGATION_ID));if(t.length<1)return e;var i=n(document.activeElement);if(i.closest(".dropDown").length<1){var s=t.find("."+c.HOVERED_CLASS);s.length>0&&l.out(s[0])}},_focus_prev_menu_entry:function(e){var t,i=!1;if(e.hasClass("node")&&!e.children(".menu").hasClass("is-closed")&&(i=!0),t=e.prev(),0===t.length)for(t=e;t.next().length>0;)t=t.next();o.debug("Granting focus to "+t.attr("id")),r.setSubfocus(t)},_focus_next_menu_entry:function(e){var t,i=!1;if(e.hasClass("node")&&!e.children(".menu").hasClass("is-closed")&&(i=!0),t=e.next(),0===t.length)for(t=e;t.prev().length>0;)t=t.prev();o.debug("Granting focus to "+t.attr("id")),r.setSubfocus(t)},_onSubfocusIn:function(e){if("li"===n(e).prop("nodeName")==!1){var t=this._fixSubfocus(e);r.setSubfocus(t,!1)}},_onExit:function(e){n(e).closest(".menuRoot").focus()},_onLeft:function(e){var t=n(e).closest(c.NAVIGATION_PATTERN),i=n(e);return t.length>0?i=t.prev(c.NAVIGATION_PATTERN):(t=n(e).closest(c.MENU_LIST_PATTERN),t.length>0&&(i=n(this.lastMenuBarItem).prev(c.NAVIGATION_PATTERN),this.lastMenuBarItem=null)),i.length>0?i[0]:e},_onRight:function(e){var t=n(e).closest(c.NAVIGATION_PATTERN),i=n(e);return t.length>0?i=t.next(c.NAVIGATION_PATTERN):(t=n(e).closest(c.MENU_LIST_PATTERN),t.length>0&&(i=n(this.lastMenuBarItem).next(c.NAVIGATION_PATTERN),this.lastMenuBarItem=null)),i.length>0?i[0]:e},_onUp:function(e){var t=n(e),i=n(document.activeElement).closest("."+a.DROP_DOWN_MENU_CLASS);if(!(i.length>0))return e;var s=n(document.activeElement).closest(c.MENU_LIST_PATTERN);for(t=s.prev(c.MENU_LIST_PATTERN);t.is(c.SEPARATOR_PATTERN);)t=t.prev(c.MENU_LIST_PATTERN);return t.length<1&&(t=n(this.lastMenuBarItem),this.lastMenuBarItem=null),t.length>0?t[0]:e},_onDown:function(e){var t=n(e),i=n(document.activeElement).closest("."+a.DROP_DOWN_MENU_CLASS);if(i.length>0){var s=n(document.activeElement).closest(c.MENU_LIST_PATTERN);for(t=s.next(c.MENU_LIST_PATTERN);t.is(c.SEPARATOR_PATTERN);)t=t.next(c.MENU_LIST_PATTERN)}else{if(i=n(document.activeElement).closest("."+c.MENU_ROOT_CLASS),i.length<1)return e;a.isMenuShowing()&&(this.lastMenuBarItem=e,t=n(c.MENU_LIST_PATTERN))}return t.length>0?t[0]:e}}),n.extend(h.prototype,{navtype:"actionmenu",navtype_tags:[]});var p=new h;return p}),define("touchcontroller",["require","jquery"],function(e){"use strict";var t=e("jquery"),i=function(e,i,n){if(this.element=e,this.parent=i,this.children=[],this.hbar=null,this.vbar=null,n=n||{},n.absolute?this.element.style.position="absolute":this.element.style.position="relative",this.useParent=n.useParent?this.observer=i:this.observer=e,this.translate3d=n.translate3d!==!1?!0:!1,this.forceLayout=n.forceLayout!==!0?!1:!0,this.use2Fingers=n.use2Fingers!==!0?!1:!0,this.fit=n.fit,n.debug&&(i.style.border="solid 1px #f00",e.style.border="solid 1px #00f"),this.translate3d&&!n.noInit3d){var s=t(e).position();e.style.webkitTransform="translate3d("+s.left+"px,"+s.top+"px,0)",e.style.top="",e.style.left=""}if(n.scrollbars===!0){var o=t('<div style="position:absolute;bottom:4px;left:0;right:0;"><div style="position:relative;background:#3fb8fa;min-height:4px;width:24px;opacity:0.4;"></div></div>').appendTo(i),r=t('<div style="position:absolute;top:0;bottom:0;right:4px;"><div style="position:relative;background:#3fb8fa;min-width:4px;height:24px;opacity:0.4;"></div></div>').appendTo(i);this.hbar=o.children().eq(0),this.vbar=r.children().eq(0)}this.computeBoundaries(),this.dragging=!1,this.drag_sensitivity=20,this.scale=1,this.element.style.top=0,this.element.style.left=0,this.maxX=0,this.maxY=0,this.startTouchY=0,this.startTouchX=0,this.contentOffsetX=0,this.contentOffsetY=0,this.observer.addEventListener("touchstart",this,!1),this.observer.addEventListener("touchmove",this,!1),this.observer.addEventListener("touchend",this,!1)};return i.prototype.handleEvent=function(e){switch(e.type){case"touchstart":this.onTouchStart(e);break;case"touchmove":this.onTouchMove(e);break;case"touchend":this.onTouchEnd(e)}},i.prototype.computeBoundaries=function(){this.maxX=this.parent.clientWidth-this.element.clientWidth,this.maxY=this.parent.clientHeight-this.element.clientHeight,this.maxX=this.maxX<0?this.maxX:0,this.maxY=this.maxY<0?this.maxY:0,this.hbar&&0!==this.maxX?(this.hratio=this.parent.clientWidth/this.element.clientWidth,this.hbar.width(this.hratio*this.parent.clientWidth),this.hbar.show()):this.hbar&&this.hbar.hide(),this.vbar&&0!==this.maxY?(this.vratio=this.parent.clientHeight/this.element.clientHeight,this.vbar.height(this.vratio*this.parent.clientHeight),this.vbar.show()):this.vbar&&this.vbar.hide(),0===this.maxX&&0===this.maxY&&(this.element.style.minWidth=this.parent.clientWidth+"px",this.element.style.minHeight=this.parent.clientHeight+"px","reportContainer"===this.element.id&&(this.element.style.maxWidth=this.parent.clientWidth+"px",this.element.style.maxHeight=this.parent.clientHeight+"px"))},i.prototype.onTouchStart=function(e){this.scale_pre=!1,this.computeBoundaries(),this.startTouchX=e.touches[0].clientX,this.startTouchY=e.touches[0].clientY,this.contentStartOffsetX=this.contentOffsetX,this.contentStartOffsetY=this.contentOffsetY},i.prototype.onTouchMove=function(e){var t=e.touches[0].clientY,n=e.touches[0].clientX;(!this.use2Fingers||this.use2Fingers&&2==e.touches.length)&&(this.dragging?this.animateTo(n,t):this.isDragging(e)&&(i.element_scrolled=!0,this.forceLayout&&(this.element.style.top=0,this.element.style.webkitTransform="translate3d(0,"+this.contentOffsetY+"px,0)"),this.animateTo(n,t)))},i.prototype.onTouchEnd=function(e){this.dragging&&(this.forceLayout&&(this.element.style.webkitTransform="translate3d(0,0,0)",this.element.style.top=this.contentOffsetY+"px"),this.hbar&&this.hbar.hide(),this.vbar&&this.vbar.hide(),e.preventDefault(),this.shouldStartMomentum()),this.dragging=!1},i.prototype.animateTo=function(e,i){var n=e-this.startTouchX,s=i-this.startTouchY,o=n+this.contentStartOffsetX,r=s+this.contentStartOffsetY,a=t(this.element).position();this.translate3d?(o>0&&(o=0),r>0&&(r=0),o<this.maxX&&(o=this.maxX),r<this.maxY&&(r=this.maxY)):(o+a.left>0&&(o=-1*a.left),r+a.top>0&&(r=-1*a.top),a.left+o<this.maxX&&(o=this.maxX-a.left),a.top+r<this.maxY&&(r=this.maxY-a.top)),this.contentOffsetX=o,this.contentOffsetY=r,this.translate3d||this.use2Fingers?this.element.style.webkitTransform="scale("+this.scale+") translate3d("+o+"px,"+r+"px, 0)":(this.element.style.top=a.top+r+"px",this.element.style.left=a.left+o+"px"),this.hbar&&this.hbar.css("left",-1*o*this.hratio+"px"),this.vbar&&this.vbar.css("top",-1*r*this.vratio+"px")},i.prototype.isDragging=function(e){var t=e.touches[0].clientX-this.startTouchX,i=e.touches[0].clientY-this.startTouchY,n=Math.abs(t),s=Math.abs(i);return this.dragging=n>this.drag_sensitivity||s>this.drag_sensitivity?!0:!1,this.dragging},i.prototype.shouldStartMomentum=function(){return!1},i.prototype.reset=function(){var e=this.contentOffsetX,t=this.contentOffsetY;this.maxX=this.parent.clientWidth-this.element.clientWidth,this.maxY=this.parent.clientHeight-this.element.clientHeight,this.translate3d?(this.element.style.webkitTransform="scale("+this.scale+") translate3d("+e+"px,"+t+"px, 0)",this.element.style.webkitTransform="scale("+this.scale+") translate3d(0,0,0)",this.contentOffsetX=0,this.contentOffsetY=0):(this.element.style.top=0,this.element.style.left=0)},i.prototype.forceRefresh=function(){},i.prototype.isBottom=function(){return this.maxY>=0?!1:this.contentOffsetY-this.maxY<10},i.prototype.addPadding=function(e,i){var n=t("#"+e),s=n.width()+i.right,o=n.height()+i.bottom;this.element.style.width=s+"px",this.element.style.height=o+"px"},window.TouchController=i,i});var baseList={isResponsive:function(e){return $(e.up(0)).hasClassName(layoutModule.RESPONSIVE_CLASS)},isCollapsible:function(e){return $(e.up(0)).hasClassName(layoutModule.COLLAPSIBLE_CLASS)},selectItem:function(e){if(this._allowSelections){if(this.isItemDisabled(e))return;$(e).addClassName(layoutModule.SELECTED_CLASS)}},deselectItem:function(e){$(e).removeClassName(layoutModule.SELECTED_CLASS)},isItemSelected:function(e){return $(e).hasClassName(layoutModule.SELECTED_CLASS)},disableItem:function(e){buttonManager.disable(e)},enableItem:function(e){buttonManager.enable(e)},isItemDisabled:function(e){buttonManager.isDisabled(e)},openItem:function(e){$(e).removeClassName(layoutModule.CLOSED_CLASS).addClassName(layoutModule.OPEN_CLASS).isOpen=!0},isItemOpen:function(e){return $(e).hasClassName(layoutModule.OPEN_CLASS)||$(e).isOpen&&!$(e).hasClassName(layoutModule.CLOSED_CLASS)},closeItem:function(e){$(e).removeClassName(layoutModule.OPEN_CLASS).addClassName(layoutModule.CLOSED_CLASS).isOpen=!1}},dynamicList={lists:{},activeListId:null,_templateHash:{},messages:{listNItemsSelected:"#{count} items selected"},getDynamicListForElement:function(e){var t=$(e);return t.match("ul,ol")||(t=t.up("ul,ol"),0!==t.length)?dynamicList.lists[t.id]:null}};dynamicList.ListItem=function(e){this._itemId=void 0,this._list=void 0,this.first=!1,this.last=!1,e&&(this._value=e.value?e.value:{},this._label=e.label?e.label:"",this._subList=e.subList,this._cssClassName="cssClassName"in e?e.cssClassName:void 0,this._templateDomId="templateDomId"in e?e.templateDomId:void 0,this._respondOnItemEvents=Object.isUndefined(e.respondOnItemEvents)?!0:e.respondOnItemEvents,this._excludeFromEventHandling="excludeFromEventHandling"in e?e.excludeFromEventHandling:void 0,this._excludeFromSelectionTriggers="excludeFromSelectionTriggers"in e?e.excludeFromSelectionTriggers:void 0)},dynamicList.ListItem.addVar("DEFAULT_TEMPLATE_DOM_ID","dynamicListItemTemplate"),dynamicList.ListItem.addVar("DEFAULT_ITEM_ID_PREFIX","item"),dynamicList.ListItem.addVar("DEFAULT_SUB_LIST_ID_SUFFIX","SubList"),dynamicList.ListItem.addMethod("getId",function(){return this._itemId}),dynamicList.ListItem.addMethod("setList",function(e){this._list=e,this.getList()&&(this._itemId=this.getList().getNextItemId())}),dynamicList.ListItem.addMethod("unsetList",function(){this._list=null,this._itemId=void 0}),dynamicList.ListItem.addMethod("getList",function(){return this._list}),dynamicList.ListItem.addMethod("setValue",function(e){return this._value=e}),dynamicList.ListItem.addMethod("getValue",function(){return this._value}),dynamicList.ListItem.addMethod("setLabel",function(e){return this._label=e}),dynamicList.ListItem.addMethod("getLabel",function(){return this._label}),dynamicList.ListItem.addMethod("setCssClassName",function(e){this._cssClassName=e}).addMethod("getCssClassName",function(){return this._cssClassName}),dynamicList.ListItem.addMethod("setTemplateDomId",function(e){this._templateDomId=e}),dynamicList.ListItem.addMethod("getTemplateDomId",function(){return this._templateDomId}),dynamicList.ListItem.addMethod("show",function(e){if(e){this._element=this.processTemplate(this._getTemplate()),this._getElement().setAttribute("id",this._generateId()),this._getElement().setAttribute("tabindex",-1),this.first&&this.getList().tabindex&&this._getElement().writeAttribute("tabindex",this.getList().tabindex),this._getElement().listItem=this,this.refreshStyle();var t=e.childElements(),i=this.index(),n=i-1;n>-1&&n<t.length?this._getElement().insert({after:t[n]}):$(e).insert(this._getElement())}}),dynamicList.ListItem.addMethod("refresh",function(){var e=!1;this._getElement()&&(this.getList()?(document.activeElement===this._getElement()&&(e=!0),this._element=this.processTemplate(this._getElement()),this.refreshStyle(),e&&jQuery(this._getElement()).focus()):(this._getElement().remove(),this._element=null))}),dynamicList.ListItem.addMethod("refreshStyle",function(){var e=this._getElement();e&&(e.templateClassName&&(e.className=e.templateClassName),this.first&&e.addClassName(layoutModule.FIRST_CLASS),this.last&&e.addClassName(layoutModule.LAST_CLASS),this.isSelected()&&e.addClassName(layoutModule.SELECTED_CLASS),this.isDisabled()&&e.addClassName(layoutModule.DISABLED_CLASS),this.getCssClassName()&&e.addClassName(this.getCssClassName()),this.isComposite||this===this.getList().cursor&&e.addClassName("cursor"))}),dynamicList.ListItem.addMethod("isRendered",function(){return isNotNullORUndefined(this._getElement())}),dynamicList.ListItem.addMethod("disable",function(){baseList.disableItem(this._getElement())}).addMethod("enable",function(){baseList.enableItem(this._getElement())}).addMethod("isDisabled",function(){return baseList.isItemDisabled(this._getElement())}),dynamicList.ListItem.addMethod("processTemplate",function(e){var t=e.childElements()[0];t.cleanWhitespace();var i=t.childElements().length;return i==t.childNodes.length?t.insert(xssUtil.escape(this.getLabel())):t.childNodes[i].data=this.getLabel(),e}),dynamicList.ListItem.addMethod("focus",function(){this._getElement().focus()}),dynamicList.ListItem.addMethod("remove",function(){this.getList().removeItems([this])}),dynamicList.ListItem.addMethod("isSelected",function(){return this.getList().isItemSelected(this)}),dynamicList.ListItem.addMethod("select",function(){this.getList().selectItem(this,!0)}),dynamicList.ListItem.addMethod("deselect",function(){this.getList().deselectItem(this)}),dynamicList.ListItem.addMethod("index",function(){this.getList().getItems().indexOf(this)}),dynamicList.ListItem.addMethod("_getElement",function(){if(!this._element){var e=$(this._generateId());this._element=Object.isElement(e)?e:void 0}return this._element}),dynamicList.ListItem.addMethod("_getTemplate",function(){var e=this._templateDomId;dynamicList._templateHash[e]||(dynamicList._templateHash[e]=e);var t=$(dynamicList._templateHash[e]).cloneNode(!0);return t.templateId=e,t.templateClassName=t.className,t}),dynamicList.ListItem.addMethod("_generateId",function(){return this.getList()&&this.getList().getId()?this.getList().getId()+"_"+this.DEFAULT_ITEM_ID_PREFIX+this.getId():null}),dynamicList.ListItem.addMethod("_isElementInExcluded",function(e,t){var i=e.element();return this._excludeFromEventHandling&&null!=matchAny(i,this._excludeFromEventHandling)}),dynamicList.ListItem.addMethod("_isExcludedFromSelectionTriggers",function(e){var t=e.element();return this._excludeFromSelectionTriggers&&null!=matchAny(t,this._excludeFromSelectionTriggers)}),dynamicList.CompositeItem=function(e){dynamicList.ListItem.call(this,e),this.isComposite=!0,this._items=e.items,this._openUp=e.openUp,this._subList=null,this._subListOptions=e.listOptions?e.listOptions:{},this._listTagName="ul",this.OPEN_HANDLER_PATTERN=e.openHandlerPattern?e.openHandlerPattern:this.OPEN_HANDLER_PATTERN,this.CLOSE_HANDLER_PATTERN=e.closeHandlerPattern?e.closeHandlerPattern:this.CLOSE_HANDLER_PATTERN},dynamicList.CompositeItem.prototype=deepClone(dynamicList.ListItem.prototype),dynamicList.CompositeItem.addVar("OPEN_HANDLER_PATTERN","[openHandler=openHandler]"),dynamicList.CompositeItem.addVar("CLOSE_HANDLER_PATTERN","[closeHandler=closeHandler]"),dynamicList.CompositeItem.addMethod("getItems",function(){return this._items}),dynamicList.CompositeItem.addMethod("setItems",function(e){this._items=e}),dynamicList.CompositeItem.addMethod("addItem",function(e){this._items.push(e)}),dynamicList.CompositeItem.addMethod("removeItems",function(e){this._items=this._items.reject(function(t){return e.include(t)}),this._subList.removeItems(e)}),dynamicList.CompositeItem.addMethod("show",function(e){this._listTagName=e.tagName,dynamicList.ListItem.prototype.show.call(this,e),baseList.closeItem(this._getElement()),this._items&&this._showSubList()}),dynamicList.CompositeItem.addMethod("_showSubList",function(){var e=this._getSubListId(),t=new Element(this._listTagName,{id:e});this._getElement().insert(this._openUp?{top:t}:{bottom:t});var i=this._subListOptions;if(this._subList=new dynamicList.List(e,{allowSelections:"allowSelections"in i?i.allowSelections:this.getList()._allowSelections,responsive:"responsive"in i?i.responsive:this.getList()._responsive,selectionDefaultsToCursor:"selectionDefaultsToCursor"in i?i.selectionDefaultsToCursor:this.getList()._selectionDefaultsToCursor,collapsible:"collapsible"in i?i.collapsible:this.getList()._collapsible,multiSelect:"multiSelect"in i?i.multiSelect:this.getList()._multiSelect,cssClassName:"cssClassName"in i?i.cssClassName:this.getList()._cssClassName,listTemplateDomId:"listTemplateDomId"in i?i.listTemplateDomId:this.getList()._listTemplateDomId,itemTemplateDomId:"itemTemplateDomId"in i?i.itemTemplateDomId:this.getList()._itemTemplateDomId,itemCssClassName:"itemCssClassName"in i?i.itemCssClassName:this.getList()._itemCssClassName,comparator:"comparator"in i?i.comparator:this.getList()._comparator,items:this._items}),this._subList._initEvents=function(){},this._subList.show(),this._subList._parentList=this.getList(),this._subList.getItems().each(function(e){e.parentItem=this}.bind(this)),this===this.getList().cursor){var n=this.getFirstChild();if(n){if(this.deselect(),n.getList().setCursor(n),this._getElement()){var s=jQuery(this._getElement());s.removeClass("cursor"),s.addClass("supercursor")}n._getElement()&&window.setTimeout(function(){jQuery(n._getElement()).focus()},0)}}}),dynamicList.CompositeItem.addMethod("refresh",function(){dynamicList.ListItem.prototype.refresh.call(this),this._items&&(this._subList?this._subList.refresh():this._showSubList())}),dynamicList.CompositeItem.addMethod("getFirstChild",function(){return this._subList.getItems().length<1?null:this._subList.getItems()[0]}),dynamicList.CompositeItem.addMethod("refreshStyle",function(){dynamicList.ListItem.prototype.refreshStyle.call(this),this._getElement()&&(baseList.isItemOpen(this._getElement())?(baseList.openItem(this._getElement()),this===this.getList().cursor&&(this._subList&&this._subList.cursor?this._getElement().addClassName("supercursor"):this._getElement().addClassName("cursor"))):(baseList.closeItem(this._getElement()),this===this.getList().cursor&&this._getElement().addClassName("cursor")),this._subList&&this._subList.refreshStyle())}),dynamicList.CompositeItem.addMethod("_isOpenHandler",function(e){return e.match(this.OPEN_HANDLER_PATTERN)}).addMethod("_isCloseHandler",function(e){return e.match(this.CLOSE_HANDLER_PATTERN)}),dynamicList.CompositeItem.addMethod("_getSubListId",function(){return this._generateId()+"_"+this.DEFAULT_SUB_LIST_ID_SUFFIX}),dynamicList.TemplatedListItem=function(e){e&&(this.tooltipText="tooltipText"in e?e.tooltipText:null),dynamicList.ListItem.call(this,e)};var tempFunc=function(){};tempFunc.prototype=dynamicList.ListItem.prototype,dynamicList.TemplatedListItem.prototype=new tempFunc,dynamicList.TemplatedListItem.prototype.constructor=dynamicList.TemplatedListItem,dynamicList.TemplatedListItem.prototype.processTemplate=function(e){var t=Mustache.to_html(e.innerHTML,this.getValue());return e.innerHTML=xssUtil.escape(t),null!=this.tooltipText&&new JSTooltip(e,{text:xssUtil.escape(this.tooltipText)}),e},dynamicList.UnderscoreTemplatedListItem=function(e){dynamicList.TemplatedListItem.call(this,e),e&&(this._template="template"in e?e.template:"")};var tempFunc=function(){};tempFunc.prototype=dynamicList.TemplatedListItem.prototype,dynamicList.UnderscoreTemplatedListItem.prototype=new tempFunc,dynamicList.UnderscoreTemplatedListItem.prototype.constructor=dynamicList.UnderscoreTemplatedListItem,dynamicList.UnderscoreTemplatedListItem.prototype._getTemplate=function(){return this._template},dynamicList.UnderscoreTemplatedListItem.prototype.processTemplate=function(){var e=jQuery(_.template(this._template,xssUtil.escape(this.getValue())))[0];return e.templateClassName=e.className,null!=this.tooltipText&&new JSTooltip(e,{text:xssUtil.escape(this.tooltipText)}),e},dynamicList.List=function(e,t){this._id=e,this._items=[],this._selectedItems=[],this._lastSelectedItem=null,this.cursor=null,this._nextId=1,this.draggables=[],this._parentList=null,t&&(this._selectionDefaultsToCursor="selectionDefaultsToCursor"in t?t.selectionDefaultsToCursor:!0,this._allowSelections="allowSelections"in t?t.allowSelections:!0,this._cssClassName="cssClassName"in t?t.cssClassName:"",this._excludeFromEventHandling="excludeFromEventHandling"in t?t.excludeFromEventHandling:!1,this._excludeFromSelectionTriggers="excludeFromSelectionTriggers"in t?t.excludeFromSelectionTriggers:!1,this._multiSelect="multiSelect"in t?t.multiSelect:!1,this._selectOnMousedown="selectOnMousedown"in t?t.selectOnMousedown:!0,this._setCursorOnMousedown="setCursorOnMousedown"in t?t.setCursorOnMousedown:!0,this._listTemplateDomId=t.listTemplateDomId,this._itemTemplateDomId=t.itemTemplateDomId,this._itemCssClassName=t.itemCssClassName,this._comparator=t.comparator,this.dragPattern=t.dragPattern,this.scroll=t.scroll,this.setItems(t.items)),this._createFromTemplate(),this._registerCustomScroll(),
dynamicList.activeListId=this.getId(),this._msgNItemsSelected=new Template(dynamicList.messages.listNItemsSelected),dynamicList.lists[this._id]=this},dynamicList.List.addVar("Event",{ITEM_SELECTED:"item:selected",ITEM_UNSELECTED:"item:unselected",ITEM_MOUSEUP:"item:mouseup",ITEM_MOUSEDOWN:"item:mousedown",ITEM_CLICK:"item:click",ITEM_DBLCLICK:"item:dblclick",ITEM_OPEN:"item:open",ITEM_CLOSED:"item:closed",ITEM_CONTEXTMENU:"item:contextmenu",ITEM_BEFORE_SELECT_OR_UNSELECT:"item:beforeSelectOrUnselect"}),dynamicList.List.addVar("DND_WRAPPER_TEMPLATE","column_two"),dynamicList.List.addVar("DND_ITEM_TEMPLATE","column_two:resourceName"),dynamicList.List.addMethod("getNextItemId",function(){return this._nextId++}),dynamicList.List.addMethod("getId",function(){return this._id}),dynamicList.List.addMethod("getItems",function(){return this._items}),dynamicList.List.addMethod("setItems",function(e){if(e){var t=this.cursor,i=this._getElement(),n=!1;i&&(i===document.activeElement||jQuery.contains(i,document.activeElement))&&(n=!0),this._items=[],this.resetSelected(),this.addItems(e);var s;t&&(s=this.getCursor()),n&&(s&&s._getElement()?jQuery(s._getElement()).focus():i&&jQuery(i).focus())}}),dynamicList.List.addMethod("addItems",function(e){e&&(e.compact().each(function(e){this._prepareListItem(e),this._items.push(e)}.bind(this)),this._comparator&&(this._items=this._items.sort(this._comparator)))}),dynamicList.List.addMethod("insertItems",function(e,t){t&&(t=t.compact(),t.each(function(e){this._prepareListItem(e)}.bind(this)),this._items.splice.apply(this._items,[e,0].concat(t)),this._comparator&&(this._items=this._items.sort(this._comparator)))}),dynamicList.List.addMethod("_prepareListItem",function(e){e&&(e.setList(this),this._itemTemplateDomId&&!e.getTemplateDomId()&&e.setTemplateDomId(this._itemTemplateDomId),this._itemCssClassName&&!e.getCssClassName()&&e.setCssClassName(this._itemCssClassName),this._excludeFromEventHandling&&!e._excludeFromEventHandling&&(e._excludeFromEventHandling=this._excludeFromEventHandling),this._excludeFromSelectionTriggers&&!e._excludeFromSelectionTriggers&&(e._excludeFromSelectionTriggers=this._excludeFromSelectionTriggers))}),dynamicList.List.addMethod("removeItems",function(e){if(e&&isArray(e)){var t=this.getCursor(),i=!1;e.each(function(e){this._removeItemFromSelected(e),t===e&&(t=this.getNextItem(e),t||(t=this.getPreviousItem(e)))}.bind(this)),this._items=this._items.reject(function(t){return e.include(t)}),e.each(function(e){e.unsetList(),e.refresh()}),t!==this.getCursor()&&this.setCursor(t),i&&(this.getCursor()&&this.getCursor()._getElement()?jQuery(this.getCursor()._getElement().focus()):this._getElement()&&jQuery(this._getElement().focus()))}}),dynamicList.List.addMethod("sort",function(e){e&&(this._comparator=e),this._comparator&&this.getItems().sort(this._comparator)}),dynamicList.List.addMethod("setCursor",function(e){var t=!1;document.activeElement&&jQuery.contains(this._getElement(),document.activeElement)&&(t=!0),this.cursor&&this.cursor.getList()&&this.cursor._getElement()&&jQuery(this.cursor._getElement()).removeClass("cursor"),this.cursor=e,e&&e.getList()&&e._getElement()&&(this.scrollUpTo(e),this._allowSelections&&this._selectionDefaultsToCursor&&this.getSelectedItems().length<1&&this.selectItem(e),t&&jQuery(this.cursor._getElement()).focus(),jQuery(this.cursor._getElement()).addClass("cursor"))}),dynamicList.List.addMethod("getCursor",function(){return this.cursor&&this.cursor.getList()&&this.cursor._getElement()&&jQuery(this.cursor._getElement()).closest("BODY").length>0?this.cursor:this._selectedItems.length>0&&this._selectedItems[this._selectedItems.length-1]._getElement()&&(this.setCursor(this._selectedItems[this._selectedItems.length-1]),jQuery(this.cursor._getElement()).closest("BODY").length>0)?this.cursor:this._items.length>0?(this.setCursor(this._items[0]),this.cursor):null}),dynamicList.List.addMethod("getCursorElement",function(){return this.getCursor()?this.getCursor()._getElement():null}),dynamicList.List.addMethod("getSelectedItems",function(){return this._selectedItems}),dynamicList.List.addMethod("isItemSelected",function(e){return this.getSelectedItems().include(e)}),dynamicList.List.addMethod("selectItem",function(e,t,i,n){var s=this.fire(this.Event.ITEM_BEFORE_SELECT_OR_UNSELECT,{item:e});if(!s.stopSelectOrUnselect&&(!(this._multiSelect&&this._selectedItems.length>1&&this.isItemSelected(e))||t||i||n)){var o=this.isItemSelected(e)&&n,r=!(this._multiSelect&&t||o),a=this.isItemSelected(e)&&t&&!o,l=this._multiSelect&&!a&&isNotNullORUndefined(this._lastSelectedItem)&&i,c=!a&&!l;if(r&&this.resetSelected(),a&&!r&&this._removeItemFromSelected(e),l){var u=this._items.indexOf(this._lastSelectedItem),d=this._items.indexOf(e),h=Math.min(u,d),p=Math.max(u,d);if(h>-1)for(var f=h;p>=f;f++)this._addItemToSelected(this._items[f],!1);else this._addItemToSelected(this._items[p],!1)}c&&this._addItemToSelected(e,!(i&&this._multiSelect)),this.setCursor(e)}}),dynamicList.List.addMethod("deselectItem",function(e){this._removeItemFromSelected(e),this.setCursor(e)}),dynamicList.List.addMethod("deselectOthers",function(e,t,i,n){var s=this.fire(this.Event.ITEM_BEFORE_SELECT_OR_UNSELECT,{item:e});if(!s.stopSelectOrUnselect&&this._multiSelect&&this._selectedItems.length>1&&this.isItemSelected(e)&&!(t||i||n)){var o=this._selectedItems.findAll(function(t){return t!=e});o.each(function(e){this._removeItemFromSelected(e)}.bind(this))}}),dynamicList.List.addMethod("resetSelected",function(e){var t=this._selectedItems;this._selectedItems=[],t.each(function(e){var t=e.getList();t&&t!==this&&t.resetSelected(!0),e.refreshStyle(),this.fire(this.Event.ITEM_UNSELECTED,{item:e})}.bind(this)),this._parentList&&!e&&this._parentList.resetSelected()}),dynamicList.List.addMethod("scrollDownTo",function(e){var t=this._getElement().parentNode;if(t&&e&&e._getElement()){var i=t.scrollTop,n=t.offsetHeight,s=e._getElement().offsetTop,o=e._getElement().offsetHeight,r=s+o-(i+n);r>0&&(t.scrollTop+=r)}}),dynamicList.List.addMethod("scrollUpTo",function(e){var t=this._getElement().parentNode;if(t&&e&&e._getElement()){var i=t.scrollTop,n=(t.offsetHeight,e._getElement().offsetTop),s=(e._getElement().offsetHeight,e._getElement().offsetHeight),o=i+s-n;o>0&&(t.scrollTop-=o)}}),dynamicList.List.addMethod("getNextItem",function(e){var t=this.getItems(),i=t.indexOf(e);return~i?this.getItems()[i+1]:null}),dynamicList.List.addMethod("getPreviousItem",function(e){var t=this.getItems(),i=t.indexOf(e);return~i?this.getItems()[i-1]:null}),dynamicList.List.addMethod("selectNext",function(e){var t=e.memo.targetEvent,i=this.getCursor(),n=null,s=null;if(i._subList&&i._getElement()&&jQuery(i._getElement()).hasClass(layoutModule.OPEN_CLASS)){if(!jQuery(i._getElement()).hasClass("supercursor")&&i._subList.getItems().length>0)return s=i._subList.getItems()[0],jQuery(i._getElement()).addClass("supercursor"),t.preventDefault(),t.stopPropagation(),i._subList.setCursor(s),void jQuery(i._subList.cursor._getElement()).focus();if(n=i._subList.getCursor(),s=n.getList().getNextItem(n))return n.getList().selectNext(e)}jQuery(i._getElement()).removeClass("supercursor"),i._subList&&(i._subList.cursor=null),s=i.getList().getNextItem(i),s&&(this._multiSelect&&isShiftHeld(t)?this.isItemSelected(s)?i.getList().deselectItem(i):this._addItemToSelected(s,!1):(this.resetSelected(),i.getList().selectItem(s)),this.setCursor(s)),t.preventDefault(),t.stopPropagation()}),dynamicList.List.addMethod("selectPrevious",function(e){var t=e.memo.targetEvent,i=this.getCursor(),n=null,s=null;if(jQuery(i._getElement()).hasClass("supercursor")){if(n=i._subList.getCursor(),s=n.getList().getPreviousItem(n))return n.getList().selectPrevious(e);i._subList.cursor&&(i._subList.cursor._element&&jQuery(i._subList.cursor._element).removeClass("cursor"),i._subList.cursor=null),isShiftHeld(t)&&this._multiSelect||i._subList.resetSelected(),jQuery(i._getElement()).removeClass("supercursor"),this.setCursor(i),jQuery(i._getElement()).focus()}else s=i.getList().getPreviousItem(i),s&&(this._multiSelect&&isShiftHeld(t)?this.isItemSelected(s)?i.getList().deselectItem(i):this._addItemToSelected(s,!1):(this.resetSelected(),i.getList().selectItem(s)),this.setCursor(s));t.preventDefault(),t.stopPropagation()}),dynamicList.List.addMethod("selectPageDown",function(e){var t=e.memo.targetEvent;t.preventDefault(),t.stopPropagation();var i=this.getCursor(),n=i._getElement().offsetHeight,s=this._getElement().parentNode,o=s.scrollTop+(s.offsetHeight-n);o>s.offsetHeight&&(o=s.offsetHeight),s.scrollTop=o;for(var r=i,a=null;r&&r._getElement().offsetTop+r._getElement().offsetHeight<s.scrollTop+s.offsetHeight;)a=r,isShiftHeld(t)&&(this.isItemSelected(a)?i.getList().deselectItem(i):this._addItemToSelected(a,!1)),r=a.getList().getNextItem(a);a&&(this._multiSelect&&isShiftHeld(t)||(this.resetSelected(),i.getList().selectItem(a)),this.setCursor(a))}),dynamicList.List.addMethod("selectPageUp",function(e){var t=e.memo.targetEvent;t.preventDefault(),t.stopPropagation();var i=this.getCursor(),n=i._getElement().offsetHeight,s=this._getElement().parentNode,o=s.scrollTop+(s.offsetHeight-n);o>s.offsetHeight&&(o=s.offsetHeight),s.scrollTop=o;for(var r=i,a=null;r&&r._getElement().offsetTop>s.scrollTop-s.offsetHeight;)a=r,this._multiSelect&&isShiftHeld(t)&&(this.isItemSelected(a)?i.getList().deselectItem(i):this._addItemToSelected(a,!1)),r=a.getList().getPreviousItem(a);a&&(this._multiSelect&&isShiftHeld(t)||(this.resetSelected(),i.getList().selectItem(a)),this.setCursor(a))}),dynamicList.List.addMethod("selectOutwards",function(e){if(!(this.getSelectedItems().length<1)){var t=this.getSelectedItems()[0],i=t._getElement(),n=!baseList.isItemOpen(i)&&t.parentItem;n?(t.deselect(),n.select(),n._getElement().focus()):(baseList.closeItem(i),this.fire(this.Event.ITEM_CLOSED,{targetEvent:e,item:t}))}}),dynamicList.List.addMethod("selectInwards",function(e){var t=this.cursor;if(!t){if(this.getSelectedItems().length<1)return;t=this.getSelectedItems()[0]}if(t.isComposite){var i=t._getElement();if(baseList.isItemOpen(i)){var n=t.getFirstChild();if(n){if(t.deselect(),n.getList().setCursor(n),t._getElement()){var s=jQuery(t._getElement());s.is(".cursor")&&(s.removeClass("cursor"),s.addClass("supercursor"))}n._getElement()&&jQuery(n._getElement()).focus()}}else baseList.openItem(i),this.fire(this.Event.ITEM_OPEN,{targetEvent:e,item:t})}}),dynamicList.List.addMethod("show",function(){dynamicList.activeListId=this.getId(),this._getElement().update(),this.getItems().each(function(e,t){e.first=0===t,e.last=t===this.getItems().length-1,e.show(this._getElement())}.bind(this)),this.draggables=[],this.scroll&&this.scroll.refresh(),this._initEvents()}),dynamicList.List.addMethod("refresh",function(){if(this._getElement()){this.getCursor();var e,t=this._getElement().parentNode;e=t?t.scrollTop:0,this.refreshStyle();var i=this._getElement().childElements(),n=[],s=this.getCursor(),o=!1;s&&s.getList()&&s._getElement()&&(document.activeElement===s._getElement()||jQuery.contains(s._getElement(),document.activeElement))&&(o=!0),this.getItems().each(function(e,t){if(e.first=0===t,e.last=t===this.getItems().length-1,e.isRendered())if(e.index()!=i.indexOf(e._getElement())){var s=baseList.isItemOpen(e._getElement());e._getElement().remove(),e.show(this._getElement()),s&&baseList.openItem(e._getElement())}else e.refresh();else e.show(this._getElement());n.push(e._getElement())}.bind(this)),i.each(function(e){!n.include(e)&&e.parentNode&&e.remove()}),this.setCursor(s),o&&$(this.getCursorElement()).focus(),t&&(t.scrollTop=e)}}),dynamicList.List.addMethod("refreshStyle",function(e){var t=this._getElement();t&&(t.templateClassName&&(t.className=t.templateClassName),this._cssClassName&&t.addClassName(this._cssClassName))}),dynamicList.List.addMethod("fire",function(e,t){var i=$(this._getElement());return i?i.fire(e,t):null}),dynamicList.List.addMethod("observe",function(e,t){this._getElement().observe(e,t)}),dynamicList.List.addMethod("stopObserving",function(e,t){this._getElement().stopObserving(e,t)}),dynamicList.List.addMethod("_getElement",function(){return this._element||(this._element=$(this.getId())),this._element}),dynamicList.List.addMethod("getItemByEvent",function(e){if(e)for(var t=Event.element(e);t&&t.readAttribute&&t.readAttribute("id")!==this.getId();){var i=t.listItem;if(i&&null!=i.getList())return i._label=xssUtil.unescape(i._label),i;t=$(t.parentNode)}return null}),dynamicList.List.addMethod("_createFromTemplate",function(){var e=this._getElement().readAttribute("tabindex");this.tabindex=parseInt(e&&e.length>0?e:-1),this._getElement().insert({after:this._getTemplateElement(this._getElement())}),this._getElement().remove(),this._element=null,this._getElement().update(),this.tabindex&&this.tabindex.length>0&&this._getElement().writeAttribute("tabindex",this.tabindex),disableSelectionWithoutCursorStyle(this._getElement())}),dynamicList.List.addMethod("_getTemplateElement",function(e){var t=this._listTemplateDomId;dynamicList._templateHash[t]||(dynamicList._templateHash[t]=t);var i=$(dynamicList._templateHash[t]).cloneNode(!0);return i.writeAttribute("id",this.getId()),i.templateId=t,i.templateClassName=i.className,cloneCustomAttributes(e,i),i}),dynamicList.List.addMethod("_addItemToSelected",function(e,t){e&&!this.isItemSelected(e)&&(this._selectedItems.push(e),t&&(this._lastSelectedItem=e),e.refreshStyle(),this._parentList?this._parentList._addItemToSelected(e,t):this.fire(this.Event.ITEM_SELECTED,{item:e}))}),dynamicList.List.addMethod("_removeItemFromSelected",function(e){e&&this.isItemSelected(e)&&(this._selectedItems=this._selectedItems.without(e),e.refreshStyle(),this._parentList?this._parentList._removeItemFromSelected(e):this.fire(this.Event.ITEM_UNSELECTED,{item:e}))}),dynamicList.List.addMethod("_buildDnDOverlay",function(e){e.setStyle({width:null,height:null}),e.items.length>1?e.update(this._msgNItemsSelected.evaluate({count:e.items.length})):1==e.items.length&&e.update(xssUtil.escape(e.items[0].getLabel()))}),dynamicList.List.addMethod("_registerCustomScroll",function(){if(!this.scroll&&this._getElement()){var e=this._getElement().up(layoutModule.SWIPE_SCROLL_PATTERN);if(e){var t=layoutModule.scrolls.get(e.identify());t&&(this.scroll=t)}}}),dynamicList.List.addMethod("createDraggableIfNeeded",function(e){var t=e.element();if(this.dragPattern&&!this.draggables[t.identify()]){var i=matchAny(t,[this.dragPattern],!0);if(i){if(!i||this.draggables[i.identify()])return;var n=this.getItemByEvent(e);this.draggables[i.identify()]=new Draggable(i,{superghosting:!0,mouseOffset:!0,onStart:this.setDragStartState.bind(this,n),onEnd:this.setDragEndState.bind(this,n)})}}}),dynamicList.List.addMethod("setDragStartState",function(e,t,i){var n=e._getElement().templateClassName;n&&t.element.addClassName(n),t.element.addClassName(layoutModule.DRAGGING_CLASS).addClassName(this.getId()),t.element.items=this.getSelectedItems().slice(0),this._buildDnDOverlay(t.element),t.options.scroll=this._getElement(),t.options.scrollSensitivity=layoutModule.SCROLL_SENSITIVITY,Draggables.dragging=this.regionID||!0}),dynamicList.List.addMethod("setDragEndState",function(e,t,i){delete Draggables.dragging}),dynamicList.List.addMethod("_mouseupHandler",function(e){var t=e.element(),i=matchMeOrUp(t,layoutModule.BUTTON_PATTERN)&&this.getItemByEvent(e);if(i&&!i._isElementInExcluded(e)){if(e.listEvent=!0,i._respondOnItemEvents&&!e.isInvoked){if(this.fire(this.Event.ITEM_MOUSEUP,{targetEvent:e,item:i}),!i._isExcludedFromSelectionTriggers(e)){var n=isMetaHeld(e),s=isShiftHeld(e),o=isRightClick(e),r=!this._selectOnMousedown&&!TouchController.element_scrolled&&(!isSupportsTouch()||e.changedTouches.length>=1);if(r&&i.getList().selectItem(i,n,s,o),!r&&this._multiSelect&&this._selectedItems.length>1&&this.isItemSelected(i)&&!(n||s||o)&&(this._lastSelectedItem=i),i.getList().deselectOthers(i,isMetaHeld(e),isShiftHeld(e),isRightClick(e)),this.twofingers){this.twofingers=!1;var a=jQuery(t).parents("li:first");a.hasClass("selected")&&document.fire(layoutModule.ELEMENT_CONTEXTMENU,{targetEvent:e,node:t})}}this.createDraggableIfNeeded(e)}e.isInvoked=!0}}),dynamicList.List.addMethod("_mousedownHandler",function(e){e="dataavailable"==e.type?e.memo.targetEvent:e;var t=e.element(),i=matchMeOrUp(t,layoutModule.BUTTON_PATTERN+","+layoutModule.LIST_ITEM_WRAP_PATTERN)&&this.getItemByEvent(e);i&&!i._isElementInExcluded(e)&&(e.listEvent=!0,e.touches&&2==e.touches.length?this.twofingers=!0:this.twofingers=!1,i.isComposite&&(i._isOpenHandler(e.target)||i._isCloseHandler(e.target))?(e.stopPropagation(),e.preventDefault()):i._respondOnItemEvents&&!e.isInvoked&&(this.fire(this.Event.ITEM_MOUSEDOWN,{targetEvent:e,item:i}),i._isExcludedFromSelectionTriggers(e)||(this._selectOnMousedown&&i.getList().selectItem(i,isMetaHeld(e),isShiftHeld(e),isRightClick(e)),this._setCursorOnMousedown&&!isMetaHeld(e)&&i.getList().setCursor(i)),i.focus()),e.isInvoked=!0)}),dynamicList.List.addMethod("_mouseoverHandler",function(e){matchMeOrUp(e.element(),layoutModule.BUTTON_PATTERN)&&this.createDraggableIfNeeded(e)}),dynamicList.List.addMethod("_clickHandler",function(e){var t=matchMeOrUp(e.element(),layoutModule.BUTTON_PATTERN)&&this.getItemByEvent(e);if(t&&!t._isElementInExcluded(e)){if(!e.isInvoked){if(t._respondOnItemEvents&&this.fire(this.Event.ITEM_CLICK,{targetEvent:e,item:t}),!t.isComposite)return;var i=t._getElement(),n=e.element();t._isCloseHandler(n)&&baseList.isItemOpen(i)?(baseList.closeItem(i),this.fire(this.Event.ITEM_CLOSED,{targetEvent:e,item:t})):t._isOpenHandler(n)&&!baseList.isItemOpen(i)&&(baseList.openItem(i),this.fire(this.Event.ITEM_OPEN,{targetEvent:e,item:t}))}e.isInvoked=!0}}),dynamicList.List.addMethod("_dblclickHandler",function(e){var t=matchMeOrUp(e.element(),layoutModule.BUTTON_PATTERN)&&this.getItemByEvent(e);t&&!t._isElementInExcluded(e)&&(t._respondOnItemEvents&&!e.isInvoked&&this.fire(this.Event.ITEM_DBLCLICK,{targetEvent:e,item:t}),e.isInvoked=!0)}),dynamicList.List.addMethod("_initEvents",function(){var e=this._getElement();this.draggables=[],isSupportsTouch()?(e.stopObserving("touchstart").observe("touchstart",this._mousedownHandler.bindAsEventListener(this)),e.stopObserving("drag:touchstart").observe("drag:touchstart",this._mousedownHandler.bindAsEventListener(this)),e.stopObserving("touchend").observe("touchend",this._mouseupHandler.bindAsEventListener(this))):(e.stopObserving("mouseup").observe("mouseup",this._mouseupHandler.bindAsEventListener(this)),e.stopObserving("mousedown").observe("mousedown",this._mousedownHandler.bindAsEventListener(this)),e.stopObserving("drag:mousedown").observe("drag:mousedown",this._mousedownHandler.bindAsEventListener(this))),isIPad||e.stopObserving("mouseover").observe("mouseover",this._mouseoverHandler.bindAsEventListener(this)),e.stopObserving("click").observe("click",this._clickHandler.bindAsEventListener(this)),e.stopObserving("dblclick").observe("dblclick",this._dblclickHandler.bindAsEventListener(this)),e.stopObserving("key:down").observe("key:down",this.selectNext.bindAsEventListener(this)),e.stopObserving("key:up").observe("key:up",this.selectPrevious.bindAsEventListener(this)),e.stopObserving("key:right").observe("key:right",this.selectInwards.bindAsEventListener(this)),e.stopObserving("key:left").observe("key:left",this.selectOutwards.bindAsEventListener(this)),e.stopObserving("key:pagedown").observe("key:pagedown",this.selectPageDown.bindAsEventListener(this))}),dynamicList.UnderscoreTemplatedList=function(e,t){t&&(this._template="template"in t?t.template:""),dynamicList.List.apply(this,arguments)};var tempFunc=function(){};tempFunc.prototype=dynamicList.List.prototype,dynamicList.UnderscoreTemplatedList.prototype=new tempFunc,dynamicList.UnderscoreTemplatedList.prototype.constructor=dynamicList.UnderscoreTemplatedList,dynamicList.UnderscoreTemplatedList.prototype._getTemplateElement=function(e){var t=jQuery(_.template(this._template,{}))[0];return t.writeAttribute("id",this.getId()),t.templateClassName=t.className,cloneCustomAttributes(e,t),t},define("components.list",["jquery","prototype","touchcontroller","utils.common","dragdrop.extra","core.events.bis"],function(e){return function(){var t;return t||e.dynamicList}}(this)),define("stdnavPluginDynamicList",["require","exports","module","jquery","underscore","common/util/eventAutomation","logger","stdnav","components.list"],function(e,t,i){"use strict";var n=e("jquery"),s=(e("underscore"),e("common/util/eventAutomation")),o=e("logger").register(i),r=e("stdnav"),a=e("components.list"),l=0,c=function(){l++,this.serial=l};n.extend(c.prototype,{zinit:function(e){return o.debug("stdnavPluginDynamicList.init("+e+")\n"),this},activate:function(){this.behavior={ariaprep:[this,this._ariaPrep,null],ariarefresh:[this,this._ariaRefresh,null],click:null,down:null,end:null,enter:[this,this._onEnter,null],fixfocus:[this,this._fixFocus,null],fixsuperfocus:[this,this._fixSuperfocus,null],home:null,inherit:!0,inheritable:!0,left:null,pagedown:null,pageup:null,right:null,superfocusin:[r,r.basicSuperfocusIn,{maxdepth:1,focusSelector:"li",ghostfocus:!1}],superfocusout:[r,r.basicSuperfocusOut,{ghostfocus:!1}],up:null},r.registerNavtype(this.navtype,this.behavior,this.navtype_tags)},deactivate:function(){r.unregisterNavtype(this.navtype,this.behavior)},_ariaPrep:function(e){return n(e).attr("role","application"),n(e).attr("aria-label","Dynamic List"),null},_ariaRefresh:function(e){return n(e).attr("role","application"),n(e).attr("aria-label","Dynamic List"),null},_onEnter:function(e){var t=n(e);if(t.is(".supercursor"))o.error("dynamicList item has supercursor class-- should not have focus while this is true."),t.find("ul > li.cursor")<0&&o.error("...additionally, no sublist item appears to have the cursor class.");else{var i=t.find("a,:input");i.length>0&&s.simulateClickSequence(i[0])}return e},_fixFocus:function(e){var t=n(e).closest("[js-navtype='"+this.navtype+"']");if(t.length<1)return o.warn("Can't find a dynamic list to fix focus to"),e;var i=a.getDynamicListForElement(t[0]);return r.nullOrUndefined(i)?(o.warn("Can't map a dynamic list to fix focus to"),e):i.getCursorElement()},_fixSubfocus:function(e){return null},_fixSuperfocus:function(e){var t,i=n(e).closest("ol,ul");return t=i.length>0?i[0]:null},_onSuperfocusIn:function(e){var t,i=n(e).children("li .ghostfocus");if(i.length>0)i.removeClass("ghostfocus"),t=i[0];else{var s=n(e).children('li[js-navigable!="false"]');t=s.length>0?s[0]:e}return t},_onSuperfocusOut:function(e){}}),n.extend(c.prototype,{navtype:"dynamiclist",navtype_tags:[]});var u=new c;return u}),define("commons.minimal.main",["require","commons.bare.main","!domReady","components.heartbeat","jrs.configs","components.about","components.webHelp","jquery","attributes/collection/AttributesCollection","attributes/model/AttributeModel","stdnav","stdnavPluginAnchor","stdnavPluginButton","stdnavPluginForms","stdnavPluginGrid","stdnavPluginList","stdnavPluginTable","stdnavPluginActionMenu","stdnavPluginDynamicList"],function(e){"use strict";e("commons.bare.main");var t=e("!domReady"),i=e("components.heartbeat"),n=e("jrs.configs"),s=e("components.about"),o=e("components.webHelp"),r=e("jquery");e("attributes/collection/AttributesCollection"),e("attributes/model/AttributeModel");if("true"==__jrsConfigs__.enableAccessibility)var a=e("stdnav"),l=e("stdnavPluginAnchor"),c=e("stdnavPluginButton"),u=e("stdnavPluginForms"),d=e("stdnavPluginGrid"),h=e("stdnavPluginList"),p=e("stdnavPluginTable"),f=e("stdnavPluginActionMenu"),m=e("stdnavPluginDynamicList");t(function(){i.initialize(n.heartbeatInitOptions),i.start(),n.initAdditionalUIComponents&&s.initialize();var e=r("#helpLink");e&&e.on("click",function(e){e.preventDefault(),o.displayWebHelp()}),"true"==__jrsConfigs__.enableAccessibility&&(a.activate(),l.activate(a),c.activate(a),u.activate(a),d.activate(a),h.activate(a),p.activate(a),f.activate(a),m.activate(a),a.start())})});var accessibilityModule={ATTR_TAB_INDEX:"data-tab-index",ATTR_COMPONENT_TYPE:"data-component-type",delayTime:500,components:[],currentTabIndex:-1,disabled:!0,initialize:function(){var e=$$("*["+this.ATTR_TAB_INDEX+"]");e.each(function(e){var t=this.getTabIndex(e);t>0&&(this.components[t]=e)}.bind(this)),this.enable()},enable:function(){this.disabled=!1},disable:function(){this.disabled=!0},_focusByType:{tree:function(e){var t=e.readAttribute("id"),i=dynamicTree.trees[t];if(i){var n=i.selectedNodes.last();n=n||(i.bShowRoot?i.getRootNode():i.getRootNode().getFirstChild()),n&&(n.isSelected()||n.select(),accessibilityModule._doFocus(n))}},list:function(e){var t=e.readAttribute("id"),i=dynamicList.lists[t];if(i){var n=i.getSelectedItems().last();n=n||i.getItems().first(),n&&(n.isSelected()||n.select(),accessibilityModule._doFocus(n))}},search:function(e){var t=e.down("input");t&&t.select(),accessibilityModule._doFocus(t)},navigation:function(e){var t=e.down("#main_home");buttonManager.over(t.down(layoutModule.BUTTON_PATTERN)),accessibilityModule._doFocus(t)},linkList:function(e){buttonManager.over(e.down("a")),accessibilityModule._doFocus(e)}},_blurByType:{navigation:function(e){actionModel.hideMenu(),e.select(".over").each(function(e){buttonManager.out(e)})},linkList:function(e){e.select("a.over").each(function(e){buttonManager.out(e)})}},_doFocus:function(e){setTimeout(function(){e.focus()},this.delayTime)},_focusComponent:function(e){var t=e&&this.getType(e)&&this._focusByType[this.getType(e)];return t&&t(e)},_blurComponent:function(e){var t=e&&this.getType(e)&&this._blurByType[this.getType(e)];return t&&t(e)},findTabComponent:function(e){for(var t;e&&!t;)t=e.hasAttribute&&e.hasAttribute(this.ATTR_TAB_INDEX)&&e,e=$(e.parentNode);return t},getTabIndex:function(e){var t=-1;if(e&&e.hasAttribute){e.hasAttribute(this.ATTR_TAB_INDEX)||(e=accessibilityModule.findTabComponent(e));var i=e?e.readAttribute(this.ATTR_TAB_INDEX):this.currentTabIndex;try{i&&i.length>0&&(t=parseInt(i))}catch(n){}}return t},getType:function(e){return e&&e.hasAttribute(this.ATTR_COMPONENT_TYPE)?e.readAttribute(this.ATTR_COMPONENT_TYPE):void 0},getNext:function(e){var t=-1;if(this.components.length>0)for(e||(e=this.currentTabIndex),0>e&&(e=0),t=e+1;Object.isUndefined(this.components[t])&&t!=e;)t++,t<this.components.length||(t=0);return t},getPrevious:function(e){var t=-1;if(this.components.length>0)for(e||(e=this.currentTabIndex),0>e&&(e=0),t=e-1;Object.isUndefined(this.components[t])&&t!=e;)t--,t>-1||(t=this.components.length-1);return t},focusNext:function(e){this.focusByIndex(this.getNext(e))},focusPrevious:function(e){this.focusByIndex(this.getPrevious(e))},focusByIndex:function(e){e>-1&&(this.currentTabIndex=e)&&this._focusComponent(this.components[e])},blurCurrent:function(){var e=this.components[this.currentTabIndex];e&&this._blurComponent(e)},blurByIndex:function(e){var t=this.components[e];t&&this._blurComponent(t)}};document.observe("key:tab",function(e){if(!accessibilityModule.disabled){if(!t)var t=window.event;var i=accessibilityModule.getTabIndex(e.element());return accessibilityModule.blurCurrent(),isShiftHeld(e)?accessibilityModule.focusPrevious(i):accessibilityModule.focusNext(i),e.stop(),!1}}),define("core.accessibility",["prototype","components.list","actionModel.modelGenerator","core.events.bis"],function(e){return function(){var t;return t||e.accessibilityModule}}(this));var keyManager={ignoreKeyDown:[Keys.DOM_VK_SHIFT,Keys.DOM_VK_CONTROL,Keys.DOM_VK_ALT],noBubbleOnKeyUp:[Keys.DOM_VK_F10]};document.observe("keyup",function(e){keyManager.noBubbleOnKeyUp.include(e.keyCode)&&Event.stop(e)}),document.observe("keydown",function(e){if(!keyManager.ignoreKeyDown.include(e.keyCode)){var t=e.element();return e.keyCode==Event.KEY_RETURN?void t.fire("key:enter",{targetEvent:e,node:t}):e.shiftKey&&e.keyCode==Keys.DOM_VK_F10?(Event.stop(e),void t.fire("key:contextMenu",{targetEvent:e,node:t})):e.keyCode==Event.KEY_LEFT?void t.fire("key:left",{targetEvent:e,node:t}):e.keyCode==Event.KEY_RIGHT?void t.fire("key:right",{targetEvent:e,node:t}):e.keyCode==Event.KEY_UP?void t.fire("key:up",{targetEvent:e,node:t}):e.keyCode==Event.KEY_DOWN?void t.fire("key:down",{targetEvent:e,node:t}):e.keyCode==Event.KEY_PAGEUP?void t.fire("key:pageup",{targetEvent:e,node:t}):e.keyCode==Event.KEY_PAGEDOWN?void t.fire("key:pagedown",{targetEvent:e,node:t}):e.keyCode==Event.KEY_HOME?void t.fire("key:home",{targetEvent:e,node:t}):e.keyCode==Event.KEY_END?void t.fire("key:end",{targetEvent:e,node:t}):isMetaHeld(e)&&89==e.keyCode?void t.fire("key:redo",{targetEvent:e,node:t}):isMetaHeld(e)&&90==e.keyCode?void t.fire("key:undo",{targetEvent:e,node:t}):e.keyCode==Event.KEY_ESC?void t.fire("key:escape",{targetEvent:e,node:t}):e.keyCode==Event.KEY_TAB?void t.fire("key:tab",{targetEvent:e,node:t}):e.keyCode==Event.KEY_DELETE?void t.fire("key:delete",{targetEvent:e,node:t}):65==e.keyCode&&isMetaHeld(e)?void t.fire("key:selectAll",{targetEvent:e,node:t}):83==e.keyCode&&isMetaHeld(e)&&!isShiftHeld(e)?void t.fire("key:save",{targetEvent:e,node:t}):76==e.keyCode&&isMetaHeld(e)&&isShiftHeld(e)?void t.fire("key:chartZoomIn",{targetEvent:e,node:t}):79==e.keyCode&&isMetaHeld(e)&&isShiftHeld(e)?void t.fire("key:chartZoomOut",{targetEvent:e,node:t}):void 0}}),document.observe("key:esc",function(e){actionModel.isMenuShowing()&&actionModel.hideActionModelMenu()}),document.observe("key:enter",function(e){var t,i=e.element(),n=$(layoutModule.MENU_ID);if(layoutModule.isVisible(n)){Event.stop(e);var s=n.select(":focus,."+layoutModule.HOVERED_CLASS)[0];if(s){var o=s;s.match(layoutModule.MENU_LIST_PATTERN)||(o=s.up(layoutModule.MENU_LIST_PATTERN)),setTimeout(o.onmouseup.curry(e.memo.targetEvent),0)}}t=matchMeOrUp(i,layoutModule.NAVIGATION_PATTERN),t&&(t.identify()==layoutModule.MAIN_NAVIGATION_HOME_ITEM_ID?(Event.stop(e),primaryNavModule.navigationOption("home")):t.identify()==layoutModule.MAIN_NAVIGATION_LIBRARY_ITEM_ID&&(Event.stop(e),primaryNavModule.navigationOption("library")))}),define("core.key.events",["jquery","prototype","utils.common","core.layout"],function(e){return function(){var t;return t||e.keyManager}}(this));var SearchBox=function(e){this._id=e.id,this._dom=$(this._id),this._enabled=!0,this._process(),this._assignHandlers()};SearchBox.addMethod("_process",function(){this._input=this._dom.select("input")[0],this._clearButton=this._dom.select(".button.searchClear")[0],this._searchButton=this._dom.select(".button.search")[0]}),SearchBox.addMethod("_assignHandlers",function(){this._dom.observe("submit",function(e){Event.stop(e)}),this._input.observe("keypress",this._keyPressHandler.bindAsEventListener(this)),this._clearButton.observe("click",this._clearHandler.bindAsEventListener(this)),this._searchButton.observe("click",this._searchHandler.bindAsEventListener(this))}),SearchBox.addMethod("_keyPressHandler",function(e){this._enabled&&Event.KEY_RETURN==e.keyCode&&(this._doSearch(),Event.stop(e))}),SearchBox.addMethod("_updateClearButtonVisibility",function(){this.getText().blank()?this._clearButton.removeClassName(layoutModule.UP_CLASS):this._clearButton.addClassName(layoutModule.UP_CLASS)}),SearchBox.addMethod("_clearHandler",function(){this._enabled&&(this.setText(""),this._doSearch())}),SearchBox.addMethod("_searchHandler",function(){this._enabled&&this._doSearch()}),SearchBox.addMethod("getText",function(){return this._input.getValue()}),SearchBox.addMethod("setText",function(e){this._input.setValue(e),this._updateClearButtonVisibility()}),SearchBox.addMethod("enable",function(){buttonManager.enable(this._clearButton),buttonManager.enable(this._searchButton),this._input.writeAttribute(layoutModule.READONLY_ATTR_NAME,null),this._dom.writeAttribute(layoutModule.DISABLED_ATTR_NAME,null),this._enabled=!0}),SearchBox.addMethod("disable",function(){buttonManager.disable(this._clearButton),buttonManager.disable(this._searchButton),this._input.writeAttribute(layoutModule.READONLY_ATTR_NAME,layoutModule.READONLY_ATTR_NAME),this._dom.writeAttribute(layoutModule.DISABLED_ATTR_NAME,layoutModule.DISABLED_ATTR_NAME),
this._enabled=!1}),SearchBox.addMethod("_doSearch",function(e){this._updateClearButtonVisibility(),this.onSearch(this.getText())}),SearchBox.addMethod("onSearch",function(e){}),define("components.searchBox",["prototype","utils.common","core.events.bis"],function(e){return function(){var t;return t||e.SearchBox}}(this));var globalSearchBox={_searchBox:null,_containerId:"globalSearch",_searchInputId:"searchInput",initialize:function(){this._searchBox=new SearchBox({id:this._containerId}),this._searchBox.onSearch=function(e){$(this._searchInputId).setValue(e),primaryNavModule.navigationPaths.search.params+="&searchText="+encodeUriParameter(e),primaryNavModule.navigationOption("search")}.bind(this)},setText:function(e){this._searchBox.setText(e)}};define("repository.search.globalSearchBoxInit",["prototype","actionModel.primaryNavigation","components.searchBox"],function(e){return function(){var t;return t||e.globalSearchBox}}(this)),define("commons.main",["require","!domReady","commons.minimal.main","namespace","core.accessibility","core.events.bis","core.key.events","stdnav","actionModel.modelGenerator","actionModel.primaryNavigation","repository.search.globalSearchBoxInit","core.layout","jrs.configs","stdnavPluginActionMenu","stdnavPluginDynamicList"],function(e){"use strict";var t=e("!domReady");e("commons.minimal.main"),e("namespace"),e("core.accessibility"),e("core.events.bis"),e("core.key.events");var i=e("stdnav"),n=e("actionModel.modelGenerator"),s=e("actionModel.primaryNavigation"),o=e("repository.search.globalSearchBoxInit"),r=e("core.layout"),a=e("jrs.configs");t(function(){r.initialize(),s.initializeNavigation(),n.initializeOneTimeMenuHandlers();var t=e("stdnavPluginActionMenu"),l=e("stdnavPluginDynamicList");t.activate(i),l.activate(i),a.initAdditionalUIComponents&&o.initialize(),document.fire("dom:loaded")})}),define("scheduler/util/schedulerUtils",["require","jrs.configs","underscore"],function(e){"use strict";var t=e("jrs.configs"),i=e("underscore");return{SCHEDULER_BACK_URL_STORAGE_NAME:"tibco-jrs-scheduler-back-url",getParamsFromUri:function(){var e={},t=document.location.search.substr(1).split("&");i.each(t,function(t){var i=t.split("="),n=i[0],s=i[1];""!==s&&(e[n]=decodeURIComponent(s))});var n=document.location.hash.substr(1);0===n.indexOf("runInBackground@")&&(n=n.replace("runInBackground@",""));var s=n.split("@@");return e.reportUri=s.shift(),i.each(s,function(t){var i=t.split("="),n=i[0],s=i[1];""!==s&&(e[n]=decodeURIComponent(s))}),e},saveCurrentLocation:function(){-1===document.referrer.indexOf("login.html")&&window.localStorage&&localStorage.setItem(this.SCHEDULER_BACK_URL_STORAGE_NAME,encodeURIComponent(document.referrer))},getBackToPreviousLocation:function(){var e=encodeURIComponent(document.location.href),i=window.localStorage?localStorage.getItem(this.SCHEDULER_BACK_URL_STORAGE_NAME):void 0;if(i&&i!==e){var n=decodeURIComponent(i);if(n)return void redirectToUrl(n)}redirectToUrl(t.contextPath+"/flow.html?_flowId=searchFlow")}}}),define("common/util/domUtil",["require"],function(e){"use strict";var t=0;return{getScrollbarWidth:function(){if(t)return t;var e=document.createElement("div");return e.style.width="100px",e.style.height="100px",e.style.overflow="scroll",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e),t=e.offsetWidth-e.clientWidth,document.body.removeChild(e),t},hasScrollBar:function(e,t){t="vertical"===t?"scrollTop":"scrollLeft";var i=!!e[t];return i||(e[t]=1,i=!!e[t],e[t]=0),i},isScrollable:function(e){var t=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle;if(t)return"scroll"==t.overflow||"auto"==t.overflow||"scroll"==t.overflowX||"auto"==t.overflowX||"scroll"==t.overflowY||"auto"==t.overflowY},getElementOffset:function(e){var t=0,i=0;if(e.offsetParent)for(t=e.offsetLeft,i=e.offsetTop;e=e.offsetParent;)t+=e.offsetLeft,i+=e.offsetTop;return{left:t,top:i}}}}),define("tools.infiniteScroll",["require","prototype","utils.common"],function(e){"use strict";e("prototype"),e("utils.common");var t=function(e){this._id=e.id,this._contentId=e.contentId?e.contentId:void 0,this._scroll=e.scroll,this._loadFactor=e.loadFactor?e.loadFactor:.95,this._lastContentHeight=0,this._loading=!1,e.control?void 0!==e.control.length&&e.control.length>1?this._control=$(e.control[0]):this._control=$(e.control):this._control=this._scroll?this._scroll.parent:$(this._id),this._scroll?this._content=this._scroll.element:e.content?void 0!==e.content.length&&e.content.length>1?this._content=$(e.content[0]):this._content=$(e.content):this._content=this._contentId?$(this._contentId):this._control.childElements()[0],this._eventType=isSupportsTouch()?"touchmove":"scroll",this._control.observe(this._eventType,this._onScrollHandler.bind(this))};return t.addMethod("destroy",function(){this._control&&this._control.stopObserving(this._eventType,this._handler)}),t.addMethod("_onScrollHandler",function(e){var t=this._scroll?-1*this._scroll.y:this._control.scrollTop,i=this._content.getHeight(),n=this._control.getHeight();i!=this._lastContentHeight&&(this._loading=!1);var s=!this._loading&&0!=i;s=this._scroll?s&&this._scroll.isBottom():s&&(n+t)/i>this._loadFactor,s&&(this._loading=!0,this._lastContentHeight=i,isIPad()&&this.wait(),this.onLoad())}),t.addMethod("onLoad",doNothing),t.addMethod("reset",function(){isIPad()?this._scroll.reset():this._control.scrollTop=0,this._loading=!1}),t.addMethod("wait",function(){if(!this._waitIndicator){this._waitIndicator=new Element("div",{"class":"dimmer resultsOverlay"});var e=this._control.getDimensions(),t=this._control.positionedOffset();this._waitIndicator.setStyle({zIndex:"4000",top:t.top+"px",left:t.left+"px",height:e.height+"px",width:e.width+"px"}),this._control.insert({after:this._waitIndicator})}this._waitIndicator.show()}),t.addMethod("stopWaiting",function(){this._waitIndicator&&this._waitIndicator.hide()}),window.InfiniteScroll=t,t}),define("text!scheduler/template/list/oneJob.htm",[],function(){return'{{\n	var moment = require("moment");\n}}\n\n<div class="wrap draggable">\n    <div class="column one">\n        <p class="jobID">{{- model.id }}</p>\n    </div>\n    <div class="column two">\n        <p class="jobName">{{- model.label }}</p>\n        <p class="jobOwner">{{- model.owner }}</p>\n    </div>\n    <div class="column three">\n        <p class="jobState">{{- model.state.value }}</p>\n    </div>\n    <div class="column four">\n        <p class="lastRanDate">\n            {{ if (model.state.previousFireTime) { }}\n                {{-\n                    moment(model.state.previousFireTime).zone(timeZoneOffsetFunction(model.state.previousFireTime)).format("M/D/YYYY hh:mm:ss A")\n                }}\n            {{ } else { }}\n                &nbsp;\n            {{ } }}\n        </p>\n        <p class="nextRunDate">\n            {{ if (model.state.value!==\'NORMAL\' && model.state.value!==\'EXECUTING\'){ }}\n                {{- i18n[\'report.scheduling.list.label.disabled\'] }}\n            {{ } else if (model.state.nextFireTime) { }}\n                {{-\n                    moment(model.state.nextFireTime).zone(timeZoneOffsetFunction(model.state.nextFireTime)).format("M/D/YYYY hh:mm:ss A")\n                }}\n            {{ } else { }}\n                &nbsp;\n            {{ } }}\n        </p>\n    </div>\n    <div class="column five">\n	    <div class="jobDelete">\n		    <button name="deleteJob" class="button action simple delete"></button>\n	    </div>\n	    <div class="jobEdit">\n		    <button name="editJob" class="button action simple edit"></button>\n	    </div>\n	    <p class="jobEnabled">\n		    <input name="enableJob" type="checkbox" {{ if (model.state.value==\'NORMAL\' || model.state.value==\'EXECUTING\') { }} checked="checked" {{ } }} ></input>\n	    </p>\n    </div>\n</div>\n\n'}),define("text!scheduler/template/list/oneMasterJob.htm",[],function(){return'{{\n	var moment = require("moment");\n}}\n\n<div class="wrap draggable">\n    <div class="column one">\n        <p class="jobResource" title="{{- model.reportLabel }}">{{- model.reportLabel }} </p>\n        <p class="jobResourcePath" title="{{- model.reportUnitURI }}">{{- model.reportUnitURI }}</p>\n    </div>\n    <div class="column two">\n        <p class="jobName">{{- model.label }}</p>\n        <p class="jobDescription" title="{{- model.description }}">{{- model.description }}</p>\n    </div>\n    <div class="column three">\n        <p class="jobID">{{- model.id }}</p>\n        <p class="jobOwner">{{- model.owner }}</p>\n        <p class="jobState">{{- model.state.value }}</p>\n    </div>\n    <div class="column four">\n        <p class="lastRanDate">\n            {{ if (model.state.previousFireTime) { }}\n                {{-\n                    moment(model.state.previousFireTime).zone(timeZoneOffsetFunction(model.state.previousFireTime)).format("M/D/YYYY hh:mm:ss A")\n                }}\n            {{ } else { }}\n                &nbsp;\n            {{ } }}\n        </p>\n        <p class="nextRunDate">\n            {{ if (model.state.value!==\'NORMAL\' && model.state.value!==\'EXECUTING\'){ }}\n                {{- i18n[\'report.scheduling.list.label.disabled\'] }}\n            {{ } else if (model.state.nextFireTime) { }}\n                {{-\n                    moment(model.state.nextFireTime).zone(timeZoneOffsetFunction(model.state.nextFireTime)).format("M/D/YYYY hh:mm:ss A")\n                }}\n            {{ } else { }}\n                &nbsp;\n            {{ } }}\n        </p>\n    </div>\n    <div class="column five">\n	    <div class="jobDelete">\n		    <button name="deleteJob" class="button action simple delete"></button>\n	    </div>\n	    <div class="jobEdit">\n		    <button name="editJob" class="button action simple edit"></button>\n	    </div>\n	    <div class="jobEnabled">\n		    <input name="enableJob" type="checkbox" {{ if (model.state.value==\'NORMAL\' || model.state.value==\'EXECUTING\') { }} checked="checked" {{ } }} ></input>\n	    </div>\n    </div>\n</div>\n\n'}),function(e){function t(e,t){return function(i){return l(e.call(this,i),t)}}function i(e,t){return function(i){return this.lang().ordinal(e.call(this,i),t)}}function n(){}function s(e){y(e),r(this,e)}function o(e){var t=f(e),i=t.year||0,n=t.month||0,s=t.week||0,o=t.day||0,r=t.hour||0,a=t.minute||0,l=t.second||0,c=t.millisecond||0;this._input=e,this._milliseconds=+c+1e3*l+6e4*a+36e5*r,this._days=+o+7*s,this._months=+n+12*i,this._data={},this._bubble()}function r(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return t.hasOwnProperty("toString")&&(e.toString=t.toString),t.hasOwnProperty("valueOf")&&(e.valueOf=t.valueOf),e}function a(e){return 0>e?Math.ceil(e):Math.floor(e)}function l(e,t){for(var i=e+"";i.length<t;)i="0"+i;return i}function c(e,t,i,n){var s,o,r=t._milliseconds,a=t._days,l=t._months;r&&e._d.setTime(+e._d+r*i),(a||l)&&(s=e.minute(),o=e.hour()),a&&e.date(e.date()+a*i),l&&e.month(e.month()+l*i),r&&!n&&te.updateOffset(e),(a||l)&&(e.minute(s),e.hour(o))}function u(e){return"[object Array]"===Object.prototype.toString.call(e)}function d(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function h(e,t,i){var n,s=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),r=0;for(n=0;s>n;n++)(i&&e[n]!==t[n]||!i&&g(e[n])!==g(t[n]))&&r++;return r+o}function p(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=Re[e]||Fe[t]||t}return e}function f(e){var t,i,n={};for(i in e)e.hasOwnProperty(i)&&(t=p(i),t&&(n[t]=e[i]));return n}function m(t){var i,n;if(0===t.indexOf("week"))i=7,n="day";else{if(0!==t.indexOf("month"))return;i=12,n="month"}te[t]=function(s,o){var r,a,l=te.fn._lang[t],c=[];if("number"==typeof s&&(o=s,s=e),a=function(e){var t=te().utc().set(n,e);return l.call(te.fn._lang,t,s||"")},null!=o)return a(o);for(r=0;i>r;r++)c.push(a(r));return c}}function g(e){var t=+e,i=0;return 0!==t&&isFinite(t)&&(i=t>=0?Math.floor(t):Math.ceil(t)),i}function v(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function _(e){return b(e)?366:365}function b(e){return e%4===0&&e%100!==0||e%400===0}function y(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[re]<0||e._a[re]>11?re:e._a[ae]<1||e._a[ae]>v(e._a[oe],e._a[re])?ae:e._a[le]<0||e._a[le]>23?le:e._a[ce]<0||e._a[ce]>59?ce:e._a[ue]<0||e._a[ue]>59?ue:e._a[de]<0||e._a[de]>999?de:-1,e._pf._overflowDayOfYear&&(oe>t||t>ae)&&(t=ae),e._pf.overflow=t)}function T(e){e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function w(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length)),e._isValid}function S(e){return e?e.toLowerCase().replace("_","-"):e}function C(e,t){return t.abbr=e,he[e]||(he[e]=new n),he[e].set(t),he[e]}function E(e){delete he[e]}function x(e){var t,i,n,s,o=0,r=function(e){if(!he[e]&&pe)try{require("./lang/"+e)}catch(t){}return he[e]};if(!e)return te.fn._lang;if(!u(e)){if(i=r(e))return i;e=[e]}for(;o<e.length;){for(s=S(e[o]).split("-"),t=s.length,n=S(e[o+1]),n=n?n.split("-"):null;t>0;){if(i=r(s.slice(0,t).join("-")))return i;if(n&&n.length>=t&&h(s,n,!0)>=t-1)break;t--}o++}return te.fn._lang}function D(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function M(e){var t,i,n=e.match(ve);for(t=0,i=n.length;i>t;t++)ze[n[t]]?n[t]=ze[n[t]]:n[t]=D(n[t]);return function(s){var o="";for(t=0;i>t;t++)o+=n[t]instanceof Function?n[t].call(s,e):n[t];return o}}function I(e,t){return e.isValid()?(t=N(t,e.lang()),je[t]||(je[t]=M(t)),je[t](e)):e.lang().invalidDate()}function N(e,t){function i(e){return t.longDateFormat(e)||e}var n=5;for(_e.lastIndex=0;n>=0&&_e.test(e);)e=e.replace(_e,i),_e.lastIndex=0,n-=1;return e}function k(e,t){var i;switch(e){case"DDDD":return Te;case"YYYY":case"GGGG":case"gggg":return we;case"YYYYY":case"GGGGG":case"ggggg":return Se;case"S":case"SS":case"SSS":case"DDD":return ye;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Ee;case"a":case"A":return x(t._l)._meridiemParse;case"X":return Me;case"Z":case"ZZ":return xe;case"T":return De;case"SSSS":return Ce;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"ww":case"W":case"WW":case"e":case"E":return be;default:return i=new RegExp(H(j(e.replace("\\","")),"i"))}}function O(e){var t=(xe.exec(e)||[])[0],i=(t+"").match(Ae)||["-",0,0],n=+(60*i[1])+g(i[2]);return"+"===i[0]?-n:n}function A(e,t,i){var n,s=i._a;switch(e){case"M":case"MM":null!=t&&(s[re]=g(t)-1);break;case"MMM":case"MMMM":n=x(i._l).monthsParse(t),null!=n?s[re]=n:i._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(s[ae]=g(t));break;case"DDD":case"DDDD":null!=t&&(i._dayOfYear=g(t));break;case"YY":s[oe]=g(t)+(g(t)>68?1900:2e3);break;case"YYYY":case"YYYYY":s[oe]=g(t);break;case"a":case"A":i._isPm=x(i._l).isPM(t);break;case"H":case"HH":case"h":case"hh":s[le]=g(t);break;case"m":case"mm":s[ce]=g(t);break;case"s":case"ss":s[ue]=g(t);break;case"S":case"SS":case"SSS":case"SSSS":s[de]=g(1e3*("0."+t));break;case"X":i._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":i._useUTC=!0,i._tzm=O(t);break;case"w":case"ww":case"W":case"WW":case"d":case"dd":case"ddd":case"dddd":case"e":case"E":e=e.substr(0,1);case"gg":case"gggg":case"GG":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(i._w=i._w||{},i._w[e]=t)}}function L(e){var t,i,n,s,o,r,a,l,c,u,d=[];if(!e._d){for(n=R(e),e._w&&null==e._a[ae]&&null==e._a[re]&&(o=function(t){return t?t.length<3?parseInt(t,10)>68?"19"+t:"20"+t:t:null==e._a[oe]?te().weekYear():e._a[oe]},r=e._w,null!=r.GG||null!=r.W||null!=r.E?a=G(o(r.GG),r.W||1,r.E,4,1):(l=x(e._l),c=null!=r.d?W(r.d,l):null!=r.e?parseInt(r.e,10)+l._week.dow:0,u=parseInt(r.w,10)||1,null!=r.d&&c<l._week.dow&&u++,a=G(o(r.gg),u,c,l._week.doy,l._week.dow)),e._a[oe]=a.year,e._dayOfYear=a.dayOfYear),e._dayOfYear&&(s=null==e._a[oe]?n[oe]:e._a[oe],e._dayOfYear>_(s)&&(e._pf._overflowDayOfYear=!0),i=B(s,0,e._dayOfYear),e._a[re]=i.getUTCMonth(),e._a[ae]=i.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=d[t]=n[t];for(;7>t;t++)e._a[t]=d[t]=null==e._a[t]?2===t?1:0:e._a[t];d[le]+=g((e._tzm||0)/60),d[ce]+=g((e._tzm||0)%60),e._d=(e._useUTC?B:$).apply(null,d)}}function P(e){var t;e._d||(t=f(e._i),e._a=[t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond],L(e))}function R(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function F(e){e._a=[],e._pf.empty=!0;var t,i,n,s,o,r=x(e._l),a=""+e._i,l=a.length,c=0;for(n=N(e._f,r).match(ve)||[],t=0;t<n.length;t++)s=n[t],i=(k(s,e).exec(a)||[])[0],i&&(o=a.substr(0,a.indexOf(i)),o.length>0&&e._pf.unusedInput.push(o),a=a.slice(a.indexOf(i)+i.length),c+=i.length),ze[s]?(i?e._pf.empty=!1:e._pf.unusedTokens.push(s),A(s,i,e)):e._strict&&!i&&e._pf.unusedTokens.push(s);e._pf.charsLeftOver=l-c,a.length>0&&e._pf.unusedInput.push(a),e._isPm&&e._a[le]<12&&(e._a[le]+=12),e._isPm===!1&&12===e._a[le]&&(e._a[le]=0),L(e),y(e)}function j(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,i,n,s){return t||i||n||s})}function H(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function U(e){var t,i,n,s,o;if(0===e._f.length)return e._pf.invalidFormat=!0,void(e._d=new Date(NaN));for(s=0;s<e._f.length;s++)o=0,t=r({},e),T(t),t._f=e._f[s],F(t),w(t)&&(o+=t._pf.charsLeftOver,o+=10*t._pf.unusedTokens.length,t._pf.score=o,(null==n||n>o)&&(n=o,i=t));r(e,i||t)}function z(e){var t,i=e._i,n=Ie.exec(i);if(n){for(e._pf.iso=!0,t=4;t>0;t--)if(n[t]){e._f=ke[t-1]+(n[6]||" ");break}for(t=0;4>t;t++)if(Oe[t][1].exec(i)){e._f+=Oe[t][0];break}xe.exec(i)&&(e._f+="Z"),F(e)}else e._d=new Date(i)}function V(t){var i=t._i,n=fe.exec(i);i===e?t._d=new Date:n?t._d=new Date(+n[1]):"string"==typeof i?z(t):u(i)?(t._a=i.slice(0),L(t)):d(i)?t._d=new Date(+i):"object"==typeof i?P(t):t._d=new Date(i)}function $(e,t,i,n,s,o,r){var a=new Date(e,t,i,n,s,o,r);return 1970>e&&a.setFullYear(e),a}function B(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function W(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function q(e,t,i,n,s){return s.relativeTime(t||1,!!i,e,n)}function K(e,t,i){var n=se(Math.abs(e)/1e3),s=se(n/60),o=se(s/60),r=se(o/24),a=se(r/365),l=45>n&&["s",n]||1===s&&["m"]||45>s&&["mm",s]||1===o&&["h"]||22>o&&["hh",o]||1===r&&["d"]||25>=r&&["dd",r]||45>=r&&["M"]||345>r&&["MM",se(r/30)]||1===a&&["y"]||["yy",a];return l[2]=t,l[3]=e>0,l[4]=i,q.apply({},l)}function Y(e,t,i){var n,s=i-t,o=i-e.day();return o>s&&(o-=7),s-7>o&&(o+=7),n=te(e).add("d",o),{week:Math.ceil(n.dayOfYear()/7),year:n.year()}}function G(e,t,i,n,s){var o,r,a=new Date(Date.UTC(e,0)).getUTCDay();return i=null!=i?i:s,o=s-a+(a>n?7:0),r=7*(t-1)+(i-s)+o+1,{year:r>0?e:e-1,dayOfYear:r>0?r:_(e-1)+r}}function J(e){var t=e._i,i=e._f;return"undefined"==typeof e._pf&&T(e),null===t?te.invalid({nullInput:!0}):("string"==typeof t&&(e._i=t=x().preparse(t)),te.isMoment(t)?(e=r({},t),e._d=new Date(+t._d)):i?u(i)?U(e):F(e):V(e),new s(e))}function X(e,t){te.fn[e]=te.fn[e+"s"]=function(e){var i=this._isUTC?"UTC":"";return null!=e?(this._d["set"+i+t](e),te.updateOffset(this),this):this._d["get"+i+t]()}}function Q(e){te.duration.fn[e]=function(){return this._data[e]}}function Z(e,t){te.duration.fn["as"+e]=function(){return+this/t}}function ee(e){var t=!1,i=te;"undefined"==typeof ender&&(e?this.moment=function(){return!t&&console&&console.warn&&(t=!0,console.warn("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.")),i.apply(null,arguments)}:this.moment=te)}for(var te,ie,ne="2.4.0",se=Math.round,oe=0,re=1,ae=2,le=3,ce=4,ue=5,de=6,he={},pe="undefined"!=typeof module&&module.exports,fe=/^\/?Date\((\-?\d+)/i,me=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,ge=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,ve=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,_e=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,be=/\d\d?/,ye=/\d{1,3}/,Te=/\d{3}/,we=/\d{1,4}/,Se=/[+\-]?\d{1,6}/,Ce=/\d+/,Ee=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,xe=/Z|[\+\-]\d\d:?\d\d/i,De=/T/i,Me=/[\+\-]?\d+(\.\d{1,3})?/,Ie=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d:?\d\d|Z)?)?$/,Ne="YYYY-MM-DDTHH:mm:ssZ",ke=["YYYY-MM-DD","GGGG-[W]WW","GGGG-[W]WW-E","YYYY-DDD"],Oe=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Ae=/([\+\-]|\d\d)/gi,Le="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),Pe={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},Re={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},Fe={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},je={},He="DDD w W M D d".split(" "),Ue="M D H h m s w W".split(" "),ze={M:function(){return this.month()+1},MMM:function(e){return this.lang().monthsShort(this,e)},MMMM:function(e){return this.lang().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.lang().weekdaysMin(this,e)},ddd:function(e){return this.lang().weekdaysShort(this,e)},dddd:function(e){return this.lang().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return l(this.year()%100,2)},YYYY:function(){return l(this.year(),4)},YYYYY:function(){return l(this.year(),5)},gg:function(){return l(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return l(this.weekYear(),5)},GG:function(){return l(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return l(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return g(this.milliseconds()/100)},SS:function(){return l(g(this.milliseconds()/10),2)},SSS:function(){return l(this.milliseconds(),3)},SSSS:function(){return l(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+l(g(e/60),2)+":"+l(g(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+l(g(10*e/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}},Ve=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];He.length;)ie=He.pop(),ze[ie+"o"]=i(ze[ie],ie);for(;Ue.length;)ie=Ue.pop(),ze[ie+ie]=t(ze[ie],2);for(ze.DDDD=t(ze.DDD,3),r(n.prototype,{set:function(e){var t,i;for(i in e)t=e[i],"function"==typeof t?this[i]=t:this["_"+i]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var t,i,n;for(this._monthsParse||(this._monthsParse=[]),t=0;12>t;t++)if(this._monthsParse[t]||(i=te.utc([2e3,t]),n="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[t]=new RegExp(n.replace(".",""),"i")),this._monthsParse[t].test(e))return t},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,i,n;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(i=te([2e3,1]).day(t),n="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[t]=new RegExp(n.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,i){return e>11?i?"pm":"PM":i?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var i=this._calendar[e];return"function"==typeof i?i.apply(t):i},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,i,n){var s=this._relativeTime[i];return"function"==typeof s?s(e,t,i,n):s.replace(/%d/i,e)},pastFuture:function(e,t){var i=this._relativeTime[e>0?"future":"past"];return"function"==typeof i?i(t):i.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return Y(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),te=function(t,i,n,s){return"boolean"==typeof n&&(s=n,n=e),J({_i:t,_f:i,_l:n,_strict:s,_isUTC:!1})},te.utc=function(t,i,n,s){var o;return"boolean"==typeof n&&(s=n,n=e),o=J({_useUTC:!0,_isUTC:!0,_l:n,_i:t,_f:i,_strict:s}).utc()},te.unix=function(e){return te(1e3*e)},te.duration=function(e,t){var i,n,s,r=te.isDuration(e),a="number"==typeof e,l=r?e._input:a?{}:e,c=null;return a?t?l[t]=e:l.milliseconds=e:(c=me.exec(e))?(i="-"===c[1]?-1:1,l={y:0,d:g(c[ae])*i,h:g(c[le])*i,m:g(c[ce])*i,s:g(c[ue])*i,ms:g(c[de])*i}):(c=ge.exec(e))&&(i="-"===c[1]?-1:1,s=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*i},l={y:s(c[2]),M:s(c[3]),d:s(c[4]),h:s(c[5]),m:s(c[6]),s:s(c[7]),w:s(c[8])}),n=new o(l),r&&e.hasOwnProperty("_lang")&&(n._lang=e._lang),n},te.version=ne,te.defaultFormat=Ne,te.updateOffset=function(){},te.lang=function(e,t){var i;return e?(t?C(S(e),t):null===t?(E(e),e="en"):he[e]||x(e),i=te.duration.fn._lang=te.fn._lang=x(e),i._abbr):te.fn._lang._abbr},te.langData=function(e){return e&&e._lang&&e._lang._abbr&&(e=e._lang._abbr),x(e)},te.isMoment=function(e){return e instanceof s},te.isDuration=function(e){return e instanceof o},ie=Ve.length-1;ie>=0;--ie)m(Ve[ie]);for(te.normalizeUnits=function(e){return p(e)},te.invalid=function(e){var t=te.utc(NaN);return null!=e?r(t._pf,e):t._pf.userInvalidated=!0,t},te.parseZone=function(e){return te(e).parseZone()},r(te.fn=s.prototype,{clone:function(){return te(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return I(te(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return w(this)},isDSTShifted:function(){return this._a?this.isValid()&&h(this._a,(this._isUTC?te.utc(this._a):te(this._a)).toArray())>0:!1},parsingFlags:function(){return r({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(e){var t=I(this,e||te.defaultFormat);return this.lang().postformat(t)},add:function(e,t){var i;return i="string"==typeof e?te.duration(+t,e):te.duration(e,t),c(this,i,1),this},subtract:function(e,t){var i;return i="string"==typeof e?te.duration(+t,e):te.duration(e,t),c(this,i,-1),this},diff:function(e,t,i){var n,s,o=this._isUTC?te(e).zone(this._offset||0):te(e).local(),r=6e4*(this.zone()-o.zone());return t=p(t),"year"===t||"month"===t?(n=432e5*(this.daysInMonth()+o.daysInMonth()),s=12*(this.year()-o.year())+(this.month()-o.month()),s+=(this-te(this).startOf("month")-(o-te(o).startOf("month")))/n,s-=6e4*(this.zone()-te(this).startOf("month").zone()-(o.zone()-te(o).startOf("month").zone()))/n,"year"===t&&(s/=12)):(n=this-o,s="second"===t?n/1e3:"minute"===t?n/6e4:"hour"===t?n/36e5:"day"===t?(n-r)/864e5:"week"===t?(n-r)/6048e5:n),i?s:a(s)},from:function(e,t){return te.duration(this.diff(e)).lang(this.lang()._abbr).humanize(!t)},fromNow:function(e){return this.from(te(),e)},calendar:function(){var e=this.diff(te().zone(this.zone()).startOf("day"),"days",!0),t=-6>e?"sameElse":-1>e?"lastWeek":0>e?"lastDay":1>e?"sameDay":2>e?"nextDay":7>e?"nextWeek":"sameElse";return this.format(this.lang().calendar(t,this))},isLeapYear:function(){return b(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=W(e,this.lang()),this.add({d:e-t})):t},month:function(e){var t,i=this._isUTC?"UTC":"";return null!=e?"string"==typeof e&&(e=this.lang().monthsParse(e),"number"!=typeof e)?this:(t=this.date(),this.date(1),this._d["set"+i+"Month"](e),this.date(Math.min(t,this.daysInMonth())),te.updateOffset(this),this):this._d["get"+i+"Month"]()},startOf:function(e){switch(e=p(e)){case"year":this.month(0);case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),this},endOf:function(e){return e=p(e),this.startOf(e).add("isoWeek"===e?"week":e,1).subtract("ms",1)},isAfter:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)>+te(e).startOf(t)},isBefore:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)<+te(e).startOf(t)},isSame:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)===+te(e).startOf(t)},min:function(e){return e=te.apply(null,arguments),this>e?this:e},max:function(e){return e=te.apply(null,arguments),e>this?this:e},zone:function(e){var t=this._offset||0;return null==e?this._isUTC?t:this._d.getTimezoneOffset():("string"==typeof e&&(e=O(e)),Math.abs(e)<16&&(e=60*e),this._offset=e,this._isUTC=!0,t!==e&&c(this,te.duration(t-e,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(e){return e=e?te(e).zone():0,(this.zone()-e)%60===0},daysInMonth:function(){return v(this.year(),this.month())},dayOfYear:function(e){var t=se((te(this).startOf("day")-te(this).startOf("year"))/864e5)+1;return null==e?t:this.add("d",e-t)},weekYear:function(e){var t=Y(this,this.lang()._week.dow,this.lang()._week.doy).year;
return null==e?t:this.add("y",e-t)},isoWeekYear:function(e){var t=Y(this,1,4).year;return null==e?t:this.add("y",e-t)},week:function(e){var t=this.lang().week(this);return null==e?t:this.add("d",7*(e-t))},isoWeek:function(e){var t=Y(this,1,4).week;return null==e?t:this.add("d",7*(e-t))},weekday:function(e){var t=(this.day()+7-this.lang()._week.dow)%7;return null==e?t:this.add("d",e-t)},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},get:function(e){return e=p(e),this[e]()},set:function(e,t){return e=p(e),"function"==typeof this[e]&&this[e](t),this},lang:function(t){return t===e?this._lang:(this._lang=x(t),this)}}),ie=0;ie<Le.length;ie++)X(Le[ie].toLowerCase().replace(/s$/,""),Le[ie]);X("year","FullYear"),te.fn.days=te.fn.day,te.fn.months=te.fn.month,te.fn.weeks=te.fn.week,te.fn.isoWeeks=te.fn.isoWeek,te.fn.toJSON=te.fn.toISOString,r(te.duration.fn=o.prototype,{_bubble:function(){var e,t,i,n,s=this._milliseconds,o=this._days,r=this._months,l=this._data;l.milliseconds=s%1e3,e=a(s/1e3),l.seconds=e%60,t=a(e/60),l.minutes=t%60,i=a(t/60),l.hours=i%24,o+=a(i/24),l.days=o%30,r+=a(o/30),l.months=r%12,n=a(r/12),l.years=n},weeks:function(){return a(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*g(this._months/12)},humanize:function(e){var t=+this,i=K(t,!e,this.lang());return e&&(i=this.lang().pastFuture(t,i)),this.lang().postformat(i)},add:function(e,t){var i=te.duration(e,t);return this._milliseconds+=i._milliseconds,this._days+=i._days,this._months+=i._months,this._bubble(),this},subtract:function(e,t){var i=te.duration(e,t);return this._milliseconds-=i._milliseconds,this._days-=i._days,this._months-=i._months,this._bubble(),this},get:function(e){return e=p(e),this[e.toLowerCase()+"s"]()},as:function(e){return e=p(e),this["as"+e.charAt(0).toUpperCase()+e.slice(1)+"s"]()},lang:te.fn.lang,toIsoString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),i=Math.abs(this.days()),n=Math.abs(this.hours()),s=Math.abs(this.minutes()),o=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(i?i+"D":"")+(n||s||o?"T":"")+(n?n+"H":"")+(s?s+"M":"")+(o?o+"S":""):"P0D"}});for(ie in Pe)Pe.hasOwnProperty(ie)&&(Z(ie,Pe[ie]),Q(ie.toLowerCase()));Z("Weeks",6048e5),te.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},te.lang("en",{ordinal:function(e){var t=e%10,i=1===g(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+i}}),pe?(module.exports=te,ee(!0)):"function"==typeof define&&define.amd?define("moment",["require","exports","module"],function(t,i,n){return n.config().noGlobal!==!0&&ee(n.config().noGlobal===e),te}):ee()}.call(this),define("common/component/base/Dimmer",["require","jquery","common/util/classUtil"],function(e){var t,i,n=e("jquery"),s=e("common/util/classUtil");return s.extend({constructor:function(e){t||(i=0,t=n("<div id='dialogDimmer' class='dimmer'></div>").css(e),n(document.body).append(t)),t.hide(),i++},css:function(e){return t.css(e),this},show:function(){var e=this.getCount()||0;return this.setCount(++e),t.show(),this},hide:function(){if(this.isVisible()){var e=this.getCount();return this.setCount(--e),!e&&t.hide(),this}},setCount:function(e){t.data({count:e})},getCount:function(){return parseInt(t.data("count"),10)},isVisible:function(){return t.is(":visible")},remove:function(){this._removed||(this._removed=!0,t&&(i--,i||(t.remove(),t=null)))}})}),define("text!common/component/panel/template/panelTemplate.htm",[],function(){return'<div class="panel {{- additionalCssClasses }}">\n    <div class="header">\n        <div class="title">{{- title}}</div>\n    </div>\n    <div class="subcontainer"></div>\n</div>\n'}),define("common/component/panel/Panel",["require","css!panel","underscore","backbone","text!./template/panelTemplate.htm"],function(e){"use strict";e("css!panel");var t=e("underscore"),i=e("backbone"),n=e("text!./template/panelTemplate.htm");return i.View.extend({defaultTemplate:n,el:function(){return this.template({title:this.title,additionalCssClasses:this.additionalCssClasses})},constructor:function(e){e||(e={}),this.template=t.template(e.template||this.defaultTemplate),this.title=e.title||"",this.additionalCssClasses=e.additionalCssClasses||"",this.content=e.content||"",this.collapsed=!e.collapsed,this.openClass=e.openClass||"open",this.closedClass=e.closedClass||"closed",this.loadingClass=e.loadingClass||"loading",this.fixedHeight=e.fixedHeight||!1,this.contentContainer=e.contentContainer||".subcontainer",this.overflow=e.overflow||"auto",this.traits=e.traits||[],t.each(this.traits,t.bind(function(e){e.extension&&t.extend(this,e.extension)},this)),this.invokeTraits("onConstructor",e),i.View.apply(this,arguments)},invokeTraits:function(e){var i=Array.prototype.slice.call(arguments,1),n=this;t.each(this.traits,function(t){t[e]&&t[e].apply(n,i)})},initialize:function(e){this.invokeTraits("beforeInitialize",e),this.content&&this.setContent(this.content),this.toggleCollapsedState(),this.invokeTraits("afterInitialize",e)},setElement:function(e){this.invokeTraits("beforeSetElement",e);var t=i.View.prototype.setElement.apply(this,arguments);return this.$contentContainer=this.$(this.contentContainer),this.$contentContainer[this.collapsed?"hide":"show"](),this.invokeTraits("afterSetElement",e),t},open:function(e){return this.invokeTraits("beforeOpen",e),this.$contentContainer.show(),this.$el.removeClass(this.closedClass).addClass(this.openClass),this.collapsed=!1,e&&e.renderContent&&this.renderContent(),this.invokeTraits("afterOpen",e),e&&e.silent||this.trigger("open",this),this},close:function(e){return this.invokeTraits("beforeClose",e),this.$contentContainer.hide(),this.$el.removeClass(this.openClass).addClass(this.closedClass),this.collapsed=!0,this.invokeTraits("afterClose",e),e&&e.silent||this.trigger("close",this),this},setContent:function(e,t){this.content=e;var i=this.renderContent();this.$contentContainer[t===!0?"append":"html"](i)},renderContent:function(){return this.content instanceof i.View?this.content.render().$el:this.content},setHeight:function(e){var i=this.$("> .header").outerHeight();this.$contentContainer.css({height:t.isNumber(e)?e-i+"px":"auto",overflow:this.overflow})},toggleCollapsedState:function(){return this.collapsed?this.open():this.close(),this},remove:function(){this.invokeTraits("onRemove"),this.content&&this.content.remove&&this.content.remove(),i.View.prototype.remove.call(this)}})}),define("common/component/base/OptionView",["require","backbone","underscore"],function(e){"use strict";var t=e("backbone"),i=e("underscore");return t.View.extend({events:{click:"select",mouseover:"mouseover",mouseout:"mouseout"},constructor:function(e){if(!e||!e.template)throw new Error("Option should have defined template");if(!(e.model&&e.model instanceof t.Model))throw new Error("Option should have associated Backbone.Model");this.template=i.template(e.template),this.disabledClass=e.disabledClass,this.hiddenClass=e.hiddenClass,this.toggleClass=e.toggleClass,t.View.apply(this,arguments)},initialize:function(){t.View.prototype.initialize.apply(this,arguments),this.model.get("disabled")===!0&&this.disable(),this.model.get("hidden")===!0&&this.hide()},el:function(){return this.template(this.model.toJSON())},enable:function(){this.$el.removeAttr("disabled").removeClass(this.disabledClass)},disable:function(){this.$el.attr("disabled","disabled").addClass(this.disabledClass)},show:function(){this.$el.show().removeClass(this.hiddenClass)},hide:function(){this.$el.hide().addClass(this.hiddenClass)},isVisible:function(){return this.$el.is(":visible")},isDisabled:function(){return this.$el.is(":disabled")},select:function(e){this.model.trigger("select",this,this.model,e),this.trigger("click",this,this.model,e)},addSelection:function(){this.$el.addClass(this.toggleClass)},removeSelection:function(){this.$el.removeClass(this.toggleClass)},mouseover:function(e){this.trigger("mouseover",this,this.model,e)},mouseout:function(e){this.trigger("mouseout",this,this.model,e)}})}),define("common/component/base/OptionContainer",["require","backbone","underscore","./OptionView"],function(e){"use strict";var t=e("backbone"),i=e("underscore"),n=e("./OptionView"),s=Array.prototype.slice;return t.View.extend({el:function(){return i.template(this.template)()},constructor:function(e){if(e||(e={}),!e.options||!e.options.length)throw new Error("Option views descriptors must be specified");if(!e.mainTemplate&&!e.el)throw new Error("Option container must have a template");if(!e.optionTemplate)throw new Error("Option container must have an option template");this.contextName=e.contextName||"option",this.contentContainer=e.el?e.contentContainer:e.contentContainer||"> .content > ul",this.toggle=!!e.toggle,this.toggleClass=e.toggleClass||"active",this.options=[],this.collection=new t.Collection(e.options),this.hasGroups=this.collection.models[0]&&this.collection.models[0].get("groupId")?!0:!1,this.defalutOptionView=this.hasGroups?this.collection.where({"default":!0}):[this.collection.findWhere({"default":!0})],this.listenTo(this.collection,"select",this._selectOption),this.template=e.mainTemplate,this.optionTemplate=e.optionTemplate,t.View.apply(this,arguments)},setElement:function(e){var i=t.View.prototype.setElement.apply(this,arguments);return this.$contentContainer=this.contentContainer?this.$(this.contentContainer):this.$el,i},initialize:function(){var e=this;this.collection.forEach(function(t){var i=new n({template:e.optionTemplate,model:t,toggleClass:e.toggleClass});e.listenTo(i,"mouseover",function(t,i){e.trigger("mouseover",t,e,i)}),e.listenTo(i,"mouseout",function(t,i){e.trigger("mouseout",t,e,i)}),e.options.push(i),e.$contentContainer.append(i.$el)}),this.toggle&&this.defalutOptionView&&i.each(this.defalutOptionView,function(e){e&&this.getOptionView(e.get("action")).addSelection()},this)},_onKeyDown:function(e){var t=this.getOptionView(e.keyCode,"triggerOnKeyCode");t&&!t.isDisabled()&&t.select()},_selectOption:function(e,t){if(this.toggle){var n=t.get("groupId"),s=this.hasGroups?i.where(this.options,function(e){return e.model.get("groupId")===n}):this.options;i.each(s,function(e){e.removeSelection()},this),e.addSelection()}this.trigger(this.contextName+":"+t.get("action"),e,t)},getOptionView:function(e,t){return i.find(this.options,function(i){return i.model.get(t||"action")===e})},resetSelection:function(e,t){e=e||[],this.toggle&&(this.hasGroups?(e.length<this.defalutOptionView.length&&i.each(this.defalutOptionView,function(t){var n={groupId:t.get("groupId")},s=i.findWhere(e,n);!s&&t&&e.push(i.extend(n,{action:t.get("action")}))}),e=i.pluck(e,"action")):!e.length&&this.defalutOptionView[0]&&e.push(this.defalutOptionView[0].get("action")),i.each(this.options,function(n){e.length&&(i.contains(e,n.model.get("action"))?t?this._selectOption(n,n.model):n.addSelection():n.removeSelection())},this))},select:function(e){var t=s.call(arguments);this.toggle&&i.each(this.options,function(e){!t.length||i.contains(t,e.model.get("action"))?e.addSelection():e.removeSelection()},this)},deselect:function(e){var t=s.call(arguments);this.toggle&&i.each(this.options,function(e){(!t.length||i.contains(t,e.model.get("action")))&&e.removeSelection()},this)},show:function(){return i.each(this.options,function(e){var t=e.model.get("test");t&&!t()?e.hide():e[e.model.get("hidden")?"hide":"show"]()}),this.$el.show(),this.trigger("show",this),this},hide:function(){return this.$el.hide(),this.trigger("hide",this),this},enable:function(e){var t=s.call(arguments);i.each(this.options,function(e){(!t.length||i.contains(t,e.model.get("action")))&&e.enable()})},disable:function(e){var t=s.call(arguments);i.each(this.options,function(e){(!t.length||i.contains(t,e.model.get("action")))&&e.disable()})},remove:function(){i.invoke(this.options,"remove"),t.View.prototype.remove.apply(this,arguments)}})}),define("common/component/panel/trait/abstractPanelTrait",[],function(){"use strict";var e={extension:{},onConstructor:function(){},beforeInitialize:function(){},afterInitialize:function(){},beforeSetElement:function(){},afterSetElement:function(){},beforeOpen:function(){},afterOpen:function(){},beforeClose:function(){},afterClose:function(){},onRemove:function(){}};return e}),define("csslink",{load:function(e,t,i,n){if(n.isBuild)return void i();var s=document.createElement("link");s.type="text/css",s.rel="stylesheet",s.href=t.toUrl(e),0!==s.href.indexOf("font")&&(s.className="jrWebFont"),document.getElementsByTagName("head")[0].appendChild(s),i()}}),define("common/component/panel/trait/resizablePanelTrait",["require","underscore","./abstractPanelTrait","jquery.ui","csslink!jquery-ui-custom-css"],function(e){"use strict";function t(e,t){this.trigger("resize",e,t)}function i(e,t){this.trigger("resizeStart",e,t)}function n(e,t){this.trigger("resizeStop",e,t)}var s=e("underscore"),o=e("./abstractPanelTrait");return e("jquery.ui"),e("csslink!jquery-ui-custom-css"),s.extend({},o,{onConstructor:function(e){e||(e={}),this.handles=e.handles||"e, s, se",this.minWidth=e.minWidth||10,this.minHeight=e.minHeight||10,this.maxWidth=e.maxWidth||null,this.maxHeight=e.maxHeight||null,this.alsoResize=e.alsoResize||!1,this.resizableEl=e.resizableEl},afterSetElement:function(){this.$resizableEl=this.$el.find(this.resizableEl).length?this.$el.find(this.resizableEl):this.$el,this.$resizableEl.resizable({handles:this.handles,minHeight:this.minHeight,minWidth:this.minWidth,maxWidth:this.maxWidth,maxHeight:this.maxHeight,alsoResize:this.alsoResize,resize:s.bind(t,this),start:s.bind(i,this),stop:s.bind(n,this)})},onRemove:function(){try{this.$el.resizable("destroy")}catch(e){}}})}),define("text!common/component/dialog/template/dialogTemplate.htm",[],function(){return'<div class="m-Dialog jrs {{- additionalCssClasses }}" tabindex="-1">\n    <div class="m-Dialog-header mover jrs">\n        <h1 class="m-Dialog-header-title jrs">{{- title }}</h1>\n    </div>\n    <div class="m-Dialog-body subcontainer jrs"></div>\n    <div class="m-Dialog-footer jrs"></div>\n\n</div>\n'}),define("text!common/component/dialog/template/dialogButtonTemplate.htm",[],function(){return"<button class=\"button action up {{- primary ? 'primary' : ''}} {{- (typeof float !== 'undefined' ? 'right' : '') }}\">\n    <span class=\"wrap\">{{- label }}<span class=\"icon\"></span></span>\n</button>\n"}),define("common/component/dialog/Dialog",["require","jquery.ui","css!common/dialog","underscore","jquery","../base/Dimmer","common/component/panel/Panel","common/component/base/OptionContainer","common/component/panel/trait/resizablePanelTrait","text!./template/dialogTemplate.htm","text!./template/dialogButtonTemplate.htm"],function(e){"use strict";e("jquery.ui"),e("css!common/dialog");var t=e("underscore"),i=e("jquery"),n=e("../base/Dimmer"),s=e("common/component/panel/Panel"),o=e("common/component/base/OptionContainer"),r=e("common/component/panel/trait/resizablePanelTrait"),a=e("text!./template/dialogTemplate.htm"),l=e("text!./template/dialogButtonTemplate.htm"),c={},u=s.extend({defaultTemplate:a,events:{mousedown:"_focus",touchstart:"_focus",keydown:"_onKeyDown"},constructor:function(e){e||(e={}),e.traits||(e.traits=[]),this.resizable=e.resizable||!1,this.modal=e.modal||!1,this.resizable&&-1===t.indexOf(e.traits,r)&&e.traits.push(r),s.call(this,e)},initialize:function(e){c=t.extend({},e),this.collapsed=!this.collapsed,t.isEmpty(e.buttons)||(this.buttons=new o({options:e.buttons,el:this.$(".m-Dialog-footer")[0]||this.$(".footer")[0],contextName:"button",optionTemplate:l})),s.prototype.initialize.apply(this,arguments),this.buttons&&this.listenTo(this.buttons,t.map(e.buttons,function(e){return"button:"+e.action}).join(" "),t.bind(function(e,t){this.trigger("button:"+t.get("action"),e,t)},this)),this.render()},setElement:function(e){var t=s.prototype.setElement.apply(this,arguments);return this.buttons&&this.buttons.setElement(this.$(".m-Dialog-footer")[0]||this.$(".footer")[0]),t},setTitle:function(e){this.$(".m-Dialog-header > .m-Dialog-header-title").text(e)},render:function(){return this.$el.hide(),this.modal&&(this.dimmer=new n({zIndex:900})),i("body").append(this.$el),this.$el.draggable({handle:".mover",addClasses:!1,containment:"document"}),this},open:function(e){return this.isVisible()?void 0:(s.prototype.open.apply(this,arguments),this.modal&&this.dimmer.css({zIndex:++u.highestIndex}).show(),c.additionalCssClasses&&-1!==c.additionalCssClasses.indexOf("newResizeableDialog")&&this._setMinSize(),this._position(e)._increaseZIndex(),this.buttons&&this.buttons.$(".over").removeClass("over"),this.$el.show(),this.trigger("dialog:visible"),this)},close:function(){return this.isVisible()?(this.$el.css({zIndex:--u.highestIndex}),this.modal&&this.dimmer.css({zIndex:--u.highestIndex}).hide(),this.$el.hide(),s.prototype.close.apply(this,arguments),this):void 0},addCssClasses:function(e){this.$el.addClass(e)},toggleCollapsedState:function(){return this},enableButton:function(e){this.buttons.enable(e)},disableButton:function(e){this.buttons.disable(e)},isVisible:function(){return this.$el.is(":visible")},_setMinSize:function(){c.minWidth&&this.$el.css({width:c.minWidth,minWidth:c.minWidth}),c.minHeight&&this.$el.css({height:c.minHeight,minHeight:c.minHeight})},_position:function(e){var t,n,s=i("body"),o=this.$el.height(),r=this.$el.width();if(e&&"undefined"!=typeof e.top&&"undefined"!=typeof e.left){t=e.top,n=e.left;var a=s.height(),l=s.width(),c=a-e.top,u=l-e.left;o>c&&(t=e.top-o,t=0>t?a/2-o/2:t),r>u&&(n=e.left-r,n=0>n?l/2-r/2:n)}else t=i(window).height()/2-o/2,n=i(window).width()/2-r/2;return this.$el.css({top:t,left:n,position:"absolute"}),this},_focus:function(){!this.modal&&this._increaseZIndex()},_increaseZIndex:function(){this.$el.css({zIndex:++u.highestIndex})},_onKeyDown:function(e){this.buttons._onKeyDown(e)},remove:function(){this.buttons&&this.buttons.remove(),this.dimmer&&this.dimmer.remove();try{this.$el.draggable("destroy")}catch(e){}s.prototype.remove.call(this)}},{highestIndex:1e3,resetHighestIndex:function(e){u.highestIndex=e||1e3}});return u}),define("text!common/component/dialog/template/confirmDialogTemplate.htm",[],function(){return"<p class='confirmationText'>\n    {{ print(_.xssEscape(text, {softHTMLEscape: true})) }}\n</p>"}),define("common/component/dialog/ConfirmationDialog",["require","underscore","./Dialog","text!./template/confirmDialogTemplate.htm","bundle!js-sdk/CommonBundle"],function(e){"use strict";var t=e("underscore"),i=e("./Dialog"),n=e("text!./template/confirmDialogTemplate.htm"),s=e("bundle!js-sdk/CommonBundle");return i.extend({constructor:function(e){e||(e={}),this.confirmDialogTemplate=t.template(n),i.prototype.constructor.call(this,{modal:!0,additionalCssClasses:e.additionalCssClasses||"confirmationDialog",title:e.title||s["dialog.confirm.title"],content:this.confirmDialogTemplate({text:e.text}),buttons:[{label:s["button.yes"],action:"yes",primary:!0},{label:s["button.no"],action:"no",primary:!1}]})},initialize:function(){i.prototype.initialize.apply(this,arguments),this.on("button:yes",this.close),this.on("button:no",this.close)},setContent:function(e){i.prototype.setContent.call(this,this.confirmDialogTemplate({text:e}))}})}),define("scheduler/view/jobView",["require","underscore","backbone","components.dialogs","text!scheduler/template/list/oneJob.htm","text!scheduler/template/list/oneMasterJob.htm","bundle!all","jrs.configs","moment","common/util/xssUtil","common/component/dialog/ConfirmationDialog"],function(e){"use strict";var t=e("underscore"),i=e("backbone"),n=(e("components.dialogs"),e("text!scheduler/template/list/oneJob.htm")),s=e("text!scheduler/template/list/oneMasterJob.htm"),o=e("bundle!all"),r=e("jrs.configs"),a=(e("moment"),e("common/util/xssUtil")),l=e("common/component/dialog/ConfirmationDialog");return i.View.extend({tagName:"li",className:"jobs first leaf",events:{"click [name=editJob]":"edit","click [name=deleteJob]":"remove","change [name=enableJob]":"enable"},initialize:function(e){this.options=t.extend({},e);var i=this.options.masterViewMode?s:n;this.template=t.template(i),this.model.on("change",this.render,this)},render:function(){return this.$el.html(this.template({model:this.model.toJSON(),i18n:o,timeZoneOffsetFunction:function(e){return-1*getTZOffset(r.usersTimeZone,e)*60}})),this},edit:function(){this.trigger("editJobPressed",this.model.id)},remove:function(){var e=this,t=o["report.scheduling.editing.job.confirm.delete"].replace("{name}",a.escape(this.model.get("label"))).replace("{newline}","<br><br>"),i=new l({title:o["report.scheduling.editing.job.confirm.title"],text:t,additionalCssClasses:"schedulerJobRemoveDialog"});this.listenTo(i,"button:yes",function(){e.model.destroy()}),i.open()},enable:function(e){this.model.state(e.target.checked)}})}),function(e,t,i){"undefined"!=typeof exports?"undefined"!=typeof module&&module.exports?module.exports=i():exports[e]=i():"function"==typeof define&&define.amd?define("encoding",i):t[e]=i()}("Encoding",this,function(){"use strict";function e(e){for(var t,i=0,n=e&&e.length;n>i;i++){if(t=e[i],t>255)return!1;if(t>=0&&7>=t||255===t)return!0}return!1}function t(e){for(var t,i=0,n=e&&e.length;n>i;i++)if(t=e[i],t>255||t>=128&&255>=t||27===t)return!1;return!0}function i(e){for(var t,i,n,s=0,o=e&&e.length;o>s;s++){if(t=e[s],t>255||t>=128&&255>=t)return!1;if(27===t){if(s+2>=o)return!1;if(i=e[s+1],n=e[s+2],36===i){if(40===n||64===n||66===n)return!0}else{if(38===i&&64===n)return!0;if(40===i&&(66===n||73===n||74===n))return!0}}}return!1}function n(e){for(var t,i=0,n=e&&e.length;n>i;i++)if(t=e[i],!(128>t)){if(t>255||142>t)return!1;if(142===t){if(i+1>=n)return!1;if(t=e[++i],161>t||t>223)return!1}else if(143===t){if(i+2>=n)return!1;if(t=e[++i],162>t||t>237)return!1;if(t=e[++i],161>t||t>254)return!1}else{if(!(t>=161&&254>=t))return!1;if(i+1>=n)return!1;if(t=e[++i],161>t||t>254)return!1}}return!0}function s(e){for(var t,i=0,n=e&&e.length;n>i&&e[i]>128;)if(e[i++]>255)return!1;for(;n>i;i++)if(t=e[i],!(128>=t||t>=161&&223>=t)){if(160===t||t>239||i+1>=n)return!1;if(t=e[++i],64>t||127===t||t>252)return!1}return!0}function o(e){for(var t,i=0,n=e&&e.length;n>i;i++){if(t=e[i],t>255)return!1;if(!(9===t||10===t||13===t||t>=32&&126>=t))if(t>=194&&223>=t){if(i+1>=n||e[i+1]<128||e[i+1]>191)return!1;i++}else if(224===t){if(i+2>=n||e[i+1]<160||e[i+1]>191||e[i+2]<128||e[i+2]>191)return!1;i+=2}else if(t>=225&&236>=t||238===t||239===t){if(i+2>=n||e[i+1]<128||e[i+1]>191||e[i+2]<128||e[i+2]>191)return!1;i+=2}else if(237===t){if(i+2>=n||e[i+1]<128||e[i+1]>159||e[i+2]<128||e[i+2]>191)return!1;i+=2}else if(240===t){if(i+3>=n||e[i+1]<144||e[i+1]>191||e[i+2]<128||e[i+2]>191||e[i+3]<128||e[i+3]>191)return!1;i+=3}else if(t>=241&&243>=t){if(i+3>=n||e[i+1]<128||e[i+1]>191||e[i+2]<128||e[i+2]>191||e[i+3]<128||e[i+3]>191)return!1;i+=3}else{if(244!==t)return!1;if(i+3>=n||e[i+1]<128||e[i+1]>143||e[i+2]<128||e[i+2]>191||e[i+3]<128||e[i+3]>191)return!1;i+=3}}return!0}function r(e){var t,i,n,s,o=0,r=e&&e.length,a=null;if(2>r){if(e[0]>255)return!1}else{if(t=e[0],i=e[1],255===t&&254===i)return!0;if(254===t&&255===i)return!0;for(;r>o;o++){if(0===e[o]){a=o;break}if(e[o]>255)return!1}if(null===a)return!1;if(n=e[a+1],void 0!==n&&n>0&&128>n)return!0;if(s=e[a-1],void 0!==s&&s>0&&128>s)return!0}return!1}function a(e){var t,i,n=0,s=e&&e.length,o=null;if(2>s){if(e[0]>255)return!1}else{if(t=e[0],i=e[1],254===t&&255===i)return!0;for(;s>n;n++){if(0===e[n]){o=n;break}if(e[n]>255)return!1}if(null===o)return!1;if(o%2===0)return!0}return!1}function l(e){var t,i,n=0,s=e&&e.length,o=null;if(2>s){if(e[0]>255)return!1}else{if(t=e[0],i=e[1],255===t&&254===i)return!0;for(;s>n;n++){if(0===e[n]){o=n;break}if(e[n]>255)return!1}if(null===o)return!1;if(o%2!==0)return!0}return!1}function c(e){var t,i,n,s,o,r,a=0,l=e&&e.length,c=null;if(4>l){for(;l>a;a++)if(e[a]>255)return!1}else{if(t=e[0],i=e[1],n=e[2],s=e[3],0===t&&0===i&&254===n&&255===s)return!0;if(255===t&&254===i&&0===n&&0===s)return!0;for(;l>a;a++){if(0===e[a]&&0===e[a+1]&&0===e[a+2]){c=a;break}if(e[a]>255)return!1}if(null===c)return!1;if(o=e[c+3],void 0!==o&&o>0&&127>=o)return 0===e[c+2]&&0===e[c+1];if(r=e[c-1],void 0!==r&&r>0&&127>=r)return 0===e[c+1]&&0===e[c+2]}return!1}function u(e){for(var t,i=0,n=e&&e.length;n>i;i++)if(t=e[i],0>t||t>1114111)return!1;return!0}function d(e){for(var t,i,n=[],s=0,o=0,r=e&&e.length;r>o;o++){for(;27===e[o];)if(36===e[o+1]&&66===e[o+2]||36===e[o+1]&&64===e[o+2]?s=1:40===e[o+1]&&73===e[o+2]?s=2:36===e[o+1]&&40===e[o+2]&&68===e[o+3]?(s=3,o++):s=0,o+=3,void 0===e[o])return n;1===s?(t=e[o],i=e[++o],1&t?(t>>=1,47>t?t+=113:t-=79,i+=i>95?32:31):(t>>=1,47>=t?t+=112:t-=80,i+=126),n[n.length]=255&t,n[n.length]=255&i):2===s?n[n.length]=e[o]+128&255:3===s?n[n.length]=De:n[n.length]=255&e[o]}return n}function h(e){for(var t=[],i=0,n=e&&e.length,s=0;n>s;s++){for(;27===e[s];)if(36===e[s+1]&&66===e[s+2]||36===e[s+1]&&64===e[s+2]?i=1:40===e[s+1]&&73===e[s+2]?i=2:36===e[s+1]&&40===e[s+2]&&68===e[s+3]?(i=3,s++):i=0,s+=3,void 0===e[s])return t;1===i?(t[t.length]=e[s]+128&255,t[t.length]=e[++s]+128&255):2===i?(t[t.length]=142,t[t.length]=e[s]+128&255):3===i?(t[t.length]=143,t[t.length]=e[s]+128&255,t[t.length]=e[++s]+128&255):t[t.length]=255&e[s]}return t}function p(e){for(var t,i,n=[],s=0,o=e&&e.length,r=0,a=[27,40,66,27,36,66,27,40,73];o>r;r++)t=e[r],t>=161&&223>=t?(2!==s&&(s=2,n[n.length]=a[6],n[n.length]=a[7],n[n.length]=a[8]),n[n.length]=t-128&255):t>=128?(1!==s&&(s=1,n[n.length]=a[3],n[n.length]=a[4],n[n.length]=a[5]),t<<=1,i=e[++r],159>i?(t-=319>t?225:97,i-=i>126?32:31):(t-=319>t?224:96,i-=126),n[n.length]=255&t,n[n.length]=255&i):(0!==s&&(s=0,n[n.length]=a[0],n[n.length]=a[1],n[n.length]=a[2]),n[n.length]=255&t);return 0!==s&&(n[n.length]=a[0],n[n.length]=a[1],n[n.length]=a[2]),n}function f(e){for(var t,i,n=[],s=e&&e.length,o=0;s>o;o++)t=e[o],t>=161&&223>=t?(n[n.length]=142,n[n.length]=t):t>=129?(i=e[++o],t<<=1,159>i?(t-=319>t?97:225,i+=i>126?96:97):(t-=319>t?96:224,i+=2),n[n.length]=255&t,n[n.length]=255&i):n[n.length]=255&t;return n}function m(e){for(var t,i=[],n=0,s=e&&e.length,o=0,r=[27,40,66,27,36,66,27,40,73,27,36,40,68];s>o;o++)t=e[o],142===t?(2!==n&&(n=2,i[i.length]=r[6],i[i.length]=r[7],i[i.length]=r[8]),i[i.length]=e[++o]-128&255):143===t?(3!==n&&(n=3,i[i.length]=r[9],i[i.length]=r[10],i[i.length]=r[11],i[i.length]=r[12]),i[i.length]=e[++o]-128&255,i[i.length]=e[++o]-128&255):t>142?(1!==n&&(n=1,i[i.length]=r[3],i[i.length]=r[4],i[i.length]=r[5]),i[i.length]=t-128&255,i[i.length]=e[++o]-128&255):(0!==n&&(n=0,i[i.length]=r[0],i[i.length]=r[1],i[i.length]=r[2]),i[i.length]=255&t);return 0!==n&&(i[i.length]=r[0],i[i.length]=r[1],i[i.length]=r[2]),i}function g(e){for(var t,i,n=[],s=e&&e.length,o=0;s>o;o++)t=e[o],143===t?(n[n.length]=De,o+=2):t>142?(i=e[++o],1&t?(t>>=1,t+=111>t?49:113,i-=i>223?96:97):(t>>=1,t+=111>=t?48:112,i-=2),n[n.length]=255&t,n[n.length]=255&i):142===t?n[n.length]=255&e[++o]:n[n.length]=255&t;return n}function v(e){xe();for(var t,i,n,s,o,r,a,l=[],c=0,u=e&&e.length;u>c;c++)t=e[c],t>=161&&223>=t?(n=t-64,s=188|n>>6&3,o=128|63&n,l[l.length]=239,l[l.length]=255&s,l[l.length]=255&o):t>=128?(i=t<<1,n=e[++c],159>n?(i-=319>i?225:97,n-=n>126?32:31):(i-=319>i?224:96,n-=126),i&=255,r=(i<<8)+n,a=qe[r],void 0===a?l[l.length]=De:65535>a?(l[l.length]=a>>8&255,l[l.length]=255&a):(l[l.length]=a>>16&255,l[l.length]=a>>8&255,l[l.length]=255&a)):l[l.length]=255&e[c];return l}function _(e){xe();for(var t,i,n,s,o,r,a,l,c=[],u=0,d=e&&e.length;d>u;u++)t=e[u],142===t?(i=e[++u]-64,n=188|i>>6&3,s=128|63&i,c[c.length]=239,c[c.length]=255&n,c[c.length]=255&s):143===t?(o=e[++u]-128,r=e[++u]-128,a=(o<<8)+r,l=Ke[a],void 0===l?c[c.length]=De:65535>l?(c[c.length]=l>>8&255,c[c.length]=255&l):(c[c.length]=l>>16&255,c[c.length]=l>>8&255,c[c.length]=255&l)):t>=128?(a=(t-128<<8)+(e[++u]-128),l=qe[a],void 0===l?c[c.length]=De:65535>l?(c[c.length]=l>>8&255,c[c.length]=255&l):(c[c.length]=l>>16&255,c[c.length]=l>>8&255,c[c.length]=255&l)):c[c.length]=255&e[u];return c}function b(e){xe();for(var t,i,n,s,o,r=[],a=0,l=0,c=e&&e.length;c>l;l++){for(;27===e[l];)if(36===e[l+1]&&66===e[l+2]||36===e[l+1]&&64===e[l+2]?a=1:40===e[l+1]&&73===e[l+2]?a=2:36===e[l+1]&&40===e[l+2]&&68===e[l+3]?(a=3,l++):a=0,l+=3,void 0===e[l])return r;1===a?(s=(e[l]<<8)+e[++l],o=qe[s],void 0===o?r[r.length]=De:65535>o?(r[r.length]=o>>8&255,r[r.length]=255&o):(r[r.length]=o>>16&255,r[r.length]=o>>8&255,r[r.length]=255&o)):2===a?(t=e[l]+64,i=188|t>>6&3,n=128|63&t,r[r.length]=239,r[r.length]=255&i,r[r.length]=255&n):3===a?(s=(e[l]<<8)+e[++l],o=Ke[s],void 0===o?r[r.length]=De:65535>o?(r[r.length]=o>>8&255,r[r.length]=255&o):(r[r.length]=o>>16&255,r[r.length]=o>>8&255,r[r.length]=255&o)):r[r.length]=255&e[l]}return r}function y(e){for(var t,i,n,s,o,r=[],a=0,l=e&&e.length;l>a;a++)t=e[a],t>=128?(s=223>=t?(t<<8)+e[++a]:(t<<16)+(e[++a]<<8)+(255&e[++a]),o=Be[s],void 0===o?r[r.length]=De:255>o?r[r.length]=o+128:(o>65536&&(o-=65536),i=o>>8,n=255&o,1&i?(i>>=1,47>i?i+=113:i-=79,n+=n>95?32:31):(i>>=1,47>=i?i+=112:i-=80,n+=126),r[r.length]=255&i,r[r.length]=255&n)):r[r.length]=255&e[a];return r}function T(e){for(var t,i,n,s=[],o=0,r=e&&e.length;r>o;o++)t=e[o],t>=128?(i=223>=t?(e[o++]<<8)+e[o]:(e[o++]<<16)+(e[o++]<<8)+(255&e[o]),n=Be[i],void 0===n?(n=We[i],void 0===n?s[s.length]=De:(s[s.length]=143,s[s.length]=(n>>8)-128&255,s[s.length]=(255&n)-128&255)):(n>65536&&(n-=65536),255>n?(s[s.length]=142,s[s.length]=n-128&255):(s[s.length]=(n>>8)-128&255,s[s.length]=(255&n)-128&255))):s[s.length]=255&e[o];return s}function w(e){for(var t,i,n,s=[],o=0,r=e&&e.length,a=0,l=[27,40,66,27,36,66,27,40,73,27,36,40,68];r>a;a++)t=e[a],128>t?(0!==o&&(o=0,s[s.length]=l[0],s[s.length]=l[1],s[s.length]=l[2]),s[s.length]=255&t):(i=223>=t?(e[a]<<8)+e[++a]:(e[a]<<16)+(e[++a]<<8)+e[++a],n=Be[i],void 0===n?(n=We[i],void 0===n?(0!==o&&(o=0,s[s.length]=l[0],s[s.length]=l[1],s[s.length]=l[2]),s[s.length]=De):(3!==o&&(o=3,s[s.length]=l[9],s[s.length]=l[10],s[s.length]=l[11],s[s.length]=l[12]),s[s.length]=n>>8&255,s[s.length]=255&n)):(n>65536&&(n-=65536),255>n?(2!==o&&(o=2,s[s.length]=l[6],s[s.length]=l[7],s[s.length]=l[8]),s[s.length]=255&n):(1!==o&&(o=1,s[s.length]=l[3],s[s.length]=l[4],s[s.length]=l[5]),s[s.length]=n>>8&255,s[s.length]=255&n)));return 0!==o&&(s[s.length]=l[0],s[s.length]=l[1],s[s.length]=l[2]),s}function S(e){for(var t,i,n=[],s=0,o=e&&e.length;o>s;s++)t=e[s],t>=55296&&56319>=t&&o>s+1&&(i=e[s+1],i>=56320&&57343>=i&&(t=1024*(t-55296)+i-56320+65536,s++)),128>t?n[n.length]=t:2048>t?(n[n.length]=192|t>>6&31,n[n.length]=128|63&t):65536>t?(n[n.length]=224|t>>12&15,n[n.length]=128|t>>6&63,n[n.length]=128|63&t):2097152>t&&(n[n.length]=240|t>>18&15,n[n.length]=128|t>>12&63,n[n.length]=128|t>>6&63,n[n.length]=128|63&t);return n}function C(e){for(var t,i,n,s,o,r,a=[],l=0,c=e&&e.length;c>l;)i=e[l++],t=i>>4,t>=0&&7>=t?r=i:12===t||13===t?(n=e[l++],r=(31&i)<<6|63&n):14===t?(n=e[l++],s=e[l++],r=(15&i)<<12|(63&n)<<6|63&s):15===t&&(n=e[l++],s=e[l++],o=e[l++],r=(7&i)<<18|(63&n)<<12|(63&s)<<6|63&o),65535>=r?a[a.length]=r:(r-=65536,a[a.length]=(r>>10)+55296,a[a.length]=r%1024+56320);return a}function E(e,t){var i;if(t&&t.bom){var n=t.bom;ge(n)||(n="BE");var s,o;"B"===n.charAt(0).toUpperCase()?(s=[254,255],o=x(e)):(s=[255,254],o=D(e)),i=[],i[0]=s[0],i[1]=s[1];for(var r=0,a=o.length;a>r;r++)i[i.length]=o[r]}else i=x(e);return i}function x(e){for(var t,i=[],n=0,s=e&&e.length;s>n;)t=e[n++],255>=t?(i[i.length]=0,i[i.length]=t):65535>=t&&(i[i.length]=t>>8&255,i[i.length]=255&t);return i}function D(e){for(var t,i=[],n=0,s=e&&e.length;s>n;)t=e[n++],255>=t?(i[i.length]=t,i[i.length]=0):65535>=t&&(i[i.length]=255&t,i[i.length]=t>>8&255);return i}function M(e){var t,i,n=[],s=0,o=e&&e.length;for(o>=2&&(254===e[0]&&255===e[1]||255===e[0]&&254===e[1])&&(s=2);o>s;)t=e[s++],i=e[s++],0===t?n[n.length]=i:n[n.length]=(255&t)<<8|255&i;return n}function I(e){var t,i,n=[],s=0,o=e&&e.length;
for(o>=2&&(254===e[0]&&255===e[1]||255===e[0]&&254===e[1])&&(s=2);o>s;)t=e[s++],i=e[s++],0===i?n[n.length]=t:n[n.length]=(255&i)<<8|255&t;return n}function N(e){for(var t,i,n=[],s=0,o=e&&e.length,r=!1,a=!0;o>s;)t=e[s++],i=e[s++],a&&2===s?(a=!1,254===t&&255===i?r=!1:255===t&&254===i?r=!0:(r=l(e),s=0)):r?0===i?n[n.length]=t:n[n.length]=(255&i)<<8|255&t:0===t?n[n.length]=i:n[n.length]=(255&t)<<8|255&i;return n}function k(e){for(var t,i,n=[],s=0,o=e&&e.length,r=!1,a=!0;o>s;)t=e[s++],i=e[s++],a&&2===s?(a=!1,254===t&&255===i?r=!1:255===t&&254===i?r=!0:(r=l(e),s=0)):r?(n[n.length]=i,n[n.length]=t):(n[n.length]=t,n[n.length]=i);return n}function O(e,t){var i,n=!1;if(t&&t.bom){var s=t.bom;ge(s)||(s="BE"),"B"===s.charAt(0).toUpperCase()?i=[254,255]:(i=[255,254],n=!0)}var o=[],r=e&&e.length,a=0;r>=2&&(254===e[0]&&255===e[1]||255===e[0]&&254===e[1])&&(a=2),i&&(o[0]=i[0],o[1]=i[1]);for(var l,c;r>a;)l=e[a++],c=e[a++],n?(o[o.length]=c,o[o.length]=l):(o[o.length]=l,o[o.length]=c);return o}function A(e){for(var t,i,n=[],s=0,o=e&&e.length,r=!1,a=!0;o>s;)t=e[s++],i=e[s++],a&&2===s?(a=!1,254===t&&255===i?r=!1:255===t&&254===i?r=!0:(r=l(e),s=0)):r?(n[n.length]=t,n[n.length]=i):(n[n.length]=i,n[n.length]=t);return n}function L(e,t){var i,n=!1;if(t&&t.bom){var s=t.bom;ge(s)||(s="BE"),"B"===s.charAt(0).toUpperCase()?i=[254,255]:(i=[255,254],n=!0)}var o=[],r=e&&e.length,a=0;r>=2&&(254===e[0]&&255===e[1]||255===e[0]&&254===e[1])&&(a=2),i&&(o[0]=i[0],o[1]=i[1]);for(var l,c;r>a;)l=e[a++],c=e[a++],n?(o[o.length]=l,o[o.length]=c):(o[o.length]=c,o[o.length]=l);return o}function P(e){var t,i,n=[],s=0,o=e&&e.length;for(o>=2&&(254===e[0]&&255===e[1]||255===e[0]&&254===e[1])&&(s=2);o>s;)t=e[s++],i=e[s++],n[n.length]=i,n[n.length]=t;return n}function R(e){return P(e)}function F(e){return w(S(e))}function j(e){return C(b(e))}function H(e){return T(S(e))}function U(e){return C(_(e))}function z(e){return y(S(e))}function V(e){return C(v(e))}function $(e,t){return E(C(e),t)}function B(e){return S(N(e))}function W(e){return x(C(e))}function q(e){return S(M(e))}function K(e){return D(C(e))}function Y(e){return S(I(e))}function G(e,t){return $(b(e),t)}function J(e){return w(B(e))}function X(e){return W(b(e))}function Q(e){return w(q(e))}function Z(e){return K(b(e))}function ee(e){return w(Y(e))}function te(e,t){return $(_(e),t)}function ie(e){return T(B(e))}function ne(e){return W(_(e))}function se(e){return T(q(e))}function oe(e){return K(_(e))}function re(e){return T(Y(e))}function ae(e,t){return $(v(e),t)}function le(e){return y(B(e))}function ce(e){return W(v(e))}function ue(e){return y(q(e))}function de(e){return K(v(e))}function he(e){return y(Y(e))}function pe(e){for(var t,i,n,s="",o=(""+e).toUpperCase().replace(/[^A-Z0-9]+/g,""),r=ve(He),a=r.length,l=0,c=0;a>c;c++){if(t=r[c],t===o){s=t;break}for(i=t.length,n=l;i>n;n++)(t.slice(0,n)===o.slice(0,n)||t.slice(-n)===o.slice(-n))&&(s=t,l=n)}return ke.call(He,s)?He[s]:s}function fe(e){return"[object Object]"===Ne.call(e)}function me(e){return Array.isArray?Array.isArray(e):"[object Array]"===Ne.call(e)}function ge(e){return"string"==typeof e||"[object String]"===Ne.call(e)}function ve(e){if(Object.keys)return Object.keys(e);var t=[];for(var i in e)ke.call(e,i)&&(t[t.length]=i);return t}function _e(e,t){if(!Oe)return new Array(t);switch(e){case 8:return new Uint8Array(t);case 16:return new Uint16Array(t)}}function be(e){for(var t=e.length,i=_e(16,t),n=0;t>n;n++)i[n]=e.charCodeAt(n);return i}function ye(e){if(Ae&&Le){var t=e&&e.length;if(Re>t){if(Fe)return Me.apply(null,e);if(null===Fe)try{var i=Me.apply(null,e);return t>Re&&(Fe=!0),i}catch(n){Fe=!1}}}return Te(e)}function Te(e){for(var t,i="",n=e&&e.length,s=0;n>s;){if(t=e.subarray?e.subarray(s,s+Re):e.slice(s,s+Re),s+=Re,!Fe){if(null===Fe)try{i+=Me.apply(null,t),t.length>Re&&(Fe=!0);continue}catch(o){Fe=!1}return we(e)}i+=Me.apply(null,t)}return i}function we(e){for(var t="",i=e&&e.length,n=0;i>n;n++)t+=Me(e[n]);return t}function Se(e){for(var t=[],i=e&&e.length,n=0;i>n;n++)t[n]=e.charCodeAt(n);return t}function Ce(e){if(Oe)return new Uint16Array(e);if(me(e))return e;for(var t=e&&e.length,i=[],n=0;t>n;n++)i[n]=e[n];return i}function Ee(e){return me(e)?e:Ie.call(e)}function xe(){if(null===qe){qe={};for(var e,t,i=ve(Be),n=0,s=i.length;s>n;n++)e=i[n],t=Be[e],t>95&&(qe[t]=0|e);for(Ke={},i=ve(We),s=i.length,n=0;s>n;n++)e=i[n],t=We[e],Ke[t]=0|e}}var De="?".charCodeAt(0),Me=String.fromCharCode,Ie=Array.prototype.slice,Ne=Object.prototype.toString,ke=Object.prototype.hasOwnProperty,Oe="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array,Ae=!1,Le=!1;try{"a"===Me.apply(null,[97])&&(Ae=!0)}catch(Pe){}if(Oe)try{"a"===Me.apply(null,new Uint8Array([97]))&&(Le=!0)}catch(Pe){}var Re=65533,Fe=null,je={UTF32:{order:0},UTF32BE:{alias:["UCS4"]},UTF32LE:null,UTF16:{order:1},UTF16BE:{alias:["UCS2"]},UTF16LE:null,BINARY:{order:2},ASCII:{order:3,alias:["ISO646","CP367"]},JIS:{order:4,alias:["ISO2022JP"]},UTF8:{order:5},EUCJP:{order:6},SJIS:{order:7,alias:["CP932","MSKANJI","WINDOWS31J"]},UNICODE:{order:8}},He={},Ue=function(){for(var e,t,i,n,s=He,o=ve(je),r=[],a=0,l=o.length;l>a;a++)if(e=o[a],s[e]=e,t=je[e],null!=t&&("undefined"!=typeof t.order&&(r[r.length]=e),t.alias))for(i=0,n=t.alias.length;n>i;i++)s[t.alias[i]]=e;return r.sort(function(e,t){return je[e].order-je[t].order}),r}(),ze={orders:Ue,detect:function(e,t){if(null==e||0===e.length)return!1;fe(t)&&(t=t.encoding),ge(e)&&(e=be(e)),null==t?t=ze.orders:ge(t)&&(t=t.toUpperCase(),t="AUTO"===t?ze.orders:~t.indexOf(",")?t.split(/\s*,\s*/):[t]);for(var i,n,s,o=t.length,r=0;o>r;r++)if(i=t[r],n=pe(i)){if(s="is"+n,!ke.call(Ve,s))throw new Error("Undefined encoding: "+i);if(Ve[s](e))return n}return!1},convert:function(e,t,i){var n,s,o={};fe(t)&&(o=t,i=o.from,t=o.to,o.type&&(s=o.type)),ge(e)?(s=s||"string",e=be(e)):(null==e||0===e.length)&&(e=[]);var r;r=null!=i&&ge(i)&&"AUTO"!==i.toUpperCase()&&!~i.indexOf(",")?pe(i):ze.detect(e);var a=pe(t),l=r+"To"+a;switch(n=ke.call($e,l)?$e[l](e,o):e,(""+s).toLowerCase()){case"string":return ye(n);case"arraybuffer":return Ce(n);case"array":default:return Ee(n)}},urlEncode:function(e){ge(e)&&(e=be(e));for(var t,i=Se("0123456789ABCDEF"),n=[],s=0,o=e&&e.length;o>s;s++){if(t=e[s],t>255)return encodeURIComponent(ye(e));t>=97&&122>=t||t>=65&&90>=t||t>=48&&57>=t||33===t||t>=39&&42>=t||45===t||46===t||95===t||126===t?n[n.length]=t:(n[n.length]=37,16>t?(n[n.length]=48,n[n.length]=i[t]):(n[n.length]=i[t>>4&15],n[n.length]=i[15&t]))}return ye(n)},urlDecode:function(e){for(var t,i=[],n=0,s=e&&e.length;s>n;)t=e.charCodeAt(n++),37===t?i[i.length]=parseInt(e.charAt(n++)+e.charAt(n++),16):i[i.length]=t;return i},codeToString:ye,stringToCode:Se,toHankakuCase:function(e){var t=!1;ge(e)&&(t=!0,e=be(e));for(var i,n=[],s=e&&e.length,o=0;s>o;)i=e[o++],i>=65281&&65374>=i&&(i-=65248),n[n.length]=i;return t?ye(n):n},toZenkakuCase:function(e){var t=!1;ge(e)&&(t=!0,e=be(e));for(var i,n=[],s=e&&e.length,o=0;s>o;)i=e[o++],i>=33&&126>=i&&(i+=65248),n[n.length]=i;return t?ye(n):n},toHiraganaCase:function(e){var t=!1;ge(e)&&(t=!0,e=be(e));for(var i,n=[],s=e&&e.length,o=0;s>o;)i=e[o++],i>=12449&&12534>=i?i-=96:12535===i?(n[n.length]=12431,i=12443):12538===i&&(n[n.length]=12434,i=12443),n[n.length]=i;return t?ye(n):n},toKatakanaCase:function(e){var t=!1;ge(e)&&(t=!0,e=be(e));for(var i,n=[],s=e&&e.length,o=0;s>o;)i=e[o++],i>=12353&&12438>=i&&((12431===i||12434===i)&&s>o&&12443===e[o]?(i=12431===i?12535:12538,o++):i+=96),n[n.length]=i;return t?ye(n):n},toHankanaCase:function(e){var t=!1;ge(e)&&(t=!0,e=be(e));for(var i,n,s,o=[],r=e&&e.length,a=0;r>a;)i=e[a++],i>=12289&&12540>=i&&(s=Ye[i],void 0!==s)?o[o.length]=s:12532===i||12535===i||12538===i?(o[o.length]=Ge[i],o[o.length]=65438):i>=12459&&12489>=i?(o[o.length]=Ye[i-1],o[o.length]=65438):i>=12495&&12509>=i?(n=i%3,o[o.length]=Ye[i-n],o[o.length]=Je[n-1]):o[o.length]=i;return t?ye(o):o},toZenkanaCase:function(e){var t=!1;ge(e)&&(t=!0,e=be(e));var i,n,s,o=[],r=e&&e.length,a=0;for(a=0;r>a;a++)i=e[a],i>65376&&65440>i&&(n=Xe[i-65377],r>a+1&&(s=e[a+1],65438===s&&65395===i?(n=12532,a++):65438===s&&65436===i?(n=12535,a++):65438===s&&65382===i?(n=12538,a++):65438===s&&(i>65397&&65413>i||i>65417&&65423>i)?(n++,a++):65439===s&&i>65417&&65423>i&&(n+=2,a++)),i=n),o[o.length]=i;return t?ye(o):o},toHankakuSpace:function(e){if(ge(e))return e.replace(/\u3000/g," ");for(var t,i=[],n=e&&e.length,s=0;n>s;)t=e[s++],12288===t&&(t=32),i[i.length]=t;return i},toZenkakuSpace:function(e){if(ge(e))return e.replace(/\u0020/g,"");for(var t,i=[],n=e&&e.length,s=0;n>s;)t=e[s++],32===t&&(t=12288),i[i.length]=t;return i}},Ve={isBINARY:e,isASCII:t,isJIS:i,isEUCJP:n,isSJIS:s,isUTF8:o,isUTF16:r,isUTF16BE:a,isUTF16LE:l,isUTF32:c,isUNICODE:u},$e={JISToEUCJP:h,EUCJPToJIS:m,JISToSJIS:d,SJISToJIS:p,EUCJPToSJIS:g,SJISToEUCJP:f,JISToUTF8:b,UTF8ToJIS:w,EUCJPToUTF8:_,UTF8ToEUCJP:T,SJISToUTF8:v,UTF8ToSJIS:y,UNICODEToUTF8:S,UTF8ToUNICODE:C,UNICODEToJIS:F,JISToUNICODE:j,UNICODEToEUCJP:H,EUCJPToUNICODE:U,UNICODEToSJIS:z,SJISToUNICODE:V,UNICODEToUTF16:E,UTF16ToUNICODE:N,UNICODEToUTF16BE:x,UTF16BEToUNICODE:M,UNICODEToUTF16LE:D,UTF16LEToUNICODE:I,UTF8ToUTF16:$,UTF16ToUTF8:B,UTF8ToUTF16BE:W,UTF16BEToUTF8:q,UTF8ToUTF16LE:K,UTF16LEToUTF8:Y,UTF16ToUTF16BE:k,UTF16BEToUTF16:O,UTF16ToUTF16LE:A,UTF16LEToUTF16:L,UTF16BEToUTF16LE:P,UTF16LEToUTF16BE:R,JISToUTF16:G,UTF16ToJIS:J,JISToUTF16BE:X,UTF16BEToJIS:Q,JISToUTF16LE:Z,UTF16LEToJIS:ee,EUCJPToUTF16:te,UTF16ToEUCJP:ie,EUCJPToUTF16BE:ne,UTF16BEToEUCJP:se,EUCJPToUTF16LE:oe,UTF16LEToEUCJP:re,SJISToUTF16:ae,UTF16ToSJIS:le,SJISToUTF16BE:ce,UTF16BEToSJIS:ue,SJISToUTF16LE:de,UTF16LEToSJIS:he},Be={15711649:33,15711650:34,15711651:35,15711652:36,15711653:37,15711654:38,15711655:39,15711656:40,15711657:41,15711658:42,15711659:43,15711660:44,15711661:45,15711662:46,15711663:47,15711664:48,15711665:49,15711666:50,15711667:51,15711668:52,15711669:53,15711670:54,15711671:55,15711672:56,15711673:57,15711674:58,15711675:59,15711676:60,15711677:61,15711678:62,15711679:63,15711872:64,15711873:65,15711874:66,15711875:67,15711876:68,15711877:69,15711878:70,15711879:71,15711880:72,15711881:73,15711882:74,15711883:75,15711884:76,15711885:77,15711886:78,15711887:79,15711888:80,15711889:81,15711890:82,15711891:83,15711892:84,15711893:85,15711894:86,15711895:87,15711896:88,15711897:89,15711898:90,15711899:91,15711900:92,15711901:93,15711902:94,15711903:95,14848416:11553,14848417:11554,14848418:11555,14848419:11556,14848420:11557,14848421:11558,14848422:11559,14848423:11560,14848424:11561,14848425:11562,14848426:11563,14848427:11564,14848428:11565,14848429:11566,14848430:11567,14848431:11568,14848432:11569,14848433:11570,14848434:11571,14848435:11572,14845344:11573,14845345:11574,14845346:11575,14845347:11576,14845348:11577,14845349:11578,14845350:11579,14845351:11580,14845352:11581,14845353:11582,14912905:11584,14912660:11585,14912674:11586,14912909:11587,14912664:11588,14912679:11589,14912643:11590,14912694:11591,14912913:11592,14912919:11593,14912653:11594,14912678:11595,14912675:11596,14912683:11597,14912906:11598,14912699:11599,14913180:11600,14913181:11601,14913182:11602,14913166:11603,14913167:11604,14913412:11605,14913185:11606,14912955:11615,14909597:11616,14909599:11617,14845078:11618,14913421:11619,14845089:11620,14912164:11621,14912165:11622,14912166:11623,14912167:11624,14912168:11625,14911665:11626,14911666:11627,14911673:11628,14912958:11629,14912957:11630,14912956:11631,14846126:11635,14846097:11636,14846111:11640,14846655:11641,14909568:8481,14909569:8482,14909570:8483,15711372:8484,15711374:8485,14910395:8486,15711386:8487,15711387:8488,15711391:8489,15711361:8490,14910107:8491,14910108:8492,49844:8493,15711616:8494,49832:8495,15711422:8496,15712163:8497,15711423:8498,14910397:8499,14910398:8500,14910109:8501,14910110:8502,14909571:8503,14990237:8504,14909573:8505,14909574:8506,14909575:8507,14910396:8508,14844053:8509,14844048:8510,15711375:8511,15711420:8512,15711646:8513,14844054:8514,15711644:8515,14844070:8516,14844069:8517,14844056:8518,14844057:8519,14844060:8520,14844061:8521,15711368:8522,15711369:8523,14909588:8524,14909589:8525,15711419:8526,15711421:8527,15711643:8528,15711645:8529,14909576:8530,14909577:8531,14909578:8532,14909579:8533,14909580:8534,14909581:8535,14909582:8536,14909583:8537,14909584:8538,14909585:8539,15711371:8540,15711373:8541,49841:8542,50071:8543,50103:8544,15711389:8545,14846368:8546,15711388:8547,15711390:8548,14846374:8549,14846375:8550,14846110:8551,14846132:8552,14850434:8553,14850432:8554,49840:8555,14844082:8556,14844083:8557,14845059:8558,15712165:8559,15711364:8560,15712160:8561,15712161:8562,15711365:8563,15711363:8564,15711366:8565,15711370:8566,15711392:8567,49831:8568,14850182:8569,14850181:8570,14849931:8571,14849935:8572,14849934:8573,14849927:8574,14849926:8737,14849697:8738,14849696:8739,14849715:8740,14849714:8741,14849725:8742,14849724:8743,14844091:8744,14909586:8745,14845586:8746,14845584:8747,14845585:8748,14845587:8749,14909587:8750,14846088:8762,14846091:8763,14846598:8764,14846599:8765,14846594:8766,14846595:8767,14846122:8768,14846121:8769,14846119:8778,14846120:8779,49836:8780,14845842:8781,14845844:8782,14846080:8783,14846083:8784,14846112:8796,14846629:8797,14847122:8798,14846082:8799,14846087:8800,14846369:8801,14846354:8802,14846378:8803,14846379:8804,14846106:8805,14846141:8806,14846109:8807,14846133:8808,14846123:8809,14846124:8810,14845099:8818,14844080:8819,14850479:8820,14850477:8821,14850474:8822,14844064:8823,14844065:8824,49846:8825,14849967:8830,15711376:9008,15711377:9009,15711378:9010,15711379:9011,15711380:9012,15711381:9013,15711382:9014,15711383:9015,15711384:9016,15711385:9017,15711393:9025,15711394:9026,15711395:9027,15711396:9028,15711397:9029,15711398:9030,15711399:9031,15711400:9032,15711401:9033,15711402:9034,15711403:9035,15711404:9036,15711405:9037,15711406:9038,15711407:9039,15711408:9040,15711409:9041,15711410:9042,15711411:9043,15711412:9044,15711413:9045,15711414:9046,15711415:9047,15711416:9048,15711417:9049,15711418:9050,15711617:9057,15711618:9058,15711619:9059,15711620:9060,15711621:9061,15711622:9062,15711623:9063,15711624:9064,15711625:9065,15711626:9066,15711627:9067,15711628:9068,15711629:9069,15711630:9070,15711631:9071,15711632:9072,15711633:9073,15711634:9074,15711635:9075,15711636:9076,15711637:9077,15711638:9078,15711639:9079,15711640:9080,15711641:9081,15711642:9082,14909825:9249,14909826:9250,14909827:9251,14909828:9252,14909829:9253,14909830:9254,14909831:9255,14909832:9256,14909833:9257,14909834:9258,14909835:9259,14909836:9260,14909837:9261,14909838:9262,14909839:9263,14909840:9264,14909841:9265,14909842:9266,14909843:9267,14909844:9268,14909845:9269,14909846:9270,14909847:9271,14909848:9272,14909849:9273,14909850:9274,14909851:9275,14909852:9276,14909853:9277,14909854:9278,14909855:9279,14909856:9280,14909857:9281,14909858:9282,14909859:9283,14909860:9284,14909861:9285,14909862:9286,14909863:9287,14909864:9288,14909865:9289,14909866:9290,14909867:9291,14909868:9292,14909869:9293,14909870:9294,14909871:9295,14909872:9296,14909873:9297,14909874:9298,14909875:9299,14909876:9300,14909877:9301,14909878:9302,14909879:9303,14909880:9304,14909881:9305,14909882:9306,14909883:9307,14909884:9308,14909885:9309,14909886:9310,14909887:9311,14910080:9312,14910081:9313,14910082:9314,14910083:9315,14910084:9316,14910085:9317,14910086:9318,14910087:9319,14910088:9320,14910089:9321,14910090:9322,14910091:9323,14910092:9324,14910093:9325,14910094:9326,14910095:9327,14910096:9328,14910097:9329,14910098:9330,14910099:9331,14910113:9505,14910114:9506,14910115:9507,14910116:9508,14910117:9509,14910118:9510,14910119:9511,14910120:9512,14910121:9513,14910122:9514,14910123:9515,14910124:9516,14910125:9517,14910126:9518,14910127:9519,14910128:9520,14910129:9521,14910130:9522,14910131:9523,14910132:9524,14910133:9525,14910134:9526,14910135:9527,14910136:9528,14910137:9529,14910138:9530,14910139:9531,14910140:9532,14910141:9533,14910142:9534,14910143:9535,14910336:9536,14910337:9537,14910338:9538,14910339:9539,14910340:9540,14910341:9541,14910342:9542,14910343:9543,14910344:9544,14910345:9545,14910346:9546,14910347:9547,14910348:9548,14910349:9549,14910350:9550,14910351:9551,14910352:9552,14910353:9553,14910354:9554,14910355:9555,14910356:9556,14910357:9557,14910358:9558,14910359:9559,14910360:9560,14910361:9561,14910362:9562,14910363:9563,14910364:9564,14910365:9565,14910366:9566,14910367:9567,14910368:9568,14910369:9569,14910370:9570,14910371:9571,14910372:9572,14910373:9573,14910374:9574,14910375:9575,14910376:9576,14910377:9577,14910378:9578,14910379:9579,14910380:9580,14910381:9581,14910382:9582,14910383:9583,14910384:9584,14910385:9585,14910386:9586,14910387:9587,14910388:9588,14910389:9589,14910390:9590,52881:9761,52882:9762,52883:9763,52884:9764,52885:9765,52886:9766,52887:9767,52888:9768,52889:9769,52890:9770,52891:9771,52892:9772,52893:9773,52894:9774,52895:9775,52896:9776,52897:9777,52899:9778,52900:9779,52901:9780,52902:9781,52903:9782,52904:9783,52905:9784,52913:9793,52914:9794,52915:9795,52916:9796,52917:9797,52918:9798,52919:9799,52920:9800,52921:9801,52922:9802,52923:9803,52924:9804,52925:9805,52926:9806,52927:9807,53120:9808,53121:9809,53123:9810,53124:9811,53125:9812,53126:9813,53127:9814,53128:9815,53129:9816,53392:10017,53393:10018,53394:10019,53395:10020,53396:10021,53397:10022,53377:10023,53398:10024,53399:10025,53400:10026,53401:10027,53402:10028,53403:10029,53404:10030,53405:10031,53406:10032,53407:10033,53408:10034,53409:10035,53410:10036,53411:10037,53412:10038,53413:10039,53414:10040,53415:10041,53416:10042,53417:10043,53418:10044,53419:10045,53420:10046,53421:10047,53422:10048,53423:10049,53424:10065,53425:10066,53426:10067,53427:10068,53428:10069,53429:10070,53649:10071,53430:10072,53431:10073,53432:10074,53433:10075,53434:10076,53435:10077,53436:10078,53437:10079,53438:10080,53439:10081,53632:10082,53633:10083,53634:10084,53635:10085,53636:10086,53637:10087,53638:10088,53639:10089,53640:10090,53641:10091,53642:10092,53643:10093,53644:10094,53645:10095,53646:10096,53647:10097,14849152:10273,14849154:10274,14849164:10275,14849168:10276,14849176:10277,14849172:10278,14849180:10279,14849196:10280,14849188:10281,14849204:10282,14849212:10283,14849153:10284,14849155:10285,14849167:10286,14849171:10287,14849179:10288,14849175:10289,14849187:10290,14849203:10291,14849195:10292,14849211:10293,14849419:10294,14849184:10295,14849199:10296,14849192:10297,14849207:10298,14849215:10299,14849181:10300,14849200:10301,14849189:10302,14849208:10303,14849410:10304,14989980:12321,15045782:12322,15050883:12323,15308991:12324,15045504:12325,15107227:12326,15109288:12327,15050678:12328,15302818:12329,15241653:12330,15240348:12331,15182224:12332,15106730:12333,15110049:12334,15120549:12335,15112109:12336,15241638:12337,15239846:12338,15314869:12339,15114899:12340,15047847:12341,15111841:12342,15108529:12343,15052443:12344,15050640:12345,15243707:12346,15311796:12347,15185314:12348,15185598:12349,15314574:12350,15108246:12351,15184543:12352,15246007:12353,15052425:12354,15055541:12355,15109257:12356,15112855:12357,15114632:12358,15308679:12359,15310477:12360,15113615:12361,14990245:12362,14990474:12363,14990733:12364,14991005:12365,15040905:12366,15047602:12367,15049911:12368,15050644:12369,15050881:12370,15052937:12371,15106975:12372,15107215:12373,15107504:12374,15112339:12375,15115397:12376,15172282:12377,15177103:12378,15177136:12379,15181755:12380,15185581:12381,15185839:12382,15238019:12383,15241358:12384,15245731:12385,15248514:12386,15303061:12387,15303098:12388,15043771:12389,14989973:12390,14989989:12391,15048607:12392,15237810:12393,15303553:12394,15180719:12395,14989440:12396,15049649:12397,15121058:12398,15302840:12399,15182002:12400,15240360:12401,15239819:12402,15315119:12403,15041921:12404,15044016:12405,15045309:12406,15045537:12407,15047584:12408,15050683:12409,15056021:12410,15311794:12411,15120299:12412,15238052:12413,15242413:12414,15309218:12577,15309232:12578,15309472:12579,15310779:12580,15044747:12581,15044531:12582,15052423:12583,15172495:12584,15187645:12585,15253378:12586,15309736:12587,15044015:12588,15316380:12589,15182522:12590,14989457:12591,15180435:12592,15239100:12593,15120550:12594,15046808:12595,15045764:12596,15117469:12597,15242394:12598,15315131:12599,15050661:12600,15044265:12601,15119782:12602,15176604:12603,15308431:12604,15047042:12605,14989969:12606,15303051:12607,15309746:12608,15240591:12609,15312012:12610,15044513:12611,15046326:12612,15051952:12613,15056305:12614,15112352:12615,15113139:12616,15114372:12617,15118520:12618,15119283:12619,15119529:12620,15176091:12621,15178632:12622,15182222:12623,15311028:12624,15240113:12625,15245723:12626,15247776:12627,15305645:12628,15120050:12629,15177387:12630,15178634:12631,15312773:12632,15106726:12633,15248513:12634,15251082:12635,15308466:12636,15115918:12637,15044269:12638,15042182:12639,15047826:12640,15048880:12641,15050116:12642,15052468:12643,15055798:12644,15106216:12645,15109801:12646,15110068:12647,15119039:12648,15121556:12649,15172238:12650,15172756:12651,15173017:12652,15173525:12653,15174847:12654,15186049:12655,15239606:12656,15240081:12657,15242903:12658,15303072:12659,15305115:12660,15316123:12661,15049129:12662,15111868:12663,15118746:12664,15176869:12665,15042489:12666,15049902:12667,15050149:12668,15056512:12669,15056796:12670,15108796:12833,15112122:12834,15116458:12835,15117479:12836,15118004:12837,15175307:12838,15187841:12839,15246742:12840,15316140:12841,15316110:12842,15317892:12843,15053473:12844,15118998:12845,15240635:12846,15041668:12847,15053195:12848,15107766:12849,15239046:12850,15114678:12851,15174049:12852,14989721:12853,14991290:12854,15044024:12855,15106473:12856,15120553:12857,15182223:12858,15310771:12859,14989451:12860,15043734:12861,14990254:12862,14990741:12863,14990525:12864,14991009:12865,14990771:12866,15043232:12867,15044527:12868,15046793:12869,15049871:12870,15051649:12871,15052470:12872,15052705:12873,15181713:12874,15112839:12875,15113884:12876,15113910:12877,15117708:12878,15119027:12879,15172011:12880,15175554:12881,15181453:12882,15181502:12883,15182012:12884,15183495:12885,15239857:12886,15240091:12887,15240324:12888,15240631:12889,15241135:12890,15241107:12891,15244710:12892,15248050:12893,15046825:12894,15250088:12895,15253414:12896,15303054:12897,15309982:12898,15243914:12899,14991236:12900,15053736:12901,15108241:12902,15174041:12903,15176891:12904,15239077:12905,15239869:12906,15244222:12907,15250304:12908,15309701:12909,15312019:12910,15312789:12911,14990219:12912,14990490:12913,15247267:12914,15047582:12915,15049098:12916,15049610:12917,15055803:12918,15056811:12919,15106218:12920,15106708:12921,15106466:12922,15107984:12923,15108242:12924,15109008:12925,15111353:12926,15314305:13089,15112614:13090,15114928:13091,15119799:13092,15172016:13093,15177100:13094,15178374:13095,15185333:13096,15239845:13097,15245241:13098,15308427:13099,15309454:13100,15250077:13101,15042481:13102,15043262:13103,15049878:13104,15045299:13105,15052467:13106,15053974:13107,15107496:13108,15115906:13109,15120047:13110,15180429:13111,15242123:13112,15245719:13113,15247794:13114,15306407:13115,15313592:13116,15119788:13117,15312552:13118,15244185:13119,15048355:13120,15114175:13121,15244174:13122,15304846:13123,15043203:13124,15047303:13125,15044740:13126,15055763:13127,15109025:13128,15110841:13129,15114428:13130,15114424:13131,15118011:13132,15175090:13133,15180474:13134,15182251:13135,15247002:13136,15247250:13137,15250859:13138,15252611:13139,15303597:13140,15308451:13141,15309460:13142,15310249:13143,15052198:13144,15053491:13145,15115709:13146,15311245:13147,15311246:13148,15109787:13149,15183008:13150,15116459:13151,15116735:13152,15114934:13153,15315085:13154,15121823:13155,15042994:13156,15046301:13157,15106480:13158,15109036:13159,15119547:13160,15120519:13161,15121297:13162,15241627:13163,15246480:13164,15252868:13165,14989460:13166,15315129:13167,15044534:13168,15115419:13169,15116474:13170,15310468:13171,15114410:13172,15041948:13173,15182723:13174,15241906:13175,15304604:13176,15306380:13177,15047067:13178,15316136:13179,15114402:13180,15240325:13181,15241393:13182,15184549:13345,15042696:13346,15240069:13347,15176614:13348,14989758:13349,14990979:13350,15042208:13351,15052690:13352,15042698:13353,15043480:13354,15043495:13355,15054779:13356,15046298:13357,15048874:13358,15050662:13359,15052428:13360,15052440:13361,15052699:13362,15055282:13363,15055289:13364,15106723:13365,15107231:13366,15107491:13367,15107774:13368,15110043:13369,15111586:13370,15114129:13371,15114643:13372,15115194:13373,15117502:13374,15117715:13375,15118743:13376,15121570:13377,15122071:13378,15121797:13379,15176368:13380,15176856:13381,15178659:13382,15178891:13383,15182783:13384,15183521:13385,15184033:13386,15185833:13387,15187126:13388,15187888:13389,15237789:13390,15239590:13391,15240862:13392,15247027:13393,15248268:13394,15250091:13395,15303300:13396,15307153:13397,15308435:13398,15308433:13399,15308450:13400,15309221:13401,15310739:13402,15312040:13403,15239320:13404,14989496:13405,15044779:13406,15053496:13407,15054732:13408,15175337:13409,15178124:13410,15178940:13411,15053481:13412,15187883:13413,15250571:13414,15309697:13415,15310993:13416,15311252:13417,15311256:13418,14990465:13419,14990478:13420,15044017:13421,15046300:13422,15047080:13423,15048634:13424,15050119:13425,15051913:13426,15052676:13427,15053456:13428,15054988:13429,15055294:13430,15056780:13431,15110062:13432,15113402:13433,15112087:13434,15112098:13435,15113375:13436,15115147:13437,15115140:13438,15116703:13601,15055024:13602,15118213:13603,15118487:13604,15118781:13605,15177151:13606,15181192:13607,15052195:13608,15181952:13609,15185024:13610,15056573:13611,15246991:13612,15247512:13613,15250100:13614,15250871:13615,15252364:13616,15252637:13617,15311778:13618,15313038:13619,15314108:13620,14989952:13621,15040957:13622,15041664:13623,15050387:13624,15052444:13625,15108271:13626,15108736:13627,15111084:13628,15117498:13629,15174304:13630,15177361:13631,15181191:13632,15187625:13633,15245243:13634,15248060:13635,15248816:13636,15109804:13637,15241098:13638,15310496:13639,15044745:13640,15044739:13641,15046315:13642,15114644:13643,15116696:13644,15247792:13645,15179943:13646,15113653:13647,15317901:13648,15044020:13649,15052450:13650,15238298:13651,15243664:13652,15302790:13653,14989464:13654,14989701:13655,14990215:13656,14990481:13657,15044490:13658,15044792:13659,15052462:13660,15056019:13661,15106213:13662,15111569:13663,15113405:13664,15118722:13665,15118770:13666,15119267:13667,15172024:13668,15175811:13669,15182262:13670,15182510:13671,15182984:13672,15185050:13673,15184830:13674,15185318:13675,15112103:13676,15174043:13677,15044283:13678,15053189:13679,15054760:13680,15109010:13681,15109024:13682,15109273:13683,15120544:13684,15243674:13685,15247537:13686,15251357:13687,15305656:13688,15121537:13689,15181478:13690,15314330:13691,14989992:13692,14989995:13693,14989996:13694,14991003:13857,14991008:13858,15041425:13859,15041927:13860,15182774:13861,15041969:13862,15042486:13863,15043988:13864,15043745:13865,15044031:13866,15044523:13867,15046316:13868,15049347:13869,15053729:13870,15056055:13871,15056266:13872,15106223:13873,15106448:13874,15106477:13875,15109279:13876,15111577:13877,15116683:13878,15119233:13879,15174530:13880,15174573:13881,15179695:13882,15238072:13883,15238277:13884,15239304:13885,15242638:13886,15303607:13887,15306657:13888,15310783:13889,15312279:13890,15313306:13891,14990256:13892,15042461:13893,15052973:13894,15112833:13895,15115693:13896,15053184:13897,15113138:13898,15115701:13899,15175305:13900,15114640:13901,15184513:13902,15041413:13903,15043492:13904,15048071:13905,15054782:13906,15305894:13907,15111844:13908,15117475:13909,15117501:13910,15175860:13911,15181441:13912,15181501:13913,15183243:13914,15185802:13915,15239865:13916,15241100:13917,15245759:13918,15246751:13919,15248569:13920,15253393:13921,15304593:13922,15044767:13923,15305344:13924,14989725:13925,15040694:13926,15044517:13927,15043770:13928,15174551:13929,15175318:13930,15179689:13931,15240102:13932,15252143:13933,15312774:13934,15312776:13935,15312786:13936,15041975:13937,15107226:13938,15243678:13939,15046320:13940,15182266:13941,15040950:13942,15052691:13943,15303047:13944,15309445:13945,14989490:13946,15117211:13947,15304615:13948,15053201:13949,15053192:13950,15109784:14113,15182495:14114,15118995:14115,15310260:14116,15252897:14117,15182506:14118,15173258:14119,15309448:14120,15184514:14121,15114391:14122,15186352:14123,15114641:14124,15306156:14125,15043506:14126,15044763:14127,15242923:14128,15247507:14129,15187620:14130,15252365:14131,15303585:14132,15044006:14133,15245960:14134,15181185:14135,14991234:14136,15041214:14137,15042705:14138,15041924:14139,15046035:14140,15047853:14141,15175594:14142,15048331:14143,15050129:14144,15056290:14145,15056516:14146,15106485:14147,15107510:14148,15107495:14149,15107753:14150,15109810:14151,15110330:14152,15111596:14153,15112623:14154,15114626:14155,15120531:14156,15177126:14157,15182013:14158,15184827:14159,15185292:14160,15185561:14161,15186315:14162,15187371:14163,15240334:14164,15240586:14165,15244173:14166,15247496:14167,15247779:14168,15248806:14169,15252413:14170,15311002:14171,15316623:14172,15239864:14173,15253390:14174,15314856:14175,15043207:14176,15108255:14177,15110787:14178,15122304:14179,15309465:14180,15114625:14181,15041169:14182,15117472:14183,15118778:14184,15121812:14185,15182260:14186,15185296:14187,15245696:14188,15247523:14189,15113352:14190,14990262:14191,15040697:14192,15040678:14193,15040933:14194,15041980:14195,15042744:14196,15042979:14197,15046311:14198,15047823:14199,15048837:14200,15051660:14201,15055802:14202,15107762:14203,15108024:14204,15109043:14205,15109554:14206,15115420:14369,15116457:14370,15174077:14371,15174316:14372,15174830:14373,15179924:14374,15180207:14375,15185337:14376,15178892:14377,15237801:14378,15246987:14379,15248537:14380,15250338:14381,15252370:14382,15303075:14383,15306165:14384,15309242:14385,15311253:14386,15313043:14387,15317432:14388,15041923:14389,15044255:14390,15044275:14391,15055291:14392,15056038:14393,15120539:14394,15121040:14395,15175300:14396,15175614:14397,15185283:14398,15239351:14399,15247488:14400,15248314:14401,15309200:14402,14989710:14403,15040651:14404,15044516:14405,15045052:14406,15047610:14407,15050641:14408,15052196:14409,15054769:14410,15055531:14411,15056039:14412,15108280:14413,15111557:14414,15113903:14415,15120790:14416,15174544:14417,15184778:14418,15246004:14419,15237793:14420,15238049:14421,15241136:14422,15243662:14423,15248007:14424,15251368:14425,15304887:14426,15309703:14427,15311271:14428,15318163:14429,14989972:14430,14989970:14431,14990477:14432,15043976:14433,15045001:14434,15044798:14435,15050927:14436,15056524:14437,15056545:14438,15106719:14439,15114919:14440,15116942:14441,15176090:14442,15180417:14443,15248030:14444,15248036:14445,15248823:14446,15304336:14447,14989726:14448,15314825:14449,14989988:14450,14990780:14451,14991023:14452,15040665:14453,15040662:14454,15041929:14455,15041964:14456,15043231:14457,15043257:14458,15043518:14459,15044250:14460,15044515:14461,15044753:14462,15044750:14625,15046281:14626,15048081:14627,15048354:14628,15050173:14629,15052180:14630,15052189:14631,15052431:14632,15054757:14633,15054759:14634,15054775:14635,15055288:14636,15055491:14637,15055514:14638,15055543:14639,15056024:14640,15106450:14641,15107468:14642,15108759:14643,15109016:14644,15109799:14645,15111355:14646,15112322:14647,15112579:14648,15113140:14649,15113645:14650,15114401:14651,15114903:14652,15116171:14653,15118751:14654,15119530:14655,15119785:14656,15120559:14657,15121053:14658,15176882:14659,15178375:14660,15180204:14661,15182015:14662,15184800:14663,15185029:14664,15185048:14665,15185310:14666,15185585:14667,15237269:14668,15237251:14669,15237807:14670,15237809:14671,15238548:14672,15238799:14673,15239338:14674,15240594:14675,15245708:14676,
15245729:14677,15248539:14678,15250082:14679,15250364:14680,15303562:14681,15304117:14682,15305137:14683,15179967:14684,15305660:14685,15308452:14686,15309197:14687,15310981:14688,15312537:14689,15313816:14690,15316155:14691,15042971:14692,15043243:14693,15044535:14694,15044744:14695,15049621:14696,15109047:14697,15122336:14698,15249834:14699,15252895:14700,15317689:14701,15041931:14702,15042747:14703,15045002:14704,15047613:14705,15182208:14706,15304119:14707,15316384:14708,15317906:14709,15175044:14710,15121545:14711,15238576:14712,15176849:14713,15056829:14714,15106970:14715,15313576:14716,15174555:14717,15253180:14718,15117732:14881,15310979:14882,14990218:14883,15047600:14884,15048100:14885,15049406:14886,15051162:14887,15106472:14888,15107975:14889,15112335:14890,15112326:14891,15114425:14892,15114929:14893,15120311:14894,15177621:14895,15185082:14896,15239598:14897,15314306:14898,14989979:14899,14990736:14900,15044489:14901,15045766:14902,15054255:14903,15054758:14904,15054766:14905,15114171:14906,15119001:14907,15176115:14908,15179906:14909,15247760:14910,15306390:14911,15246239:14912,15048080:14913,15055527:14914,15109291:14915,15041205:14916,15041196:14917,15042189:14918,15113344:14919,15045513:14920,15049118:14921,15050427:14922,15052464:14923,15056297:14924,15108493:14925,15109793:14926,15114429:14927,15117747:14928,15120520:14929,15172029:14930,15304583:14931,15174272:14932,15179925:14933,15179942:14934,15181229:14935,15111822:14936,15185072:14937,15241116:14938,15246209:14939,15252617:14940,15309467:14941,15042980:14942,15047848:14943,15113616:14944,15187370:14945,15250081:14946,15042228:14947,15048066:14948,15308970:14949,15048890:14950,15115914:14951,15237812:14952,15045298:14953,15053966:14954,15048636:14955,15180437:14956,15316922:14957,14990748:14958,15042954:14959,15045259:14960,15110334:14961,15112360:14962,15113364:14963,15114165:14964,15182468:14965,15183254:14966,15185058:14967,15305903:14968,15114652:14969,15314605:14970,15183033:14971,15043737:14972,15042186:14973,15042743:14974,15052703:15137,15109046:15138,15110830:15139,15111078:15140,15113389:15141,15118010:15142,15242921:15143,15309713:15144,15178384:15145,15314838:15146,15109516:15147,15305862:15148,15314603:15149,15178431:15150,15112594:15151,14989449:15152,15041176:15153,15044482:15154,15053233:15155,15106984:15156,15110802:15157,15111587:15158,15114655:15159,15173542:15160,15175562:15161,15176867:15162,15183511:15163,15186562:15164,15243925:15165,15249027:15166,15250331:15167,15304120:15168,15312016:15169,15111852:15170,15112875:15171,15117963:15172,14990229:15173,14990228:15174,14990522:15175,14990783:15176,15042746:15177,15044536:15178,15044530:15179,15046563:15180,15047579:15181,15049643:15182,15050635:15183,15050633:15184,15050687:15185,15052176:15186,15053197:15187,15054978:15188,15055019:15189,15056791:15190,15106205:15191,15109255:15192,15111343:15193,15052188:15194,15111855:15195,15111869:15196,15112104:15197,15113885:15198,15117730:15199,15117755:15200,15118479:15201,15175045:15202,15181193:15203,15181697:15204,15184824:15205,15185049:15206,15185067:15207,15237794:15208,15238274:15209,15239091:15210,15246998:15211,15247774:15212,15247785:15213,15247782:15214,15248012:15215,15248302:15216,15250311:15217,15250332:15218,15309708:15219,15311804:15220,15117743:15221,14989963:15222,14990524:15223,14990989:15224,15041936:15225,15052183:15226,15052730:15227,15107464:15228,15109249:15229,15112578:15230,15117473:15393,15121291:15394,15119035:15395,15173822:15396,15176381:15397,15177620:15398,15180673:15399,15180986:15400,15237260:15401,15237299:15402,15239082:15403,15241876:15404,15253150:15405,15118736:15406,15317439:15407,15056015:15408,15248792:15409,15316139:15410,15182778:15411,15252408:15412,15052429:15413,15309739:15414,14989443:15415,15044529:15416,15048631:15417,15049905:15418,15051657:15419,15052452:15420,15106697:15421,15120831:15422,15121542:15423,15177406:15424,15250346:15425,15052447:15426,15242368:15427,15183776:15428,15040946:15429,15114164:15430,15239837:15431,15053217:15432,15242634:15433,15186078:15434,15239310:15435,15042201:15436,15052932:15437,15109544:15438,15250854:15439,15111836:15440,15173038:15441,15180990:15442,15185047:15443,15237253:15444,15248541:15445,15252362:15446,15303086:15447,15244167:15448,15303338:15449,15040671:15450,15043514:15451,15052986:15452,15113619:15453,15172028:15454,15173813:15455,15304076:15456,15304584:15457,15305899:15458,15240101:15459,15052674:15460,15056049:15461,15107001:15462,14989499:15463,15044502:15464,15052424:15465,15108491:15466,15113393:15467,15117962:15468,15174569:15469,15175584:15470,15181998:15471,15238571:15472,15251107:15473,15304082:15474,15312534:15475,15041682:15476,15044503:15477,15045034:15478,15052735:15479,15109768:15480,15116473:15481,15185580:15482,15309952:15483,15047578:15484,15044494:15485,15045032:15486,15052439:15649,15052977:15650,15054750:15651,14991278:15652,15107201:15653,15109054:15654,15119538:15655,15181696:15656,15181707:15657,15185282:15658,15186317:15659,15187858:15660,15239085:15661,15239327:15662,15241872:15663,15245702:15664,15246770:15665,15249040:15666,15251892:15667,15252655:15668,15302833:15669,15304075:15670,15304108:15671,15309702:15672,15304348:15673,14990208:15674,14990735:15675,15041925:15676,15043969:15677,15056531:15678,15108238:15679,15114132:15680,15118721:15681,15120523:15682,15175075:15683,15186086:15684,15304589:15685,15305347:15686,15044500:15687,15049881:15688,15052479:15689,15120273:15690,15181213:15691,15186094:15692,15184539:15693,15049150:15694,15173279:15695,15042490:15696,15245715:15697,15253424:15698,14991242:15699,15053755:15700,15112357:15701,15179436:15702,15182755:15703,15239324:15704,15312831:15705,15042438:15706,15056554:15707,15112108:15708,15115695:15709,15117961:15710,15120307:15711,15121046:15712,15121828:15713,15178686:15714,15185044:15715,15054753:15716,15303093:15717,15304327:15718,15310982:15719,15042470:15720,15042717:15721,15108480:15722,15112849:15723,15113113:15724,15120538:15725,15055542:15726,15185810:15727,15187378:15728,15113144:15729,15242927:15730,15243191:15731,15248312:15732,15043241:15733,15044505:15734,15050163:15735,15055503:15736,15056528:15737,15106453:15738,15305636:15739,15309220:15740,15041207:15741,15041695:15742,15043485:15905,15043744:15906,15043975:15907,15044524:15908,15045544:15909,15046022:15910,15045809:15911,15046807:15912,15050152:15913,15050430:15914,15050940:15915,15052469:15916,15052934:15917,15052943:15918,15052945:15919,15052954:15920,15055492:15921,15055498:15922,15055776:15923,15056304:15924,15108543:15925,15108740:15926,15109019:15927,15109772:15928,15109559:15929,15112327:15930,15112332:15931,15112365:15932,15112630:15933,15113662:15934,15114914:15935,15116447:15936,15116469:15937,15119036:15938,15120008:15939,15120521:15940,15120792:15941,15172796:15942,15172774:15943,15173031:15944,15177607:15945,15178881:15946,15180189:15947,15180929:15948,15181221:15949,15181744:15950,15182752:15951,15182993:15952,15184551:15953,15185081:15954,15237782:15955,15241110:15956,15241867:15957,15242633:15958,15245725:15959,15246259:15960,15247519:15961,15247548:15962,15247764:15963,15247795:15964,15249825:15965,15250334:15966,15304356:15967,15305126:15968,15306174:15969,15306904:15970,15309468:15971,15310488:15972,14989450:15973,14989448:15974,14989470:15975,14989719:15976,15042199:15977,15042992:15978,15048590:15979,15048884:15980,15049612:15981,15051938:15982,15055032:15983,15106949:15984,15111102:15985,15113633:15986,15113622:15987,15119748:15988,15174326:15989,15177139:15990,15182243:15991,15241912:15992,15248818:15993,15304376:15994,15305888:15995,15046833:15996,15048628:15997,15311806:15998,15109037:16161,15115405:16162,15117974:16163,15173549:16164,15186324:16165,15237559:16166,15239602:16167,15247270:16168,15311775:16169,15244693:16170,15253169:16171,15052987:16172,14990520:16173,14991265:16174,14991029:16175,15045767:16176,15050912:16177,15052701:16178,15052713:16179,15056771:16180,15107470:16181,15109295:16182,15111856:16183,15112587:16184,15115182:16185,15115931:16186,15119800:16187,15120305:16188,15176883:16189,15177401:16190,15178911:16191,15181214:16192,15181734:16193,15185075:16194,15239075:16195,15239855:16196,15242922:16197,15247018:16198,15247546:16199,15252139:16200,15253147:16201,15302834:16202,15304605:16203,15309959:16204,14990010:16205,14990209:16206,15042691:16207,15049141:16208,15049644:16209,15052939:16210,15176858:16211,15052989:16212,15238542:16213,15247498:16214,15253381:16215,15309219:16216,15310253:16217,15183013:16218,15248271:16219,15310984:16220,15304098:16221,15047603:16222,15044264:16223,15302807:16224,15044793:16225,15048322:16226,15055013:16227,15109800:16228,15118516:16229,15172234:16230,15179169:16231,15184523:16232,15187872:16233,15245744:16234,15303042:16235,15304084:16236,15305872:16237,15305880:16238,15309455:16239,15176094:16240,15313796:16241,15053959:16242,15054249:16243,15111600:16244,15113890:16245,15251112:16246,15309723:16247,15109550:16248,15113609:16249,15115417:16250,15241093:16251,15310999:16252,15309696:16253,15246270:16254,15122052:16417,15110586:16418,15052728:16419,14989462:16420,15171756:16421,15177117:16422,15112367:16423,15042436:16424,15042742:16425,15043490:16426,15050643:16427,15056513:16428,15106215:16429,15108240:16430,15111359:16431,15111604:16432,15112351:16433,15112628:16434,15115186:16435,15114390:16436,15117731:16437,15120517:16438,15174066:16439,15176863:16440,15178651:16441,15184574:16442,15237526:16443,15049648:16444,15246269:16445,15246783:16446,15248032:16447,15248019:16448,15248267:16449,15302813:16450,15304338:16451,15310226:16452,15310233:16453,15111817:16454,15181966:16455,15238278:16456,15309499:16457,15055021:16458,15106972:16459,15108250:16460,15111845:16461,15112340:16462,15113872:16463,15179699:16464,15182221:16465,15184269:16466,15186110:16467,15238282:16468,15250092:16469,15250852:16470,15251361:16471,15251871:16472,15180457:16473,15042695:16474,15109017:16475,15109797:16476,15110530:16477,15108760:16478,15247533:16479,15182467:16480,15183744:16481,15248044:16482,15309738:16483,15185334:16484,15239308:16485,15244681:16486,14990233:16487,15041928:16488,15043971:16489,15044e3:16490,15052451:16491,15052930:16492,15052950:16493,15054749:16494,15108262:16495,15108487:16496,15110832:16497,15114387:16498,15114420:16499,15119241:16500,15119749:16501,15119511:16502,15114131:16503,15121820:16504,15173006:16505,15173053:16506,15112075:16507,15182271:16508,15183533:16509,15185818:16510,15186314:16673,15187624:16674,15238586:16675,15239323:16676,15239353:16677,15242918:16678,15247790:16679,15250318:16680,15251381:16681,15303096:16682,15303095:16683,15305389:16684,15305361:16685,15308419:16686,15314606:16687,15042957:16688,15046276:16689,15121592:16690,15172790:16691,15041960:16692,15181445:16693,15186325:16694,15238835:16695,15184782:16696,15047052:16697,15049105:16698,15053480:16699,15109802:16700,15113150:16701,15113149:16702,15115674:16703,15174553:16704,15177359:16705,15177358:16706,15180942:16707,15181206:16708,15181727:16709,15184535:16710,15185056:16711,15185284:16712,15243399:16713,15247540:16714,15308987:16715,15303073:16716,15318176:16717,15041447:16718,15042997:16719,15044492:16720,15044514:16721,15040649:16722,15046314:16723,15049646:16724,15050127:16725,15173821:16726,15052427:16727,15053220:16728,15043741:16729,15106979:16730,15106995:16731,15109532:16732,15109763:16733,15109311:16734,15109819:16735,15111053:16736,15112105:16737,15113145:16738,15054755:16739,15116173:16740,15116221:16741,15121557:16742,15173541:16743,14989961:16744,15177641:16745,15178680:16746,15182483:16747,15184799:16748,15185807:16749,15185564:16750,15237537:16751,15240585:16752,15240600:16753,15241644:16754,15241916:16755,15243195:16756,15246213:16757,15250864:16758,15302785:16759,15303085:16760,15306391:16761,15309980:16762,15313042:16763,15041423:16764,15049367:16765,15107726:16766,15239059:16929,15242421:16930,15250568:16931,15302816:16932,14991235:16933,15040948:16934,15042951:16935,15044019:16936,15106479:16937,15109513:16938,15113631:16939,15120556:16940,15251123:16941,15302815:16942,14991255:16943,15053214:16944,15250314:16945,15112079:16946,15185562:16947,15043986:16948,15245974:16949,15041974:16950,15110019:16951,15052184:16952,15052203:16953,15052938:16954,15110285:16955,15113617:16956,15303068:16957,14990230:16958,15049882:16959,15049898:16960,15118768:16961,15247761:16962,15045822:16963,15048853:16964,15050405:16965,15106992:16966,15108499:16967,15114113:16968,15239349:16969,15115669:16970,15309184:16971,15312772:16972,15313064:16973,14990739:16974,15048838:16975,15052734:16976,15237264:16977,15053489:16978,15055023:16979,15056517:16980,15106208:16981,15107467:16982,15108276:16983,15113151:16984,15119280:16985,15121310:16986,15238030:16987,15238591:16988,15240084:16989,15245963:16990,15250104:16991,15302784:16992,15302830:16993,15309450:16994,15317915:16995,15314843:16996,14990243:16997,15044528:16998,15049895:16999,15183020:17e3,15304333:17001,15311244:17002,15316921:17003,15121309:17004,15171751:17005,15043987:17006,15046020:17007,15052421:17008,15108504:17009,15108766:17010,15109011:17011,15119010:17012,15122351:17013,15175842:17014,15247511:17015,15306936:17016,15122305:17017,15248318:17018,15240376:17019,15042471:17020,15244216:17021,15044522:17022,15044521:17185,14990726:17186,15303060:17187,15253168:17188,15050154:17189,15238321:17190,15054781:17191,15182762:17192,15253183:17193,15115162:17194,15249591:17195,15174584:17196,15315336:17197,15116477:17198,15248048:17199,14989497:17200,15043992:17201,15046790:17202,15048102:17203,15108997:17204,15109794:17205,15112102:17206,15117710:17207,15120289:17208,15120795:17209,15172269:17210,15179693:17211,15182767:17212,15183530:17213,15185595:17214,15237309:17215,15238022:17216,15244171:17217,15248021:17218,15306139:17219,15047587:17220,15049607:17221,15056062:17222,15111853:17223,15112854:17224,15116928:17225,15118005:17226,15176887:17227,15248263:17228,15040676:17229,15179685:17230,15047856:17231,15056027:17232,15106469:17233,15112634:17234,15118752:17235,15177652:17236,15181978:17237,15187374:17238,15239092:17239,15244440:17240,15303045:17241,15312563:17242,15183753:17243,15177116:17244,15182777:17245,15183249:17246,15242116:17247,15302800:17248,15181737:17249,15182482:17250,15240374:17251,15051681:17252,15179136:17253,14989485:17254,14990258:17255,15052441:17256,15056800:17257,15108797:17258,15112380:17259,15114161:17260,15119272:17261,15243691:17262,15245751:17263,15247547:17264,15304078:17265,15305651:17266,15312784:17267,15116439:17268,15171750:17269,15174826:17270,15240103:17271,15241623:17272,15250095:17273,14989441:17274,15041926:17275,15042443:17276,15046283:17277,15052725:17278,15054998:17441,15055027:17442,15055489:17443,15056020:17444,15056053:17445,15056299:17446,15056564:17447,15108018:17448,15109265:17449,15112866:17450,15113373:17451,15121838:17452,15174034:17453,15176890:17454,15178938:17455,15237556:17456,15238329:17457,15238584:17458,15244726:17459,15248063:17460,15248284:17461,15251077:17462,15251379:17463,15305370:17464,15308215:17465,15310978:17466,15315877:17467,15043461:17468,15109527:17469,15178676:17470,15113365:17471,15118984:17472,15175565:17473,15250307:17474,15306414:17475,15309235:17476,15119525:17477,15049372:17478,15115406:17479,15116172:17480,15253437:17481,15306394:17482,15177627:17483,15302810:17484,15049114:17485,15114370:17486,15109812:17487,15116219:17488,14990723:17489,15121580:17490,15114136:17491,15253179:17492,15242406:17493,15185588:17494,15306132:17495,15115455:17496,15121840:17497,15048106:17498,15049655:17499,15051948:17500,15185068:17501,15173802:17502,15044746:17503,15304611:17504,15316660:17505,14989997:17506,14990734:17507,15040924:17508,15040949:17509,15042947:17510,15250078:17511,15045e3:17512,15048868:17513,15052442:17514,15055005:17515,15055509:17516,15055533:17517,15055799:17518,15056031:17519,15106700:17520,15108789:17521,15109306:17522,15110032:17523,15114927:17524,15118720:17525,15180423:17526,15181454:17527,15181963:17528,15185824:17529,15239559:17530,15247490:17531,15248294:17532,15251844:17533,15302803:17534,15303352:17697,15303853:17698,15304600:17699,15318158:17700,15119269:17701,15110552:17702,15111074:17703,15111605:17704,15121332:17705,15178372:17706,15183003:17707,15303081:17708,15306641:17709,15121082:17710,15045554:17711,15056569:17712,15110820:17713,15252877:17714,15253421:17715,15305092:17716,15041976:17717,15049131:17718,15049897:17719,15053205:17720,15055511:17721,15120315:17722,15186575:17723,15176860:17724,15250108:17725,15252386:17726,15311259:17727,15172281:17728,14990493:17729,15118015:17730,15122097:17731,15176880:17732,15309755:17733,15041934:17734,15044752:17735,15048885:17736,15049111:17737,15050412:17738,15053216:17739,15056530:17740,15111831:17741,15113628:17742,15120545:17743,15178171:17744,15241119:17745,15250349:17746,15302804:17747,15303613:17748,15306125:17749,15179941:17750,15179962:17751,15043242:17752,15055526:17753,15047839:17754,15050164:17755,15106194:17756,15040658:17757,15041946:17758,15042220:17759,15042445:17760,15042688:17761,15045776:17762,15049108:17763,15049112:17764,15050135:17765,15052437:17766,15053750:17767,15054475:17768,15106748:17769,15108757:17770,15110317:17771,15113649:17772,15114627:17773,15114940:17774,15115167:17775,15178647:17776,15120280:17777,15120815:17778,15120027:17779,15172015:17780,15173512:17781,15056275:17782,15177624:17783,15181239:17784,15183241:17785,15183252:17786,15183250:17787,15184790:17788,15185329:17789,15042736:17790,15241635:17953,15242665:17954,15243172:17955,15247502:17956,15248516:17957,15249798:17958,15251599:17959,15302787:17960,15302799:17961,15306905:17962,15309238:17963,15311021:17964,15313072:17965,15308696:17966,15041421:17967,15043477:17968,15044748:17969,15048834:17970,15052942:17971,15107751:17972,15110814:17973,15119518:17974,15179443:17975,15182757:17976,15238068:17977,15241348:17978,15303059:17979,15305349:17980,15053728:17981,15316103:17982,15043775:17983,15056535:17984,15056563:17985,15120028:17986,15174073:17987,15179171:17988,15181503:17989,15183780:17990,15118226:17991,15174572:17992,15248045:17993,15114371:17994,15116705:17995,15042488:17996,15182465:17997,15115444:17998,15053194:17999,15315894:18e3,15240107:18001,15052677:18002,15304073:18003,15171742:18004,15047096:18005,15053231:18006,15106951:18007,15111590:18008,15118988:18009,15249818:18010,15303041:18011,15310995:18012,15045009:18013,15113095:18014,15304845:18015,15050120:18016,15303331:18017,15042181:18018,14989709:18019,15042474:18020,15242905:18021,15248526:18022,15171992:18023,15109562:18024,15306123:18025,15115682:18026,15312564:18027,15186052:18028,15177143:18029,15043991:18030,15115680:18031,15252383:18032,15309731:18033,15118749:18034,14989964:18035,15052988:18036,15056016:18037,15253417:18038,15043714:18039,15250321:18040,15237769:18041,15243705:18042,15055807:18043,15112101:18044,14989747:18045,15041957:18046,15050370:18209,15052991:18210,15310766:18211,14990267:18212,15050378:18213,15056781:18214,15248013:18215,15122337:18216,15181488:18217,15181218:18218,15052711:18219,15241649:18220,15174827:18221,15173297:18222,15055284:18223,15056821:18224,15109563:18225,15110810:18226,15173507:18227,15184536:18228,14989699:18229,15055804:18230,14989707:18231,15048604:18232,15047330:18233,15106729:18234,15122307:18235,15185037:18236,15238077:18237,15238323:18238,15238847:18239,15253170:18240,15246999:18241,15243940:18242,15054772:18243,15108746:18244,15110829:18245,15246983:18246,15113655:18247,15119266:18248,15119550:18249,15175862:18250,15179956:18251,15051142:18252,15187381:18253,15239853:18254,15312556:18255,14991283:18256,15055747:18257,15109021:18258,15109778:18259,15111575:18260,15113647:18261,15178627:18262,15174028:18263,15238028:18264,15237818:18265,15252649:18266,15304077:18267,15040653:18268,15048633:18269,15051410:18270,15114885:18271,15115699:18272,15173028:18273,15174589:18274,15250103:18275,15049650:18276,15250336:18277,15309226:18278,15302809:18279,15244735:18280,15181732:18281,15179687:18282,15241385:18283,14990511:18284,15042981:18285,15043994:18286,15109005:18287,15114127:18288,15119242:18289,15178173:18290,15183508:18291,15184533:18292,15239350:18293,15242884:18294,15253419:18295,15113117:18296,15121568:18297,15173766:18298,15186075:18299,15240875:18300,15312769:18301,15317670:18302,15042493:18465,15183537:18466,15180210:18467,15183544:18468,15237767:18469,15183240:18470,15117224:18471,15055265:18472,15237772:18473,15177105:18474,15177120:18475,15041963:18476,15305122:18477,15121036:18478,15178170:18479,15304343:18480,15313834:18481,14990480:18482,15187376:18483,15108764:18484,15183247:18485,15308453:18486,15315881:18487,15047098:18488,15049113:18489,15244196:18490,15309500:18491,14990516:18492,15042724:18493,15043978:18494,15044493:18495,15044507:18496,15054982:18497,15110316:18498,15111825:18499,15113663:18500,15118526:18501,15118734:18502,15174024:18503,15174319:18504,15175597:18505,15177108:18506,15186305:18507,15239340:18508,15243177:18509,15250089:18510,15183748:18511,15304582:18512,15173033:18513,15310994:18514,15311791:18515,15109309:18516,15112617:18517,15177130:18518,15178660:18519,15180688:18520,15242627:18521,15244206:18522,15043754:18523,15043985:18524,15044774:18525,15050371:18526,15055495:18527,15056316:18528,15106738:18529,15108489:18530,15108537:18531,15108779:18532,15111824:18533,15118228:18534,15119244:18535,15177394:18536,15178414:18537,15180433:18538,15181720:18539,15185803:18540,15187383:18541,15237797:18542,15245995:18543,15248057:18544,15250107:18545,15303103:18546,15310238:18547,15311771:18548,15116427:18549,15184056:18550,15041177:18551,15052990:18552,15056558:18553,15113863:18554,15118232:18555,15175861:18556,15178889:18557,15187598:18558,15318203:18721,15114122:18722,15181975:18723,15043769:18724,15177355:18725,15313837:18726,15056294:18727,15238813:18728,15241137:18729,15237784:18730,15056060:18731,15056773:18732,15177122:18733,15183238:18734,15302844:18735,15114663:18736,15050667:18737,15051419:18738,15185040:18739,15178174:18740,15248556:18741,14991285:18742,15056298:18743,15116441:18744,15118519:18745,15121538:18746,15176610:18747,15181224:18748,15245736:18749,15247765:18750,15249849:18751,15055775:18752,15110031:18753,15177605:18754,15181714:18755,15240087:18756,15305896:18757,15305650:18758,15241884:18759,15244205:18760,15315117:18761,15045505:18762,15056300:18763,15111820:18764,15119772:18765,15171733:18766,15250087:18767,15250323:18768,15311035:18769,15111567:18770,15176630:18771,14989453:18772,14990232:18773,15048608:18774,15049899:18775,15051174:18776,15052684:18777,15042216:18778,15054979:18779,15055516:18780,15106198:18781,15108534:18782,15111607:18783,15111847:18784,15112622:18785,15119790:18786,15173814:18787,15183014:18788,15238544:18789,15238810:18790,15239833:18791,15248796:18792,15250080:18793,15250342:18794,15250868:18795,15308956:18796,15309188:18797,14991022:18798,15110827:18799,15117734:18800,15239326:18801,15241633:18802,15242666:18803,15303592:18804,15052929:18805,15115667:18806,15311528:18807,15241658:18808,15242647:18809,14990479:18810,15042991:18811,15056553:18812,15055237:18813,15113357:18814,15181455:18977,15238585:18978,15246471:18979,15246982:18980,15120309:18981,15056023:18982,15108501:18983,15119032:18984,14990223:18985,15174057:18986,15314578:18987,15042694:18988,15044795:18989,15047092:18990,15049395:18991,15107748:18992,15108526:18993,15172762:18994,15050158:18995,15184521:18996,15184798:18997,15185051:18998,15309744:18999,15111815:19e3,15237534:19001,14989465:19002,14990773:19003,15041973:19004,15049088:19005,15055267:19006,15055283:19007,15056010:19008,15114116:19009,14989478:19010,15242429:19011,15308425:19012,15309211:19013,15184307:19014,15310977:19015,15041467:19016,15049601:19017,15178134:19018,15180455:19019,15042725:19020,15179429:19021,15242385:19022,15183494:19023,15040911:19024,15049865:19025,15174023:19026,15183751:19027,15185832:19028,15253178:19029,15253396:19030,15303053:19031,14991039:19032,15043465:19033,15050921:19034,15056001:19035,15310509:19036,14991261:19037,15239319:19038,15305642:19039,15047811:19040,15109525:19041,15117737:19042,15176875:19043,15246236:19044,15252628:19045,15182210:19046,15043487:19047,15049363:19048,15107477:19049,15108234:19050,15112878:19051,15118221:19052,15184063:19053,15241129:19054,15040675:19055,14991288:19056,15043717:19057,15044998:19058,15048881:19059,15050121:19060,15052445:19061,15053744:19062,15053743:19063,15053993:19064,15055510:19065,15108785:19066,15109543:19067,15111358:19068,15111865:19069,15113355:19070,15119253:19233,15119265:19234,15172537:19235,15179954:19236,15186091:19237,15238046:19238,15239859:19239,15241356:19240,15242156:19241,15244418:19242,15246482:19243,15247530:19244,15249802:19245,15303334:19246,15305618:19247,15311805:19248,15315891:19249,15316396:19250,14989711:19251,14989985:19252,15041165:19253,15042966:19254,15048074:19255,15050408:19256,15055037:19257,15056792:19258,15056793:19259,15108287:19260,15112884:19261,15113371:19262,15114128:19263,15115154:19264,15042194:19265,15185057:19266,15237802:19267,15238824:19268,15248512:19269,15250060:19270,15250111:19271,15305150:19272,15308978:19273,15044768:19274,15311020:19275,15043735:19276,15041429:19277,15043996:19278,15049384:19279,15110834:19280,15113396:19281,15174055:19282,15179174:19283,15182214:19284,15304614:19285,15043459:19286,15119009:19287,15117958:19288,15048832:19289,15055244:19290,15050132:19291,15113388:19292,15187899:19293,15042465:19294,15178630:19295,15110569:19296,15180712:19297,15314324:19298,15317691:19299,15048587:19300,15050425:19301,15112359:19302,15113882:19303,15118222:19304,15045545:19305,15116185:19306,15055253:19307,15238812:19308,15113877:19309,15314602:19310,15114174:19311,15315346:19312,15114653:19313,14989990:19314,14991267:19315,15044488:19316,15108793:19317,15113387:19318,15119019:19319,15253380:19320,14991021:19321,15186349:19322,15317695:19323,14989447:19324,15107490:19325,15121024:19326,15121579:19489,15242387:19490,15045043:19491,15113386:19492,15314309:19493,15054771:19494,15183509:19495,15053484:19496,15052678:19497,15244444:19498,15120778:19499,15242129:19500,15181972:19501,15238280:19502,15050393:19503,15184525:19504,15118481:19505,15178912:19506,15043481:19507,15049890:19508,15172769:19509,15174047:19510,15179675:19511,15309991:19512,15316385:19513,15115403:19514,15051199:19515,15050904:19516,15042213:19517,15044749:19518,15045053:19519,15112334:19520,15178655:19521,15253431:19522,15305368:19523,15315892:19524,15050666:19525,15174045:19526,15121285:19527,15041933:19528,15115145:19529,15185599:19530,15185836:19531,15310242:19532,15317690:19533,15110584:19534,15116449:19535,15240322:19536,15050372:19537,15052191:19538,15118235:19539,15174811:19540,15178674:19541,15185586:19542,15237271:19543,15241881:19544,15041714:19545,15113384:19546,15317913:19547,15178670:19548,15113634:19549,15043519:19550,15312005:19551,15052964:19552,15108283:19553,15184318:19554,15250096:19555,15046031:19556,15106742:19557,15185035:19558,15308416:19559,15043713:19560,14989727:19561,15042230:19562,15049884:19563,15173818:19564,15237302:19565,15304590:19566,15056037:19567,15179682:19568,15044228:19569,15056313:19570,15185028:19571,15242924:19572,15247539:19573,15252109:19574,15310230:19575,15114163:19576,15242926:19577,15307155:19578,15107209:19579,15107208:19580,15119033:19581,15178130:19582,15248301:19745,15252664:19746,15045807:19747,14990737:19748,15041706:19749,15043463:19750,15044491:19751,15052453:19752,15055293:19753,15106720:19754,15107714:19755,15110038:19756,15113353:19757,15114138:19758,15120807:19759,15120012:19760,15174838:19761,15174839:19762,15176881:19763,15181200:19764,15246229:19765,15248024:19766,15303050:19767,15303313:19768,15303605:19769,15309700:19770,15244941:19771,15049877:19772,14989960:19773,14990745:19774,14989454:19775,15248009:19776,15252671:19777,15310992:19778,15041197:19779,15055292:19780,15050390:19781,15052473:19782,15055544:19783,15110042:19784,15110074:19785,15111041:19786,15113116:19787,15115658:19788,15116184:19789,15119499:19790,15121078:19791,15173268:19792,15176872:19793,15182511:19794,15187594:19795,15237248:19796,15241609:19797,15242121:19798,15246977:19799,15248545:19800,15251594:19801,15303077:19802,15309245:19803,15312010:19804,15107518:19805,15108753:19806,15117490:19807,15118979:19808,15119796:19809,15187852:19810,15187900:19811,15120256:19812,15187589:19813,15244986:19814,15246264:19815,15113637:19816,15240881:19817,15311036:19818,15309751:19819,15119515:19820,15185313:19821,15241405:19822,15304106:19823,14989745:19824,15044021:19825,15054224:19826,15117444:19827,15122347:19828,15243149:19829,15243437:19830,15247015:19831,15042729:19832,15044751:19833,15053221:19834,15113614:19835,15114920:19836,15175814:19837,15176323:19838,15177634:20001,15246223:20002,15246241:20003,15304588:20004,15309730:20005,15309240:20006,15056523:20007,15175303:20008,15182731:20009,15241614:20010,15109792:20011,15177125:20012,15043209:20013,15119745:20014,15121052:20015,15175817:20016,15177113:20017,15180203:20018,15184530:20019,15309446:20020,15182748:20021,15318669:20022,14991030:20023,15107502:20024,15112069:20025,15243676:20026,14989958:20027,14989998:20028,15041434:20029,14989473:20030,15042444:20031,15052718:20032,15111833:20033,15114881:20034,15120060:20035,15174815:20036,15178114:20037,15179437:20038,15181980:20039,15184807:20040,15239599:20041,15248274:20042,15303100:20043,15304591:20044,15309237:20045,15311e3:20046,15043227:20047,15185809:20048,15040683:20049,15044248:20050,15113879:20051,15120267:20052,15173520:20053,15175859:20054,15239080:20055,15252650:20056,15309475:20057,15315351:20058,15317663:20059,15176096:20060,15049089:20061,15120025:20062,15185071:20063,15311262:20064,14990244:20065,14990518:20066,14990987:20067,15042231:20068,15043249:20069,15054522:20070,15106204:20071,15175346:20072,15180988:20073,15240083:20074,15304884:20075,15309495:20076,15309750:20077,15309962:20078,15317655:20079,15318434:20080,15112870:20081,15117748:20082,15042711:20083,15043235:20084,15172488:20085,15246210:20086,15055753:20087,15106443:20088,15107728:20089,15121571:20090,15173001:20091,15184062:20092,15185844:20093,15237551:20094,15242158:20257,15302819:20258,15305900:20259,15044994:20260,15314351:20261,15117203:20262,15172233:20263,15250306:20264,15251375:20265,15310002:20266,15043252:20267,15051137:20268,15055754:20269,15056004:20270,15113367:20271,15115708:20272,15115924:20273,15119786:20274,15121551:20275,15174050:20276,15174588:20277,15183789:20278,15237249:20279,15237566:20280,15244683:20281,15303566:20282,15041965:20283,15317651:20284,15181444:20285,15237771:20286,15305906:20287,15248278:20288,15040685:20289,15045260:20290,15247793:20291,15117738:20292,15250308:20293,15238279:20294,15106961:20295,15113888:20296,15316914:20297,14989977:20298,14989976:20299,15315088:20300,15247787:20301,15243137:20302,15242664:20303,15115392:20304,15120830:20305,15180439:20306,15238549:20307,15056012:20513,14989456:20514,14989461:20515,14989482:20516,14989489:20517,14989494:20518,14989500:20519,14989503:20520,14989698:20521,14989718:20522,14989720:20523,14989954:20524,14989957:20525,15249835:20526,14989962:20527,15239314:20528,15056013:20529,14989966:20530,14989982:20531,14989983:20532,14989984:20533,14989986:20534,1499e4:20535,14990003:20536,14990006:20537,14990222:20538,14990221:20539,14990212:20540,14990214:20541,14990210:20542,14990231:20543,14990238:20544,14990253:20545,14990239:20546,14990263:20547,14990473:20548,14990746:20549,14990512:20550,14990747:20551,14990749:20552,14990743:20553,14990727:20554,14990774:20555,14990984:20556,14990991:20557,14991e3:20558,14990779:20559,14990761:20560,14990768:20561,14990993:20562,14990767:20563,14990982:20564,14990998:20565,15041688:20566,14991252:20567,14991263:20568,14991246:20569,14991256:20570,14991259:20571,14991249:20572,14991258:20573,14991248:20574,14991268:20575,14991269:20576,15040666:20577,15040680:20578,15040660:20579,
15040682:20580,15040677:20581,15040645:20582,14990492:20583,14991286:20584,15040673:20585,15040681:20586,15040684:20587,14991294:20588,14991279:20589,15040657:20590,15040646:20591,15040899:20592,15040903:20593,15113347:20594,15040917:20595,15040912:20596,15040904:20597,15040922:20598,15040918:20599,15040940:20600,15040952:20601,15041152:20602,15041178:20603,15041157:20604,15041204:20605,15041202:20606,15041417:20769,15041418:20770,15041203:20771,15041410:20772,15041430:20773,15041438:20774,15041445:20775,15041453:20776,15041443:20777,15041454:20778,15041465:20779,15041461:20780,15041673:20781,15041665:20782,15041666:20783,15041686:20784,15041685:20785,15041684:20786,15041690:20787,15041697:20788,15041722:20789,15041719:20790,15041724:20791,15041723:20792,15041727:20793,15041920:20794,15041938:20795,15041932:20796,15041940:20797,15041954:20798,15182776:20799,15041961:20800,15041962:20801,15041966:20802,15042176:20803,15042178:20804,15047576:20805,15042188:20806,15042185:20807,15042191:20808,15042193:20809,15042195:20810,15042197:20811,15042198:20812,15042212:20813,15042214:20814,15042210:20815,15042217:20816,15042218:20817,15042219:20818,15042227:20819,15042225:20820,15042226:20821,15042224:20822,15042229:20823,15042237:20824,15042437:20825,15042441:20826,15042459:20827,15042464:20828,15243669:20829,15042473:20830,15042477:20831,15042480:20832,15042485:20833,15042494:20834,15042692:20835,15042699:20836,15042708:20837,15042702:20838,15042727:20839,15042730:20840,15042734:20841,15042739:20842,15042745:20843,15042959:20844,15042948:20845,15042955:20846,15042956:20847,15042974:20848,15042964:20849,15042986:20850,15042996:20851,15042985:20852,15042995:20853,15043007:20854,15043005:20855,15043213:20856,15043220:20857,15043218:20858,15042993:20859,15043208:20860,15043217:20861,15253160:20862,15253159:21025,15043244:21026,15043245:21027,15043260:21028,15043253:21029,15043457:21030,15043469:21031,15043479:21032,15043486:21033,15043491:21034,15043494:21035,15311789:21036,15043488:21037,15043507:21038,15043509:21039,15043512:21040,15043513:21041,15043718:21042,15043720:21043,15176888:21044,15043725:21045,15043728:21046,15043727:21047,15043733:21048,15043738:21049,15043747:21050,15043759:21051,15043761:21052,15043763:21053,15043768:21054,15043968:21055,15043974:21056,15043973:21057,14989463:21058,15043977:21059,15043981:21060,15042454:21061,15043998:21062,15044009:21063,15044014:21064,15049880:21065,15044027:21066,15044023:21067,15044226:21068,15044246:21069,15044256:21070,15044262:21071,15044261:21072,15044270:21073,15044272:21074,15044278:21075,15044483:21076,15184018:21077,15309721:21078,15044511:21079,15113148:21080,15173550:21081,15044526:21082,15044520:21083,15044525:21084,15044538:21085,15044737:21086,15044797:21087,15044992:21088,15044780:21089,15044781:21090,15044796:21091,15044782:21092,15044790:21093,15044777:21094,15044765:21095,15045006:21096,15045263:21097,15045045:21098,15045262:21099,15045023:21100,15045041:21101,15045047:21102,15045040:21103,15045266:21104,15045051:21105,15045248:21106,15045046:21107,15045252:21108,15045264:21109,15045254:21110,15045511:21111,15045282:21112,15045304:21113,15045285:21114,15045292:21115,15045508:21116,15045512:21117,15045288:21118,15045291:21281,15045506:21282,15045284:21283,15045310:21284,15045308:21285,15045528:21286,15045541:21287,15045542:21288,15045775:21289,15045780:21290,15045565:21291,15045550:21292,15045549:21293,15045562:21294,15045538:21295,15045817:21296,15046016:21297,15046051:21298,15046028:21299,15045806:21300,15046044:21301,15046021:21302,15046038:21303,15046039:21304,15045816:21305,15045811:21306,15046045:21307,15046297:21308,15046272:21309,15045295:21310,15046282:21311,15046303:21312,15046075:21313,15046078:21314,15046296:21315,15046302:21316,15046318:21317,15046076:21318,15046275:21319,15046313:21320,15046279:21321,15046312:21322,15046554:21323,15046533:21324,15046559:21325,15046532:21326,15046556:21327,15046564:21328,15046548:21329,15046804:21330,15046583:21331,15046806:21332,15046590:21333,15046589:21334,15046811:21335,15046585:21336,15047054:21337,15047056:21338,15173535:21339,15046836:21340,15046838:21341,15046834:21342,15046840:21343,15047083:21344,15047076:21345,15046831:21346,15047084:21347,15047082:21348,15047302:21349,15047296:21350,15047306:21351,15047328:21352,15047316:21353,15047311:21354,15047333:21355,15047342:21356,15047350:21357,15047348:21358,15047554:21359,15047356:21360,15047553:21361,15047555:21362,15047552:21363,15047560:21364,15047566:21365,15047569:21366,15047571:21367,15047575:21368,15047598:21369,15047609:21370,15047808:21371,15047615:21372,15047812:21373,15047817:21374,15047816:21537,15047819:21538,15047821:21539,15047827:21540,15047832:21541,15047830:21542,15046535:21543,15047836:21544,15047846:21545,15047863:21546,15047864:21547,15048078:21548,15047867:21549,15048064:21550,15048079:21551,15048105:21552,15048576:21553,15048328:21554,15048097:21555,15048127:21556,15048329:21557,15048339:21558,15048352:21559,15048371:21560,15048356:21561,15048362:21562,15048368:21563,15048579:21564,15048582:21565,15048596:21566,15048594:21567,15048595:21568,15048842:21569,15048598:21570,15048611:21571,15048843:21572,15048857:21573,15048861:21574,15049138:21575,15048865:21576,15049122:21577,15049099:21578,15049136:21579,15118208:21580,15049106:21581,15048893:21582,15049145:21583,15049349:21584,15049401:21585,15049375:21586,15049387:21587,15049402:21588,15049630:21589,15049403:21590,15049400:21591,15049390:21592,15049605:21593,15049619:21594,15049617:21595,15049623:21596,15049625:21597,15049624:21598,15049637:21599,15049628:21600,15049636:21601,15049631:21602,15049647:21603,15049658:21604,15049657:21605,15049659:21606,15049660:21607,15049661:21608,15049858:21609,15049866:21610,15049872:21611,15049883:21612,15114918:21613,15049893:21614,15049900:21615,15049901:21616,15049906:21617,15049912:21618,15049918:21619,15182738:21620,15050133:21621,15050128:21622,15050126:21623,15050138:21624,15050136:21625,15050146:21626,15050144:21627,15050151:21628,15050156:21629,15050153:21630,15050168:21793,15050369:21794,15050397:21795,14990750:21796,14991019:21797,15050403:21798,15050418:21799,15050630:21800,15050664:21801,15050652:21802,15050381:21803,15050649:21804,15050650:21805,15050917:21806,15050911:21807,15050897:21808,15050908:21809,15050889:21810,15050906:21811,15051136:21812,15051180:21813,15051145:21814,15050933:21815,15050934:21816,15051170:21817,15051178:21818,15051418:21819,15051452:21820,15051454:21821,15051659:21822,15051650:21823,15051453:21824,15051683:21825,15051671:21826,15051686:21827,15051689:21828,15051670:21829,15051706:21830,15051707:21831,15051916:21832,15051915:21833,15051926:21834,15051954:21835,15051664:21836,15051946:21837,15051958:21838,15051966:21839,15052163:21840,15052165:21841,15052160:21842,15052177:21843,15052181:21844,15052186:21845,15052187:21846,15052197:21847,15052201:21848,15052208:21849,15052211:21850,15052213:21851,15052216:21852,15111816:21853,15052218:21854,15052416:21855,15052419:21856,15052454:21857,15052472:21858,15052675:21859,15052679:21860,15052681:21861,15052692:21862,15052688:21863,15052708:21864,15052710:21865,15052706:21866,15052702:21867,15052709:21868,15052715:21869,15052720:21870,15052726:21871,15052723:21872,15052933:21873,15052935:21874,15052936:21875,15052941:21876,15052947:21877,15052960:21878,15052962:21879,15052968:21880,15052984:21881,15052985:21882,15053185:21883,15053190:21884,15053198:21885,15053203:21886,15053200:22049,15053199:22050,15052209:22051,15053228:22052,15053230:22053,14989730:22054,15053238:22055,15053241:22056,15053452:22057,15053457:22058,15053460:22059,15050395:22060,15053483:22061,15053499:22062,15053494:22063,15053500:22064,15053495:22065,15053701:22066,15053502:22067,15053703:22068,15053721:22069,15053737:22070,15053757:22071,15053754:22072,15053741:22073,15054476:22074,15053738:22075,15053963:22076,15053973:22077,15053975:22078,15054236:22079,15053983:22080,15053979:22081,15053969:22082,15053972:22083,15053986:22084,15053978:22085,15053977:22086,15053976:22087,15054220:22088,15054226:22089,15054222:22090,15054219:22091,15054252:22092,15054259:22093,15054262:22094,15054471:22095,15054468:22096,15054466:22097,15054498:22098,15054493:22099,15054508:22100,15054510:22101,15054525:22102,15054480:22103,15054519:22104,15054524:22105,15054729:22106,15054733:22107,15054739:22108,15054738:22109,15054742:22110,15054747:22111,15054763:22112,15054770:22113,15054773:22114,15054987:22115,15055002:22116,15055001:22117,15054993:22118,15055003:22119,15055030:22120,15055031:22121,15055236:22122,15055235:22123,15055232:22124,15055246:22125,15055255:22126,15055252:22127,15055263:22128,15055266:22129,15055268:22130,15055239:22131,15055285:22132,15055286:22133,15055290:22134,15317692:22135,15055295:22136,15055520:22137,15055745:22138,15055746:22139,15055752:22140,15055760:22141,15055759:22142,15055766:22305,15055779:22306,15055773:22307,15055770:22308,15055771:22309,15055778:22310,15055777:22311,15055784:22312,15055785:22313,15055788:22314,15055793:22315,15055795:22316,15055792:22317,15055796:22318,15055800:22319,15055806:22320,15056003:22321,15056009:22322,15056285:22323,15056284:22324,15056011:22325,15056017:22326,15056022:22327,15056041:22328,15056045:22329,15056056:22330,15056257:22331,15056264:22332,15056268:22333,15056270:22334,15056047:22335,15056273:22336,15056278:22337,15056279:22338,15056281:22339,15056289:22340,15056301:22341,15056307:22342,15056311:22343,15056515:22344,15056514:22345,15056319:22346,15056522:22347,15056520:22348,15056529:22349,15056519:22350,15056542:22351,15056537:22352,15056536:22353,15056544:22354,15056552:22355,15056557:22356,15056572:22357,15056790:22358,15056827:22359,15056804:22360,15056824:22361,15056817:22362,15056797:22363,15106739:22364,15056831:22365,15106209:22366,15106464:22367,15106201:22368,15106192:22369,15106217:22370,15106190:22371,15106225:22372,15106203:22373,15106197:22374,15106219:22375,15106214:22376,15106191:22377,15106234:22378,15106458:22379,15106433:22380,15106474:22381,15106487:22382,15106463:22383,15106442:22384,15106438:22385,15106445:22386,15106467:22387,15106435:22388,15106468:22389,15106434:22390,15106476:22391,15106475:22392,15106457:22393,15106689:22394,15106701:22395,15106983:22396,15106691:22397,15106714:22398,15106692:22561,15106715:22562,15106710:22563,15106711:22564,15106706:22565,15106727:22566,15106699:22567,15106977:22568,15106744:22569,15106976:22570,15106963:22571,15106740:22572,15056816:22573,15106749:22574,15106950:22575,15106741:22576,15106968:22577,15107469:22578,15107221:22579,15107206:22580,15106998:22581,15106999:22582,15107200:22583,15106996:22584,15107002:22585,15107203:22586,15107233:22587,15107003:22588,15106993:22589,15107213:22590,15107214:22591,15107463:22592,15107262:22593,15107240:22594,15107239:22595,15107466:22596,15107263:22597,15107260:22598,15107244:22599,15107252:22600,15107261:22601,15107458:22602,15107460:22603,15107507:22604,15107511:22605,15107480:22606,15107481:22607,15107482:22608,15107499:22609,15107508:22610,15107503:22611,15107493:22612,15107505:22613,15107487:22614,15107485:22615,15107475:22616,15107509:22617,15107737:22618,15107734:22619,15107719:22620,15107756:22621,15107732:22622,15107738:22623,15107722:22624,15107729:22625,15107755:22626,15107758:22627,15107980:22628,15107978:22629,15107977:22630,15108023:22631,15107976:22632,15107971:22633,15107974:22634,15107770:22635,15107979:22636,15187385:22637,15107981:22638,15108006:22639,15108003:22640,15108022:22641,15108026:22642,15108020:22643,15108031:22644,15108029:22645,15108028:22646,15108030:22647,15108224:22648,15108232:22649,15108233:22650,15108237:22651,15108236:22652,15108244:22653,15108251:22654,15108254:22817,15108257:22818,15108266:22819,15108270:22820,15108272:22821,15108274:22822,15108275:22823,15108481:22824,15108494:22825,15108510:22826,15108515:22827,15108507:22828,15108512:22829,15108520:22830,15108540:22831,15108738:22832,15108745:22833,15108542:22834,15108754:22835,15108755:22836,15108758:22837,15109012:22838,15108739:22839,15108756:22840,15109015:22841,15109009:22842,15108795:22843,15109007:22844,15109055:22845,15108998:22846,15111060:22847,15109e3:22848,15109020:22849,15109004:22850,15109002:22851,15108994:22852,15108999:22853,15108763:22854,15109001:22855,15109260:22856,15109038:22857,15109041:22858,15109287:22859,15109250:22860,15109256:22861,15109039:22862,15109045:22863,15109520:22864,15109310:22865,15109517:22866,15110300:22867,15109519:22868,15109782:22869,15109774:22870,15109760:22871,15109803:22872,15109558:22873,15109795:22874,15109775:22875,15109769:22876,15109791:22877,15109813:22878,15109547:22879,15109545:22880,15109822:22881,15110057:22882,15110016:22883,15110022:22884,15110051:22885,15110025:22886,15110034:22887,15110070:22888,15110020:22889,15110294:22890,15110324:22891,15110278:22892,15110291:22893,15110310:22894,15110326:22895,15111325:22896,15110295:22897,15110312:22898,15110287:22899,15110567:22900,15110575:22901,15110582:22902,15110542:22903,15111338:22904,15110805:22905,15110803:22906,15110821:22907,15110825:22908,15110792:22909,15110844:22910,15111066:23073,15111058:23074,15111045:23075,15111047:23076,15110843:23077,15111064:23078,15111042:23079,15111089:23080,15111079:23081,15239305:23082,15111072:23083,15111073:23084,15108780:23085,15111075:23086,15111087:23087,15111340:23088,15111094:23089,15111092:23090,15111090:23091,15111098:23092,15111296:23093,15111101:23094,15111320:23095,15111324:23096,15111301:23097,15111332:23098,15111331:23099,15111339:23100,15111348:23101,15111349:23102,15111351:23103,15111350:23104,15111352:23105,15177099:23106,15111560:23107,15111574:23108,15111573:23109,15111565:23110,15111576:23111,15111582:23112,15111581:23113,15111602:23114,15111608:23115,15111810:23116,15111811:23117,15249034:23118,15111835:23119,15111839:23120,15111851:23121,15111863:23122,15112067:23123,15112070:23124,15112065:23125,15112068:23126,15112076:23127,15112082:23128,15112091:23129,15112089:23130,15112096:23131,15112097:23132,15112113:23133,15113650:23134,15112330:23135,15112323:23136,15112123:23137,15113651:23138,15112373:23139,15112374:23140,15112372:23141,15112348:23142,15112591:23143,15112580:23144,15112585:23145,15112577:23146,15112606:23147,15112605:23148,15112612:23149,15112615:23150,15112616:23151,15112607:23152,15112610:23153,15112624:23154,15112835:23155,15112840:23156,15112846:23157,15112841:23158,15112836:23159,15112856:23160,15112861:23161,15113089:23162,15112889:23163,15113097:23164,15112894:23165,15112892:23166,15113092:23329,15112888:23330,15113110:23331,15113114:23332,15113120:23333,15112383:23334,15113126:23335,15113129:23336,15113136:23337,15113141:23338,15113143:23339,15113359:23340,15113366:23341,15113374:23342,15113382:23343,15113383:23344,15310008:23345,15113390:23346,15113407:23347,15113398:23348,15113601:23349,15113400:23350,15113399:23351,15113606:23352,15113630:23353,15113632:23354,15113625:23355,15113635:23356,15113636:23357,15113865:23358,15113648:23359,15113897:23360,15113660:23361,15113642:23362,15113868:23363,15113867:23364,15113894:23365,15113889:23366,15113861:23367,15113911:23368,15114159:23369,15113908:23370,15114156:23371,15113907:23372,15114153:23373,15113912:23374,15114148:23375,15114142:23376,15114141:23377,15114146:23378,15114158:23379,15113913:23380,15114126:23381,15114118:23382,15114151:23383,15116956:23384,15114398:23385,15114630:23386,15114409:23387,15114624:23388,15114637:23389,15114418:23390,15114638:23391,15114931:23392,15114411:23393,15114649:23394,15114659:23395,15114679:23396,15114687:23397,15114911:23398,15114895:23399,15114925:23400,15114900:23401,15114909:23402,15114907:23403,15114883:23404,15116974:23405,15114937:23406,15114676:23407,15114933:23408,15114912:23409,15114938:23410,15115407:23411,15114893:23412,15114686:23413,15115393:23414,15115146:23415,15115400:23416,15115160:23417,15115426:23418,15115430:23419,15115169:23420,15115404:23421,15115149:23422,15115156:23585,15115175:23586,15115157:23587,15115446:23588,15115410:23589,15115396:23590,15115159:23591,15115171:23592,15115429:23593,15115193:23594,15115168:23595,15115183:23596,15115432:23597,15115434:23598,15115418:23599,15115427:23600,15115425:23601,15115142:23602,15115705:23603,15115703:23604,15115676:23605,15115704:23606,15115691:23607,15115668:23608,15115710:23609,15115694:23610,15115449:23611,15115700:23612,15115453:23613,15115673:23614,15115440:23615,15115681:23616,15115678:23617,15115677:23618,15115905:23619,15115690:23620,15115954:23621,15115950:23622,15116176:23623,15115967:23624,15116161:23625,15116179:23626,15115966:23627,15116174:23628,15052712:23629,15116170:23630,15116189:23631,15115963:23632,15116163:23633,15115943:23634,15116462:23635,15115921:23636,15115936:23637,15115932:23638,15115925:23639,15115956:23640,15116190:23641,15116200:23642,15116418:23643,15116443:23644,15116223:23645,15117450:23646,15116217:23647,15116210:23648,15116199:23649,15116421:23650,15115953:23651,15116446:23652,15116205:23653,15116436:23654,15116203:23655,15116426:23656,15116434:23657,15117185:23658,15116451:23659,15116435:23660,15116676:23661,15116428:23662,15116722:23663,15116470:23664,15116728:23665,15116679:23666,15116706:23667,15116697:23668,15116710:23669,15116680:23670,15116472:23671,15116450:23672,15116944:23673,15116941:23674,15116960:23675,15116932:23676,15116962:23677,15116963:23678,15116951:23841,15243415:23842,15116987:23843,15117187:23844,15117186:23845,15116984:23846,15116979:23847,15116972:23848,15117214:23849,15117201:23850,15117215:23851,15116970:23852,15117210:23853,15117226:23854,15117243:23855,15117445:23856,15243414:23857,15117242:23858,15117458:23859,15117462:23860,15314097:23861,15117471:23862,15117496:23863,15117495:23864,15178652:23865,15117497:23866,15311790:23867,15117703:23868,15117699:23869,15117705:23870,15117712:23871,15117721:23872,15117716:23873,15117723:23874,15117727:23875,15117729:23876,15117752:23877,15117753:23878,15117759:23879,15117952:23880,15117956:23881,15117955:23882,15117965:23883,15117976:23884,15117973:23885,15117982:23886,15117988:23887,15117994:23888,15117995:23889,15117999:23890,15118002:23891,15118001:23892,15118003:23893,15118007:23894,15118012:23895,15118214:23896,15118219:23897,15118227:23898,15118239:23899,15118252:23900,15118251:23901,15118259:23902,15118255:23903,15317694:23904,15118472:23905,15118483:23906,15118484:23907,15118491:23908,15118500:23909,15118499:23910,15118750:23911,15118741:23912,15118754:23913,15118762:23914,15118978:23915,15118989:23916,15119002:23917,15118977:23918,15119003:23919,15118782:23920,15118760:23921,15118771:23922,15118994:23923,15118992:23924,15119236:23925,15119281:23926,15119251:23927,15119037:23928,15119255:23929,15119237:23930,15119261:23931,15119022:23932,15119025:23933,15119038:23934,15119034:24097,15119259:24098,15119279:24099,15119257:24100,15119274:24101,15119519:24102,15245709:24103,15119542:24104,15119531:24105,15119549:24106,15119544:24107,15119513:24108,15119541:24109,15119539:24110,15119506:24111,15119500:24112,15119779:24113,15120019:24114,15119780:24115,15119770:24116,15119801:24117,15119769:24118,15120014:24119,15120021:24120,15122340:24121,15120005:24122,15120313:24123,15120533:24124,15120522:24125,15120053:24126,15120263:24127,15120294:24128,15120056:24129,15120262:24130,15120300:24131,15120286:24132,15120268:24133,15120296:24134,15120274:24135,15120261:24136,15120314:24137,15120281:24138,15120292:24139,15120277:24140,15120298:24141,15120302:24142,15120557:24143,15120814:24144,15120558:24145,15120537:24146,15120818:24147,15120799:24148,15120574:24149,15120547:24150,15120811:24151,15120555:24152,15120822:24153,15120781:24154,15120543:24155,15120771:24156,15120570:24157,15120782:24158,15120548:24159,15121343:24160,15120541:24161,15120568:24162,15121026:24163,15121066:24164,15121048:24165,15121289:24166,15121079:24167,15121299:24168,15121085:24169,15121071:24170,15121284:24171,15121074:24172,15121300:24173,15121301:24174,15121039:24175,15121061:24176,15121282:24177,15121055:24178,15121793:24179,15121553:24180,15171980:24181,15121324:24182,15121336:24183,15121342:24184,15121599:24185,15121330:24186,15121585:24187,15121327:24188,15121586:24189,15121292:24190,15121598:24353,15121555:24354,15121335:24355,15122054:24356,15121850:24357,15121848:24358,15122049:24359,15122048:24360,15121839:24361,15121819:24362,15122355:24363,15121837:24364,15122050:24365,15121852:24366,15121816:24367,15122062:24368,15122065:24369,15122306:24370,15121830:24371,15122099:24372,15122083:24373,15122081:24374,15122084:24375,15122105:24376,15122310:24377,15122090:24378,15122335:24379,15122325:24380,15122348:24381,15122324:24382,15122328:24383,15122353:24384,15122350:24385,15122331:24386,15171721:24387,15171723:24388,15122362:24389,15171729:24390,15171713:24391,15171727:24392,15122366:24393,15171739:24394,15171738:24395,15121844:24396,15171741:24397,15171736:24398,15171743:24399,15171760:24400,15171774:24401,15171762:24402,15171985:24403,15172003:24404,15172249:24405,15172242:24406,15172271:24407,15172529:24408,15172268:24409,15172280:24410,15172275:24411,15172270:24412,15172511:24413,15172491:24414,15172509:24415,15172505:24416,15172745:24417,15172541:24418,15172764:24419,15172761:24420,15173029:24421,15173013:24422,15173256:24423,15173030:24424,15173026:24425,15173004:24426,15173014:24427,15173036:24428,15173263:24429,15173563:24430,15173252:24431,15173269:24432,15173288:24433,15173292:24434,15173527:24435,15173305:24436,15173310:24437,15173522:24438,15173513:24439,15173524:24440,15173518:24441,15173536:24442,15173548:24443,15173543:24444,15173557:24445,15173564:24446,15173561:24609,15173567:24610,15173773:24611,15173776:24612,15173787:24613,15173800:24614,15173805:24615,15173804:24616,15173808:24617,15173810:24618,15173819:24619,15173820:24620,15173823:24621,15174016:24622,15174022:24623,15174027:24624,15174040:24625,15174068:24626,15174078:24627,15174274:24628,15174273:24629,15174279:24630,15174290:24631,15174294:24632,15174306:24633,15174311:24634,15174329:24635,15174322:24636,15174531:24637,15174534:24638,15174532:24639,15174542:24640,15174546:24641,15174562:24642,15174560:24643,15174561:24644,15174585:24645,15174583:24646,15040655:24647,15174807:24648,15174794:24649,15174812:24650,15174806:24651,15174813:24652,15174836:24653,15174831:24654,15174825:24655,15174821:24656,15174846:24657,15175054:24658,15175055:24659,15317912:24660,15175063:24661,15175082:24662,15175080:24663,15175088:24664,15175096:24665,15175093:24666,15175099:24667,15175098:24668,15175560:24669,15175347:24670,15175566:24671,15175355:24672,15175552:24673,15175589:24674,15175598:24675,15175582:24676,15176354:24677,15175813:24678,15176111:24679,15175845:24680,15175608:24681,15175858:24682,15175866:24683,15176085:24684,15175871:24685,15176095:24686,15176089:24687,15176065:24688,15176092:24689,15176105:24690,15176112:24691,15176099:24692,15176106:24693,15176118:24694,15176126:24695,15176331:24696,15176350:24697,15176359:24698,15176586:24699,15176591:24700,15176596:24701,15175601:24702,15176608:24865,15176611:24866,15176615:24867,15176617:24868,15176622:24869,15176626:24870,15176624:24871,15176625:24872,15176632:24873,15176631:24874,15176836:24875,15176835:24876,15176837:24877,15176844:24878,15176846:24879,15176845:24880,15176853:24881,15176851:24882,15176862:24883,15176870:24884,15176876:24885,15176892:24886,15177092:24887,15177101:24888,15177098:24889,15177097:24890,15177115:24891,15177094:24892,15177114:24893,15177129:24894,15177124:24895,15177127:24896,15177131:24897,15177133:24898,15177144:24899,15177142:24900,15177350:24901,15177351:24902,15177140:24903,15177354:24904,15177353:24905,15177346:24906,15177364:24907,15177370:24908,15177373:24909,15177381:24910,15177379:24911,15177602:24912,15177395:24913,15177603:24914,15177397:24915,15177405:24916,15177400:24917,15177404:24918,15177393:24919,15177613:24920,15177610:24921,15177618:24922,15177625:24923,15177635:24924,15177630:24925,15177662:24926,15177663:24927,15177660:24928,15177857:24929,15177648:24930,15177658:24931,15177650:24932,15177651:24933,15177867:24934,15177869:24935,15177865:24936,15177887:24937,15177895:24938,15177888:24939,15177889:24940,15177890:24941,15177892:24942,15177908:24943,15177904:24944,15177915:24945,15178119:24946,15178120:24947,15178118:24948,15178140:24949,15178136:24950,15178145:24951,15178146:24952,15178152:24953,15178153:24954,15178154:24955,15178151:24956,15178156:24957,15178160:24958,15178162:25121,15178166:25122,15178168:25123,15178172:25124,15178368:25125,15178371:25126,15178376:25127,15178379:25128,15178382:25129,15178390:25130,15178387:25131,15178393:25132,15178394:25133,15178416:25134,15178420:25135,15178424:25136,15178425:25137,15178426:25138,15178626:25139,15178637:25140,15178646:25141,15178642:25142,15178654:25143,15178657:25144,15178661:25145,15178663:25146,15178666:25147,15243439:25148,15178683:25149,15178888:25150,15178887:25151,15178884:25152,15178921:25153,15178916:25154,15178910:25155,15178917:25156,15178918:25157,15178907:25158,15178935:25159,15178936:25160,15179143:25161,15179162:25162,15179176:25163,15179179:25164,15179163:25165,15179173:25166,15179199:25167,15179198:25168,15179193:25169,15179406:25170,15179403:25171,15179409:25172,15179424:25173,15179422:25174,15179440:25175,15179446:25176,15179449:25177,15179455:25178,15179452:25179,15179453:25180,15179451:25181,15179655:25182,15179661:25183,15179671:25184,15179674:25185,15179676:25186,15179683:25187,15179694:25188,15179708:25189,15179916:25190,15179922:25191,15180966:25192,15179936:25193,15180970:25194,15180165:25195,15180430:25196,15180212:25197,15180422:25198,15180220:25199,15180442:25200,15180428:25201,15180451:25202,15180469:25203,15180458:25204,15180463:25205,15180689:25206,15180678:25207,15180683:25208,15180692:25209,15180478:25210,15180476:25211,15180677:25212,15180682:25213,15180716:25214,15180711:25377,15180698:25378,15180733:25379,15180724:25380,15180935:25381,15180946:25382,15180945:25383,15180953:25384,15180972:25385,15180971:25386,15181184:25387,15181216:25388,15181207:25389,15181215:25390,15181210:25391,15181205:25392,15181203:25393,15181242:25394,15181247:25395,15181450:25396,15181469:25397,15181479:25398,15318411:25399,15181482:25400,15181486:25401,15181491:25402,15181497:25403,15181498:25404,15181705:25405,15181717:25406,15181735:25407,15181740:25408,15181729:25409,15181731:25410,15181960:25411,15181965:25412,15181976:25413,15181977:25414,15181984:25415,15181983:25416,15181440:25417,15182001:25418,15182011:25419,15182014:25420,15182007:25421,15182211:25422,15182231:25423,15182217:25424,15182241:25425,15182242:25426,15182249:25427,15318685:25428,15182256:25429,15182265:25430,15182269:25431,15182472:25432,15182487:25433,15182485:25434,15182488:25435,15182486:25436,15182505:25437,15182728:25438,15182512:25439,15182518:25440,15182725:25441,15182724:25442,15182527:25443,15303299:25444,15182727:25445,15182730:25446,15182733:25447,15182735:25448,15182741:25449,15182739:25450,15182745:25451,15182746:25452,15182749:25453,15182753:25454,15182754:25455,15182758:25456,15182765:25457,15182768:25458,15182978:25459,15182991:25460,15182986:25461,15182982:25462,15183027:25463,15183e3:25464,15183001:25465,15183006:25466,15183029:25467,15183016:25468,15183030:25469,15183248:25470,15183290:25633,15182980:25634,15183245:25635,15182987:25636,15183244:25637,15183237:25638,15183285:25639,15183269:25640,15183284:25641,15183271:25642,15183280:25643,15183281:25644,15183276:25645,15183278:25646,15183517:25647,15183512:25648,15183519:25649,15183501:25650,15183516:25651,15183514:25652,15183499:25653,15183506:25654,15183503:25655,15183261:25656,15183513:25657,15183755:25658,15183745:25659,15183756:25660,15183759:25661,15183540:25662,15183750:25663,15183773:25664,15183785:25665,15184017:25666,15184020:25667,15183782:25668,15183781:25669,15184288:25670,15184e3:25671,15184007:25672,15184019:25673,15183795:25674,15183799:25675,15184023:25676,15184013:25677,15183798:25678,15184035:25679,15184039:25680,15184042:25681,15184031:25682,15184055:25683,15184043:25684,15184061:25685,15184268:25686,15184259:25687,15184276:25688,15184271:25689,15184256:25690,15184272:25691,15184280:25692,15184287:25693,15184292:25694,15184278:25695,15184293:25696,15184300:25697,15184309:25698,15184515:25699,15184528:25700,15184548:25701,15184557:25702,15184546:25703,15184555:25704,15184545:25705,15184552:25706,15184563:25707,15184562:25708,15184561:25709,15184558:25710,15184569:25711,15184573:25712,15184768:25713,15184773:25714,15184770:25715,15184792:25716,15184786:25717,15184796:25718,15184802:25719,15314107:25720,15184815:25721,15184818:25722,15184820:25723,15184822:25724,15184826:25725,15185030:25726,15185026:25889,15185052:25890,15185045:25891,15185034:25892,15185285:25893,15185291:25894,15185070:25895,15185074:25896,15185087:25897,15185077:25898,15185286:25899,15185331:25900,15185302:25901,15185294:25902,15185330:25903,15185320:25904,15185326:25905,15185295:25906,15185315:25907,15185555:25908,15185545:25909,15185307:25910,15185551:25911,15185341:25912,15185563:25913,15185594:25914,15185582:25915,15185571:25916,15185589:25917,15185799:25918,15185597:25919,15185579:25920,15186109:25921,15185570:25922,15185583:25923,15185820:25924,15185592:25925,15185567:25926,15185584:25927,15185816:25928,15185821:25929,15185828:25930,15185822:25931,15185851:25932,15185842:25933,15185825:25934,15186053:25935,15186058:25936,15186083:25937,15186081:25938,15186066:25939,15186097:25940,15186079:25941,15186057:25942,15186059:25943,15186082:25944,15186310:25945,15186342:25946,15186107:25947,15186101:25948,15186105:25949,15186307:25950,15186103:25951,15186098:25952,15186106:25953,15186343:25954,15186333:25955,15186326:25956,15186334:25957,15186329:25958,15186330:25959,15186361:25960,15186346:25961,15186345:25962,15186364:25963,15186363:25964,15186563:25965,15185813:25966,15186365:25967,15253166:25968,15186367:25969,15186568:25970,15186569:25971,15186572:25972,15186578:25973,15186576:25974,15186579:25975,15186580:25976,15186582:25977,15186574:25978,15186587:25979,15186588:25980,15187128:25981,15187130:25982,15187333:26145,15187340:26146,15187341:26147,15187342:26148,15187344:26149,15187345:26150,15187349:26151,15187348:26152,15187352:26153,15187359:26154,15187360:26155,15187368:26156,15187369:26157,15187367:26158,15187384:26159,15187586:26160,15187590:26161,15187587:26162,15187592:26163,15187591:26164,15187596:26165,15187604:26166,15187614:26167,15187613:26168,15187610:26169,15187619:26170,15187631:26171,15187634:26172,15187641:26173,15187630:26174,15187638:26175,15187640:26176,15248817:26177,15187845:26178,15187846:26179,15187850:26180,15187861:26181,15187860:26182,15187873:26183,15187878:26184,15187881:26185,15187891:26186,15187897:26187,15311772:26188,15237254:26189,15237252:26190,15237259:26191,15237266:26192,15237272:26193,15237273:26194,15237276:26195,15237281:26196,15237288:26197,15237311:26198,15237307:26199,15237514:26200,15237510:26201,15237522:26202,15237528:26203,15237530:26204,15237535:26205,15237538:26206,15237544:26207,15237555:26208,15237554:26209,15237552:26210,15237558:26211,15237561:26212,15237565:26213,15237567:26214,15237764:26215,15237766:26216,15237765:26217,15237787:26218,15237779:26219,15237786:26220,15237805:26221,15042192:26222,15237804:26223,15238043:26224,15238053:26225,15238041:26226,15238045:26227,15238020:26228,15238042:26229,15238038:26230,15238281:26231,15238063:26232,15238065:26233,15238299:26234,15238313:26235,15238307:26236,15238319:26237,15238539:26238,15309451:26401,15238534:26402,15238334:26403,15238547:26404,15238545:26405,15238076:26406,15238577:26407,15238574:26408,15238565:26409,15238566:26410,15238580:26411,15238787:26412,15238792:26413,15238794:26414,15238784:26415,15238786:26416,15238816:26417,15238805:26418,15238820:26419,15238819:26420,15238559:26421,15238803:26422,15238825:26423,15238832:26424,15238837:26425,15238846:26426,15238840:26427,15238845:26428,15239040:26429,15239042:26430,15238842:26431,15239049:26432,15239053:26433,15239057:26434,15239065:26435,15239064:26436,15239048:26437,15239066:26438,15239071:26439,
15239072:26440,15239079:26441,15239098:26442,15239099:26443,15239102:26444,15239297:26445,15239298:26446,15239301:26447,15239303:26448,15239306:26449,15239309:26450,15239312:26451,15239318:26452,15239337:26453,15239339:26454,15239352:26455,15239347:26456,15239552:26457,15239577:26458,15239576:26459,15239581:26460,15239578:26461,15239583:26462,15239588:26463,15239586:26464,15239592:26465,15239594:26466,15239595:26467,15239342:26468,15239601:26469,15239607:26470,15239608:26471,15239614:26472,15239821:26473,15239826:26474,15239851:26475,15239839:26476,15239867:26477,15239852:26478,15240097:26479,15240099:26480,15240095:26481,15240082:26482,15240116:26483,15240115:26484,15240122:26485,15240851:26486,15240323:26487,15240123:26488,15240121:26489,15240094:26490,15240326:26491,15240092:26492,15240329:26493,15240089:26494,15240373:26657,15240372:26658,15240342:26659,15240370:26660,15240369:26661,15240576:26662,15240377:26663,15240592:26664,15240581:26665,15240367:26666,15240363:26667,15240343:26668,15240344:26669,15240837:26670,15240858:26671,15240874:26672,15240863:26673,15240866:26674,15240854:26675,15240355:26676,15240846:26677,15240839:26678,15240842:26679,15240636:26680,15240885:26681,15240627:26682,15240629:26683,15240864:26684,15240841:26685,15240872:26686,15241140:26687,15241363:26688,15241131:26689,15241102:26690,15241149:26691,15241347:26692,15241112:26693,15241355:26694,15241089:26695,15241143:26696,15241351:26697,15241120:26698,15241138:26699,15241357:26700,15241378:26701,15241376:26702,15240893:26703,15241400:26704,15242374:26705,15241147:26706,15241645:26707,15241386:26708,15241404:26709,15242650:26710,15241860:26711,15241655:26712,15241643:26713,15241901:26714,15241646:26715,15241858:26716,15241641:26717,15241606:26718,15241388:26719,15241647:26720,15241657:26721,15241397:26722,15242122:26723,15241634:26724,15241913:26725,15241919:26726,15241887:26727,15242137:26728,15242125:26729,15241915:26730,15242138:26731,15242128:26732,15242113:26733,15242118:26734,15242134:26735,15241889:26736,15242401:26737,15242175:26738,15242164:26739,15242391:26740,15242392:26741,15242412:26742,15242399:26743,15242389:26744,15242388:26745,15242172:26746,15242624:26747,15242659:26748,15242648:26749,15242632:26750,15242625:26913,15243394:26914,15242635:26915,15242645:26916,15242880:26917,15242916:26918,15242888:26919,15242897:26920,15242890:26921,15242920:26922,15242669:26923,15242900:26924,15242907:26925,15243178:26926,15242887:26927,15242908:26928,15242679:26929,15242686:26930,15242896:26931,15243145:26932,15242938:26933,15243151:26934,15242937:26935,15243152:26936,15243157:26937,15243165:26938,15243173:26939,15243164:26940,15243193:26941,15243402:26942,15243411:26943,15243403:26944,15243198:26945,15243194:26946,15243398:26947,15243426:26948,15243418:26949,15243440:26950,15243455:26951,15243661:26952,14989717:26953,15243668:26954,15243679:26955,15243687:26956,15243697:26957,15243923:26958,15243939:26959,15243945:26960,15243946:26961,15243915:26962,15243916:26963,15243958:26964,15243951:26965,15244164:26966,15244166:26967,15243952:26968,15244169:26969,15245475:26970,15243947:26971,15244180:26972,15244190:26973,15244201:26974,15244204:26975,15244191:26976,15244187:26977,15244207:26978,15244434:26979,15244422:26980,15244424:26981,15244416:26982,15244419:26983,15244219:26984,15244433:26985,15244425:26986,15244429:26987,15244217:26988,15244426:26989,15244468:26990,15244479:26991,15244471:26992,15244475:26993,15244453:26994,15244457:26995,15244442:26996,15244704:26997,15244703:26998,15244728:26999,15244684:27e3,15244686:27001,15244724:27002,15244695:27003,15244712:27004,15244718:27005,15244697:27006,15244691:27169,15244707:27170,15244714:27171,15245445:27172,15244962:27173,15244959:27174,15244930:27175,15244975:27176,15245195:27177,15244989:27178,15245184:27179,15245200:27180,15309718:27181,15244971:27182,15245188:27183,15244979:27184,15245191:27185,15245190:27186,15244987:27187,15245231:27188,15245234:27189,15245216:27190,15245455:27191,15245453:27192,15245246:27193,15245238:27194,15245239:27195,15245454:27196,15245202:27197,15245457:27198,15245462:27199,15245461:27200,15245474:27201,15245473:27202,15245489:27203,15245494:27204,15245497:27205,15245479:27206,15245499:27207,15245700:27208,15245698:27209,15245714:27210,15245721:27211,15245726:27212,15245730:27213,15245739:27214,15245953:27215,15245758:27216,15245982:27217,15245749:27218,15245757:27219,15246005:27220,15245746:27221,15245954:27222,15245975:27223,15245970:27224,15245998:27225,15245977:27226,15245986:27227,15245965:27228,15245988:27229,15246e3:27230,15246015:27231,15246001:27232,15246211:27233,15246212:27234,15246228:27235,15246232:27236,15246233:27237,15246237:27238,15246265:27239,15246466:27240,15246268:27241,15246260:27242,15246248:27243,15246258:27244,15246468:27245,15246476:27246,15246474:27247,15246483:27248,15246723:27249,15246494:27250,15246501:27251,15246506:27252,15246507:27253,15246721:27254,15246724:27255,15246523:27256,15246518:27257,15246520:27258,15246732:27259,15246493:27260,15246752:27261,15246750:27262,15246758:27425,15246756:27426,15246765:27427,15246762:27428,15246767:27429,15246772:27430,15246775:27431,15246782:27432,15246979:27433,15246984:27434,15246986:27435,15246995:27436,15247e3:27437,15247009:27438,15247017:27439,15247014:27440,15247020:27441,15247023:27442,15247026:27443,15247034:27444,15247037:27445,15247039:27446,15247232:27447,15247258:27448,15247260:27449,15247261:27450,15247271:27451,15247284:27452,15247288:27453,15247491:27454,15247510:27455,15247504:27456,15247500:27457,15247515:27458,15247517:27459,15247525:27460,15247542:27461,15247745:27462,15247771:27463,15247762:27464,15247750:27465,15247752:27466,15247804:27467,15247789:27468,15247788:27469,15247778:27470,15248005:27471,15248002:27472,15248004:27473,15248040:27474,15248033:27475,15248017:27476,15248037:27477,15248038:27478,15248026:27479,15248035:27480,15248260:27481,15248269:27482,15248258:27483,15248282:27484,15248299:27485,15248307:27486,15248295:27487,15248292:27488,15248305:27489,15248532:27490,15248288:27491,15248290:27492,15248311:27493,15248286:27494,15248283:27495,15248524:27496,15248519:27497,15248538:27498,15248289:27499,15248534:27500,15248528:27501,15248535:27502,15248544:27503,15248563:27504,15310507:27505,15248550:27506,15248555:27507,15248574:27508,15248552:27509,15248769:27510,15248780:27511,15248783:27512,15248782:27513,15248777:27514,15248790:27515,15248795:27516,15248794:27517,15248811:27518,15248799:27681,15248812:27682,15248815:27683,15248820:27684,15248829:27685,15249024:27686,15249036:27687,15249038:27688,15249042:27689,15249043:27690,15249046:27691,15249049:27692,15249050:27693,15249594:27694,15249793:27695,15249599:27696,15249800:27697,15249804:27698,15249806:27699,15249808:27700,15249813:27701,15249826:27702,15249836:27703,15249848:27704,15249850:27705,15250050:27706,15250057:27707,15250053:27708,15250058:27709,15250061:27710,15250062:27711,15250068:27712,15249852:27713,15250072:27714,15108253:27715,15250093:27716,15250090:27717,15250109:27718,15250098:27719,15250099:27720,15250094:27721,15250102:27722,15250312:27723,15250305:27724,15250340:27725,15250339:27726,15250330:27727,15250365:27728,15250362:27729,15250363:27730,15250564:27731,15250565:27732,15250570:27733,15250567:27734,15250575:27735,15250573:27736,15250576:27737,15318414:27738,15250579:27739,15250317:27740,15250580:27741,15250582:27742,15250855:27743,15250861:27744,15250865:27745,15250867:27746,15251073:27747,15251097:27748,15251330:27749,15251134:27750,15251130:27751,15251343:27752,15251354:27753,15251350:27754,15251340:27755,15251355:27756,15251339:27757,15251370:27758,15251371:27759,15251359:27760,15251363:27761,15251388:27762,15251592:27763,15251593:27764,15251391:27765,15251613:27766,15251614:27767,15251600:27768,15251615:27769,15251842:27770,15251637:27771,15251632:27772,15251636:27773,15251850:27774,15251847:27937,15251849:27938,15251852:27939,15251856:27940,15251848:27941,15251865:27942,15251876:27943,15251872:27944,15251626:27945,15251875:27946,15251861:27947,15251894:27948,15251890:27949,15251900:27950,15252097:27951,15252103:27952,15252101:27953,15252100:27954,15252107:27955,15252106:27956,15252115:27957,15252113:27958,15252116:27959,15252121:27960,15252138:27961,15252129:27962,15252140:27963,15252144:27964,15252358:27965,15252145:27966,15252158:27967,15252357:27968,15252360:27969,15252363:27970,15252379:27971,15252387:27972,15252412:27973,15252411:27974,15252395:27975,15252414:27976,15252618:27977,15252613:27978,15252629:27979,15252626:27980,15252633:27981,15252627:27982,15252636:27983,15252639:27984,15252635:27985,15252620:27986,15252646:27987,15252659:27988,15252667:27989,15252665:27990,15252869:27991,15252866:27992,15252670:27993,15252876:27994,15252873:27995,15252870:27996,15252878:27997,15252887:27998,15252892:27999,15252898:28e3,15252899:28001,15252900:28002,15253148:28003,15253151:28004,15253155:28005,15253165:28006,15253167:28007,15253175:28008,15253402:28009,15253413:28010,15253410:28011,15253418:28012,15253423:28013,15303303:28014,15253428:28015,15302789:28016,15253433:28017,15253434:28018,15302801:28019,15302805:28020,15302817:28021,15302797:28022,15302814:28023,15302806:28024,15302795:28025,15302823:28026,15302838:28027,15302837:28028,15302841:28029,15253432:28030,15303055:28193,15303056:28194,15303057:28195,15303058:28196,15302798:28197,15303049:28198,15302846:28199,15303062:28200,15303064:28201,15303070:28202,15303080:28203,15303087:28204,15303094:28205,15309480:28206,15303090:28207,15303298:28208,15303101:28209,15303297:28210,15303296:28211,15303306:28212,15303305:28213,15303311:28214,15303336:28215,15303343:28216,15303345:28217,15303349:28218,15303586:28219,15303588:28220,15108488:28221,15303579:28222,15303810:28223,15303826:28224,15303833:28225,15303858:28226,15303856:28227,15304074:28228,15304086:28229,15304088:28230,15304099:28231,15304101:28232,15304105:28233,15304115:28234,15304114:28235,15304331:28236,15304329:28237,15304322:28238,15304354:28239,15304363:28240,15304367:28241,15304362:28242,15304373:28243,15304372:28244,15304378:28245,15304576:28246,15304577:28247,15304585:28248,15304587:28249,15304592:28250,15304598:28251,15304607:28252,15304609:28253,15304603:28254,15304636:28255,15304629:28256,15304630:28257,15304862:28258,15304639:28259,15304852:28260,15304876:28261,15304853:28262,15304849:28263,15305118:28264,15305111:28265,15305093:28266,15305097:28267,15305124:28268,15305096:28269,15305365:28270,15304895:28271,15305099:28272,15305104:28273,15305372:28274,15305366:28275,15305363:28276,15305371:28277,15305114:28278,15305615:28279,15305401:28280,15305399:28281,15305641:28282,15305871:28283,15305658:28284,15306116:28285,15305902:28286,15305881:28449,15305890:28450,15305882:28451,15305891:28452,15305914:28453,15305909:28454,15305915:28455,15306140:28456,15306144:28457,15306172:28458,15306158:28459,15306134:28460,15306416:28461,15306412:28462,15306413:28463,15306388:28464,15306425:28465,15306646:28466,15306647:28467,15306664:28468,15306661:28469,15306648:28470,15306627:28471,15306653:28472,15306640:28473,15306632:28474,15306660:28475,15306906:28476,15306900:28477,15306899:28478,15306883:28479,15306887:28480,15306896:28481,15306934:28482,15306923:28483,15306933:28484,15306913:28485,15306938:28486,15307137:28487,15307154:28488,15307140:28489,15307163:28490,15307168:28491,15307170:28492,15307166:28493,15307178:28494,15304873:28495,15307184:28496,15307189:28497,15307191:28498,15307197:28499,15307162:28500,15307196:28501,15307198:28502,15307393:28503,15307199:28504,15308418:28505,15308423:28506,15308426:28507,15308436:28508,15308438:28509,15308440:28510,15308441:28511,15308448:28512,15308456:28513,15308455:28514,15308461:28515,15308476:28516,15308475:28517,15308473:28518,15308478:28519,15308682:28520,15122358:28521,15308675:28522,15308685:28523,15308684:28524,15308693:28525,15308692:28526,15308694:28527,15308700:28528,15308705:28529,15308709:28530,15308706:28531,15308961:28532,15308968:28533,15308974:28534,15308975:28535,15309186:28536,15309196:28537,15309199:28538,15309195:28539,15309239:28540,15309212:28541,15309214:28542,15309213:28705,15309215:28706,15309222:28707,15309234:28708,15309228:28709,15309453:28710,15309464:28711,15309461:28712,15309463:28713,15309482:28714,15309479:28715,15309489:28716,15309490:28717,15309488:28718,15309492:28719,15309494:28720,15309496:28721,15309497:28722,15309710:28723,15309707:28724,15309705:28725,15309709:28726,15246733:28727,15309724:28728,15309965:28729,15309717:28730,15309753:28731,15309956:28732,15309958:28733,15309960:28734,15309971:28735,15309966:28736,15309969:28737,15309967:28738,15309974:28739,15309977:28740,15309988:28741,15309994:28742,1531e4:28743,15310009:28744,15310013:28745,15310014:28746,15310212:28747,15310214:28748,15310216:28749,15310210:28750,15310217:28751,15310236:28752,15310240:28753,15310244:28754,15310246:28755,15310248:28756,15043474:28757,15310251:28758,15310257:28759,15310265:28760,15310469:28761,15310268:28762,15310465:28763,15310266:28764,15310470:28765,15310475:28766,15310479:28767,15310480:28768,15310492:28769,15310504:28770,15310502:28771,15310499:28772,15310515:28773,15310516:28774,15310723:28775,15310726:28776,15310728:28777,15310731:28778,15310748:28779,15310765:28780,15318415:28781,15310770:28782,15182751:28783,15310774:28784,15310773:28785,15310991:28786,15310988:28787,15311032:28788,15311012:28789,15311009:28790,15311031:28791,15311037:28792,15311238:28793,15311247:28794,15311243:28795,15311275:28796,15311279:28797,15311280:28798,15311281:28961,15311284:28962,15311283:28963,15311530:28964,15311535:28965,15311537:28966,15311542:28967,15311748:28968,15311747:28969,15311750:28970,15311785:28971,15311787:28972,15312003:28973,15312009:28974,15312018:28975,15312020:28976,15312024:28977,15312033:28978,15312029:28979,15312030:28980,15312036:28981,15312032:28982,15312044:28983,15312046:28984,15312061:28985,15312062:28986,15312258:28987,15312265:28988,15312261:28989,15312272:28990,15312267:28991,15312273:28992,15312274:28993,15312268:28994,15312277:28995,15312535:28996,15312536:28997,15312549:28998,15312557:28999,15312558:29e3,15312572:29001,15312799:29002,15312795:29003,15312797:29004,15312792:29005,15312785:29006,15312813:29007,15312814:29008,15312817:29009,15312818:29010,15312827:29011,15312824:29012,15313025:29013,15313039:29014,15313029:29015,15312802:29016,15313049:29017,15313067:29018,15313079:29019,15313285:29020,15313282:29021,15313280:29022,15313283:29023,15313086:29024,15313301:29025,15313293:29026,15313307:29027,15313303:29028,15313311:29029,15313314:29030,15313317:29031,15313316:29032,15313321:29033,15313323:29034,15313322:29035,15313581:29036,15313584:29037,15313596:29038,15313792:29039,15313807:29040,15313809:29041,15313811:29042,15313812:29043,15313822:29044,15313823:29045,15313826:29046,15313827:29047,15313830:29048,15313839:29049,15313835:29050,15313838:29051,15313844:29052,15313841:29053,15313847:29054,15313851:29217,15314054:29218,15314072:29219,15314074:29220,15314079:29221,15314082:29222,15314083:29223,15314085:29224,15314087:29225,15314088:29226,15314089:29227,15314090:29228,15314094:29229,15314095:29230,15314098:29231,15314308:29232,15314307:29233,15314319:29234,15314317:29235,15314318:29236,15314321:29237,15314328:29238,15314356:29239,15314579:29240,15314563:29241,15314577:29242,15314582:29243,15314583:29244,15314591:29245,15314592:29246,15314600:29247,15314612:29248,15314816:29249,15314826:29250,15314617:29251,15314822:29252,15314831:29253,15314833:29254,15314834:29255,15314851:29256,15314850:29257,15314852:29258,15314836:29259,15314849:29260,15315130:29261,15314866:29262,15314865:29263,15314864:29264,15315093:29265,15315092:29266,15315081:29267,15315091:29268,15315084:29269,15315078:29270,15315080:29271,15315090:29272,15315082:29273,15315076:29274,15315118:29275,15315099:29276,15315109:29277,15315108:29278,15315105:29279,15315120:29280,15315335:29281,15315122:29282,15315334:29283,15315134:29284,15315354:29285,15315360:29286,15315367:29287,15315382:29288,15315384:29289,15315879:29290,15315884:29291,15315888:29292,15316105:29293,15316104:29294,15315883:29295,15316099:29296,15316102:29297,15316138:29298,15316134:29299,15316655:29300,15316131:29301,15316127:29302,15316356:29303,15316117:29304,15316114:29305,15316353:29306,15316159:29307,15316158:29308,15316358:29309,15316360:29310,15316381:29473,15316382:29474,15316388:29475,15316369:29476,15316368:29477,15316377:29478,15316402:29479,15316617:29480,15316615:29481,15316651:29482,15316399:29483,15316410:29484,15316634:29485,15316644:29486,15316649:29487,15316658:29488,15316868:29489,15316865:29490,15316667:29491,15316664:29492,15316666:29493,15316870:29494,15316879:29495,15316866:29496,15316889:29497,15316883:29498,15316920:29499,15316902:29500,15316909:29501,15316911:29502,15316925:29503,15317146:29504,15317147:29505,15317150:29506,15317429:29507,15317433:29508,15317437:29509,15317633:29510,15317640:29511,15317643:29512,15317644:29513,15317650:29514,15317653:29515,15317649:29516,15317661:29517,15317669:29518,15317673:29519,15317688:29520,15317674:29521,15317677:29522,15310241:29523,15317900:29524,15317902:29525,15317903:29526,15317904:29527,15317908:29528,15317916:29529,15317918:29530,15317917:29531,15317920:29532,15317925:29533,15317928:29534,15317935:29535,15317940:29536,15317942:29537,15317943:29538,15317945:29539,15317947:29540,15317948:29541,15317949:29542,15318151:29543,15318152:29544,15178423:29545,15318165:29546,15318177:29547,15318188:29548,15318206:29549,15318410:29550,15318418:29551,15318420:29552,15318435:29553,15318431:29554,15318432:29555,15318433:29556,15318438:29557,15318439:29558,15318444:29559,15318442:29560,15318455:29561,15318450:29562,15318454:29563,15318677:29564,15318684:29565,15318688:29566,15048879:29729,15116167:29730,15303065:29731,15176100:29732,15042460:29733,15173273:29734,15186570:31009,15246492:31010,15306120:31011,15305352:31012,15242140:31013,14991241:31014,15172283:31015,15112369:31016,15115144:31017,15305657:31018,15113147:31019,15056261:31020,14989480:31021,14990241:31022,14990268:31023,14990464:31024,14990467:31025,14990521:31026,14990742:31027,14990994:31028,14990986:31029,14991002:31030,14990996:31031,14991245:31032,15040896:31033,15040674:31034,14991295:31035,15040670:31036,15040902:31037,15040944:31038,15040898:31039,15041172:31040,15041460:31041,15041432:31042,15041930:31043,15041956:31044,15042205:31045,15042238:31046,15042476:31047,15042709:31048,15043228:31049,15043238:31050,15043456:31051,15043483:31052,15043712:31053,15043719:31054,15043748:31055,15044018:31056,15044243:31057,15044274:31058,15044509:31059,15706254:31060,15045276:31061,15045258:31062,15045289:31063,15045567:31064,15046278:31065,15048089:31066,15048101:31067,15048364:31068,15048584:31069,15048583:31070,15706255:31071,15706256:31072,15049374:31073,15049394:31074,15049867:31075,15050131:31076,15050139:31077,15050141:31078,15050147:31079,15050404:31080,15050426:31081,15052182:31082,15052672:31083,15176879:31084,15052696:31085,15052716:31086,15052958:31087,15053478:31088,15053498:31089,15053749:31090,15053991:31091,15054227:31092,15706257:31093,15054210:31094,15054253:31095,15054520:31096,15054521:31097,15054736:31098,15056033:31099,15056052:31100,15056295:31101,15056567:31102,15056798:31265,15106461:31266,15106693:31267,15106698:31268,15106974:31269,15106965:31270,15107232:31271,15106994:31272,15107217:31273,15107255:31274,15107248:31275,15107736:31276,15108243:31277,15108774:31278,15110069:31279,15110560:31280,15110813:31281,15111054:31282,15111566:31283,15112320:31284,15112341:31285,15112379:31286,15112329:31287,15112366:31288,15112350:31289,15112356:31290,15112613:31291,15112599:31292,15112601:31293,15706258:31294,15112627:31295,15112857:31296,15112864:31297,15112882:31298,15112895:31299,15113146:31300,15113358:31301,15705257:31302,15113638:31303,15113915:31304,15114642:31305,15114112:31306,15114369:31307,15114628:31308,15115151:31309,15706259:31310,15115688:31311,15706260:31312,15115928:31313,15116194:31314,15116464:31315,15116715:31316,15116678:31317,15116723:31318,15116734:31319,15117218:31320,15117220:31321,15118230:31322,15118527:31323,15118748:31324,15118982:31325,15118767:31326,15119258:31327,15119492:31328,15120007:31329,15119791:31330,15120022:31331,15120044:31332,15120271:31333,15120312:31334,15120306:31335,15120316:31336,15120569:31337,15120796:31338,15120551:31339,15120572:31340,15121087:31341,15122056:31342,15122101:31343,15122357:31344,15171717:31345,15171719:31346,15171752:31347,15172229:31348,15172267:31349,15172751:31350,15172740:31351,15173020:31352,15172998:31353,15172999:31354,15706261:31355,15173505:31356,15173566:31357,15174321:31358,15174334:31521,15174820:31522,15706262:31523,15175095:31524,15175357:31525,15175561:31526,15175574:31527,15175587:31528,15175570:31529,15175815:31530,15175605:31531,15175846:31532,15175850:31533,15175849:31534,15175854:31535,15176098:31536,15176329:31537,15176351:31538,15176833:31539,15177135:31540,15178370:31541,15178396:31542,15178398:31543,15178395:31544,15178406:31545,15706263:31546,15179142:31547,15043247:31548,15179937:31549,15180174:31550,15180196:31551,15180218:31552,15180976:31553,15706264:31554,15706265:31555,15706266:31556,15181460:31557,15706267:31558,15181467:31559,15182737:31560,15182759:31561,15706268:31562,15182763:31563,15183518:31564,15706269:31565,15185288:31566,15185308:31567,15185591:31568,15185568:31569,15185814:31570,15186322:31571,15187335:31572,15187617:31573,15706270:31574,15240321:31575,15240610:31576,15240639:31577,15241095:31578,15241142:31579,15241608:31580,15241908:31581,15242643:31582,15242649:31583,15242667:31584,15706271:31585,15242928:31586,15706272:31587,15706273:31588,15245447:31589,15246261:31590,15247506:31591,15247543:31592,15247801:31593,15248039:31594,15248062:31595,15248287:31596,15706274:31597,15248310:31598,15248787:31599,15248831:31600,15250352:31601,15250356:31602,15250578:31603,15250870:31604,15706275:31605,15252367:31606,15706276:31607,15706277:31608,15303079:31609,15303582:31610,15706278:31611,15303829:31612,15303847:31613,15304602:31614,15304599:31777,15304606:31778,15304621:31779,15304622:31780,15304612:31781,15304613:31782,15304838:31783,15304848:31784,15304842:31785,15304890:31786,15305088:31787,15304892:31788,15305102:31789,15305113:31790,15305105:31791,15304889:31792,15305127:31793,15305383:31794,15305143:31795,15305144:31796,15305639:31797,15305623:31798,15305625:31799,15305616:31800,15706279:31801,15305621:31802,15305632:31803,15305619:31804,15305893:31805,15305889:31806,15305659:31807,15706280:31808,15305886:31809,15305663:31810,15305885:31811,15305858:31812,15306160:31813,15306135:31814,15306404:31815,15306630:31816,15306654:31817,15306680:31818,15306929:31819,15307141:31820,15307144:31821,15308434:31822,15706012:31823,15706281:31824,15309469:31825,15309487:31826,15310003:31827,15310011:31828,15310211:31829,15310221:31830,15310223:31831,15310225:31832,15310229:31833,15311255:31834,15311269:31835,15706282:31836,15706283:31837,15312039:31838,15706284:31839,15312542:31840,15313294:31841,15313817:31842,15313820:31843,15314357:31844,15314354:31845,15314575:31846,15314609:31847,15314619:31848,15315072:31849,15316400:31850,15316395:31851,15706285:31852,15317145:31853,15317905:31854,14845360:31857,14845361:31858,14845362:31859,14845363:31860,14845364:31861,14845365:31862,14845366:31863,14845367:31864,14845368:31865,14845369:31866,15712164:31868,15711367:31869,15711362:31870,14846117:8514,15712162:8780,14846098:74077},We={52120:8751,52103:8752,49848:8753,52121:8754,52125:8755,49839:8756,52123:8757,52122:8758,126:8759,52868:8760,52869:8761,49825:8770,49830:8771,49855:8772,49850:8811,49834:8812,49833:8813,49838:8814,14845090:8815,49828:8816,14845078:8817,52870:9825,52872:9826,52873:9827,52874:9828,52906:9829,52876:9831,52878:9833,52907:9834,52879:9836,52908:9841,52909:9842,52910:9843,52911:9844,53130:9845,52880:9846,53132:9847,53122:9848,53133:9849,53131:9850,52912:9851,53134:9852,53378:10050,53379:10051,53380:10052,53381:10053,53382:10054,53383:10055,53384:10056,53385:10057,53386:10058,53387:10059,53388:10060,53390:10061,53391:10062,53650:10098,53651:10099,53652:10100,53653:10101,53654:10102,53655:10103,53656:10104,53657:10105,53658:10106,53659:10107,53660:10108,53662:10109,53663:10110,50054:10529,50320:10530,50342:10532,50354:10534,50561:10536,50367:10537,50570:10539,50072:10540,50578:10541,50598:10543,50078:10544,50086:10561,50321:10562,50096:10563,50343:10564,50353:10565,50355:10566,50360:10567,50562:10568,50560:10569,50569:10570,50571:10571,50104:10572,50579:10573,50079:10574,50599:10575,50110:10576,50049:10785,50048:10786,50052:10787,50050:10788,50306:10789,51085:10790,50304:10791,50308:10792,50053:10793,50051:10794,50310:10795,50312:10796,50316:10797,50055:10798,50314:10799,50318:10800,50057:10801,50056:10802,50059:10803,50058:10804,50330:10805,50326:10806,50322:10807,50328:10808,50332:10810,50334:10811,50338:10812,50336:10813,50340:10814,50061:10815,50060:10816,50063:10817,50062:10818,51087:10819,50352:10820,50346:10821,50350:10822,50344:10823,50356:10824,50358:10825,50361:10826,50365:10827,50363:10828,50563:10829,50567:10830,50565:10831,50065:10832,50067:10833,50066:10834,50070:10835,50068:10836,51089:10837,50576:10838,50572:10839,50069:10840,50580:10841,50584:10842,50582:10843,50586:10844,50588:10845,50592:10846,50590:10847,50596:10848,50594:10849,50074:10850,50073:10851,50076:10852,50075:10853,50604:10854,51091:10855,50608:10856,50602:10857,50610:10858,50606:10859,50600:10860,51095:10861,51099:10862,51097:10863,51093:10864,50612:10865,50077:10866,50616:10867,50614:10868,50617:10869,50621:10870,50619:10871,50081:11041,50080:11042,50084:11043,50082:11044,50307:11045,51086:11046,50305:11047,50309:11048,50085:11049,50083:11050,50311:11051,50313:11052,50317:11053,50087:11054,50315:11055,50319:11056,50089:11057,50088:11058,50091:11059,50090:11060,50331:11061,50327:11062,50323:11063,50329:11064,51125:11065,50333:11066,50335:11067,50337:11069,50341:11070,50093:11071,50092:11072,50095:11073,50094:11074,51088:11075,50347:11077,50351:11078,50345:11079,50357:11080,50359:11081,50362:11082,50366:11083,50364:11084,50564:11085,50568:11086,50566:11087,50097:11088,50099:11089,50098:11090,50102:11091,50100:11092,51090:11093,50577:11094,50573:11095,50101:11096,50581:11097,50585:11098,50583:11099,50587:11100,50589:11101,50593:11102,50591:11103,50597:11104,50595:11105,50106:11106,50105:11107,50108:11108,50107:11109,50605:11110,51092:11111,50609:11112,50603:11113,50611:11114,50607:11115,50601:11116,51096:11117,51100:11118,51098:11119,51094:11120,50613:11121,50109:11122,50111:11123,50615:11124,50618:11125,50622:11126,50620:11127,14989442:12321,14989444:12322,14989445:12323,14989452:12324,14989458:12325,14989471:12326,14989475:12327,14989476:12328,14989480:12329,14989483:12330,14989486:12331,14989487:12332,14989488:12333,14989493:12334,14989696:12335,14989697:12336,14989700:12337,14989703:12338,14989713:12339,14989722:12340,14989724:12341,14989731:12342,14989736:12343,14989737:12344,14989748:12345,14989749:12346,14989753:12347,14989759:12348,14989965:12349,14989974:12350,14989975:12351,14989981:12352,14989999:12353,14990009:12354,14990211:12355,14990224:12356,14990234:12357,14990235:12358,14990240:12359,14990241:12360,14990242:12361,14990248:12362,14990255:12363,14990257:12364,14990259:12365,14990261:12366,14990269:12367,14990270:12368,14990271:12369,14990464:12370,14990466:12371,14990467:12372,14990472:12373,14990475:12374,14990476:12375,14990482:12376,14990485:12377,14990486:12378,14990487:12379,14990489:12380,14990510:12381,14990513:12382,14990752:12383,14990515:12384,14990517:12385,14990519:12386,14990521:12387,14990523:12388,14990526:12389,14990720:12390,14990722:12391,14990728:12392,14990729:12393,14990731:12394,14990732:12395,14990738:12396,14990740:12397,14990742:12398,14990744:12399,14990751:12400,14990755:12401,14990762:12402,14990764:12403,14990766:12404,14990769:12405,14990775:12406,14990776:12407,14990777:12408,14990778:12409,14990781:12410,14990782:12411,14990977:12412,14990978:12413,14990980:12414,14990981:12577,14990985:12578,14990986:12579,14990988:12580,14990990:12581,14990992:12582,14990994:12583,14990995:12584,14990996:12585,14990999:12586,14991001:12587,14991002:12588,14991006:12589,14991007:12590,14991026:12591,14991031:12592,14991033:12593,14991035:12594,14991036:12595,14991037:12596,14991038:12597,14991232:12598,14991233:12599,14991237:12600,14991238:12601,14991240:12602,14991241:12603,14991243:12604,14991244:12605,14991245:12606,14991247:12607,14991250:12608,14991260:12609,14991264:12610,14991266:12611,14991280:12612,14991282:12613,14991292:12614,14991293:12615,14991295:12616,15040640:12617,15040641:12618,15040644:12619,15040647:12620,15040650:12621,15040652:12622,15040654:12623,15040656:12624,15040659:12625,15040663:12626,15040664:12627,15040667:12628,15040668:12629,15040669:12630,15040670:12631,15040674:12632,15040679:12633,15040686:12634,15040688:12635,15040690:12636,15040691:12637,15040693:12638,15040896:12639,15040897:12640,15040898:12641,15040901:12642,15040902:12643,15040906:12644,15040908:12645,15040910:12646,15040913:12647,15040914:12648,15040915:12649,15040919:12650,15040921:12651,15040927:12652,15040928:12653,15040930:12654,15040931:12655,15040934:12656,15040935:12657,15040938:12658,15040941:12659,15040944:12660,15040945:12661,15040699:12662,15041153:12663,15041155:12664,15041156:12665,15041158:12666,15041162:12667,15041166:12668,15041167:12669,15041168:12670,15041170:12833,15041171:12834,15041172:12835,15041174:12836,15041179:12837,15041180:12838,15041182:12839,15041183:12840,15041184:12841,15041185:12842,15041186:12843,15041194:12844,15041199:12845,15041200:12846,15041209:12847,15041210:12848,15041213:12849,15041408:12850,15041411:12851,15041412:12852,15041415:12853,15041420:12854,15041422:12855,15041424:12856,15041427:12857,15041428:12858,15041432:12859,15041436:12860,15041437:12861,15041439:12862,15041442:12863,15041444:12864,15041446:12865,15041448:12866,15041449:12867,15041455:12868,15041457:12869,15041462:12870,15041466:12871,15041470:12872,15041667:12873,15041670:12874,15041671:12875,15041672:12876,15041675:12877,15041676:12878,15041677:12879,15041678:12880,15041458:12881,15041680:12882,15041687:12883,15041689:12884,15041691:12885,15041692:12886,15041693:12887,15041694:12888,15041699:12889,15041703:12890,15041704:12891,15041708:12892,15041709:12893,15041711:12894,15041713:12895,15041715:12896,15041716:12897,15041717:12898,15041720:12899,15041721:12900,15041922:12901,15041930:12902,15041935:12903,15041939:12904,15041941:12905,15041943:12906,15041944:12907,15041951:12908,15041956:12909,15041958:12910,15041982:12911,15042179:12912,15042180:12913,15042187:12914,15042190:12915,15042200:12916,15042205:12917,15042209:12918,15042211:12919,15042221:12920,15042232:12921,15042234:12922,15042236:12923,15042238:12924,15042239:12925,15042434:12926,15042440:13089,15042447:13090,15042449:13091,15042450:13092,15042451:13093,15042453:13094,15042456:13095,15042462:13096,15042466:13097,15042469:13098,15042478:13099,15042482:13100,15042483:13101,15042484:13102,15042487:13103,15042689:13104,15042690:13105,15042693:13106,15042706:13107,15042707:13108,15042709:13109,15042710:13110,15042712:13111,15042722:13112,15042728:13113,15042737:13114,15042738:13115,15042741:13116,15042748:13117,15042949:13118,15042953:13119,15042965:13120,15042967:13121,15042968:13122,15042970:13123,15042972:13124,15042975:13125,15042976:13126,15042977:13127,15042982:13128,15042990:13129,15042999:13130,15043e3:13131,15043001:13132,15043200:13133,15043202:13134,15043205:13135,15043210:13136,15043212:13137,15043219:13138,15043221:13139,15043222:13140,15043223:13141,15043224:13142,15043226:13143,15043228:13144,15043236:13145,15043237:13146,15043238:13147,15043239:13148,15043247:13149,15043248:13150,15043254:13151,15043255:13152,15043256:13153,15043258:13154,15043259:13155,15043261:13156,15043456:13157,15043460:13158,15043462:13159,15043464:13160,15043468:13161,15043471:13162,15043473:13163,15043476:13164,15043478:13165,
15043483:13166,15043484:13167,15043489:13168,15043493:13169,15043496:13170,15043497:13171,15043498:13172,15043500:13173,15043504:13174,15043505:13175,15043508:13176,15043510:13177,15043511:13178,15043712:13179,15043715:13180,15043722:13181,15043723:13182,15043724:13345,15043729:13346,15043731:13347,15043736:13348,15043739:13349,15043740:13350,15043742:13351,15043743:13352,15043749:13353,15043751:13354,15043752:13355,15043753:13356,15043755:13357,15043756:13358,15043757:13359,15043760:13360,15043762:13361,15043765:13362,15043772:13363,15043773:13364,15043774:13365,15043970:13366,15043980:13367,15043979:13368,15043993:13369,15043995:13370,15044001:13371,15044003:13372,15044005:13373,15044012:13374,15044013:13375,15044018:13376,15044025:13377,15044030:13378,15044227:13379,15044231:13380,15044232:13381,15044238:13382,15044243:13383,15044244:13384,15044249:13385,15044253:13386,15044257:13387,15044260:13388,15044266:13389,15044267:13390,15044271:13391,15044274:13392,15044276:13393,15044277:13394,15044279:13395,15044280:13396,15044282:13397,15044285:13398,15044480:13399,15044485:13400,15044495:13401,15044498:13402,15044499:13403,15044501:13404,15044506:13405,15044509:13406,15044510:13407,15044512:13408,15044518:13409,15044519:13410,15044533:13411,15044738:13412,15044755:13413,15044762:13414,15044769:13415,15044775:13416,15044776:13417,15044778:13418,15044783:13419,15044785:13420,15044788:13421,15044789:13422,15044995:13423,15044996:13424,15044999:13425,15045005:13426,15045007:13427,15045022:13428,15045026:13429,15045028:13430,15045030:13431,15045031:13432,15045033:13433,15045035:13434,15045037:13435,15045038:13436,15045044:13437,15045055:13438,15045249:13601,15045251:13602,15045253:13603,15045256:13604,15045257:13605,15045261:13606,15045265:13607,15045269:13608,15045270:13609,15045276:13610,15045279:13611,15045281:13612,15045286:13613,15045287:13614,15045289:13615,15045290:13616,15045293:13617,15045294:13618,15045297:13619,15045303:13620,15045305:13621,15045306:13622,15045307:13623,15045311:13624,15045510:13625,15045514:13626,15045517:13627,15045518:13628,15045536:13629,15045546:13630,15045548:13631,15045551:13632,15045558:13633,15045564:13634,15045566:13635,15045567:13636,15045760:13637,15045761:13638,15045765:13639,15045768:13640,15045769:13641,15045772:13642,15045773:13643,15045774:13644,15045781:13645,15045802:13646,15045803:13647,15045810:13648,15045813:13649,15045814:13650,15045819:13651,15045820:13652,15045821:13653,15046017:13654,15046023:13655,15046025:13656,15046026:13657,15046029:13658,15046032:13659,15046033:13660,15046040:13661,15046042:13662,15046043:13663,15046046:13664,15046048:13665,15046049:13666,15046052:13667,15046054:13668,15046079:13669,15046273:13670,15046274:13671,15046278:13672,15046280:13673,15046286:13674,15046287:13675,15046289:13676,15046290:13677,15046291:13678,15046292:13679,15046295:13680,15046307:13681,15046308:13682,15046317:13683,15046322:13684,15046335:13685,15046529:13686,15046531:13687,15046534:13688,15046537:13689,15046539:13690,15046540:13691,15046542:13692,15046545:13693,15046546:13694,15046547:13857,15046551:13858,15046552:13859,15046555:13860,15046558:13861,15046562:13862,15046569:13863,15046582:13864,15046591:13865,15046789:13866,15046792:13867,15046794:13868,15046797:13869,15046798:13870,15046799:13871,15046800:13872,15046801:13873,15046802:13874,15046809:13875,15046828:13876,15046832:13877,15046835:13878,15046837:13879,15046839:13880,15046841:13881,15046843:13882,15046844:13883,15046845:13884,15046847:13885,15047040:13886,15047041:13887,15047043:13888,15047044:13889,15047046:13890,15047049:13891,15047051:13892,15047053:13893,15047055:13894,15047060:13895,15047070:13896,15047072:13897,15047073:13898,15047074:13899,15047075:13900,15047078:13901,15047081:13902,15047085:13903,15047087:13904,15047089:13905,15047090:13906,15047093:13907,15047300:13908,15047301:13909,15047304:13910,15047307:13911,15047308:13912,15047317:13913,15047321:13914,15047322:13915,15047325:13916,15047326:13917,15047327:13918,15047334:13919,15047335:13920,15047336:13921,15047337:13922,15047339:13923,15047340:13924,15047341:13925,15047345:13926,15047347:13927,15047351:13928,15047358:13929,15047557:13930,15047561:13931,15047562:13932,15047563:13933,15047567:13934,15047568:13935,15047564:13936,15047565:13937,15047577:13938,15047580:13939,15047581:13940,15047583:13941,15047585:13942,15047588:13943,15047589:13944,15047590:13945,15047591:13946,15047592:13947,15047601:13948,15047595:13949,15047597:13950,15047606:14113,15047607:14114,15047809:14115,15047810:14116,15047815:14117,15047818:14118,15047820:14119,15047825:14120,15047829:14121,15047834:14122,15047835:14123,15047837:14124,15047840:14125,15047842:14126,15047843:14127,15047844:14128,15047845:14129,15047849:14130,15047850:14131,15047852:14132,15047854:14133,15047855:14134,15047859:14135,15047860:14136,15047869:14137,15047870:14138,15047871:14139,15048069:14140,15048070:14141,15048076:14142,15048077:14143,15048082:14144,15048098:14145,15048101:14146,15048103:14147,15048104:14148,15048107:14149,15048109:14150,15048110:14151,15048111:14152,15048112:14153,15048113:14154,15048115:14155,15048116:14156,15048117:14157,15048119:14158,15048121:14159,15048122:14160,15048123:14161,15048124:14162,15048126:14163,15048321:14164,15048323:14165,15048332:14166,15048340:14167,15048343:14168,15048345:14169,15048346:14170,15048348:14171,15048349:14172,15048350:14173,15048351:14174,15048353:14175,15048341:14176,15048359:14177,15048360:14178,15048361:14179,15048364:14180,15048376:14181,15048381:14182,15048583:14183,15048584:14184,15048588:14185,15048591:14186,15048597:14187,15048605:14188,15048606:14189,15048612:14190,15048614:14191,15048615:14192,15048617:14193,15048621:14194,15048624:14195,15048629:14196,15048630:14197,15048632:14198,15048637:14199,15048638:14200,15048639:14201,15048835:14202,15048836:14203,15048840:14204,15048841:14205,15048609:14206,15048844:14369,15048845:14370,15048859:14371,15048862:14372,15048863:14373,15048864:14374,15048870:14375,15048871:14376,15048877:14377,15048882:14378,15048889:14379,15048895:14380,15049097:14381,15049100:14382,15049101:14383,15049103:14384,15049104:14385,15049109:14386,15049119:14387,15049121:14388,15049124:14389,15049127:14390,15049128:14391,15049144:14392,15049148:14393,15049151:14394,15049344:14395,15049345:14396,15049351:14397,15049352:14398,15049353:14399,15049354:14400,15049356:14401,15049357:14402,15049359:14403,15049360:14404,15049364:14405,15049366:14406,15049373:14407,15049376:14408,15049377:14409,15049378:14410,15049382:14411,15049385:14412,15049393:14413,15049394:14414,15049604:14415,15049404:14416,15049602:14417,15049608:14418,15049613:14419,15049614:14420,15049616:14421,15049618:14422,15049620:14423,15049622:14424,15049626:14425,15049629:14426,15049633:14427,15049634:14428,15049641:14429,15049651:14430,15049861:14431,15049862:14432,15049867:14433,15049868:14434,15049874:14435,15049875:14436,15049876:14437,15243649:14438,15049885:14439,15049889:14440,15049891:14441,15049892:14442,15049896:14443,15049903:14444,15049904:14445,15049907:14446,15049909:14447,15049910:14448,15049919:14449,15050115:14450,15050118:14451,15050130:14452,15050131:14453,15050137:14454,15050139:14455,15050141:14456,15050142:14457,15050143:14458,15050145:14459,15050147:14460,15050155:14461,15050157:14462,15050159:14625,15050162:14626,15050165:14627,15050166:14628,15050169:14629,15050171:14630,15050172:14631,15050379:14632,15050380:14633,15050382:14634,15050386:14635,15050389:14636,15050391:14637,15050399:14638,15050404:14639,15050407:14640,15050413:14641,15050414:14642,15050415:14643,15050416:14644,15050419:14645,15050423:14646,15050426:14647,15050428:14648,15050625:14649,15050627:14650,15050628:14651,15050632:14652,15050634:14653,15050637:14654,15050642:14655,15050653:14656,15050654:14657,15050655:14658,15050659:14659,15050660:14660,15050663:14661,15050670:14662,15050671:14663,15050673:14664,15050674:14665,15050676:14666,15050679:14667,15050880:14668,15050884:14669,15050892:14670,15050893:14671,15050894:14672,15050898:14673,15050899:14674,15050910:14675,15050915:14676,15050916:14677,15050919:14678,15050920:14679,15050922:14680,15050925:14681,15050928:14682,15051140:14683,15051141:14684,15051143:14685,15051144:14686,15051148:14687,15051152:14688,15051157:14689,15051166:14690,15051171:14691,15051173:14692,15051175:14693,15051181:14694,15051191:14695,15051194:14696,15051195:14697,15051198:14698,15051403:14699,15051408:14700,15051411:14701,15051414:14702,15051417:14703,15051420:14704,15051422:14705,15051423:14706,15051424:14707,15051426:14708,15051431:14709,15051436:14710,15051441:14711,15051442:14712,15051443:14713,15051445:14714,15051448:14715,15051450:14716,15051451:14717,15051455:14718,15051652:14881,15051654:14882,15051656:14883,15051663:14884,15051674:14885,15051676:14886,15051680:14887,15051685:14888,15051690:14889,15051694:14890,15051701:14891,15051702:14892,15051709:14893,15051904:14894,15051905:14895,15051912:14896,15051927:14897,15051956:14898,15051929:14899,15051931:14900,15051933:14901,15051937:14902,15051941:14903,15051949:14904,15051960:14905,15052161:14906,15052171:14907,15052172:14908,15052178:14909,15052182:14910,15052190:14911,15052200:14912,15052206:14913,15052207:14914,15052220:14915,15052221:14916,15052222:14917,15052223:14918,15052417:14919,15052420:14920,15052422:14921,15052426:14922,15052430:14923,15052432:14924,15052433:14925,15052435:14926,15052436:14927,15052438:14928,15052456:14929,15052457:14930,15052460:14931,15052461:14932,15052463:14933,15052465:14934,15052466:14935,15052471:14936,15052474:14937,15052476:14938,15052672:14939,15052673:14940,15052685:14941,15052687:14942,15052694:14943,15052695:14944,15052696:14945,15052697:14946,15052698:14947,15052704:14948,15052719:14949,15052721:14950,15052724:14951,15052733:14952,15052940:14953,15052951:14954,15052958:14955,15052959:14956,15052963:14957,15052966:14958,15052969:14959,15052971:14960,15052972:14961,15052974:14962,15052976:14963,15052978:14964,15052981:14965,15052982:14966,15053209:14967,15053210:14968,15053212:14969,15053218:14970,15053219:14971,15053223:14972,15053224:14973,15053225:14974,15053229:15137,15053232:15138,15053236:15139,15053237:15140,15053242:15141,15053243:15142,15053244:15143,15053245:15144,15053447:15145,15053448:15146,15053450:15147,15053455:15148,15053458:15149,15053469:15150,15053471:15151,15053472:15152,15053474:15153,15053475:15154,15053478:15155,15053482:15156,15053490:15157,15053492:15158,15053493:15159,15053498:15160,15053705:15161,15053707:15162,15053714:15163,15053725:15164,15053719:15165,15053742:15166,15053745:15167,15053746:15168,15053748:15169,15053953:15170,15053958:15171,15053965:15172,15053970:15173,15053995:15174,15053987:15175,15053988:15176,15053990:15177,15053991:15178,15054001:15179,15054004:15180,15054009:15181,15054013:15182,15054015:15183,15054210:15184,15054211:15185,15054214:15186,15054216:15187,15054229:15188,15054225:15189,15054233:15190,15054218:15191,15054239:15192,15054240:15193,15054241:15194,15054242:15195,15054244:15196,15054250:15197,15054253:15198,15054256:15199,15054265:15200,15054266:15201,15054270:15202,15054271:15203,15054465:15204,15054467:15205,15054472:15206,15054474:15207,15054482:15208,15054483:15209,15054484:15210,15054485:15211,15054489:15212,15054491:15213,15054495:15214,15054496:15215,15054503:15216,15054507:15217,15054512:15218,15054516:15219,15054520:15220,15054521:15221,15054723:15222,15054727:15223,15054731:15224,15054736:15225,15054734:15226,15054744:15227,15054745:15228,15054752:15229,15054756:15230,15054761:15393,15054776:15394,15054777:15395,15054976:15396,15054983:15397,15054989:15398,15054994:15399,15054996:15400,15054997:15401,15055e3:15402,15055007:15403,15055008:15404,15055022:15405,15055016:15406,15055026:15407,15055029:15408,15055038:15409,15055243:15410,15055248:15411,15055241:15412,15055249:15413,15055254:15414,15055256:15415,15055259:15416,15055260:15417,15055262:15418,15055272:15419,15055274:15420,15055275:15421,15055276:15422,15055277:15423,15055278:15424,15055280:15425,15055488:15426,15055499:15427,15055502:15428,15055522:15429,15055524:15430,15055525:15431,15055528:15432,15055530:15433,15055532:15434,15055537:15435,15055539:15436,15055549:15437,15055550:15438,15055551:15439,15055750:15440,15055756:15441,15055755:15442,15055758:15443,15055761:15444,15055762:15445,15055764:15446,15055765:15447,15055772:15448,15055774:15449,15055781:15450,15055787:15451,15056002:15452,15056006:15453,15056007:15454,15056008:15455,15056014:15456,15056025:15457,15056028:15458,15056029:15459,15056033:15460,15056034:15461,15056035:15462,15056036:15463,15056040:15464,15056043:15465,15056044:15466,15056046:15467,15056048:15468,15056052:15469,15056054:15470,15056059:15471,15056061:15472,15056063:15473,15056256:15474,15056260:15475,15056261:15476,15056263:15477,15056269:15478,15056272:15479,15056276:15480,15056280:15481,15056283:15482,15056288:15483,15056291:15484,15056292:15485,15056295:15486,15056303:15649,15056306:15650,15056308:15651,15056309:15652,15056312:15653,15056314:15654,15056317:15655,15056318:15656,15056521:15657,15056525:15658,15056527:15659,15056534:15660,15056540:15661,15056541:15662,15056546:15663,15056551:15664,15056555:15665,15056548:15666,15056556:15667,15056559:15668,15056560:15669,15056561:15670,15056568:15671,15056772:15672,15056775:15673,15056776:15674,15056777:15675,15056779:15676,15056784:15677,15056785:15678,15056786:15679,15056787:15680,15056788:15681,15056798:15682,15056801:15683,15056802:15684,15056808:15685,15056809:15686,15056810:15687,15056812:15688,15056813:15689,15056814:15690,15056815:15691,15056818:15692,15056819:15693,15056822:15694,15056826:15695,15056828:15696,15106183:15697,15106186:15698,15106189:15699,15106195:15700,15106196:15701,15106199:15702,15106200:15703,15106202:15704,15106207:15705,15106212:15706,15106221:15707,15106227:15708,15106229:15709,15106432:15710,15106439:15711,15106440:15712,15106441:15713,15106444:15714,15106449:15715,15106452:15716,15106454:15717,15106455:15718,15106461:15719,15106465:15720,15106471:15721,15106481:15722,15106494:15723,15106495:15724,15106690:15725,15106694:15726,15106696:15727,15106698:15728,15106702:15729,15106705:15730,15106707:15731,15106709:15732,15106712:15733,15106717:15734,15106718:15735,15106722:15736,15106724:15737,15106725:15738,15106728:15739,15106736:15740,15106737:15741,15106743:15742,15106747:15905,15106750:15906,15106946:15907,15106948:15908,15106952:15909,15106953:15910,15106954:15911,15106955:15912,15106958:15913,15106959:15914,15106964:15915,15106965:15916,15106969:15917,15106971:15918,15106973:15919,15106974:15920,15106978:15921,15106981:15922,15106994:15923,15106997:15924,15107e3:15925,15107004:15926,15107005:15927,15107202:15928,15107207:15929,15107210:15930,15107212:15931,15107216:15932,15107217:15933,15107218:15934,15107219:15935,15107220:15936,15107222:15937,15107223:15938,15107225:15939,15107228:15940,15107230:15941,15107234:15942,15107242:15943,15107243:15944,15107248:15945,15107249:15946,15107253:15947,15107254:15948,15107255:15949,15107257:15950,15107457:15951,15107461:15952,15107462:15953,15107465:15954,15107486:15955,15107488:15956,15107500:15957,15107506:15958,15107512:15959,15107515:15960,15107516:15961,15107519:15962,15107712:15963,15107713:15964,15107715:15965,15107716:15966,15107723:15967,15107725:15968,15107730:15969,15107731:15970,15107735:15971,15107736:15972,15107740:15973,15107741:15974,15107743:15975,15107744:15976,15107749:15977,15107752:15978,15107754:15979,15107757:15980,15107768:15981,15107769:15982,15107772:15983,15107968:15984,15107969:15985,15107970:15986,15107982:15987,15107983:15988,15107989:15989,15107996:15990,15107997:15991,15107998:15992,15107999:15993,15108001:15994,15108002:15995,15108007:15996,15108009:15997,15108005:15998,15108012:16161,15108013:16162,15108015:16163,15108225:16164,15108227:16165,15108228:16166,15108231:16167,15108243:16168,15108245:16169,15108252:16170,15108256:16171,15108258:16172,15108259:16173,15108263:16174,15108265:16175,15108267:16176,15108281:16177,15108285:16178,15108482:16179,15108483:16180,15108484:16181,15108486:16182,15108492:16183,15108496:16184,15108497:16185,15108498:16186,15108500:16187,15108502:16188,15108506:16189,15108508:16190,15108516:16191,15108525:16192,15108527:16193,15108531:16194,15108538:16195,15108541:16196,15108749:16197,15108750:16198,15108751:16199,15108752:16200,15108774:16201,15108776:16202,15108787:16203,15108790:16204,15108791:16205,15108794:16206,15108798:16207,15108799:16208,15108996:16209,15109006:16210,15109013:16211,15109014:16212,15109018:16213,15109034:16214,15109042:16215,15109044:16216,15109052:16217,15109053:16218,15109251:16219,15109252:16220,15109258:16221,15109259:16222,15109261:16223,15109264:16224,15109267:16225,15109270:16226,15109272:16227,15109289:16228,15109290:16229,15109293:16230,15109301:16231,15109302:16232,15109305:16233,15109308:16234,15109505:16235,15109506:16236,15109507:16237,15109508:16238,15109510:16239,15109514:16240,15109515:16241,15109518:16242,15109522:16243,15109523:16244,15109524:16245,15109528:16246,15109531:16247,15109541:16248,15109542:16249,15109548:16250,15109549:16251,15109553:16252,15109556:16253,15109557:16254,15109560:16417,15109564:16418,15109565:16419,15109567:16420,15109762:16421,15109764:16422,15109767:16423,15109770:16424,15109776:16425,15109780:16426,15109781:16427,15109785:16428,15109786:16429,15109790:16430,15109796:16431,15109798:16432,15109805:16433,15109806:16434,15109807:16435,15109821:16436,15110017:16437,15110021:16438,15110024:16439,15110030:16440,15110033:16441,15110035:16442,15110036:16443,15110037:16444,15110044:16445,15110048:16446,15110053:16447,15110058:16448,15110060:16449,15110066:16450,15110067:16451,15110069:16452,15110072:16453,15110073:16454,15110281:16455,15110282:16456,15110288:16457,15110290:16458,15110292:16459,15110296:16460,15110302:16461,15110304:16462,15110306:16463,15110308:16464,15110309:16465,15110313:16466,15110314:16467,15110319:16468,15110320:16469,15110325:16470,15110333:16471,15110335:16472,15110539:16473,15110543:16474,15110545:16475,15110546:16476,15110547:16477,15110548:16478,15110554:16479,15110555:16480,15110556:16481,15110557:16482,15110559:16483,15110560:16484,15110561:16485,15110563:16486,15110573:16487,15110579:16488,15110580:16489,15110587:16490,15110589:16491,15110789:16492,15110791:16493,15110799:16494,15110800:16495,15110801:16496,15110808:16497,15110809:16498,15110811:16499,15110813:16500,15110815:16501,15110817:16502,15110819:16503,15110822:16504,15110824:16505,15110828:16506,15110835:16507,15110845:16508,15110846:16509,15110847:16510,15111044:16673,15111049:16674,15111050:16675,15111051:16676,15111052:16677,15111054:16678,15111056:16679,15111057:16680,15111061:16681,15111063:16682,15111076:16683,15111077:16684,15111081:16685,15111082:16686,15111085:16687,15111088:16688,15111093:16689,15111095:16690,15111099:16691,15111103:16692,15111297:16693,15111300:16694,15111304:16695,15111305:16696,15111306:16697,15111311:16698,15111315:16699,15111316:16700,15111318:16701,15111321:16702,15111323:16703,15111326:16704,15111327:16705,15111330:16706,15111334:16707,15111337:16708,15111342:16709,15111345:16710,15111354:16711,15111356:16712,15111357:16713,15111555:16714,15111559:16715,15111561:16716,15111568:16717,15111570:16718,15111572:16719,15111583:16720,15111584:16721,15111591:16722,15111595:16723,15111610:16724,15111613:16725,15111809:16726,15111813:16727,15111818:16728,15111826:16729,15111829:16730,15111832:16731,15111837:16732,15111840:16733,15111843:16734,15111846:16735,15111854:16736,15111858:16737,15111859:16738,15111860:16739,15111871:16740,15112066:16741,15112072:16742,15112073:16743,15112078:16744,15112080:16745,15112084:16746,15112086:16747,15112088:16748,15112095:16749,15112112:16750,15112114:16751,15112116:16752,15112117:16753,15112121:16754,15112126:16755,15112127:16756,15112320:16757,15112324:16758,15112328:16759,15112329:16760,15112333:16761,15112337:16762,15112338:16763,15112341:16764,15112342:16765,15112349:16766,15112350:16929,15112353:16930,15112354:16931,15112355:16932,15112356:16933,15112358:16934,15112361:16935,15112362:16936,15112363:16937,15112364:16938,15112366:16939,15112368:16940,15112369:16941,15112371:16942,15112377:16943,15112375:16944,15112576:16945,15112581:16946,15112582:16947,15112586:16948,15112588:16949,15112593:16950,15112590:16951,15112599:16952,15112600:16953,15112601:16954,15112603:16955,15112604:16956,15112608:16957,15112609:16958,15113147:16959,15112618:16960,15112619:16961,15112620:16962,15112638:16963,15112627:16964,15112629:16965,15112639:16966,15112631:16967,15112632:16968,15112633:16969,15112635:16970,15112832:16971,15112636:16972,15112843:16973,15112844:16974,15112845:16975,15112848:16976,15112850:16977,15112857:16978,15112858:16979,15112859:16980,15112860:16981,15112863:16982,15112864:16983,15112868:16984,15112877:16985,15112881:16986,15112882:16987,15112885:16988,15112891:16989,15112895:16990,15113088:16991,15113090:16992,15113091:16993,15113096:16994,15113100:16995,15113102:16996,15113103:16997,15113108:16998,15113115:16999,15113119:17e3,15113128:17001,15113131:17002,15113132:17003,15113134:17004,15113146:17005,15113349:17006,15113351:17007,15113358:17008,15113363:17009,15113369:17010,15113372:17011,15113376:17012,15113378:17013,15113395:17014,15113406:17015,15113605:17016,15113607:17017,15113608:17018,15113612:17019,15113620:17020,15113621:17021,15113629:17022,15113638:17185,15113644:17186,15113646:17187,15113652:17188,15113654:17189,15113659:17190,15113857:17191,15113860:17192,15113870:17193,15113871:17194,15113873:17195,15113875:17196,15113878:17197,15113880:17198,15113881:17199,15113883:17200,15113904:17201,15113905:17202,15113906:17203,15113909:17204,15113915:17205,15113916:17206,15113917:17207,15114169:17208,15114112:17209,15114114:17210,15114115:17211,15114117:17212,15114120:17213,15114121:17214,15114130:17215,15114135:17216,15114137:17217,15114140:17218,15114145:17219,15114150:17220,15114160:17221,15114162:17222,15114166:17223,15114167:17224,15114642:17225,15114388:17226,15114393:17227,15114397:17228,15114399:17229,15114408:17230,15114407:17231,15114412:17232,15114413:17233,15114415:17234,15114416:17235,15114417:17236,15114419:17237,15114427:17238,15114431:17239,15114628:17240,15114629:17241,15114634:17242,15114636:17243,15114645:17244,15114647:17245,15114648:17246,15114651:17247,15114667:17248,15114670:17249,15114671:17250,15114672:17251,15114673:17252,15114674:17253,15114677:17254,15114681:17255,15114682:17256,15114683:17257,15114684:17258,15114882:17259,15114884:17260,15114886:17261,15114888:17262,15114902:17263,15114904:17264,15114906:17265,15114908:17266,15114913:17267,15114915:17268,15114917:17269,15114921:17270,15114922:17271,15114926:17272,15114930:17273,15114939:17274,15115141:17275,15115144:17276,15115148:17277,15115151:17278,15115152:17441,15115153:17442,15115155:17443,15115158:17444,15115161:17445,15115164:17446,15115165:17447,15115173:17448,15115176:17449,15115178:17450,15115179:17451,15115180:17452,15115181:17453,15115184:17454,15115185:17455,15115189:17456,15115190:17457,15115195:17458,15115196:17459,15115197:17460,15115398:17461,15115401:17462,15115402:17463,15115408:17464,15115409:17465,15115411:17466,15115414:17467,15115415:17468,15115441:17469,15115443:17470,15115445:17471,15115448:17472,15115451:17473,15115650:17474,15115653:17475,15115657:17476,15115662:17477,15115671:17478,15115675:17479,15115683:17480,15115684:17481,15115685:17482,15115686:17483,15115688:17484,15115689:17485,15115692:17486,15115696:17487,15115697:17488,15115698:17489,15115706:17490,15115707:17491,15115711:17492,15115904:17493,15115917:17494,15115922:17495,15115926:17496,15115928:17497,15115937:17498,15115941:17499,15115942:17500,15115944:17501,15115947:17502,15115949:17503,15115951:17504,15115959:17505,15115960:17506,15115962:17507,15115964:17508,15116165:17509,15116168:17510,15116177:17511,15116182:17512,15116183:17513,15116194:17514,15116197:17515,15116206:17516,15116207:17517,15116209:17518,15116211:17519,15116213:17520,15116222:17521,15116416:17522,15116417:17523,15116419:17524,15116431:17525,15116433:17526,15116437:17527,15116442:17528,15116445:17529,15116448:17530,15116452:17531,15116456:17532,15116464:17533,15116466:17534,15116468:17697,15116471:17698,15116475:17699,15116478:17700,15116479:17701,15116677:17702,15116678:17703,15116681:17704,15116682:17705,15116686:17706,15116688:17707,15116689:17708,15116690:17709,15116693:17710,15116694:17711,15116699:17712,15116708:17713,15116711:17714,15116714:17715,15116721:17716,15116723:17717,15116734:17718,15116929:17719,15116931:17720,15116934:17721,15116935:17722,15116937:17723,15116939:17724,15116945:17725,15116955:17726,15116957:17727,15116958:17728,15116959:17729,15116965:17730,15116971:17731,15116975:17732,15116976:17733,15116977:17734,15116980:17735,15116989:17736,15116990:17737,15116991:17738,15117190:17739,15117193:17740,15117192:17741,15117196:17742,15117200:17743,15117204:17744,15117205:17745,15117206:17746,15117212:17747,15117213:17748,15117220:17749,15117223:17750,15117228:17751,15117232:17752,15117233:17753,15117234:17754,15117244:17755,15117245:17756,15117442:17757,15117443:17758,15117446:17759,15117447:17760,15117449:17761,15117455:17762,15117456:17763,15117457:17764,15117463:17765,15117467:17766,15117470:17767,15117476:17768,15117480:17769,15117483:17770,15117484:17771,15117487:17772,15117493:17773,15117494:17774,15117499:17775,15117503:17776,15117702:17777,15117706:17778,15117709:17779,15117714:17780,15117718:17781,15117720:17782,15117725:17783,15117728:17784,15117735:17785,15117739:17786,15117742:17787,15117744:17788,15117749:17789,15117757:17790,15117758:17953,15117954:17954,15117957:17955,15117975:17956,15117979:17957,15117983:17958,15117984:17959,15117986:17960,15117987:17961,15117992:17962,15117993:17963,15117996:17964,15117997:17965,15117998:17966,15118e3:17967,15118008:17968,15118009:17969,15118013:17970,15118014:17971,15118211:17972,15118212:17973,15118217:17974,15118220:17975,15118230:17976,15118234:17977,15118241:17978,15118243:17979,15118246:17980,15118247:17981,15118254:17982,15118257:17983,15118263:17984,15118265:17985,15118271:17986,15118466:17987,15118468:17988,15118469:17989,15118473:17990,15118477:17991,15118478:17992,15118480:17993,15118482:17994,15118489:17995,15118495:17996,15118502:17997,15118503:17998,15118504:17999,15118508:18e3,15118510:18001,15118515:18002,15118517:18003,15118518:18004,15118522:18005,15118523:18006,15118527:18007,15118730:18008,15118731:18009,15118733:18010,15118735:18011,15118738:18012,15118740:18013,15118745:18014,15118747:18015,15118748:18016,15118763:18017,15118765:18018,15118767:18019,15118772:18020,15118774:18021,15118776:18022,15118777:18023,15118779:18024,15118981:18025,15118982:18026,15118983:18027,15118985:18028,15118996:18029,15118997:18030,15118999:18031,15119e3:18032,15119004:18033,15119007:18034,15119024:18035,15119026:18036,15119028:18037,15119234:18038,15119238:18039,15119245:18040,15119247:18041,15119248:18042,15119249:18043,15119250:18044,15119252:18045,15119254:18046,15119258:18209,15119260:18210,15119264:18211,15119271:18212,15119273:18213,15119275:18214,15119276:18215,15119278:18216,15119282:18217,15119284:18218,15119492:18219,15119495:18220,15119498:18221,15119502:18222,15119503:18223,15119505:18224,15119507:18225,15119514:18226,15119526:18227,15119527:18228,15119528:18229,15118759:18230,15119534:18231,15119535:18232,15119537:18233,15119545:18234,15119548:18235,15119551:18236,15119767:18237,15119774:18238,15119775:18239,15119777:18240,15119781:18241,15119783:18242,15119791:18243,15119792:18244,15119804:18245,15120002:18246,15120007:18247,15120017:18248,15120018:18249,15120020:18250,15120022:18251,15120023:18252,15120024:18253,15120042:18254,15120044:18255,15120052:18256,15120055:18257,15120057:18258,15120061:18259,15120063:18260,15120260:18261,15120264:18262,15120266:18263,15120270:18264,15120271:18265,15120278:18266,15120283:18267,15120285:18268,15120287:18269,15120288:18270,15120290:18271,15120293:18272,15120297:18273,15120303:18274,15120304:18275,15120308:18276,15120310:18277,15120316:18278,15120512:18279,15120516:18280,15120542:18281,15120546:18282,15120551:18283,15120562:18284,15120566:18285,15120569:18286,15120571:18287,15120572:18288,15120772:18289,15120773:18290,15120776:18291,15120777:18292,15120779:18293,15120783:18294,15120785:18295,15120786:18296,15120787:18297,15120788:18298,15120791:18299,15120796:18300,15120797:18301,15120798:18302,15120802:18465,15120803:18466,15120808:18467,15120819:18468,15120827:18469,15120829:18470,15121037:18471,15121043:18472,15121049:18473,15121056:18474,15121063:18475,15121069:18476,15121070:18477,15121073:18478,15121075:18479,15121083:18480,15121087:18481,15121280:18482,15121281:18483,15121283:18484,15121287:18485,15121288:18486,15121290:18487,15121293:18488,15121294:18489,15121295:18490,15121323:18491,15121325:18492,15121326:18493,15121337:18494,15121339:18495,15121341:18496,15121540:18497,15121544:18498,15121546:18499,15121548:18500,15121549:18501,15121558:18502,15121560:18503,15121562:18504,15121563:18505,15121574:18506,15121577:18507,15121578:18508,15121583:18509,15121584:18510,15121587:18511,15121590:18512,15121595:18513,15121596:18514,15121581:18515,15121807:18516,15121809:18517,15121810:18518,15121811:18519,15121815:18520,15121817:18521,15121818:18522,15121821:18523,15121822:18524,15121825:18525,15121826:18526,15121832:18527,15121836:18528,15121853:18529,15121854:18530,15122051:18531,15122055:18532,15122056:18533,15122059:18534,15122060:18535,15122061:18536,15122064:18537,15122066:18538,15122067:18539,15122068:18540,15122070:18541,15122074:18542,15122079:18543,15122080:18544,15122085:18545,15122086:18546,15122087:18547,15122088:18548,15122094:18549,15122095:18550,15122096:18551,15122101:18552,15122102:18553,15122108:18554,15122309:18555,15122311:18556,15122312:18557,15122314:18558,15122330:18721,15122334:18722,15122344:18723,15122345:18724,15122352:18725,15122357:18726,15122361:18727,15122364:18728,15122365:18729,15171712:18730,15171717:18731,15171718:18732,15171719:18733,15171725:18734,15171735:18735,15171744:18736,15171747:18737,15171759:18738,15171764:18739,15171767:18740,15171769:18741,15171772:18742,15171971:18743,15171972:18744,15171976:18745,15171977:18746,15171978:18747,15171979:18748,15171988:18749,15171989:18750,15171997:18751,15171998:18752,15171982:18753,15172004:18754,15172005:18755,15172012:18756,15172014:18757,15172021:18758,15172022:18759,15172030:18760,15172225:18761,15172229:18762,15172230:18763,15172244:18764,15172245:18765,15172246:18766,15172247:18767,15172248:18768,15172251:18769,15172260:18770,15172267:18771,15172272:18772,15172273:18773,15172276:18774,15172279:18775,15172490:18776,15172497:18777,15172499:18778,15172500:18779,15172501:18780,15172502:18781,15172504:18782,15172508:18783,15172516:18784,15172538:18785,15172739:18786,15172740:18787,15172741:18788,15172742:18789,15172743:18790,15172747:18791,15172748:18792,15172751:18793,15172766:18794,15172768:18795,15172779:18796,15172781:18797,15172783:18798,15172784:18799,15172785:18800,15172792:18801,15172993:18802,15172997:18803,15172998:18804,15172999:18805,15173002:18806,15173003:18807,15173008:18808,15173010:18809,15173015:18810,15173018:18811,15173020:18812,15173022:18813,15173024:18814,15173032:18977,15173049:18978,15173248:18979,15173253:18980,15173255:18981,15173260:18982,15173266:18983,15173274:18984,15173275:18985,15173280:18986,15173282:18987,15173295:18988,15173296:18989,15173298:18990,15173299:18991,15173306:18992,15173311:18993,15173504:18994,15173505:18995,15173508:18996,15173515:18997,15173516:18998,15173523:18999,15173526:19e3,15173529:19001,15173530:19002,15173532:19003,15173560:19004,15173566:19005,15173760:19006,15173767:19007,15173768:19008,15173769:19009,15173779:19010,15173783:19011,15173786:19012,15173789:19013,15173791:19014,15173796:19015,15173803:19016,15173807:19017,15173812:19018,15173816:19019,15173817:19020,15174017:19021,15174018:19022,15174019:19023,15174021:19024,15174030:19025,
15174031:19026,15174032:19027,15174035:19028,15174037:19029,15174038:19030,15174042:19031,15174044:19032,15174046:19033,15174048:19034,15174051:19035,15174056:19036,15174059:19037,15174062:19038,15174063:19039,15174065:19040,15174071:19041,15174072:19042,15174075:19043,15174076:19044,15174079:19045,15174276:19046,15174281:19047,15174285:19048,15174286:19049,15174291:19050,15174299:19051,15174312:19052,15174317:19053,15174318:19054,15174321:19055,15174324:19056,15174334:19057,15174529:19058,15174535:19059,15174537:19060,15174540:19061,15174549:19062,15174550:19063,15174552:19064,15174559:19065,15174565:19066,15174579:19067,15174580:19068,15174586:19069,15174587:19070,15174590:19233,15174786:19234,15174788:19235,15174789:19236,15174791:19237,15174795:19238,15174797:19239,15174802:19240,15174803:19241,15174808:19242,15174809:19243,15174814:19244,15174818:19245,15174820:19246,15174823:19247,15174824:19248,15174828:19249,15174833:19250,15174834:19251,15174837:19252,15174842:19253,15174843:19254,15174845:19255,15175043:19256,15175053:19257,15175056:19258,15175058:19259,15175062:19260,15175064:19261,15175069:19262,15175070:19263,15175071:19264,15175072:19265,15175078:19266,15175079:19267,15175081:19268,15175083:19269,15175084:19270,15175086:19271,15175087:19272,15175089:19273,15175095:19274,15175097:19275,15175100:19276,15175296:19277,15175297:19278,15175299:19279,15175301:19280,15175302:19281,15175310:19282,15175312:19283,15175315:19284,15175317:19285,15175319:19286,15175320:19287,15175324:19288,15175326:19289,15175327:19290,15175328:19291,15175330:19292,15175333:19293,15175334:19294,15175338:19295,15175339:19296,15175341:19297,15175349:19298,15175351:19299,15175353:19300,15175356:19301,15175357:19302,15175359:19303,15175557:19304,15175558:19305,15175561:19306,15175563:19307,15175564:19308,15175567:19309,15175570:19310,15175571:19311,15175574:19312,15175577:19313,15175581:19314,15175585:19315,15175587:19316,15175590:19317,15175591:19318,15175593:19319,15175604:19320,15175605:19321,15175607:19322,15175609:19323,15175610:19324,15175611:19325,15175613:19326,15175615:19489,15175808:19490,15175809:19491,15175812:19492,15175815:19493,15175818:19494,15175825:19495,15175834:19496,15175835:19497,15175844:19498,15175846:19499,15175848:19500,15175849:19501,15175850:19502,15175851:19503,15175852:19504,15175853:19505,15175854:19506,15175855:19507,15175856:19508,15175857:19509,15175865:19510,15176064:19511,15176067:19512,15176068:19513,15176070:19514,15176071:19515,15176075:19516,15176077:19517,15176081:19518,15176082:19519,15176087:19520,15176093:19521,15176098:19522,15176102:19523,15176103:19524,15176104:19525,15176107:19526,15176109:19527,15176110:19528,15176113:19529,15176114:19530,15176320:19531,15176321:19532,15176325:19533,15176326:19534,15176327:19535,15176329:19536,15176335:19537,15176336:19538,15176337:19539,15176338:19540,15176344:19541,15176345:19542,15176346:19543,15176348:19544,15176351:19545,15176352:19546,15176353:19547,15176355:19548,15176358:19549,15176360:19550,15176361:19551,15176362:19552,15176363:19553,15176366:19554,15176367:19555,15176369:19556,15176370:19557,15176373:19558,15176377:19559,15176379:19560,15176383:19561,15176584:19562,15176585:19563,15176588:19564,15176592:19565,15176595:19566,15176600:19567,15176602:19568,15176603:19569,15176606:19570,15176607:19571,15176612:19572,15176616:19573,15176618:19574,15176619:19575,15176623:19576,15176628:19577,15176634:19578,15176635:19579,15176636:19580,15176639:19581,15176838:19582,15176850:19745,15176854:19746,15176855:19747,15176864:19748,15176865:19749,15176868:19750,15176871:19751,15176873:19752,15176874:19753,15176879:19754,15176886:19755,15176889:19756,15176893:19757,15176894:19758,15176895:19759,15177088:19760,15177091:19761,15177095:19762,15177096:19763,15177102:19764,15177104:19765,15177106:19766,15177111:19767,15177118:19768,15177119:19769,15177121:19770,15177135:19771,15177137:19772,15177145:19773,15177146:19774,15177147:19775,15177148:19776,15177149:19777,15177150:19778,15177345:19779,15177349:19780,15177360:19781,15177362:19782,15177363:19783,15177365:19784,15177369:19785,15177372:19786,15177378:19787,15177380:19788,15177396:19789,15177402:19790,15177407:19791,15177600:19792,15177601:19793,15177604:19794,15177606:19795,15177612:19796,15177614:19797,15177615:19798,15177623:19799,15177628:19800,15177631:19801,15177632:19802,15177633:19803,15177636:19804,15177639:19805,15177644:19806,15177646:19807,15177647:19808,15177649:19809,15177657:19810,15177856:19811,15177858:19812,15177859:19813,15177860:19814,15177863:19815,15177864:19816,15177866:19817,15177868:19818,15177871:19819,15177874:19820,15177875:19821,15177877:19822,15177878:19823,15177881:19824,15177883:19825,15177884:19826,15177885:19827,15177886:19828,15177891:19829,15177893:19830,15177894:19831,15177897:19832,15177901:19833,15177906:19834,15177907:19835,15177909:19836,15177912:19837,15177913:19838,15177914:20001,15177916:20002,15178122:20003,15178112:20004,15178113:20005,15178115:20006,15178116:20007,15178117:20008,15178121:20009,15178123:20010,15178133:20011,15178137:20012,15178143:20013,15178148:20014,15178149:20015,15178157:20016,15178158:20017,15178159:20018,15178161:20019,15178164:20020,15178369:20021,15178373:20022,15178380:20023,15178381:20024,15178389:20025,15178395:20026,15178396:20027,15178397:20028,15178399:20029,15178400:20030,15178402:20031,15178403:20032,15178404:20033,15178405:20034,15178406:20035,15178407:20036,15178408:20037,15178410:20038,15178413:20039,15178429:20040,15178625:20041,15178629:20042,15178633:20043,15178635:20044,15178636:20045,15178638:20046,15178644:20047,15178649:20048,15178656:20049,15178662:20050,15178664:20051,15178668:20052,15178672:20053,15178673:20054,15178678:20055,15178681:20056,15178684:20057,15178880:20058,15178886:20059,15178890:20060,15178894:20061,15178898:20062,15178900:20063,15178901:20064,15178903:20065,15178905:20066,15178906:20067,15178908:20068,15178914:20069,15178920:20070,15178925:20071,15178926:20072,15178927:20073,15178932:20074,15178933:20075,15178934:20076,15178937:20077,15178941:20078,15178942:20079,15179138:20080,15179141:20081,15179142:20082,15179146:20083,15179149:20084,15179150:20085,15179151:20086,15179154:20087,15179158:20088,15179159:20089,15179164:20090,15179166:20091,15179167:20092,15179168:20093,15179170:20094,15179172:20257,15179175:20258,15179178:20259,15179180:20260,15179184:20261,15179186:20262,15179187:20263,15179188:20264,15179194:20265,15179197:20266,15179392:20267,15179396:20268,15179404:20269,15179405:20270,15179412:20271,15179413:20272,15179414:20273,15179418:20274,15179423:20275,15179426:20276,15179431:20277,15179434:20278,15179438:20279,15179439:20280,15179441:20281,15179445:20282,15179454:20283,15179651:20284,15179657:20285,15179665:20286,15179666:20287,15179669:20288,15179673:20289,15179678:20290,15179679:20291,15179680:20292,15179684:20293,15179686:20294,15179690:20295,15179692:20296,15179696:20297,15179697:20298,15179700:20299,15179704:20300,15179707:20301,15179909:20302,15179910:20303,15179913:20304,15179917:20305,15179918:20306,15179921:20307,15179933:20308,15179937:20309,15179938:20310,15179939:20311,15179949:20312,15179950:20313,15179952:20314,15179957:20315,15179959:20316,15180163:20317,15180164:20318,15180167:20319,15180168:20320,15180172:20321,15180174:20322,15180178:20323,15180188:20324,15180190:20325,15180192:20326,15180193:20327,15180195:20328,15180196:20329,15180200:20330,15180202:20331,15180206:20332,15180218:20333,15180222:20334,15180426:20335,15180431:20336,15180436:20337,15180440:20338,15180449:20339,15180445:20340,15180446:20341,15180447:20342,15180452:20343,15180456:20344,15180460:20345,15180461:20346,15180464:20347,15180465:20348,15180466:20349,15180467:20350,15180475:20513,15180477:20514,15180479:20515,15180679:20516,15180680:20517,15180681:20518,15180684:20519,15180686:20520,15180690:20521,15180691:20522,15180693:20523,15180694:20524,15180708:20525,15180699:20526,15180703:20527,15180704:20528,15180705:20529,15180710:20530,15180714:20531,15180722:20532,15180723:20533,15180928:20534,15180726:20535,15180727:20536,15180730:20537,15180731:20538,15180735:20539,15180934:20540,15180940:20541,15180944:20542,15180954:20543,15180956:20544,15180958:20545,15180959:20546,15180960:20547,15180965:20548,15180967:20549,15180969:20550,15180973:20551,15180977:20552,15180980:20553,15180981:20554,15180987:20555,15180989:20556,15180991:20557,15181188:20558,15181189:20559,15181190:20560,15181194:20561,15181195:20562,15181199:20563,15181201:20564,15181204:20565,15181208:20566,15181211:20567,15181212:20568,15181223:20569,15181225:20570,15181227:20571,15181234:20572,15181241:20573,15181243:20574,15181244:20575,15181246:20576,15181451:20577,15181452:20578,15181457:20579,15181459:20580,15181460:20581,15181461:20582,15181462:20583,15181464:20584,15181467:20585,15181468:20586,15181473:20587,15181480:20588,15181481:20589,15181483:20590,15181487:20591,15181489:20592,15181492:20593,15181496:20594,15181499:20595,15181698:20596,15181700:20597,15181703:20598,15181704:20599,15181706:20600,15181711:20601,15181716:20602,15181718:20603,15181722:20604,15181725:20605,15181726:20606,15181728:20769,15181730:20770,15181733:20771,15181738:20772,15181739:20773,15181741:20774,15181745:20775,15181752:20776,15181756:20777,15181954:20778,15181955:20779,15181959:20780,15181961:20781,15181962:20782,15181964:20783,15181969:20784,15181973:20785,15181979:20786,15181982:20787,15181985:20788,15181991:20789,15181995:20790,15181997:20791,15181999:20792,15182e3:20793,15182004:20794,15182005:20795,15182008:20796,15182009:20797,15182010:20798,15182212:20799,15182213:20800,15182215:20801,15182216:20802,15182220:20803,15182229:20804,15182230:20805,15182233:20806,15182236:20807,15182237:20808,15182239:20809,15182240:20810,15182245:20811,15182247:20812,15182250:20813,15182253:20814,15182261:20815,15182264:20816,15182270:20817,15182464:20818,15182466:20819,15182469:20820,15182470:20821,15182474:20822,15182475:20823,15182480:20824,15182481:20825,15182484:20826,15182494:20827,15182496:20828,15182499:20829,15182508:20830,15182515:20831,15182517:20832,15182521:20833,15182523:20834,15182524:20835,15182726:20836,15182729:20837,15182732:20838,15182734:20839,15182737:20840,15182747:20841,15182760:20842,15182761:20843,15182763:20844,15182764:20845,15182769:20846,15182772:20847,15182779:20848,15182781:20849,15182782:20850,15182983:20851,15182996:20852,15183007:20853,15183011:20854,15183015:20855,15183017:20856,15183018:20857,15183019:20858,15183021:20859,15183022:20860,15183023:20861,15183024:20862,15183025:21025,15183028:21026,15183037:21027,15183039:21028,15183232:21029,15183233:21030,15183239:21031,15183246:21032,15183253:21033,15183264:21034,15183268:21035,15183270:21036,15183273:21037,15183274:21038,15183277:21039,15183279:21040,15183282:21041,15183283:21042,15183287:21043,15183492:21044,15183497:21045,15183502:21046,15183504:21047,15183505:21048,15183510:21049,15183515:21050,15183518:21051,15183520:21052,15183525:21053,15183532:21054,15183535:21055,15183536:21056,15183538:21057,15183541:21058,15183542:21059,15183546:21060,15183547:21061,15183548:21062,15183549:21063,15183746:21064,15183749:21065,15183752:21066,15183754:21067,15183764:21068,15183766:21069,15183767:21070,15183769:21071,15183770:21072,15183771:21073,15183784:21074,15183786:21075,15183794:21076,15183796:21077,15183797:21078,15183800:21079,15183801:21080,15183802:21081,15183804:21082,15183806:21083,15184001:21084,15184002:21085,15184003:21086,15184004:21087,15184006:21088,15184009:21089,15184011:21090,15184012:21091,15184014:21092,15184015:21093,15184025:21094,15184027:21095,15184032:21096,15184037:21097,15184038:21098,15184040:21099,15184044:21100,15184049:21101,15184051:21102,15184052:21103,15184054:21104,15184057:21105,15184058:21106,15184262:21107,15184266:21108,15184277:21109,15184273:21110,15184274:21111,15184275:21112,15184281:21113,15184282:21114,15184283:21115,15184284:21116,15184285:21117,15184286:21118,15184289:21281,15184291:21282,15184295:21283,15184297:21284,15184301:21285,15184302:21286,15184304:21287,15184306:21288,15184313:21289,15184316:21290,15184317:21291,15184518:21292,15184519:21293,15184527:21294,15184532:21295,15184542:21296,15184544:21297,15184550:21298,15184560:21299,15184566:21300,15184567:21301,15184570:21302,15184571:21303,15184572:21304,15184575:21305,15184772:21306,15184775:21307,15184776:21308,15184777:21309,15184781:21310,15184783:21311,15184787:21312,15184788:21313,15184789:21314,15184791:21315,15184793:21316,15184794:21317,15184797:21318,15184806:21319,15184809:21320,15184811:21321,15184821:21322,15185027:21323,15185031:21324,15185032:21325,15185033:21326,15185039:21327,15185041:21328,15185042:21329,15185043:21330,15185046:21331,15185053:21332,15185054:21333,15185059:21334,15185062:21335,15185066:21336,15185069:21337,15185073:21338,15185084:21339,15185085:21340,15185086:21341,15185280:21342,15185281:21343,15185287:21344,15185288:21345,15185293:21346,15185297:21347,15185299:21348,15185303:21349,15185305:21350,15185306:21351,15185308:21352,15185309:21353,15185317:21354,15185319:21355,15185322:21356,15185328:21357,15185336:21358,15185338:21359,15185339:21360,15185343:21361,15185537:21362,15185538:21363,15185539:21364,15185541:21365,15185542:21366,15185544:21367,15185547:21368,15185548:21369,15185549:21370,15185553:21371,15185558:21372,15185559:21373,15185565:21374,15185566:21537,15185574:21538,15185575:21539,15185578:21540,15185587:21541,15185590:21542,15185591:21543,15185593:21544,15185794:21545,15185795:21546,15185796:21547,15185797:21548,15185798:21549,15185804:21550,15185805:21551,15185806:21552,15185815:21553,15185817:21554,15186048:21555,15185826:21556,15185829:21557,15185830:21558,15185834:21559,15185835:21560,15185837:21561,15185841:21562,15185845:21563,15185846:21564,15185849:21565,15185850:21566,15186056:21567,15186064:21568,15186065:21569,15186069:21570,15186071:21571,15186076:21572,15186077:21573,15186080:21574,15186087:21575,15186088:21576,15186092:21577,15186093:21578,15186095:21579,15186099:21580,15186102:21581,15186111:21582,15186308:21583,15186309:21584,15186311:21585,15186318:21586,15186320:21587,15186322:21588,15186328:21589,15186335:21590,15186337:21591,15186338:21592,15186341:21593,15186347:21594,15186350:21595,15186351:21596,15186355:21597,15186360:21598,15186366:21599,15186561:21600,15186566:21601,15186567:21602,15186570:21603,15186573:21604,15186577:21605,15186581:21606,15186584:21607,15186586:21608,15186589:21609,15186590:21610,15187132:21611,15187131:21612,15187133:21613,15187134:21614,15187135:21615,15187331:21616,15187332:21617,15187335:21618,15187343:21619,15187346:21620,15187347:21621,15187355:21622,15187356:21623,15187357:21624,15187361:21625,15187363:21626,15187364:21627,15187365:21628,15187366:21629,15187373:21630,15187377:21793,15187389:21794,15187390:21795,15187391:21796,15187584:21797,15187595:21798,15187597:21799,15187599:21800,15187600:21801,15187601:21802,15187606:21803,15187607:21804,15187612:21805,15187617:21806,15187618:21807,15187622:21808,15187626:21809,15187629:21810,15187636:21811,15187644:21812,15187647:21813,15187840:21814,15187843:21815,15187848:21816,15187854:21817,15187855:21818,15187867:21819,15187871:21820,15187875:21821,15187877:21822,15187880:21823,15187884:21824,15187886:21825,15187887:21826,15187890:21827,15187898:21828,15187901:21829,15187902:21830,15187903:21831,15237255:21832,15237256:21833,15237258:21834,15237261:21835,15237262:21836,15237263:21837,15237265:21838,15237267:21839,15237268:21840,15237270:21841,15237277:21842,15237278:21843,15237279:21844,15237280:21845,15237284:21846,15237286:21847,15237292:21848,15237294:21849,15237296:21850,15237300:21851,15237301:21852,15237303:21853,15237305:21854,15237306:21855,15237308:21856,15237310:21857,15237504:21858,15237508:21859,15237536:21860,15237540:21861,15237542:21862,15237549:21863,15237553:21864,15237557:21865,15237761:21866,15237768:21867,15237774:21868,15237788:21869,15237790:21870,15237798:21871,15237799:21872,15237803:21873,15237816:21874,15237817:21875,15238024:21876,15238029:21877,15238031:21878,15238034:21879,15238036:21880,15238037:21881,15238039:21882,15238040:21883,15238048:21884,15238061:21885,15238062:21886,15238064:22049,15238066:22050,15238067:22051,15238070:22052,15238073:22053,15238074:22054,15238078:22055,15238275:22056,15238283:22057,15238294:22058,15238295:22059,15238296:22060,15238300:22061,15238302:22062,15238304:22063,15238308:22064,15238311:22065,15238316:22066,15238320:22067,15238325:22068,15238330:22069,15238332:22070,15238533:22071,15238535:22072,15238538:22073,15238540:22074,15238546:22075,15238551:22076,15238560:22077,15238561:22078,15238567:22079,15238568:22080,15238569:22081,15238573:22082,15238575:22083,15238583:22084,15238785:22085,15238800:22086,15238788:22087,15238789:22088,15238790:22089,15238795:22090,15238798:22091,15238806:22092,15238808:22093,15238811:22094,15238814:22095,15238818:22096,15238830:22097,15238834:22098,15238836:22099,15238843:22100,15239051:22101,15239043:22102,15239045:22103,15239050:22104,15239054:22105,15239055:22106,15239061:22107,15239063:22108,15239067:22109,15239069:22110,15239070:22111,15239073:22112,15239076:22113,15239083:22114,15239084:22115,15239088:22116,15239089:22117,15239090:22118,15239093:22119,15239094:22120,15239096:22121,15239097:22122,15239101:22123,15239103:22124,15239296:22125,15239299:22126,15239311:22127,15239315:22128,15239316:22129,15239321:22130,15239322:22131,15239325:22132,15239329:22133,15239330:22134,15239336:22135,15239346:22136,15239348:22137,15239354:22138,15239555:22139,15239556:22140,15239557:22141,15239558:22142,15239563:22305,15239566:22306,15239567:22307,15239569:22308,15239574:22309,15239580:22310,15239584:22311,15239587:22312,15239591:22313,15239597:22314,15239604:22315,15239611:22316,15239613:22317,15239615:22318,15239808:22319,15239809:22320,15239811:22321,15239812:22322,15239815:22323,15239817:22324,15239818:22325,15239822:22326,15239825:22327,15239828:22328,15239830:22329,15239832:22330,15239834:22331,15239835:22332,15239840:22333,15239841:22334,15239843:22335,15239844:22336,15239847:22337,15239848:22338,15239849:22339,15239850:22340,15239854:22341,15239856:22342,15239858:22343,15239860:22344,15239863:22345,15239866:22346,15239868:22347,15239870:22348,15239871:22349,15240070:22350,15240080:22351,15240085:22352,15240090:22353,15240096:22354,15240098:22355,15240100:22356,15240104:22357,15240106:22358,15240109:22359,15240111:22360,15240118:22361,15240119:22362,15240125:22363,15240126:22364,15240320:22365,15240321:22366,15240327:22367,15240328:22368,15240330:22369,15240331:22370,15240596:22371,15240347:22372,15240349:22373,15240350:22374,15240351:22375,15240353:22376,15240354:22377,15240364:22378,15240365:22379,15240366:22380,15240368:22381,15240371:22382,15240375:22383,15240378:22384,15240380:22385,15240381:22386,15240578:22387,15240579:22388,15240580:22389,15240583:22390,15240589:22391,15240590:22392,15240593:22393,15240597:22394,15240598:22395,15240599:22396,15240624:22397,15240632:22398,15240637:22561,15240639:22562,15240832:22563,15240834:22564,15240836:22565,15240838:22566,15240845:22567,15240850:22568,15240852:22569,15240853:22570,15240856:22571,15240857:22572,15240859:22573,15240860:22574,15240861:22575,15240870:22576,15240871:22577,15240873:22578,15240876:22579,15240894:22580,15240895:22581,15241088:22582,15241095:22583,15241097:22584,15241103:22585,15241104:22586,15241105:22587,15241108:22588,15241117:22589,15240595:22590,15241128:22591,15241130:22592,15241142:22593,15241144:22594,15241145:22595,15241148:22596,15241345:22597,15241350:22598,15241354:22599,15241359:22600,15241361:22601,15241365:22602,15241369:22603,15240877:22604,15241391:22605,15241401:22606,15241605:22607,15241607:22608,15241608:22609,15241610:22610,15241613:22611,15241615:22612,15241617:22613,15241618:22614,15241622:22615,15241624:22616,15241625:22617,15241626:22618,15241628:22619,15241632:22620,15241636:22621,15241637:22622,15241639:22623,15241642:22624,15241648:22625,15241651:22626,15241652:22627,15241654:22628,15241656:22629,15241660:22630,15241661:22631,15241857:22632,15241861:22633,15241874:22634,15241875:22635,15241877:22636,15241886:22637,15241894:22638,15241896:22639,15241897:22640,15241898:22641,15241903:22642,15241905:22643,15241908:22644,15241914:22645,15241917:22646,15241918:22647,15242112:22648,15242114:22649,15242119:22650,15242120:22651,15242124:22652,15242127:22653,15242131:22654,15242140:22817,15242151:22818,15242154:22819,15242159:22820,15242160:22821,15242161:22822,15242162:22823,15242167:22824,15242418:22825,15242170:22826,15242171:22827,15242173:22828,15242370:22829,15242371:22830,15242375:22831,15242380:22832,15242382:22833,15242384:22834,15242396:22835,15242398:22836,15242402:22837,15242403:22838,15242404:22839,15242405:22840,15242407:22841,15242410:22842,15242411:22843,15242415:22844,15242419:22845,15242420:22846,15242422:22847,15242431:22848,15242630:22849,15242639:22850,15242640:22851,15242641:22852,15242642:22853,15242643:22854,15242646:22855,15242649:22856,15242652:22857,15242653:22858,15242654:22859,15242655:22860,15242656:22861,15242657:22862,15242658:22863,15242660:22864,15242667:22865,15242671:22866,15242681:22867,15242682:22868,15242683:22869,15242685:22870,15242687:22871,15242881:22872,15242885:22873,15242886:22874,15242889:22875,15242891:22876,15242892:22877,15242895:22878,15242899:22879,15242904:22880,15242909:22881,15242911:22882,15242912:22883,15242914:22884,15242917:22885,15242919:22886,15242932:22887,15242934:22888,15242935:22889,15242936:22890,15242940:22891,15242941:22892,15242942:22893,15242943:22894,15243138:22895,15243143:22896,15243146:22897,15243147:22898,15243150:22899,15242925:22900,15243160:22901,15243162:22902,15243167:22903,15243168:22904,15243174:22905,15243176:22906,15243181:22907,15243187:22908,15243190:22909,15243196:22910,15243199:23073,15243392:23074,15243396:23075,15243397:23076,15243405:23077,15243406:23078,15243408:23079,15243409:23080,15243410:23081,15243416:23082,15243417:23083,15243419:23084,15243422:23085,15243425:23086,15243431:23087,15243433:23088,15243446:23089,15243448:23090,15243450:23091,15243452:23092,15243453:23093,15243648:23094,15243650:23095,15243654:23096,15243666:23097,15243667:23098,15243670:23099,15243671:23100,15243672:23101,15243673:23102,15243677:23103,15243680:23104,15243681:23105,15243682:23106,15243683:23107,15243684:23108,15243689:23109,15243692:23110,15243695:23111,15243701:23112,15243702:23113,15243703:23114,15243706:23115,15243917:23116,15243921:23117,15243926:23118,15243928:23119,15243930:23120,15243932:23121,15243937:23122,15243942:23123,15243943:23124,15243944:23125,15243949:23126,15243953:23127,15243955:23128,15243956:23129,15243957:23130,15243959:23131,15243960:23132,15243961:23133,15243967:23134,15244160:23135,15244161:23136,15244163:23137,15244165:23138,15244177:23139,15244178:23140,15244181:23141,15244183:23142,15244186:23143,15244188:23144,15244192:23145,15244195:23146,15244197:23147,15244199:23148,15243912:23149,15244218:23150,15244220:23151,15244221:23152,15244420:23153,15244421:23154,15244423:23155,15244427:23156,15244430:23157,15244431:23158,15244432:23159,15244435:23160,15244436:23161,15244441:23162,15244446:23163,15244447:23164,15244449:23165,15244451:23166,15244456:23329,15244462:23330,15244463:23331,15244465:23332,15244466:23333,15244473:23334,15244474:23335,15244476:23336,15244477:23337,15244478:23338,15244672:23339,15244675:23340,15244677:23341,15244685:23342,15244696:23343,15244701:23344,15244705:23345,15244708:23346,15244709:23347,15244719:23348,15244721:23349,15244722:23350,15244731:23351,15244931:23352,15244932:23353,15244933:23354,15244934:23355,15244935:23356,15244936:23357,15244937:23358,15244939:23359,15244940:23360,15244944:23361,15244947:23362,15244949:23363,15244951:23364,15244952:23365,15244953:23366,15244958:23367,15244960:23368,15244963:23369,15244967:23370,15244972:23371,15244973:23372,15244974:23373,15244977:23374,15244981:23375,15244990:23376,15244991:23377,15245185:23378,15245192:23379,15245193:23380,15245194:23381,15245198:23382,15245205:23383,15245206:23384,15245209:23385,15245210:23386,15245212:23387,15245215:23388,15245218:23389,15245219:23390,15245220:23391,15245226:23392,15245227:23393,15245229:23394,15245233:23395,15245235:23396,15245240:23397,15245242:23398,15245247:23399,15245441:23400,15245443:23401,15245446:23402,15245449:23403,15245450:23404,15245451:23405,15245456:23406,15245465:23407,15245458:23408,15245459:23409,15245460:23410,15245464:23411,15245466:23412,15245467:23413,15245468:23414,15245470:23415,15245471:23416,15245480:23417,15245485:23418,15245486:23419,15245488:23420,15245490:23421,15245493:23422,15245498:23585,15245500:23586,15245697:23587,15245699:23588,15245701:23589,15245704:23590,15245705:23591,15245706:23592,15245707:23593,15245710:23594,15245713:23595,15245717:23596,15245718:23597,15245720:23598,15245722:23599,15245724:23600,15245727:23601,15245728:23602,15245732:23603,15245737:23604,15245745:23605,15245753:23606,15245755:23607,15245952:23608,15245976:23609,15245978:23610,15245979:23611,15245980:23612,15245983:23613,15245984:23614,15245992:23615,15245994:23616,15246010:23617,15246013:23618,15246014:23619,15246208:23620,15246218:23621,15246219:23622,15246220:23623,15246221:23624,15246222:23625,15246225:23626,15246226:23627,15246227:23628,15246235:23629,15246238:23630,15246247:23631,15246255:23632,15246256:23633,15246257:23634,15246261:23635,15246263:23636,15246465:23637,15246470:23638,15246477:23639,15246478:23640,15246479:23641,15246485:23642,15246486:23643,15246488:23644,15246489:23645,15246490:23646,15246492:23647,15246496:23648,15246502:23649,15246503:23650,15246504:23651,15246512:23652,15246513:23653,15246514:23654,15246517:23655,15246521:23656,15246522:23657,15246526:23658,15246720:23659,15246722:23660,15246725:23661,15246726:23662,15246729:23663,15246735:23664,15246738:23665,15246743:23666,15246746:23667,15246747:23668,15246748:23669,15246753:23670,15246754:23671,15246755:23672,15246763:23673,15246766:23674,15246768:23675,15246771:23676,15246773:23677,15246778:23678,15246779:23841,15246780:23842,15246781:23843,15246985:23844,15246989:23845,15246992:23846,15246996:23847,15246997:23848,15247003:23849,15247004:23850,15247007:23851,15247008:23852,15247013:23853,15247024:23854,15247028:23855,15247029:23856,15247030:23857,15247031:23858,15247036:23859,15247252:23860,15247253:23861,15247254:23862,15247255:23863,15247256:23864,15247269:23865,15247273:23866,15247275:23867,15247277:23868,15247281:23869,15247283:23870,15247286:23871,15247289:23872,15247293:23873,15247295:23874,15247492:23875,15247493:23876,15247495:23877,15247503:23878,15247505:23879,15247506:23880,15247508:23881,15247509:23882,15247518:23883,15247520:23884,15247522:23885,15247524:23886,15247526:23887,15247531:23888,15247532:23889,15247535:23890,15247541:23891,15247543:23892,15247549:23893,15247550:23894,15247744:23895,15247747:23896,15247749:23897,15247751:23898,15247753:23899,15247757:23900,15247758:23901,15247763:23902,15247766:23903,15247767:23904,15247768:23905,15247772:23906,15247773:23907,15247777:23908,15247781:23909,15247783:23910,15247797:23911,15247798:23912,15247799:23913,15247801:23914,15247802:23915,15247803:23916,15247806:23917,15247807:23918,15248e3:23919,15248003:23920,15248006:23921,15248011:23922,15248015:23923,15248016:23924,15248018:23925,15248022:23926,15248023:23927,15248025:23928,15248031:23929,15248039:23930,15248041:23931,15248046:23932,15248047:23933,15248051:23934,15248054:24097,15248055:24098,15248059:24099,15248062:24100,15248259:24101,15248262:24102,15248264:24103,15248265:24104,15248266:24105,15248273:24106,15248275:24107,15248276:24108,15248277:24109,15248279:24110,15248285:24111,15248287:24112,15248300:24113,15248304:24114,15248308:24115,15248309:24116,15248310:24117,15248316:24118,15248319:24119,15248517:24120,15248518:24121,15248523:24122,15248529:24123,15248540:24124,15248542:24125,15248543:24126,15248522:24127,15248557:24128,15248560:24129,15248567:24130,15248572:24131,15248770:24132,15248771:24133,15248772:24134,15248773:24135,15248774:24136,15248776:24137,15248786:24138,15248787:24139,15248788:24140,15248793:24141,15248781:24142,15248798:24143,15248803:24144,15248813:24145,15248822:24146,15248824:24147,15248825:24148,15248828:24149,15248830:24150,15249025:24151,15249028:24152,15249029:24153,15249035:24154,15249037:24155,15249039:24156,15249044:24157,15249045:24158,15249052:24159,15249054:24160,15249055:24161,15249592:24162,15249593:24163,15249597:24164,15249598:24165,15249797:24166,15249799:24167,15249801:24168,15249803:24169,15249807:24170,15249809:24171,15249811:24172,15249812:24173,15249815:24174,15249816:24175,15249819:24176,15249821:24177,15249817:24178,15249827:24179,15249828:24180,15249830:24181,15249832:24182,15249833:24183,15249837:24184,15249843:24185,15249845:24186,15249846:24187,15249851:24188,15249854:24189,15250054:24190,15250055:24353,15250059:24354,15250064:24355,15250066:24356,15250067:24357,15250073:24358,15250075:24359,15250076:24360,15250084:24361,15250105:24362,15250106:24363,15250309:24364,15250310:24365,15250313:24366,15250315:24367,15250319:24368,15250326:24369,15250325:24370,15250329:24371,15250333:24372,15250337:24373,15250344:24374,15250348:24375,15250351:24376,15250352:24377,15250354:24378,15250357:24379,15250359:24380,15250360:24381,15250366:24382,15250367:24383,15250561:24384,15250563:24385,15250569:24386,15250578:24387,15250583:24388,15250587:24389,15250853:24390,15250857:24391,15250860:24392,15250862:24393,15250879:24394,15251074:24395,15251076:24396,15251080:24397,15251085:24398,15251088:24399,15251089:24400,15251093:24401,15251102:24402,15251103:24403,15251104:24404,15251110:24405,15251115:24406,15251116:24407,15251119:24408,15251122:24409,15251125:24410,15251127:24411,15251129:24412,15251131:24413,15251328:24414,15251333:24415,15251334:24416,15251335:24417,15251336:24418,15251338:24419,15251342:24420,15251345:24421,15251348:24422,15251349:24423,15251351:24424,15251353:24425,15251364:24426,15251365:24427,15251367:24428,15251372:24429,15251376:24430,15251132:24431,15251377:24432,15251378:24433,15251380:24434,15251389:24435,15251585:24436,15251588:24437,15251589:24438,15251590:24439,15251595:24440,15251601:24441,15251604:24442,15251606:24443,15251616:24444,15251617:24445,15251618:24446,15251619:24609,15251622:24610,15251623:24611,15251633:24612,15251635:24613,15251638:24614,15251639:24615,15251640:24616,15251641:24617,15251645:24618,15251840:24619,15251841:24620,15251851:24621,15251853:24622,15251854:24623,15251855:24624,15251860:24625,15251867:24626,15251868:24627,15251869:24628,15251870:24629,15251873:24630,15251874:24631,15251881:24632,15251884:24633,15251885:24634,15251887:24635,15251888:24636,15251889:24637,15251897:24638,15251898:24639,15251899:24640,15252098:24641,15252099:24642,15252105:24643,15252112:24644,15252114:24645,15252117:24646,15252122:24647,15252123:24648,15252125:24649,15252126:24650,15252130:24651,15252135:24652,15252137:24653,15252141:24654,15252142:24655,15252147:24656,15252149:24657,15252154:24658,15252155:24659,15252352:24660,15252353:24661,15252355:24662,15252356:24663,15252359:24664,15252367:24665,15252369:24666,15252372:24667,15252380:24668,15252392:24669,15252398:24670,15252400:24671,15252401:24672,15252407:24673,15252409:24674,15252410:24675,15252397:24676,15252608:24677,15252610:24678,15252615:24679,15252616:24680,15252623:24681,15252624:24682,15252630:24683,15252631:24684,15252632:24685,15252638:24686,15252640:24687,15252641:24688,15252643:24689,15252645:24690,15252647:24691,15252648:24692,15252652:24693,15252653:24694,15252654:24695,15252660:24696,15252661:24697,15252662:24698,15252663:24699,15252666:24700,15252864:24701,15252865:24702,15252867:24865,15252871:24866,15252879:24867,15252881:24868,15252882:24869,15252883:24870,15252884:24871,15252885:24872,15252888:24873,15252893:24874,15252894:24875,15252901:24876,15253149:24877,15253152:24878,15253153:24879,15253156:24880,15253157:24881,15253158:24882,15253173:24883,15253174:24884,15253176:24885,
15253182:24886,15253376:24887,15253377:24888,15253382:24889,15253386:24890,15253387:24891,15253389:24892,15253392:24893,15253394:24894,15253395:24895,15253397:24896,15253408:24897,15253411:24898,15253412:24899,15253416:24900,15253422:24901,15253425:24902,15253429:24903,15253430:24904,15253435:24905,15253438:24906,15302786:24907,15302788:24908,15302792:24909,15302796:24910,15302808:24911,15302811:24912,15302824:24913,15302825:24914,15302831:24915,15302826:24916,15302828:24917,15302829:24918,15302835:24919,15302836:24920,15302839:24921,15302847:24922,15303043:24923,15303044:24924,15303052:24925,15303067:24926,15303069:24927,15303074:24928,15303078:24929,15303079:24930,15303084:24931,15303088:24932,15303092:24933,15303097:24934,15303301:24935,15303304:24936,15303307:24937,15303308:24938,15303310:24939,15303312:24940,15303317:24941,15303319:24942,15303320:24943,15303321:24944,15303323:24945,15303328:24946,15303329:24947,15303330:24948,15303333:24949,15303344:24950,15303346:24951,15303347:24952,15303348:24953,15303350:24954,15303357:24955,15303564:24956,15303358:24957,15303555:24958,15303556:25121,15303557:25122,15303559:25123,15303560:25124,15303573:25125,15303575:25126,15303576:25127,15303577:25128,15303580:25129,15303581:25130,15303583:25131,15303589:25132,15303570:25133,15303606:25134,15303595:25135,15303599:25136,15303600:25137,15303604:25138,15303614:25139,15303615:25140,15303808:25141,15303812:25142,15303813:25143,15303814:25144,15303816:25145,15303821:25146,15303824:25147,15303828:25148,15303830:25149,15303831:25150,15303832:25151,15303834:25152,15303836:25153,15303838:25154,15303840:25155,15303845:25156,15303842:25157,15303843:25158,15303847:25159,15303849:25160,15303854:25161,15303855:25162,15303857:25163,15303860:25164,15303862:25165,15303863:25166,15303865:25167,15303866:25168,15303868:25169,15303869:25170,15304067:25171,15304071:25172,15304072:25173,15304079:25174,15304083:25175,15304087:25176,15304089:25177,15304090:25178,15304091:25179,15304097:25180,15304100:25181,15304103:25182,15304109:25183,15304116:25184,15304121:25185,15304122:25186,15304123:25187,15304321:25188,15304323:25189,15304325:25190,15304326:25191,15304330:25192,15304334:25193,15304337:25194,15304339:25195,15304340:25196,15304341:25197,15304344:25198,15304350:25199,15304353:25200,15304358:25201,15304360:25202,15304364:25203,15304365:25204,15304366:25205,15304368:25206,15304369:25207,15304370:25208,15304371:25209,15304374:25210,15304379:25211,15304380:25212,15304381:25213,15304383:25214,15304578:25377,15304579:25378,15304581:25379,15304595:25380,15304596:25381,15304599:25382,15304601:25383,15304602:25384,15304606:25385,15304612:25386,15304613:25387,15304617:25388,15304618:25389,15304620:25390,15304621:25391,15304622:25392,15304623:25393,15304624:25394,15304625:25395,15304631:25396,15304633:25397,15304635:25398,15304637:25399,15304832:25400,15304833:25401,15304836:25402,15304837:25403,15304838:25404,15304839:25405,15304841:25406,15304842:25407,15304844:25408,15304848:25409,15304850:25410,15304851:25411,15304854:25412,15304856:25413,15304860:25414,15304861:25415,15304867:25416,15304868:25417,15304869:25418,15304870:25419,15304872:25420,15304878:25421,15304879:25422,15304880:25423,15304883:25424,15304885:25425,15304886:25426,15304888:25427,15304889:25428,15304890:25429,15304892:25430,15304894:25431,15305088:25432,15305090:25433,15305091:25434,15305094:25435,15305095:25436,15305098:25437,15305101:25438,15305102:25439,15305103:25440,15305105:25441,15305112:25442,15305113:25443,15305116:25444,15305117:25445,15305120:25446,15305121:25447,15305125:25448,15305127:25449,15305128:25450,15305129:25451,15305134:25452,15305135:25453,15305136:25454,15305141:25455,15305142:25456,15305143:25457,15305144:25458,15305145:25459,15305147:25460,15305148:25461,15305149:25462,15305151:25463,15305352:25464,15305353:25465,15305354:25466,15305357:25467,15305358:25468,15305362:25469,15305367:25470,15305369:25633,15305375:25634,15305376:25635,15305380:25636,15305381:25637,15305383:25638,15305384:25639,15305387:25640,15305391:25641,15305394:25642,15305398:25643,15305400:25644,15305402:25645,15305403:25646,15305404:25647,15305405:25648,15305407:25649,15305600:25650,15305601:25651,15305602:25652,15305603:25653,15305605:25654,15305606:25655,15305607:25656,15305608:25657,15305611:25658,15305612:25659,15305613:25660,15305614:25661,15305616:25662,15305619:25663,15305621:25664,15305623:25665,15305624:25666,15305625:25667,15305628:25668,15305629:25669,15305631:25670,15305632:25671,15305633:25672,15305635:25673,15305637:25674,15305639:25675,15305640:25676,15305644:25677,15305646:25678,15305648:25679,15305657:25680,15305659:25681,15305663:25682,15305856:25683,15305858:25684,15305864:25685,15305869:25686,15305873:25687,15305876:25688,15305877:25689,15305884:25690,15305885:25691,15305886:25692,15305887:25693,15305889:25694,15305892:25695,15305893:25696,15305895:25697,15305897:25698,15305898:25699,15305907:25700,15305908:25701,15305910:25702,15305911:25703,15306119:25704,15306120:25705,15306121:25706,15306128:25707,15306129:25708,15306130:25709,15306133:25710,15306135:25711,15306136:25712,15306138:25713,15306142:25714,15306148:25715,15306149:25716,15306151:25717,15306153:25718,15306154:25719,15306157:25720,15306159:25721,15306160:25722,15306161:25723,15306163:25724,15306164:25725,15306166:25726,15306170:25889,15306173:25890,15306175:25891,15306368:25892,15306369:25893,15306370:25894,15306376:25895,15306378:25896,15306379:25897,15306381:25898,15306383:25899,15306386:25900,15306389:25901,15306392:25902,15306395:25903,15306398:25904,15306401:25905,15306403:25906,15306404:25907,15306406:25908,15306408:25909,15306411:25910,15306420:25911,15306421:25912,15306422:25913,15306426:25914,15306409:25915,15306625:25916,15306628:25917,15306629:25918,15306630:25919,15306631:25920,15306633:25921,15306634:25922,15306635:25923,15306636:25924,15306637:25925,15306643:25926,15306649:25927,15306652:25928,15306654:25929,15306655:25930,15306658:25931,15306662:25932,15306663:25933,15306681:25934,15306679:25935,15306680:25936,15306682:25937,15306683:25938,15306685:25939,15306881:25940,15306882:25941,15306884:25942,15306888:25943,15306889:25944,15306893:25945,15306894:25946,15306895:25947,15306901:25948,15306902:25949,15306903:25950,15306911:25951,15306926:25952,15306927:25953,15306929:25954,15306930:25955,15306931:25956,15306932:25957,15306939:25958,15306943:25959,15306941:25960,15307139:25961,15307141:25962,15307144:25963,15307146:25964,15307148:25965,15307157:25966,15307161:25967,15307164:25968,15307167:25969,15307169:25970,15307171:25971,15307176:25972,15307179:25973,15307181:25974,15307182:25975,15307183:25976,15307185:25977,15307186:25978,15307396:25979,15307395:25980,15308216:25981,15308217:25982,15308222:26145,15308420:26146,15308424:26147,15308428:26148,15308429:26149,15308430:26150,15308445:26151,15308446:26152,15308447:26153,15308449:26154,15308454:26155,15308457:26156,15308459:26157,15308460:26158,15308468:26159,15308470:26160,15308474:26161,15308477:26162,15308479:26163,15308678:26164,15308680:26165,15308681:26166,15308683:26167,15308688:26168,15308689:26169,15308690:26170,15308691:26171,15308697:26172,15308698:26173,15308701:26174,15308702:26175,15308703:26176,15308704:26177,15308708:26178,15308710:26179,15308957:26180,15308958:26181,15308962:26182,15308964:26183,15308965:26184,15308966:26185,15308972:26186,15308977:26187,15308979:26188,15308983:26189,15308984:26190,15308985:26191,15308986:26192,15308988:26193,15308989:26194,15309185:26195,15309202:26196,15309204:26197,15309206:26198,15309207:26199,15309208:26200,15309217:26201,15309230:26202,15309236:26203,15309243:26204,15309244:26205,15309246:26206,15309247:26207,15309441:26208,15309442:26209,15309443:26210,15309444:26211,15309449:26212,15309457:26213,15309462:26214,15309466:26215,15309469:26216,15309471:26217,15309476:26218,15309477:26219,15309478:26220,15309481:26221,15309486:26222,15309487:26223,15309491:26224,15309498:26225,15309706:26226,15309714:26227,15054514:26228,15309720:26229,15309722:26230,15309725:26231,15309726:26232,15309727:26233,15309737:26234,15309743:26235,15309745:26236,15309754:26237,15309954:26238,15309955:26401,15309957:26402,15309961:26403,15309978:26404,15309979:26405,15309981:26406,15309985:26407,15309986:26408,15309987:26409,15309992:26410,15310001:26411,15310003:26412,15310209:26413,15310211:26414,15310218:26415,15310222:26416,15310223:26417,15310229:26418,15310231:26419,15310232:26420,15310234:26421,15310235:26422,15310243:26423,15310247:26424,15310250:26425,15310254:26426,15310259:26427,15310262:26428,15310263:26429,15310264:26430,15310267:26431,15310269:26432,15310271:26433,15310464:26434,15310473:26435,15310485:26436,15310486:26437,15310487:26438,15310489:26439,15310490:26440,15310494:26441,15310495:26442,15310498:26443,15310508:26444,15310510:26445,15310513:26446,15310514:26447,15310517:26448,15310518:26449,15310520:26450,15310521:26451,15310522:26452,15310524:26453,15310526:26454,15310527:26455,15310721:26456,15310724:26457,15310725:26458,15310727:26459,15310729:26460,15310730:26461,15310732:26462,15310733:26463,15310734:26464,15310736:26465,15310737:26466,15310740:26467,15310743:26468,15310744:26469,15310745:26470,15310749:26471,15310750:26472,15310752:26473,15310747:26474,15310753:26475,15310756:26476,15310767:26477,15310769:26478,15310772:26479,15310775:26480,15310776:26481,15310778:26482,15310983:26483,15310986:26484,15311001:26485,15310989:26486,15310990:26487,15310996:26488,15310998:26489,15311004:26490,15311006:26491,15311008:26492,15311011:26493,15311014:26494,15311019:26657,15311022:26658,15311023:26659,15311024:26660,15311026:26661,15311027:26662,15311029:26663,15311013:26664,15311038:26665,15311236:26666,15311239:26667,15311242:26668,15311249:26669,15311250:26670,15311251:26671,15311254:26672,15311255:26673,15311257:26674,15311258:26675,15311266:26676,15311267:26677,15311269:26678,15311270:26679,15311274:26680,15311276:26681,15311531:26682,15311533:26683,15311534:26684,15311536:26685,15311540:26686,15311543:26687,15311544:26688,15311546:26689,15311547:26690,15311551:26691,15311746:26692,15311749:26693,15311752:26694,15311756:26695,15311777:26696,15311779:26697,15311781:26698,15311782:26699,15311783:26700,15311786:26701,15311795:26702,15311798:26703,15312002:26704,15312007:26705,15312008:26706,15312017:26707,15312021:26708,15312022:26709,15312023:26710,15312026:26711,15312027:26712,15312028:26713,15312031:26714,15312034:26715,15312038:26716,15312039:26717,15312043:26718,15312049:26719,15312050:26720,15312051:26721,15312052:26722,15312053:26723,15312057:26724,15312058:26725,15312059:26726,15312060:26727,15312256:26728,15312257:26729,15312262:26730,15312263:26731,15312264:26732,15312269:26733,15312270:26734,15312276:26735,15312280:26736,15312281:26737,15312283:26738,15312284:26739,15312286:26740,15312287:26741,15312288:26742,15312539:26743,15312541:26744,15312543:26745,15312550:26746,15312560:26747,15312561:26748,15312562:26749,15312565:26750,15312569:26913,15312570:26914,15312573:26915,15312575:26916,15312771:26917,15312777:26918,15312787:26919,15312788:26920,15312793:26921,15312794:26922,15312796:26923,15312798:26924,15312807:26925,15312810:26926,15312811:26927,15312812:26928,15312816:26929,15312820:26930,15312821:26931,15312825:26932,15312829:26933,15312830:26934,15313026:26935,15313027:26936,15313028:26937,15313035:26938,15313036:26939,15313040:26940,15313041:26941,15313046:26942,15313054:26943,15313056:26944,15313058:26945,15313059:26946,15313060:26947,15313063:26948,15313069:26949,15313070:26950,15313075:26951,15313077:26952,15313078:26953,15313080:26954,15313287:26955,15313281:26956,15313284:26957,15313290:26958,15313291:26959,15313292:26960,15313294:26961,15313297:26962,15313300:26963,15313302:26964,15313309:26965,15313578:26966,15313580:26967,15313582:26968,15313583:26969,15313586:26970,15313588:26971,15313589:26972,15313590:26973,15313593:26974,15313595:26975,15313598:26976,15313599:26977,15313793:26978,15313795:26979,15313798:26980,15313800:26981,15313806:26982,15313808:26983,15313810:26984,15313813:26985,15313814:26986,15313815:26987,15313819:26988,15313820:26989,15313824:26990,15313828:26991,15313829:26992,15313831:26993,15313833:26994,15313836:26995,15313842:26996,15313843:26997,15313845:26998,15313849:26999,15313850:27e3,15313853:27001,15313855:27002,15314048:27003,15314049:27004,15314050:27005,15314051:27006,15314052:27169,15314053:27170,15314056:27171,15314057:27172,15314059:27173,15314060:27174,15314061:27175,15314062:27176,15314064:27177,15314066:27178,15314070:27179,15314073:27180,15314075:27181,15314076:27182,15314080:27183,15314086:27184,15314091:27185,15314093:27186,15314099:27187,15314100:27188,15314101:27189,15314103:27190,15314105:27191,15314106:27192,15314109:27193,15314312:27194,15314315:27195,15314316:27196,15314325:27197,15314326:27198,15314327:27199,15314331:27200,15314334:27201,15314337:27202,15314339:27203,15314341:27204,15314342:27205,15314344:27206,15314346:27207,15314347:27208,15314348:27209,15314349:27210,15314350:27211,15314355:27212,15314357:27213,15314359:27214,15314360:27215,15314361:27216,15314367:27217,15314560:27218,15314564:27219,15314565:27220,15314566:27221,15314567:27222,15314569:27223,15314570:27224,15314571:27225,15314573:27226,15314575:27227,15314576:27228,15314580:27229,15314586:27230,15314589:27231,15314590:27232,15314598:27233,15314599:27234,15314601:27235,15314604:27236,15314608:27237,15314609:27238,15314610:27239,15314615:27240,15314616:27241,15314619:27242,15314620:27243,15314622:27244,15314623:27245,15314817:27246,15314823:27247,15314824:27248,15314830:27249,15314832:27250,15314839:27251,15314840:27252,15314845:27253,15314847:27254,15314853:27255,15314855:27256,15314858:27257,15314859:27258,15314863:27259,15314867:27260,15314871:27261,15314872:27262,15314873:27425,15314874:27426,15314877:27427,15314879:27428,15315072:27429,15315074:27430,15315083:27431,15315087:27432,15315089:27433,15315094:27434,15315096:27435,15315097:27436,15315098:27437,15315100:27438,15315102:27439,15315106:27440,15315107:27441,15315110:27442,15315111:27443,15315112:27444,15315113:27445,15315114:27446,15315121:27447,15315125:27448,15315126:27449,15315127:27450,15315133:27451,15315329:27452,15315331:27453,15315332:27454,15315333:27455,15315337:27456,15315338:27457,15315342:27458,15315343:27459,15315344:27460,15315347:27461,15315348:27462,15315350:27463,15315352:27464,15315355:27465,15315357:27466,15315358:27467,15315359:27468,15315363:27469,15315369:27470,15315370:27471,15315356:27472,15315371:27473,15315368:27474,15315374:27475,15315376:27476,15315378:27477,15315381:27478,15315383:27479,15315387:27480,15315878:27481,15315890:27482,15315895:27483,15315897:27484,15316107:27485,15316098:27486,15316113:27487,15316119:27488,15316120:27489,15316124:27490,15316125:27491,15316126:27492,15316143:27493,15316144:27494,15316146:27495,15316147:27496,15316148:27497,15316154:27498,15316156:27499,15316357:27500,15316157:27501,15316354:27502,15316355:27503,15316359:27504,15316362:27505,15316371:27506,15316372:27507,15316383:27508,15316387:27509,15316386:27510,15316389:27511,15316393:27512,15316394:27513,15316395:27514,15316400:27515,15316406:27516,15316407:27517,15316411:27518,15316412:27681,15316414:27682,15316611:27683,15316612:27684,15316614:27685,15316618:27686,15316621:27687,15316622:27688,15316626:27689,15316627:27690,15316629:27691,15316630:27692,15316631:27693,15316632:27694,15316641:27695,15316650:27696,15316652:27697,15316654:27698,15316657:27699,15316661:27700,15316665:27701,15316668:27702,15316671:27703,15316867:27704,15316871:27705,15316873:27706,15316874:27707,15316884:27708,15316885:27709,15316886:27710,15316887:27711,15316890:27712,15316894:27713,15316895:27714,15316896:27715,15316901:27716,15316903:27717,15316905:27718,15316907:27719,15316910:27720,15316912:27721,15316915:27722,15316916:27723,15316926:27724,15317130:27725,15317122:27726,15317127:27727,15317134:27728,15317136:27729,15317137:27730,15317138:27731,15317141:27732,15317142:27733,15317145:27734,15317148:27735,15317149:27736,15317434:27737,15317435:27738,15317436:27739,15317632:27740,15317634:27741,15317635:27742,15317636:27743,15317637:27744,15317639:27745,15317646:27746,15317647:27747,15317654:27748,15317656:27749,15317659:27750,15317662:27751,15317668:27752,15317672:27753,15317676:27754,15317678:27755,15317679:27756,15317680:27757,15317683:27758,15317684:27759,15317685:27760,15317894:27761,15317896:27762,15317899:27763,15317909:27764,15317919:27765,15317924:27766,15317927:27767,15317932:27768,15317933:27769,15317934:27770,15317936:27771,15317937:27772,15317938:27773,15317941:27774,15317944:27937,15317951:27938,15318146:27939,15318147:27940,15318153:27941,15318159:27942,15318160:27943,15318161:27944,15318162:27945,15318164:27946,15318166:27947,15318167:27948,15318169:27949,15318170:27950,15318171:27951,15318175:27952,15318178:27953,15318182:27954,15318186:27955,15318187:27956,15318191:27957,15318193:27958,15318194:27959,15318196:27960,15318199:27961,15318201:27962,15318202:27963,15318204:27964,15318205:27965,15318207:27966,15318401:27967,15318403:27968,15318404:27969,15318405:27970,15318406:27971,15318407:27972,15318419:27973,15318421:27974,15318422:27975,15318423:27976,15318424:27977,15318426:27978,15318429:27979,15318430:27980,15318440:27981,15318441:27982,15318445:27983,15318446:27984,15318447:27985,15318448:27986,15318449:27987,15318451:27988,15318453:27989,15318458:27990,15318461:27991,15318671:27992,15318672:27993,15318673:27994,15318674:27995,15318676:27996,15318678:27997,15318679:27998,15318686:27999,15318689:28e3,15318690:28001,15318691:28002,15318693:28003,14909596:8513},qe=null,Ke=null,Ye={12289:65380,12290:65377,12300:65378,12301:65379,12443:65438,12444:65439,12449:65383,12450:65393,12451:65384,12452:65394,12453:65385,12454:65395,12455:65386,12456:65396,12457:65387,12458:65397,12459:65398,12461:65399,12463:65400,12465:65401,12467:65402,12469:65403,12471:65404,12473:65405,12475:65406,12477:65407,12479:65408,12481:65409,12483:65391,12484:65410,12486:65411,12488:65412,12490:65413,12491:65414,12492:65415,12493:65416,12494:65417,12495:65418,12498:65419,12501:65420,12504:65421,12507:65422,12510:65423,12511:65424,12512:65425,12513:65426,12514:65427,12515:65388,12516:65428,12517:65389,12518:65429,12519:65390,12520:65430,12521:65431,12522:65432,12523:65433,12524:65434,12525:65435,12527:65436,12530:65382,12531:65437,12539:65381,12540:65392},Ge={12532:65395,12535:65436,12538:65382},Je=[65438,65439],Xe=[12290,12300,12301,12289,12539,12530,12449,12451,12453,12455,12457,12515,12517,12519,12483,12540,12450,12452,12454,12456,12458,12459,12461,12463,12465,12467,12469,12471,12473,12475,12477,12479,12481,12484,12486,12488,12490,12491,12492,12493,12494,12495,12498,12501,12504,12507,12510,12511,12512,12513,12514,12516,12518,12520,12521,12522,12523,12524,12525,12527,12531,12443,12444];return ze}),define("scheduler/model/jobModel",["require","jquery","underscore","backbone","encoding","jrs.configs","moment","config/timepickerSettings","config/datepickerSettings"],function(e){"use strict";var t=",",i="YYYY-MM-DD HH:mm",n=!1,s=e("jquery"),o=e("underscore"),r=e("backbone"),a=e("encoding"),l=e("jrs.configs"),c=e("moment");e("config/timepickerSettings"),e("config/datepickerSettings");var u=function(e){var t,i=[{id:0,value:"dd",key:"day-of-month-2",result:"DD"},{id:1,value:"DD",key:"day-of-week",result:"dddd"},{id:2,value:"mm",key:"month-2",result:"MM"},{id:3,value:"MM",key:"month-name",result:"MMMM"},{id:4,value:"yy",key:"year-4",result:"YYYY"},{id:5,value:"d",key:"day-of-month-1",result:"D"},{id:6,value:"D",key:"day-of-week-abbr",result:"ddd"},{id:7,value:"m",key:"month-1",result:"M"},{id:8,value:"M",key:"month-name-abbr",result:"MMM"},{id:9,value:"y",key:"year-2",result:"YY"},{id:10,value:"oo",key:"day-of-year-2",result:"DDDD"},{id:11,value:"o",key:"day-of-year-1",result:"DDD"}];for(t=0;t<i.length;t++)e=e.replace(new RegExp(i[t].value,"g"),"{"+i[t].id+"}");for(t=0;t<i.length;t++)e=e.replace(new RegExp("\\{"+i[t].id+"\\}","g"),i[t].result);return e},d=u(l.calendar.timepicker.dateFormat),h=l.calendar.timepicker.timeFormat.replace(":ss",""),p=d+" "+h;return r.Model.extend({urlRoot:l.contextPath+"/rest_v2/jobs",isValid:function(e){return!this.validate(this.attributes,{validate:!0,editMode:e}).length},validate:function(e,t){if(t=t||{},t.validate===!0){var i,n=[];e.trigger&&(2==e.trigger.startType&&(e.trigger.startDate?c(e.trigger.startDate,p,!0).isValid()?this.ifPastDate(e.trigger.startDate,e.trigger.timezone)&&n.push({field:"startDate",errorCode:"error.before.current.date.trigger.startDate"}):n.push({field:"startDate",errorCode:"error.invalid.date"}):n.push({field:"startDate",errorCode:"report.scheduling.job.edit.specify.startdate"})),"simple"===e.trigger.type?(this.isNumeric(e.trigger.recurrenceInterval)?this.isNumeric(e.trigger.recurrenceInterval,{minValue:-2147483648,maxValue:2147483647})||n.push({field:"recurrenceInterval",errorCode:"typeMismatch.java.lang.Integer"}):n.push({field:"recurrenceInterval",errorCode:"report.scheduling.job.edit.specify.recurrenceinterval"}),"numberOfTimes"===e.trigger.radioEndDate&&(this.isNumeric(e.trigger.occurrenceCount)?this.isNumeric(e.trigger.occurrenceCount,{minValue:-2147483648,maxValue:2147483647})||n.push({field:"occurrenceCount",errorCode:"typeMismatch.java.lang.Integer"}):n.push({field:"occurrenceCount",errorCode:"report.scheduling.job.edit.specify.numberoftimestorunreport"})),"specificDate"===e.trigger.radioEndDate&&(e.trigger.endDate?c(e.trigger.endDate,p,!0).isValid()?(this.ifPastDate(e.trigger.endDate,e.trigger.timezone)&&n.push({field:"simpleEndDate",errorCode:"error.before.current.date.trigger.endDate"}),2==e.trigger.startType&&e.trigger.startDate&&+new Date(e.trigger.startDate)>=+new Date(e.trigger.endDate)&&n.push({field:"simpleEndDate",errorCode:"error.before.start.date.trigger.endDate"})):n.push({field:"simpleEndDate",errorCode:"error.invalid.date"}):n.push({field:"simpleEndDate",errorCode:"report.scheduling.job.edit.specify.enddate"}))):"calendar"===e.trigger.type&&("selectedMonths"===e.trigger.radioWhichMonth&&0===e.trigger.months.month.length&&n.push({field:"monthSelector",errorCode:"report.scheduling.job.edit.specify.monthswhenjobshouldrun"}),e.trigger.endDate&&(c(e.trigger.endDate,p,!0).isValid()?(this.ifPastDate(e.trigger.endDate,e.trigger.timezone)&&n.push({field:"calendarEndDate",errorCode:"error.before.current.date.trigger.endDate"}),2==e.trigger.startType&&e.trigger.startDate&&+new Date(e.trigger.startDate)>=+new Date(e.trigger.endDate)&&n.push({field:"calendarEndDate",errorCode:"error.before.start.date.trigger.endDate"})):n.push({field:"calendarEndDate",errorCode:"error.invalid.date"})),"selectedDays"===e.trigger.radioWhichDay&&0===e.trigger.weekDays.day.length&&n.push({field:"daySelector",errorCode:"report.scheduling.job.edit.specify.dayswhenjobshouldrun"}),"datesInMonth"===e.trigger.radioWhichDay&&(i=this.parseIntervals(e.trigger.monthDays,"daysInMonth"),i||n.push({field:"datesInMonth",errorCode:"report.scheduling.job.edit.specify.whenjobshouldrun"})),this.parseIntervals(e.trigger.hours,"hours")||n.push({field:"hours",errorCode:"error.not.empty.trigger.hours"}),this.parseIntervals(e.trigger.minutes,"minutes")||n.push({field:"minutes",errorCode:"error.not.empty.trigger.minutesshould"})));var s=e.repositoryDestination;if(s.outputDescription&&s.outputDescription.length>250&&n.push({field:"outputDescription",errorCode:"report.scheduling.job.output.long.description"}),s.sequentialFilenames&&!s.timestampPattern&&n.push({field:"timestampPattern",errorCode:"report.scheduling.job.output.timestamppattern"}),e.baseOutputFilename||n.push({field:"baseOutputFilename",errorCode:"error.not.empty.baseOutputFilename"}),e.baseOutputFilename&&!this.isValidFileName(e.baseOutputFilename)&&n.push({field:"baseOutputFilename",errorCode:"error.invalid.chars.baseOutputFilename"}),e.outputFormats.outputFormat&&e.outputFormats.outputFormat.length||n.push({field:"outputFormats",errorCode:"error.report.job.no.output.formats"}),s.saveToRepository&&!s.folderURI&&n.push({field:"outputRepository",errorCode:"error.not.empty.folderURI"}),o.isUndefined(s.outputLocalFolder)||""!==s.outputLocalFolder||n.push({field:"outputHostFileSystem",errorCode:"error.not.empty.folderURI"}),s.outputFTPInfo.enabled&&(s.outputFTPInfo.serverName?this.isHostName(s.outputFTPInfo.serverName)||n.push({field:"ftpAddress",errorCode:"error.report.scheduling.empty.ftp.server"}):n.push({field:"ftpAddress",errorCode:"error.report.scheduling.empty.ftp.server"}),s.outputFTPInfo.port&&this.isNumeric(s.outputFTPInfo.port)?(i=parseInt(s.outputFTPInfo.port,10),i>0&&65535>=i||n.push({field:"ftpPort",errorCode:"error.report.scheduling.empty.ftp.port"})):n.push({field:"ftpPort",errorCode:"error.report.scheduling.empty.ftp.port"})),e.mailNotification){var r=e.mailNotification.toAddresses&&e.mailNotification.toAddresses.address||"",a=e.mailNotification.ccAddresses&&e.mailNotification.ccAddresses.address||"",l=e.mailNotification.bccAddresses&&e.mailNotification.bccAddresses.address||"",u=e.mailNotification.subject||"",d=e.mailNotification.messageText||"";r&&!this.validateEmails(r)&&n.push({field:"to_suc",errorCode:"error.invalid.mailNotification.invalidEmailaddresses"}),a&&!this.validateEmails(a)&&n.push({field:"cc_suc",errorCode:"error.invalid.mailNotification.invalidEmailaddresses"}),l&&!this.validateEmails(l)&&n.push({field:"bcc_suc",errorCode:"error.invalid.mailNotification.invalidEmailaddresses"}),(r||u)&&(r||n.push({field:"to_suc",errorCode:"error.invalid.mailNotification.specify.oneaddresses"}),u||n.push({field:"subject_suc",errorCode:"report.scheduling.job.edit.specify.messagesubject"})),d&&(r||n.push({field:"to_suc",errorCode:"error.invalid.mailNotification.specify.oneaddresses"}),u||n.push({field:"subject_suc",errorCode:"report.scheduling.job.edit.specify.messagesubject"}))}if(e.alert){var h=e.alert.toAddresses&&e.alert.toAddresses.address||"",f=e.alert.subject||"";e.alert.messageText||"",e.alert.messageTextWhenJobFails||"";h&&!this.validateEmails(h)&&n.push({field:"job_status_to",errorCode:"error.invalid.mailNotification.invalidEmailaddresses"}),(h||f)&&(h||n.push({field:"job_status_to",errorCode:"error.invalid.mailNotification.specify.oneaddresses"}),f||n.push({field:"job_status_subject",errorCode:"report.scheduling.job.edit.specify.messagesubject"})),(-1!==e.alert.jobState.indexOf("SUCCESS_ONLY")||-1!==e.alert.jobState.indexOf("ALL"))&&(h||n.push({field:"job_status_to",errorCode:"error.invalid.mailNotification.specify.oneaddresses"}),f||n.push({field:"job_status_subject",errorCode:"report.scheduling.job.edit.specify.messagesubject"})),(-1!==e.alert.jobState.indexOf("FAIL_ONLY")||-1!==e.alert.jobState.indexOf("ALL"))&&(h||n.push({field:"job_status_to",errorCode:"error.invalid.mailNotification.specify.oneaddresses"}),f||n.push({field:"job_status_subject",errorCode:"report.scheduling.job.edit.specify.messagesubject"}))}return this.trigger("clearAllErrors"),n.length?this.trigger("invalid",n):this.trigger("valid",[]),n}},update:function(e,t){if("object"==typeof t){t=o.extend({},this.get(e),t);for(var i in t)t.hasOwnProperty(i)&&void 0===t[i]&&delete t[i]}this.set(e,t)},value:function(e){var t=this.attributes;e=e.split("/");for(var i=0,n=e.length-1;n>i;i++){if(!t)return void 0;t=t[e[i]]}return t?t[e[e.length-1]]:void 0},sync:function(e,t,i){return"update"===e?e="create":"create"===e&&(e="update"),i||(i={}),i.contentType="application/job+json",i.beforeSend=function(e){e.setRequestHeader("Accept","application/job+json")},r.sync(e,t,i)},parse:function(e){if(e.trigger&&("simpleTrigger"in e.trigger?e.trigger.type="simpleTrigger":"calendarTrigger"in e.trigger&&(e.trigger.type="calendarTrigger"),e.trigger.type&&(o.extend(e.trigger,e.trigger[e.trigger.type]),delete e.trigger[e.trigger.type]),"simpleTrigger"===e.trigger.type&&null===e.trigger.recurrenceInterval?e.trigger.type="none":"simpleTrigger"===e.trigger.type?e.trigger.type="simple":"calendarTrigger"===e.trigger.type?e.trigger.type="calendar":e.trigger.type="none","none"===e.trigger.type&&(e.trigger.occurrenceCount=""),"undefined"==typeof e.trigger.startType&&(e.trigger.startType=1),e.trigger.startDate&&(e.trigger.startDate=this.formatDate(e.trigger.startDate)),("undefined"==typeof e.trigger.timezone||null===e.trigger.timezone)&&(e.trigger.timezone=l.usersTimeZone||"America/Los_Angeles"),("simple"===e.trigger.type||"calendar"===e.trigger.type)&&("undefined"==typeof e.trigger.calendarName||null===e.trigger.calendarName)&&(e.trigger.calendarName=""),("undefined"==typeof e.trigger.recurrenceInterval||null===e.trigger.recurrenceInterval)&&(e.trigger.recurrenceInterval=1),("undefined"==typeof e.trigger.recurrenceIntervalUnit||null===e.trigger.recurrenceIntervalUnit)&&(e.trigger.recurrenceIntervalUnit="DAY"),("undefined"==typeof e.trigger.occurrenceCount||null===e.trigger.occurrenceCount)&&(e.trigger.occurrenceCount=""),"undefined"==typeof e.trigger.endDate||null===e.trigger.endDate?e.trigger.endDate="":e.trigger.endDate=this.formatDate(e.trigger.endDate),e.trigger.endDate?e.trigger.endDate&&(e.trigger.radioEndDate="specificDate",e.trigger.occurrenceCount=""):-1!=e.trigger.occurrenceCount&&e.trigger.occurrenceCount?e.trigger.radioEndDate="numberOfTimes":(e.trigger.radioEndDate="indefinitely",e.trigger.occurrenceCount=""),e.trigger.months||(e.trigger.months={}),o.isArray(e.trigger.months.month)||(e.trigger.months.month=[]),e.trigger.radioWhichMonth="everyMonth",0<e.trigger.months.month.length&&e.trigger.months.month.length<12?e.trigger.radioWhichMonth="selectedMonths":12==e.trigger.months.month.length&&(e.trigger.radioWhichMonth="everyMonth",e.trigger.months.month=[]),e.trigger.weekDays||(e.trigger.weekDays={}),o.isArray(e.trigger.weekDays.day)||(e.trigger.weekDays.day=[]),"undefined"==typeof e.trigger.monthDays||null===e.trigger.monthDays?e.trigger.monthDays="":e.trigger.monthDays=e.trigger.monthDays.toString().replace(/ /g,"").replace(/,/g,", "),"undefined"!=typeof e.trigger.daysType?"month"==e.trigger.daysType.toLowerCase()?(e.trigger.radioWhichDay="datesInMonth",e.trigger.weekDays.day=[]):"week"==e.trigger.daysType.toLowerCase()?(e.trigger.radioWhichDay="selectedDays",e.trigger.monthDays=""):(e.trigger.radioWhichDay="everyDay",e.trigger.weekDays.day=[],e.trigger.monthDays=""):0<e.trigger.weekDays.day.length&&e.trigger.weekDays.day.length<7?e.trigger.radioWhichDay="selectedDays":e.trigger.monthDays?e.trigger.radioWhichDay="datesInMonth":e.trigger.radioWhichDay="everyDay","undefined"==typeof e.trigger.hours||null===e.trigger.hours?e.trigger.hours="0":e.trigger.hours=e.trigger.hours.toString().replace(/ /g,"").replace(/,/g,", "),"undefined"==typeof e.trigger.minutes||null===e.trigger.minutes?e.trigger.minutes="0":e.trigger.minutes=e.trigger.minutes.toString().replace(/ /g,"").replace(/,/g,", ")),"undefined"==typeof e.repositoryDestination||null===e.repositoryDestination)e.repositoryDestination={overwriteFiles:!0,sequentialFilenames:!1,saveToRepository:!0,timestampPattern:"yyyyMMddHHmm",outputFTPInfo:{propertiesMap:{},type:"ftp",port:"21",implicit:!0,pbsz:0}};else{if("undefined"==typeof e.repositoryDestination.outputFTPInfo||null===e.repositoryDestination.outputFTPInfo)e.repositoryDestination.outputFTPInfo={};else{var i=e.repositoryDestination.outputFTPInfo;e.repositoryDestination.outputFTPInfo.type="ftp"==e.repositoryDestination.outputFTPInfo.type?"TYPE_FTP":"TYPE_FTPS",i.enabled=!!i.serverName&&!!i.userName}e.repositoryDestination.timestampPattern||(e.repositoryDestination.timestampPattern="yyyyMMddHHmm")}("undefined"==typeof e.repositoryDestination.outputFTPInfo.port||null===e.repositoryDestination.outputFTPInfo.port)&&(e.repositoryDestination.outputFTPInfo.port="21");var n="SEND";if(e.mailNotification=e.mailNotification||{toAddresses:{address:""},ccAddresses:{address:""},bccAddresses:{address:""},subject:"",messageText:"",resultSendType:n},e.alert=e.alert||{toAddresses:{address:""},subject:"",messageText:"",messageTextWhenJobFails:"",jobState:"NONE"},"undefined"==typeof e.mailNotification.resultSendType||null===e.mailNotification.resultSendType)e.mailNotification.resultSendType=n;else{
var s=e.mailNotification.resultSendType;"SEND"!==s&&"SEND_ATTACHMENT"!==s&&"SEND_ATTACHMENT_NOZIP"!==s&&"SEND_EMBED"!==s&&"SEND_ATTACHMENT_ZIP_ALL"!==s&&"SEND_EMBED_ZIP_ALL_OTHERS"!==s&&(e.mailNotification.resultSendType=n)}var r,a=["toAddresses","ccAddresses","bccAddresses"];for(r=0;r<a.length;r++)"undefined"==typeof e.mailNotification[a[r]]||null===e.mailNotification[a[r]]?e.mailNotification[a[r]]={address:""}:("undefined"==typeof e.mailNotification[a[r]].address||null===e.mailNotification[a[r]].address)&&(e.mailNotification[a[r]].address=""),o.isArray(e.mailNotification[a[r]].address)&&e.mailNotification[a[r]].address.length>0?e.mailNotification[a[r]].address=e.mailNotification[a[r]].address.join(t+" "):e.mailNotification[a[r]].address="";return e.mailNotification.toAddresses.address||(e.mailNotification={toAddresses:{address:""},ccAddresses:{address:""},bccAddresses:{address:""},subject:"",messageText:"",resultSendType:n}),"undefined"==typeof e.alert.toAddresses||null===e.alert.toAddresses?e.alert.toAddresses={address:""}:("undefined"==typeof e.alert.toAddresses.address||null===e.alert.toAddresses.address)&&(e.alert.toAddresses.address=""),o.isArray(e.alert.toAddresses.address)&&e.alert.toAddresses.address.length>0?e.alert.toAddresses.address=e.alert.toAddresses.address.join(t+" "):e.alert={toAddresses:{address:""},subject:"",messageText:"",messageTextWhenJobFails:"",jobState:"NONE",includingReportJobInfo:!1,includingStackTrace:!1},e},toJSON:function(){var e=s.extend(!0,{},this.attributes),n={};if(e.trigger&&(e.trigger.startType=parseInt(e.trigger.startType,10),1===e.trigger.startType?e.trigger.startDate=null:e.trigger.startDate=c(e.trigger.startDate,p,!0).format(i),"none"===e.trigger.type?(e.trigger.type="simpleTrigger",e.trigger.endDate=null,e.trigger.occurrenceCount=1,e.trigger.recurrenceInterval=null,e.trigger.recurrenceIntervalUnit=null,delete e.trigger.hours,delete e.trigger.minutes,delete e.trigger.months,delete e.trigger.daysType,delete e.trigger.weekDays,delete e.trigger.monthDays,delete e.trigger.calendarName):"simple"===e.trigger.type?(e.trigger.type="simpleTrigger","numberOfTimes"==e.trigger.radioEndDate&&(e.trigger.endDate=null),"specificDate"==e.trigger.radioEndDate&&(e.trigger.occurrenceCount=-1,e.trigger.endDate=c(e.trigger.endDate,p,!0).format(i)),"indefinitely"==e.trigger.radioEndDate&&(e.trigger.occurrenceCount=-1,e.trigger.endDate=null),e.trigger.recurrenceInterval=parseInt(e.trigger.recurrenceInterval,10),e.trigger.recurrenceIntervalUnit=e.trigger.recurrenceIntervalUnit.toUpperCase(),""===e.trigger.calendarName&&(e.trigger.calendarName=null),delete e.trigger.hours,delete e.trigger.minutes,delete e.trigger.months,delete e.trigger.daysType,delete e.trigger.weekDays,delete e.trigger.monthDays):"calendar"===e.trigger.type&&(e.trigger.type="calendarTrigger","everyMonth"===e.trigger.radioWhichMonth&&(e.trigger.months.month=[1,2,3,4,5,6,7,8,9,10,11,12]),"everyDay"===e.trigger.radioWhichDay||7==e.trigger.weekDays.day.length?(e.trigger.daysType="ALL",e.trigger.weekDays.day=[],e.trigger.monthDays=""):"selectedDays"===e.trigger.radioWhichDay?(e.trigger.daysType="WEEK",e.trigger.monthDays=""):"datesInMonth"===e.trigger.radioWhichDay&&(e.trigger.daysType="MONTH",e.trigger.weekDays.day=[]),e.trigger.monthDays=e.trigger.monthDays.replace(/ /g,""),""===e.trigger.endDate?delete e.trigger.endDate:e.trigger.endDate=c(e.trigger.endDate,p,!0).format(i),e.trigger.hours=e.trigger.hours.replace(/ /g,""),e.trigger.minutes=e.trigger.minutes.replace(/ /g,""),""===e.trigger.calendarName&&(e.trigger.calendarName=null),delete e.trigger.occurrenceCount,delete e.trigger.recurrenceInterval,delete e.trigger.recurrenceIntervalUnit),delete e.trigger.radioEndDate,delete e.trigger.radioWhichMonth,delete e.trigger.radioWhichDay,e.trigger&&e.trigger.type&&(n[e.trigger.type]=e.trigger,delete n[e.trigger.type].type,e.trigger=n)),e.repositoryDestination&&(e.repositoryDestination.outputFTPInfo&&(e.repositoryDestination.outputFTPInfo.enabled||(e.repositoryDestination.outputFTPInfo={type:"TYPE_FTP",port:21,folderPath:null,password:null,propertiesMap:{},serverName:null,userName:null}),e.repositoryDestination.outputFTPInfo.type&&(e.repositoryDestination.outputFTPInfo.type="TYPE_FTP"==e.repositoryDestination.outputFTPInfo.type?"ftp":"ftps"),"enabled"in e.repositoryDestination.outputFTPInfo&&delete e.repositoryDestination.outputFTPInfo.enabled),e.repositoryDestination.sequentialFilenames||(e.repositoryDestination.timestampPattern=null)),e.mailNotification){var o,r=["toAddresses","ccAddresses","bccAddresses"];for(o=0;o<r.length;o++)if(e.mailNotification[r[o]]&&"undefined"!=typeof e.mailNotification[r[o]].address){if(!e.mailNotification[r[o]].address){delete e.mailNotification[r[o]];continue}e.mailNotification[r[o]].address=e.mailNotification[r[o]].address.replace(/ /g,"").split(t)}e.mailNotification.toAddresses&&"undefined"!=typeof e.mailNotification.toAddresses.address||delete e.mailNotification}return e.alert&&(e.alert.toAddresses&&"undefined"!=typeof e.alert.toAddresses.address&&(e.alert.toAddresses.address?e.alert.toAddresses.address=e.alert.toAddresses.address.replace(/ /g,"").split(t):delete e.alert.toAddresses.address),e.alert.toAddresses&&"undefined"!=typeof e.alert.toAddresses.address||delete e.alert),e},state:function(e){var t={jobId:[this.id],toJSON:function(){return this},trigger:function(){return this}};return this.get("state").value=e?"NORMAL":"PAUSED",this.trigger("change"),r.sync.call(this,"update",t,{url:l.contextPath+"/rest_v2/jobs/"+(e?"resume":"pause"),type:"POST"})},loadParameters:function(e){e=e||this.get("source").reportUnitURI;var t=this,i=l.contextPath+"/rest_v2/reports"+encodeURI(e)+"/inputControls/";return r.sync.call(this,"read",new r.Model,{url:i,type:"GET"}).done(function(e){if(e&&e.inputControl){for(var i={},n=e.inputControl,s=0;s<n.length;s++)i[n[s].id]=null;t.update("source",{parameters:{parameterValues:i}})}else t.trigger("failedToGet_IC")}).fail(function(){t.trigger("failedToGet_IC")})},checkSaveValidation:function(){var e=s.Deferred(),t=0,i=function(){t++,3===t&&e.resolve()},n=function(){e.reject()};return this.validateParametersIC().done(i).fail(n),this.testOutputRepositoryFolder().done(i).fail(n),this.testOutputHostFileSystemFolder().done(i).fail(n),e},testFTPConnection:function(e){if(n)return void("function"==typeof e&&e());var t=this.get("repositoryDestination");if(!(t&&t.outputFTPInfo&&t.outputFTPInfo.enabled))return void("function"==typeof e&&e());t=t.outputFTPInfo;var i=this,o={host:t.serverName,userName:t.userName,password:t.password,folderPath:t.folderPath,type:"TYPE_FTP"==t.type?"ftp":"ftps",protocol:t.protocol,port:t.port,implicit:t.implicit,prot:t.prot,pbsz:t.pbsz,toJSON:function(){return this},trigger:function(){return this}};return n=!0,s("#ftpTestButton").addClass("checking"),s("[data-field=ftpTest]").text(""),r.sync.call(this,"update",o,{url:l.contextPath+"/rest_v2/connections",contentType:"application/connections.ftp+json",headers:{Accept:"application/json"},type:"POST",success:function(t,o){n=!1,s("#ftpTestButton").removeClass("checking"),i.trigger("valid",[{field:"ftpTest",errorCode:"report.scheduling.connection.passed"}]),"function"==typeof e&&e(void 0)},error:function(t){n=!1,s("#ftpTestButton").removeClass("checking"),i.trigger("invalid",[{field:"ftpTest",errorCode:"report.scheduling.connection.failed"}]),"function"==typeof e&&e(t)}})},validateParametersIC:function(){var e=this,t=s.Deferred();return this.get("source")&&this.get("source").parameters?(this.controlsController.validate().then(function(i){i?t.resolve():(e.trigger("invalid",[{field:"parametersErrorNotifierStub",errorCode:"report.scheduling.list.state.5"}],{switchToErrors:!0}),t.reject())}),t):t.resolve()},testOutputRepositoryFolder:function(){var e=this,t=s.Deferred();if(!this.get("repositoryDestination"))return t.resolve();if(!this.get("repositoryDestination").saveToRepository)return t.resolve();var i=this.get("repositoryDestination").folderURI;return this.checkPermissionOnFolder(i,function(i,n){if(i||1!==n&&30!==n&&6!==n){try{i=JSON.parse(i.responseText)}catch(s){i={errorCode:""}}var o="error.report.job.output.folder.notwriteable";"resource.not.found"===i.errorCode&&(o="error.report.job.report.inexistent.output"),e.trigger("invalid",[{field:"outputRepository",errorCode:o,errorArguments:[e.get("repositoryDestination").folderURI]}],{switchToErrors:!0}),t.reject()}else t.resolve()}),t},testOutputHostFileSystemFolder:function(){var e=this,t=s.Deferred();if("false"===l.enableSaveToHostFS||l.enableSaveToHostFS===!1)return t.resolve();if(!this.get("repositoryDestination"))return t.resolve();var i=this.get("repositoryDestination").outputLocalFolder;if(o.isUndefined(i)||null===i)return t.resolve();if(!i)return this.trigger("invalid",[{field:"outputHostFileSystem",errorCode:"report.scheduling.output.localhostpath"}],{switchToErrors:!0}),t.reject();var n={path:this.get("repositoryDestination").outputLocalFolder,toJSON:function(){return this},trigger:function(){return this}};return r.sync.call(this,"update",n,{url:l.contextPath+"/rest_v2/connections",contentType:"application/connections.lfs+json",type:"POST",headers:{Accept:"application/json"}}).done(function(){t.resolve()}).fail(function(){e.trigger("invalid",[{field:"outputHostFileSystem",errorCode:"report.scheduling.output.localhostpath"}],{switchToErrors:!0}),t.reject()}),t},checkPermissionOnFolder:function(e,t){return"ja"==l.userLocale&&isIE8()&&(e=a.convert(e,{to:"SJIS",from:"UNICODE",type:"string"})),r.sync.call(this,"read",new r.Model,{url:l.contextPath+"/rest_v2/resources"+e,headers:{Accept:"application/repository.folder+json"},type:"GET",success:function(e,i){"function"==typeof t&&t(void 0,e.permissionMask)},error:function(e){"function"==typeof t&&t(e)}})},resource:function(e,t){return r.sync.call(this,"read",new r.Model,{url:l.contextPath+"/rest_v2/resources"+this.get("source").reportUnitURI,headers:{Accept:"application/repository."+e+"+json"},type:"GET",success:function(e,i){"function"==typeof t&&t(void 0,e)},error:function(e){"function"==typeof t&&t(e)}})},parseUri:function(e){var t;return"/"!==e[0]&&(e="/"+e),e&&(t=e.match(/^(.*)\/([^\/]+)$/))?(""===t[1]&&(t[1]="/"),{full:t[0],folder:t[1],file:t[2]}):{}},createFromUri:function(e){this.trigger("clearAllErrors"),this.clear({silent:!0}),e=this.parseUri(e),this.set(this.parse({baseOutputFilename:e.file,outputFormats:{outputFormat:["PDF"]},source:{reportUnitURI:e.full},trigger:{timezone:l.usersTimeZone||"America/Los_Angeles"},outputTimeZone:l.usersTimeZone||"America/Los_Angeles",repositoryDestination:{overwriteFiles:!0,sequentialFilenames:!1,folderURI:e.folder,saveToRepository:!0,timestampPattern:"yyyyMMddHHmm",outputFTPInfo:{propertiesMap:{},type:"ftp",port:"21",implicit:!0,pbsz:0}}}))},formatDate:function(e){return e?c(e,i).format(p):""},parseIntervals:function(e,t){if(e=e||!1,!e)return!1;e=e.replace(/ /g,"");var i,n,s,o=e.split(","),r=[],a={},l=1,c=31;if("hours"===t&&(l=0,c=23),"minutes"===t&&(l=0,c=59),o.length<1)return!1;for(i=0;i<o.length;i++)if(-1!==o[i].indexOf("-")){if(s=o[i].split("-"),!this.isNumeric(s[0],{allowZero:!0}))return!1;if(!this.isNumeric(s[1],{allowZero:!0}))return!1;if(s[0]=parseInt(s[0],10),s[1]=parseInt(s[1],10),!(l<=s[0]&&s[0]<=c))return!1;if(!(l<=s[1]&&s[1]<=c))return!1;if(s[0]>=s[1])return!1;for(n=s[0];n<=s[1];n++)"undefined"==typeof a[n]&&(r.push(n),a[n]=1)}else{if(!this.isNumeric(o[i],{allowZero:!0}))return!1;if(o[i]=parseInt(o[i],10),!(l<=o[i]&&o[i]<=c))return!1;"undefined"==typeof a[o[i]]&&(r.push(o[i]),a[o[i]]=1)}return r},ifPastDate:function(e,t){if(!e||!t)return!1;var i,n,s,o,r;return i=getTZOffset(t),n=-1*c().zone()/60,s=n-i,o=+c().format("X"),r=+c(e,p,!0).add("minute",1).format("X")+3600*s,o>r},isHostName:function(e){if(!e)return!1;var t=/^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\-]*[A-Za-z0-9])$/;return t.test(e)},isEmail:function(e){if(!e)return!1;var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)},isValidFileName:function(e){if(!e)return!1;var t=/^(\w|\d|\_|\.|\-|[;@]|[^\x00-\x80])+$/;return t.test(e)},validateEmails:function(e){if(!e)return!1;e=e.replace(/ /g,""),e=e.split(t);for(var i=0;i<e.length;i++)if(!this.isEmail(e[i]))return!1;return!0},isNumeric:function(e,t){var i;if(!e)return!1;if(t=t||{},t.allowNegative=t.allowNegative||!1,t.allowZero=t.allowZero||!1,t.maxValue=t.maxValue||!1,t.minValue=t.minValue||!1,"string"==typeof e){if(e.match(/\D/))return!1;if(i=parseInt(e,10),o.isNaN(i))return!1}return t.allowNegative===!1&&0>i?!1:t.allowZero===!1&&0===i?!1:t.maxValue&&t.maxValue<i?!1:t.minValue&&i<t.minValue?!1:!0}})}),define("scheduler/collection/jobsCollection",["require","jquery","underscore","json3","backbone","jrs.configs","scheduler/model/jobModel"],function(e){"use strict";var t=e("jquery"),i=e("underscore"),n=(e("json3"),e("backbone")),s=e("jrs.configs"),o=e("scheduler/model/jobModel");return n.Collection.extend({model:o,initialize:function(e,t){this.options=i.extend({},t),this.initialAmountOfJobsToLoad=100,this.amountOfJobsToLoad=100,this.amountOfLoadedJobs=0},setSearchingTerm:function(e){this.searchingTerm=e},getSearchingTerm:function(){return this.searchingTerm},getReportUri:function(){return this.options.parentReportURI||this.options.reportUri},fetch:function(){if(this.urlsOfReportsToFetchJobs=[],this.options.masterViewMode)return void this.getJobsWithPagination();if(this.getReportUri()){if(this.urlsOfReportsToFetchJobs.push(this.getReportUri()),!s.isProVersion)return void this.getJobsOfAllReportsWeHave();var e=this;this.getReportOptions().always(function(){e.getJobsOfAllReportsWeHave()})}},getReportOptions:function(){var e=this,t=this.getReportUri();return this.request({url:s.contextPath+"/rest_v2/reports"+t+"/options"}).done(function(t){if(t=t.reportOptionsSummary)for(var i=0,n=t.length;n>i;i++)t[i].uri&&e.urlsOfReportsToFetchJobs.push(t[i].uri)}).fail(function(){})},getJobsOfAllReportsWeHave:function(){var e=this,t=[],n=0;i.each(this.urlsOfReportsToFetchJobs,function(i){e.getJobOfReport(i).done(function(i){t=t.concat(e.parse(i))}).fail(function(t){e.trigger("error",t)}).always(function(){n++,n===e.urlsOfReportsToFetchJobs.length&&e.reset(t)})})},getJobsFromBackend:function(e,i){var n=["sortType=SORTBY_REPORTURI"];if(e&&n.push("startIndex="+e),i&&n.push("numberOfRows="+i),this.searchingTerm){var o=encodeURI(this.searchingTerm);n.push("label="+o)}var r=this,a=t.Deferred(),l=s.contextPath+"/rest_v2/jobs?"+n.join("&");return this.request({url:l}).done(function(e){var t=r.parse(e);r.amountOfLoadedJobs+=t.length,a.resolve(t)}).fail(function(e){r.trigger("error",e),a.reject(e)}),a},getJobOfReport:function(e){var t=s.contextPath+"/rest_v2/jobs?reportUnitURI="+encodeURI(e);return this.request({url:t})},getJobsWithPagination:function(){this.amountOfLoadedJobs=0;var e=this;this.getJobsFromBackend(this.amountOfLoadedJobs,this.initialAmountOfJobsToLoad).done(function(t){e.reset(t)})},loadMoreJobs:function(){var e=this;this.getJobsFromBackend(this.amountOfLoadedJobs,this.amountOfJobsToLoad).done(function(t){e.add(t)})},parse:function(e){return e?e.jobsummary:[]},request:function(e){return n.sync.call(this,"read",new n.Model,e)},permission:function(e,t){return n.sync.call(this,"read",new n.Model,{url:s.contextPath+"/rest_v2/resources/"+e.replace(/\/[^\/]+$/,""),headers:{Accept:"application/repository.folder+json"},type:"GET",success:function(e,i){"function"==typeof t&&t(void 0,e.permissionMask)},error:function(e){"function"==typeof t&&t(e)}})}})}),define("text!scheduler/template/jobsViewTemplate.htm",[],function(){return'<div class="page column decorated primary listOfJobs singleReportView">\n	<div class="content">\n\n		<div class="header ">\n			<div class="title">\n				{{- i18n["report.scheduling.list.header"] }}: <span class="path">{{- reportUri }}</span>\n			</div>\n\n			<div class="toolbar">\n				<ul class="list buttonSet">\n					<li class="node open">\n						<ul class="list buttonSet">\n							<li class="leaf">\n								<button name="backButton" class="button capsule text up">\n									<span class="wrap">{{- i18n["report.scheduling.list.button.back"] }}</span>\n									<span class="icon"></span>\n								</button>\n							</li>\n							<li class="leaf">\n								<button name="scheduleJob" class="button capsule text first up">\n									<span class="wrap">{{- i18n["report.scheduling.list.button.new"] }}</span>\n									<span class="icon"></span>\n								</button>\n							</li>\n							<li class="leaf">\n								<button name="runJob" class="button capsule text last up">\n									<span class="wrap">{{- i18n["report.scheduling.list.button.now"] }}</span>\n									<span class="icon"></span>\n								</button>\n							</li>\n							<li class="leaf">\n								<button name="refreshList" class="button capsule text up">\n									<span class="wrap">{{- i18n["report.scheduling.list.button.refresh"] }}</span>\n									<span class="icon"></span>\n								</button>\n							</li>\n						</ul>\n					</li>\n				</ul>\n			</div>\n		</div>\n\n		<div class="subheader">\n			<ul id="resultsListHeader" class="list collapsible tabular jobs header">\n				<li id="" class="jobs first leaf">\n					<div class="wrap">\n						<div class="column one">\n							<p class="jobID">{{- i18n["report.scheduling.list.header.id"] }}</p>\n						</div>\n						<div class="column two">\n							<p class="jobName">{{- i18n["report.scheduling.list.header.label"] }}</p>\n							<p class="jobOwner">{{- i18n["report.scheduling.list.header.owner"] }}</p>\n						</div>\n						<div class="column three">\n							<p class="jobState">{{- i18n["report.scheduling.list.header.state"] }}</p>\n						</div>\n						<div class="column four">\n							<p class="lastRanDate">{{- i18n["report.scheduling.list.header.prevFireTime"] }}</p>\n							<p class="nextRunDate">{{- i18n["report.scheduling.list.header.nextFireTime"] }}</p>\n						</div>\n						<div class="column five">\n							<p class="jobEnabled">{{- i18n["report.scheduling.list.label.enabled"] }}</p>\n						</div>\n					</div>\n				</li>\n			</ul>\n		</div>\n\n		<div class="body">\n			<div id="jobsSummaryContainer">\n				<div name="jobsContainer" class="body"></div>\n			</div>\n		</div>\n	</div>\n</div>\n'}),define("text!scheduler/template/masterViewTemplate.htm",[],function(){return'<div class="page column decorated primary listOfJobs masterView">\n	<div class="content">\n\n		<div class="header ">\n			<div class="title">\n				{{- i18n["menu.jobs"] }}\n			</div>\n			<span data-component-type="search" data-tab-index="3" class="control searchLockup " id="secondarySearchBox">\n				<label class="offLeft" for="secondarySearchInput">{{- i18n["SEARCH_SEARCH"] }}</label>\n				<div class="wrap">\n					<input type="text" tabindex="" name="jobSearchInput" id="secondarySearchInput" class="" value="{{- searchTerm }}">\n				</div>\n				<b class="right">\n					<a name="jobSearchClear" class="button searchClear"></a>\n				</b>\n				<a class="button search up" name="jobSearchIcon"></a>\n			</span>\n			<!--\n			<ul js-stdnav="false" js-navtype="none" tabindex="-1" class="list tabSet text control horizontal" id="sortMode" style="-moz-user-select: none;">\n				<li class="label first" id="sortMode_item1" js-navtype="dynamiclist" tabindex="-1" disabled="disabled">\n					<p class="wrap">{{- i18n["report.scheduling.sortby"] }}:</p>\n				</li>\n				<li class="tab selected cursor" id="sortMode_item2" js-navtype="dynamiclist" tabindex="-1">\n					<p class="wrap button">{{- i18n["report.scheduling.name"] }}</p>\n				</li>\n				<li class="tab last" id="sortMode_item3" js-navtype="dynamiclist" tabindex="-1">\n					<p class="wrap button ">{{- i18n["report.scheduling.modified.date"] }}</p>\n				</li>\n			</ul>\n			-->\n		</div>\n\n		<div class="subheader">\n			<ul id="resultsListHeader" class="list collapsible tabular jobs header">\n				<li id="" class="jobs first leaf">\n					<div class="wrap">\n						<div class="column one">\n							<p class="jobResource">{{- i18n["report.scheduling.list.resource"] }}</p>\n						</div>\n						<div class="column two">\n							<p class="jobName">{{- i18n["report.scheduling.list.header.label"] }}</p>\n						</div>\n						<div class="column three">\n							<p class="jobID">{{- i18n["report.scheduling.list.header.id"] }}</p>\n							<p class="jobOwner">{{- i18n["report.scheduling.list.header.owner"] }}</p>\n							<p class="jobState">{{- i18n["report.scheduling.list.header.state"] }}</p>\n						</div>\n						<div class="column four">\n							<p class="lastRanDate">{{- i18n["report.scheduling.list.header.prevFireTime"] }}</p>\n\n							<p class="nextRunDate">{{- i18n["report.scheduling.list.header.nextFireTime"] }}</p>\n						</div>\n						<div class="column five">\n							<p class="jobEnabled">{{- i18n["report.scheduling.list.label.enabled"] }}</p>\n						</div>\n					</div>\n				</li>\n			</ul>\n		</div>\n\n		<div class="body" id="jobsSummaryContainer">\n			<div name="jobsContainer" class="body"></div>\n		</div>\n	</div>\n</div>\n'}),define("text!scheduler/template/list/listOfJobsTemplate.htm",[],function(){return'<ul name="listOfJobs" id="listOfJobs" class="list collapsible tabular jobs sixColumn"></ul>'}),define("text!scheduler/template/list/nothingToDisplayTemplate.htm",[],function(){return'<div class="panel info nothingToDisplay centered_vert centered_horz" id="nothingToDisplay">\n	<div class="content ">\n		<div class="header ">\n			<div class="title"></div>\n		</div>\n		<div class="body  ">\n			<p class="message">{{- message }}</p>\n		</div>\n	</div>\n</div>'}),define("scheduler/view/jobsView",["require","jquery","underscore","bundle!all","backbone","utils.common","common/util/domUtil","touchcontroller","tools.infiniteScroll","scheduler/view/jobView","scheduler/model/jobModel","scheduler/collection/jobsCollection","scheduler/util/schedulerUtils","text!scheduler/template/jobsViewTemplate.htm","text!scheduler/template/masterViewTemplate.htm","text!scheduler/template/list/listOfJobsTemplate.htm","text!scheduler/template/list/nothingToDisplayTemplate.htm"],function(e){"use strict";var t=e("jquery"),i=e("underscore"),n=e("bundle!all"),s=e("backbone"),o=(e("utils.common"),e("common/util/domUtil")),r=e("touchcontroller"),a=e("tools.infiniteScroll"),l=e("scheduler/view/jobView"),c=(e("scheduler/model/jobModel"),e("scheduler/collection/jobsCollection")),u=(e("scheduler/util/schedulerUtils"),e("text!scheduler/template/jobsViewTemplate.htm")),d=e("text!scheduler/template/masterViewTemplate.htm"),h=e("text!scheduler/template/list/listOfJobsTemplate.htm"),p=e("text!scheduler/template/list/nothingToDisplayTemplate.htm");return s.View.extend({events:{"click [name=backButton]":"backButtonClick","click [name=scheduleJob]":"createButtonClick","click [name=runJob]":"runButtonClick","click [name=refreshList]":"refreshButtonClick","keydown [name=jobSearchInput]":"jobSearchInputKeyDown","click [name=jobSearchIcon]":"jobSearchIconClick","click [name=jobSearchClear]":"clearJobSearch"},initialize:function(e){this.options=i.extend({},e),this.jobsViewCollection=new c(null,this.options),this.listenTo(this.jobsViewCollection,"add",this.createAndAddJobView),this.listenTo(this.jobsViewCollection,"reset destroy",this.renderCollection)},refresh:function(){this.jobsViewCollection.fetch()},searchJobs:function(){var e=this.$el.find("[name=jobSearchInput]").val();e&&(this.$el.find("[name=jobSearchClear]").addClass("up"),this.jobsViewCollection.setSearchingTerm(e),this.jobsViewCollection.fetch())},clearJobSearch:function(){this.$el.find("[name=jobSearchClear]").removeClass("up"),this.$el.find("[name=jobSearchInput]").val(""),this.jobsViewCollection.setSearchingTerm(""),this.jobsViewCollection.fetch()},render:function(){var e=this.options.masterViewMode?d:u,s={i18n:n,reportUri:this.options.reportUri,searchTerm:this.jobsViewCollection.getSearchingTerm()};this.setElement(t(i.template(e,s))),this.renderCollection()},renderCollection:function(){var e=this.$el.find("[name=jobsContainer]").empty();this.jobsViewCollection.length?(e.append(t(i.template(h,{}))),this.jobsViewCollection.each(i.bind(this.createAndAddJobView,this)),this.initInfiniteScroll(),this.adjustTableHeaderWidth()):e.append(t(i.template(p,{message:this.options.masterViewMode?n["report.scheduling.list.no.jobs"]:n["report.scheduling.list.no.jobs.for.report"]})))},initInfiniteScroll:function(){var e=this.$el.find("#listOfJobs")[0],n=this.$el.find("#jobsSummaryContainer")[0];this.options.masterViewMode&&e&&(isSupportsTouch()&&(this._touchController||(this._touchController=new r(e,e.up(),{forceLayout:!0})),this.listenTo(e,"layout_update orientationchange",function(){t(e).css("min-width",t(n).width()+"px"),e.width(t(n).width())})),isIPad()?this._infiniteScroll=new a({control:n,content:e,scroll:this._touchController||void 0}):this._infiniteScroll=new a({control:n,content:e}),this._infiniteScroll.onLoad=i.bind(function(){this._infiniteScroll.wait(),this.jobsViewCollection.loadMoreJobs(),this._infiniteScroll.stopWaiting()},this))},adjustTableHeaderWidth:function(){var e=this.$el.find(".content > .subheader .wrap"),t=this.$el.find(".content > .body"),i=o.hasScrollBar(t[0],"vertical");e.css("margin-right",(i?15:0)+"px")},jobSearchInputKeyDown:function(e){27===e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.clearJobSearch()),13===e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.searchJobs())},jobSearchIconClick:function(){this.searchJobs()},createAndAddJobView:function(e){var t=new l({model:e,masterViewMode:this.options.masterViewMode});this.listenTo(t,"editJobPressed",this.editJobPressed);var i=t.render().$el;this.$el.find("[name=listOfJobs]").append(i)},editJobPressed:function(e){this.trigger("editJobPressed",e)},backButtonClick:function(){this.trigger("backButtonPressed")},createButtonClick:function(){this.trigger("createNewJobRequest")},runButtonClick:function(){this.trigger("runNowRequest")},refreshButtonClick:function(){this.refresh()}})}),define("text!common/component/dialog/template/alertDialogTemplate.htm",[],function(){return"<p class='alertText'>\n    {{- message }}\n</p>"}),define("common/component/dialog/AlertDialog",["require","underscore","./Dialog","text!./template/alertDialogTemplate.htm","bundle!js-sdk/CommonBundle"],function(e){"use strict";var t=e("underscore"),i=e("./Dialog"),n=e("text!./template/alertDialogTemplate.htm"),s=e("bundle!js-sdk/CommonBundle");return i.extend({contentTemplate:t.template(n),constructor:function(e){e||(e={}),i.prototype.constructor.call(this,{modal:e.modal!==!1,message:e.message,additionalCssClasses:"alertDialog "+(e.additionalCssClasses||""),title:e.title||s["dialog.exception.title"],buttons:[{label:s["button.close"],action:"close",primary:!0}]},e)},initialize:function(e){i.prototype.initialize.apply(this,arguments),this.on("button:close",this.close),this.setMessage(e.message)},setMessage:function(e){this.content=this.contentTemplate({message:e});var t=this.renderContent();this.$contentContainer["string"==typeof e?"html":"append"](t)}})}),define("common/enum/httpStatusCodes",{100:"continue",101:"switchingProtocols",200:"ok",201:"created",202:"accepted",203:"nonAuthoritativeInformation",204:"noContent",205:"resetContent",206:"partialContent",300:"multipleChoices",301:"movedPermanently",302:"found",303:"seeOther",304:"notModified",305:"useProxy",307:"temporaryRedirect",400:"badRequest",401:"unauthorized",402:"paymentRequired",403:"forbidden",404:"notFound",405:"methodNotAllowed",406:"notAcceptable",407:"proxyAuthenticationRequired",408:"requestTimeout",409:"conflict",410:"gone",411:"lengthRequired",412:"preconditionFailed",413:"requestEntityTooLarge",414:"requestUriTooLong",415:"unsupportedMediaType",416:"requestedRangeNotSatisfiable",417:"expectationFailed",500:"internalServerError",501:"notImplemented",502:"badGateway",503:"serviceUnavailable",504:"gatewayTimeout",505:"httpVersionNotSupported"}),define("common/enum/errorCodes",["require"],function(e){"use strict";return{UNEXPECTED_ERROR:"unexpected.error",INVALID_RESOURCE_TYPE:"invalid.resource.type"}}),define("common/model/BaseModel",["require","underscore","backbone","common/enum/httpStatusCodes","common/enum/errorCodes","json3"],function(e){"use strict";var t=e("underscore"),i=e("backbone"),n=e("common/enum/httpStatusCodes"),s=e("common/enum/errorCodes"),o=e("json3"),r=i.Model.extend({initialize:function(){this.on("error",r.unifyServerErrors)},serialize:function(){return t.clone(this.attributes)}},{unifyServerErrors:function(e,t){var i=n[t.status],s=r.createServerError(t);e.trigger("error:"+i,e,s,t),e.trigger("error:all",e,s,t)},createServerError:function(e){var t;try{t=o.parse(e.responseText)}catch(i){t={message:"Can't parse server response",errorCode:s.UNEXPECTED_ERROR,parameters:[]}}return t}});return r}),define("bi/repo/model/RepositoryResourceModel",["require","underscore","common/model/BaseModel","backbone.validation","bundle!js-sdk/RepositoryResourceBundle","common/util/i18nMessage","common/enum/httpStatusCodes","request"],function(e){"use strict";function t(e,t,i,n,s){return a({type:t,dataType:"json",url:e.contextPath+"/rest_v2/resources"+i+"?overwrite="+n+"&createFolders="+s,headers:{Accept:"application/json","Content-Location":e.get("uri")}}).done(function(t){e.set("uri",t.uri)})}var i=e("underscore"),n=e("common/model/BaseModel"),s=e("backbone.validation"),o=e("bundle!js-sdk/RepositoryResourceBundle"),r=e("common/util/i18nMessage").extend({bundle:o}),a=(e("common/enum/httpStatusCodes"),e("request")),l={LABEL_MAX_LENGTH:100,NAME_MAX_LENGTH:100,DESCRIPTION_MAX_LENGTH:250,NAME_NOT_SUPPORTED_SYMBOLS:"~!#\\$%^|\\s`@&*()\\-+={}\\[\\]:;\"'\\<\\>,?/\\|\\\\"},c=/application\/repository\.([^\+]+)\+json/,u=n.extend({idAttribute:"uri",type:void 0,urlRoot:function(){return(this.contextPath?this.contextPath+"/":"")+"rest_v2/resources"},defaults:{name:void 0,parentFolderUri:void 0,uri:void 0,label:void 0,description:void 0,permissionMask:void 0,creationDate:void 0,updateDate:void 0,version:void 0},validation:{name:function(e,t,i){return e&&e.length>l.NAME_MAX_LENGTH?new r("error.field.max.length","name",l.NAME_MAX_LENGTH):e&&new RegExp("["+l.NAME_NOT_SUPPORTED_SYMBOLS+"]","g").test(e)?new r("error.field.bad.symbols","name",l.NAME_NOT_SUPPORTED_SYMBOLS):void 0},label:function(e,t,n){return i.isEmpty(e)?new r("error.field.required","label"):e.length>l.LABEL_MAX_LENGTH?new r("error.field.max.length","label",l.LABEL_MAX_LENGTH):void 0},description:function(e,t,i){return e&&e.length>l.NAME_MAX_LENGTH?new r("error.field.max.length","description",l.DESCRIPTION_MAX_LENGTH):void 0},parentFolderUri:[{required:!0,msg:new r("error.field.required","parentFolderUri")}]},url:function(){return this.isNew()?this.urlRoot()+encodeURI(this.get("parentFolderUri")):this.urlRoot()+encodeURI(this.id)},constructor:function(e,t){t||(t={}),i.defaults(t,{parse:!0}),n.call(this,e,t)},initialize:function(e,t){this.contextPath=t.contextPath,t.type&&(this.type=t.type),this.on("change:parentFolderUri change:name",this._updateUri),this.on("change:uri",this._updateNameAndParentFolderUri),n.prototype.initialize.apply(this,arguments)},clone:function(){return new this.constructor(this.attributes,{contextPath:this.contextPath})},parse:function(e){return"undefined"!=typeof e.uri?(e.name=u.getNameFromUri(e.uri),e.parentFolderUri=u.getParentFolderFromUri(e.uri)):e.parentFolderUri&&e.name&&(e.uri=u.constructUri(e.parentFolderUri,e.name)),e},toJSON:function(){var e=this.serialize();return delete e.name,delete e.parentFolderUri,e},_updateUri:function(){var e=this.get("name"),t=this.get("parentFolderUri"),i=u.constructUri(t,e);i&&this.set("uri",i)},_updateNameAndParentFolderUri:function(){var e=this.get("uri"),t=u.getNameFromUri(e),i=u.getParentFolderFromUri(e);this.set({name:t,parentFolderUri:i})},fetch:function(e){return i.defaults(e||(e={}),{headers:{Accept:"application/json"}}),e.url=this.url()+"?expanded="+(e.expanded===!0),
delete e.expanded,n.prototype.fetch.call(this,e)},sync:function(e,t,i){if("read"===e){var s=i.success,o=this;i.success=function(e,t,i){var n=i.getResponseHeader("Content-Type"),r=c.exec(n);if(!r||!r[1])throw new Error("Unsupported response content type: "+n);o.type=r[1],s&&s(e,t,i)}}return n.prototype.sync.call(this,e,t,i)},save:function(e,t,s){var o;if(i.isUndefined(e)||i.isNull(e)||i.isObject(e)?(o=e||{},s=t):(o={})[e]=t,!this.type)throw new Error("Resource type is unspecified. It's not possible to save a resource without it's type specified");return i.defaults(s||(s={}),{headers:{Accept:"application/json","Content-Type":"application/repository."+this.type+"+json; charset=UTF-8"}}),s.url=this.url()+"?createFolders="+(s.createFolders===!0),s.url+="&overwrite="+(s.overwrite===!0),s.url+="&expanded="+(s.expanded===!0),s.url+="&dry-run="+(s.dryRun===!0),delete s.createFolders,delete s.overwrite,delete s.expanded,delete s.expanded,delete s.dryRun,n.prototype.save.call(this,o,s)},isWritable:function(){var e=this.get("permissionMask"),t=!1;return i.isUndefined(e)||(t=1===e||4&e),t},copyTo:function(e,i,n){return t(this,"POST",e,!!i,arguments.length<3||n)},moveTo:function(e,i,n){return t(this,"PUT",e,!!i,arguments.length<3||n)}},{settings:l,getNameFromUri:function(e){if(!e)return void 0;var t=e.split("/");return t[t.length-1]},getParentFolderFromUri:function(e){if(!e)return void 0;var t=e.split("/");return 2===t.length&&""!==t[1]?"/":t.slice(0,t.length-1).join("/")},constructUri:function(e,t){return t&&e?-1!==e.indexOf("/",e.length-1)?e+t:e+"/"+t:void 0},generateResourceName:function(e){var t="";return e&&(t=e.replace(new RegExp("["+u.settings.NAME_NOT_SUPPORTED_SYMBOLS+"]","g"),"_")),t}});return i.extend(u.prototype,s.mixin),u}),define("common/component/dialog/DialogWithModelInputValidation",["require","jquery","underscore","./Dialog","backbone.validation"],function(e){"use strict";var t=e("jquery"),i=e("underscore"),n=e("./Dialog"),s=e("backbone.validation");return n.extend({events:i.extend({"keyup input[type=text], textarea, select":"updateModelProperty","change input[type=text], input:checkbox, textarea, select":"updateModelProperty"},n.prototype.events),updateModelProperty:function(e){var i={},n=t(e.target);"input"===n[0].tagName.toLowerCase()&&"text"===n.attr("type")||"select"===n[0].tagName.toLowerCase()&&"true"!==n.attr("multiple")||"textarea"===n[0].tagName.toLowerCase()?i[n.attr("name")]=t.trim(n.val()):"input"===n[0].tagName.toLowerCase()&&"checkbox"===n.attr("type")&&(i[n.attr("name")]=n.is(":checked")),this.beforeModelPropertySet&&this.beforeModelPropertySet(i),this.model.set(i),this.model.validate(i)},bindValidation:function(){s.bind(this,{valid:this.fieldIsValid,invalid:this.fieldIsInvalid,forceUpdate:!0,selector:"name"})},unbindValidation:function(){s.unbind(this)},fieldIsValid:function(e,t,i){var n=e.$("["+i+'="'+t+'"]').parent();n.removeClass("error"),n.find(".message.warning").text("")},fieldIsInvalid:function(e,t,i,n){var s=e.$("["+n+'="'+t+'"]').parent();s.addClass("error"),s.find(".message.warning").text(i.toString())},validField:function(e){var t=this.$(e).parent();t.removeClass("error"),t.find(".message.warning").text("")},invalidField:function(e,t){var i=this.$(e).parent();i.addClass("error"),i.find(".message.warning").text(t.toString())},clearValidationErrors:function(){this.$("label").removeClass("error"),this.$(".message.warning").text("")},remove:function(){this.unbindValidation(),n.prototype.remove.apply(this,arguments)}})}),define("text!scheduler/saveDialog/template/saveDialogTemplate.htm",[],function(){return'<label title="{{- i18n[\'report.scheduling.saveDialog.jobNameTitle\']}}" class="control input text ">\n	<span class="wrap">{{- i18n[\'report.scheduling.saveDialog.jobName\']}} ({{- i18n[\'required.field\']}}):</span>\n	<input type="text" value="{{- model.label }}" name="label">\n	<span class="message warning"></span>\n</label>\n\n<label title="{{- i18n[\'report.scheduling.saveDialog.descriptionTitle\']}}" class="control textArea">\n	<span class="wrap">{{- i18n[\'report.scheduling.saveDialog.description\']}}</span>\n	<textarea type="text" name="description">{{- model.description }}</textarea>\n	<span class="message warning"></span>\n</label>\n'}),define("scheduler/saveDialog/SaveDialogView",["require","underscore","bundle!all","bi/repo/model/RepositoryResourceModel","common/component/dialog/DialogWithModelInputValidation","text!scheduler/saveDialog/template/saveDialogTemplate.htm"],function(e){"use strict";var t=e("underscore"),i=e("bundle!all"),n=e("bi/repo/model/RepositoryResourceModel"),s=e("common/component/dialog/DialogWithModelInputValidation"),o=e("text!scheduler/saveDialog/template/saveDialogTemplate.htm"),r={};return s.extend({theDialogIsOpen:!1,saveDialogTemplate:o,constructor:function(e){e||(e={}),r=t.extend({},e);var n=this.extendModel(e.model),o=this._getLabelForSaveButton(n),a="report.scheduling.saveDialog.cancel";s.prototype.constructor.call(this,{skipLocation:!!r.skipLocation,modal:!0,model:n,minHeight:267,minWidth:440,resizable:!0,additionalCssClasses:"newResizeableDialog schedulerSaveDialog",title:i["report.scheduling.saveDialog.save"],content:t.template(this.saveDialogTemplate,{i18n:i,model:t.extend({},n.attributes),skipLocation:!!r.skipLocation,isEmbedded:r.isEmbedded,isEditMode:r.isEditMode}),buttons:[{label:i[o],action:"save",primary:!0},{label:i[a],action:"cancel",primary:!1}]}),this.on("button:save",t.bind(this._onSaveDialogSaveButtonClick,this)),this.on("button:cancel",t.bind(this._onSaveDialogCancelButtonClick,this))},initialize:function(){s.prototype.initialize.apply(this,arguments)},restoreModel:function(){this.originalModelValidation&&(this.model.validation=this.originalModelValidation)},extendModel:function(e){return this.originalModelValidation=e.validation,e.validation=t.extend({},n.prototype.validation,{name:null,parentFolderUri:null,label:[{required:!0,msg:i["report.scheduling.saveDialog.validation.not.empty.label"]},{maxLength:n.LABEL_MAX_LENGTH,msg:i["report.scheduling.saveDialog.validation.too.long.label"]}],description:[{required:!1},{maxLength:n.DESCRIPTION_MAX_LENGTH,msg:i["report.scheduling.saveDialog.validation.too.long.description"]}]}),e},startSaveDialog:function(){this._openDialog()},closeDialog:function(){this.restoreModel(),this._closeDialog()},_openDialog:function(){this.theDialogIsOpen||(this.bindValidation(),s.prototype.open.apply(this,arguments),this.$contentContainer.find("[name=label]").focus(),this.theDialogIsOpen=!0)},_closeDialog:function(){this.theDialogIsOpen&&(this.unbindValidation(),this.clearValidationErrors(),s.prototype.close.apply(this,arguments),this.theDialogIsOpen=!1)},_getLabelForSaveButton:function(){return"report.scheduling.saveDialog.save"},_onSaveDialogCancelButtonClick:function(){this.restoreModel(),this._closeDialog()},_onSaveDialogSaveButtonClick:function(){this.model.isValid(!0)&&this.performSave()},performSave:function(){var e=this;this.model.checkSaveValidation().done(function(){e.model.save({},{success:t.bind(e._saveSuccessCallback,e),error:t.bind(e._saveErrorCallback,e)})}).fail(function(){e.trigger("saveValidationFailed")})},_saveSuccessCallback:function(e,i){this._closeDialog(),t.isFunction(r.onSaveDone)&&r.onSaveDone()},_saveErrorCallback:function(e,n,s){var o=this,a=!1,l=!1;try{a=JSON.parse(n.responseText)}catch(c){}a.error&&(a=a.error),t.isArray(a)||(a=[a]),t.each(a,function(e){if("label"===e.field){var t="";"error.not.empty"===e.errorCode&&(t=i["error.not.empty.label"]),"version.not.match"===e.errorCode&&(t=i["report.scheduling.resource.exists"]),"mandatory.parameter.error"===e.errorCode&&(t=i["report.scheduling.saveDialog.parameterIsMissing"]),""!==t&&(o.invalidField("[name=label]",t),l=!0)}}),l===!1&&t.isFunction(r.onSaveFail)&&r.onSaveFail(e,n,s)}})}),define("text!scheduler/template/editor/scheduleTabTemplate.htm",[],function(){return'<div class="scheduleTab">\n	<div class="neverFire">\n		<input type="text" name="triggerWillNeverFire" class="hidden">\n\n		<div data-field="triggerWillNeverFire" class="warning message"></div>\n	</div>\n\n	<!-- *START, SCHEDULE START SECTION -->\n	<div id="scheduleStart" class="section">\n		<h4 class="title">\n			{{- i18n["report.scheduling.job.edit.schedulestart"] }}\n		</h4>\n		<!-- *START JOB GROUP -->\n		<fieldset id="jobCommon" class="group first">\n			<legend><span>\n				{{- i18n["report.scheduling.job.edit.startdate"] }}:\n			</span></legend>\n			<ul class="list inputSet">\n				<li class="leaf">\n					<div class="control radio">\n						<label for="startImmediately" class="wrap">\n							{{- i18n["report.scheduling.job.edit.trigger.start.immediately"] }}\n						</label>\n						<input id="startImmediately" name="startType" type="radio" value="1">\n					</div>\n				</li>\n				<li class="leaf last">\n					<div id="startDateLabel" class="control radio twoLine">\n						<label for="startDate" class="wrap">\n							{{- i18n["report.scheduling.job.edit.onspecificdate"] }}:\n						</label>\n						<input id="startDate" name="startType" type="radio" value="2">\n\n						<div id="startOn" class="control picker inline">\n							<input type="text" name="startDate" class="datepicker">\n\n							<div data-field="startDate" class="warning message"></div>\n						</div>\n					</div>\n				</li>\n			</ul>\n		</fieldset>\n		<!-- TIME ZONE GROUP -->\n		<fieldset id="timeZone" class="group">\n			<label class="control select inline twoLine">\n				<span class="wrap">\n					{{- i18n["report.scheduling.job.edit.trigger.label.timezone"] }}:\n				</span>\n				<select name="schedulerTimeZone">\n					{{\n						_.each(timeZones, function(zone) {\n						}}\n							<option value="{{- zone.value }}">\n								{{- zone.title }}\n							</option>\n						{{\n						});\n					}}\n				</select>\n			</label>\n		</fieldset>\n	</div>\n	<!-- *END, SCHEDULE START SECTION -->\n\n\n	<!-- *START, RECURRENCE SECTION -->\n	<div id="scheduleRecurrence" class="section">\n		<h4 class="title">\n			{{- i18n["report.scheduling.job.edit.trigger.recurrence"] }}:\n		</h4>\n\n		<!-- RECURRENCE TYPE GROUP -->\n		<fieldset id="recurrenceSelector" class="group first">\n			<label class="control select inline twoLine">\n				<span class="wrap">\n					{{- i18n["report.scheduling.job.edit.recurrencetype"] }}:\n				</span>\n				<select name="recurrenceType">\n					<option value="none">{{- i18n["report.scheduling.job.edit.recurrencetype.none"] }}</option>\n					<option value="simple">{{- i18n["report.scheduling.job.edit.recurrencetype.simple"] }}</option>\n					<option value="calendar">{{- i18n["report.scheduling.job.edit.recurrencetype.calendar"] }}</option>\n				</select>\n			</label>\n		</fieldset>\n\n		<!-- *START, simple recurrence repetition -->\n		<fieldset id="simpleRecurrenceInterval" data-recurrence="simple" class="group">\n			<label class="control select inline">\n				<span class="wrap">\n					{{- i18n["report.scheduling.job.edit.repeatevery"] }} ({{- i18n["required.field"] }}):\n				</span>\n\n				<div class="control inline">\n					<input name="recurrenceInterval" type="text">\n\n					<div data-field="recurrenceInterval" class="warning message"></div>\n				</div>\n			</label>\n			<select name="recurrenceIntervalUnit">\n				<option value="MINUTE">{{- i18n["job.interval.unit.minute.label"] }}</option>\n				<option value="HOUR">{{- i18n["job.interval.unit.hour.label"] }}</option>\n				<option value="DAY">{{- i18n["job.interval.unit.day.label"] }}</option>\n				<option value="WEEK">{{- i18n["job.interval.unit.week.label"] }}</option>\n			</select>\n		</fieldset>\n		<!-- *END, simple recurrence repetition -->\n	</div>\n\n	<!-- *START simple recurrence end date -->\n	<fieldset id="scheduleEndSimple" class="section" data-recurrence="simple">\n		<h4 class="title">\n			{{- i18n["report.scheduling.job.edit.scheduleend"] }}\n		</h4>\n		<fieldset data-recurrence="simple" class="group first">\n			<legend class="">\n				<span>\n					{{- i18n["report.scheduling.job.edit.enddate"] }}:\n				</span>\n			</legend>\n			<ul class="list inputSet">\n				<li class="leaf">\n					<div class="control radio twoLine">\n						<label for="fixedRepeat" class="wrap">\n							{{- i18n["report.scheduling.job.edit.runasetnumberoftimes"] }}\n						</label>\n						<span class="wrap">\n							{{- i18n["report.scheduling.job.edit.numberofruns"] }}:\n						</span>\n						<input id="fixedRepeat" type="radio" name="endat" value="numberOfTimes">\n		                    <span class="control inline twoLine">\n		                        <input type="text" id="maxOccurrences" name="occurrenceCount">\n		                        <div data-field="occurrenceCount" class="warning message"></div>\n		                    </span>\n					</div>\n				</li>\n				<li class="leaf">\n					<div id="calendarRepeatSet" class="control radio twoLine">\n						<label for="calendarRepeat" class="wrap">\n							{{- i18n["report.scheduling.job.edit.rununtilaspecifieddate"] }}:\n						</label>\n						<input id="calendarRepeat" type="radio" name="endat" value="specificDate">\n		                    <span id="repeatEndDate" class="control picker inline twoline">\n		                        <input type="text" class="datepicker" name="simpleEndDate">\n		                        <div data-field="simpleEndDate" class="warning message"></div>\n		                    </span>\n					</div>\n				</li>\n				<li class="leaf last">\n					<div class="control radio">\n						<label for="indefiniteRepeat" class="wrap">\n							{{- i18n["report.scheduling.job.edit.runindefinitely"] }}\n						</label>\n						<input id="indefiniteRepeat" type="radio" name="endat" value="indefinitely">\n					</div>\n				</li>\n			</ul>\n		</fieldset>\n	</fieldset>\n	<!-- *END simple recurrence end date -->\n	<!-- *END, SIMPLE RECURRENCE -->\n\n\n	<!-- *START, CALENDAR RECURRENCE -->\n	<!-- *START calendar recurrence repetition -->\n	<div class="section">\n		<fieldset id="calendarRecurrence" data-recurrence="calendar" class="group first">\n			<ul class="list">\n				<li id="months" class="node">\n					<fieldset class="group">\n						<legend>\n							<span>\n								{{- i18n["report.scheduling.job.edit.trigger.label.months"] }}:\n							</span>\n						</legend>\n						<ul class="list inputSet">\n							<li class="leaf">\n								<div title="Select to recur every month" class="control radio">\n									<label for="everyMonth_radio" class="wrap">\n										{{- i18n["report.scheduling.job.edit.trigger.label.months.all"] }}\n									</label>\n									<input type="radio" name="whichMonth" id="everyMonth_radio" value="everyMonth">\n								</div>\n							</li>\n							<li class="leaf">\n								<div id="selectedMonths" class="control radio twoLine">\n									<label for="selectedMonths_radio" class="wrap">\n										{{- i18n["report.scheduling.job.edit.trigger.label.months.selected"] }}:\n									</label>\n									<input id="selectedMonths_radio" type="radio" name="whichMonth" value="selectedMonths" />\n	                                <span class="control select multiple">\n	                                    <select name="monthSelector" size="12" class="monthSelector" multiple="multiple">\n		                                    <option value="1">{{- i18n["monts.label.jan"] }}</option>\n		                                    <option value="2">{{- i18n["monts.label.feb"] }}</option>\n		                                    <option value="3">{{- i18n["monts.label.mar"] }}</option>\n		                                    <option value="4">{{- i18n["monts.label.apr"] }}</option>\n		                                    <option value="5">{{- i18n["monts.label.may"] }}</option>\n		                                    <option value="6">{{- i18n["monts.label.jun"] }}</option>\n		                                    <option value="7">{{- i18n["monts.label.jul"] }}</option>\n		                                    <option value="8">{{- i18n["monts.label.aug"] }}</option>\n		                                    <option value="9">{{- i18n["monts.label.sep"] }}</option>\n		                                    <option value="10">{{- i18n["monts.label.oct"] }}</option>\n		                                    <option value="11">{{- i18n["monts.label.nov"] }}</option>\n		                                    <option value="12">{{- i18n["monts.label.dec"] }}</option>\n	                                    </select>\n	                                    <div data-field="monthSelector" class="warning message"></div>\n	                                </span>\n								</div>\n							</li>\n						</ul>\n					</fieldset>\n				</li>\n\n				<li id="days" class="node">\n					<fieldset class="group">\n						<legend>\n							<span>\n								{{- i18n["report.scheduling.job.edit.trigger.label.days"] }}:\n							</span>\n						</legend>\n						<ul class="list inputSet">\n							<li class="leaf">\n								<div class="control radio">\n									<label for="everyDay_radio" class="wrap">\n										{{- i18n["report.scheduling.job.edit.trigger.label.days.all"] }}\n									</label>\n									<input id="everyDay_radio" type="radio" name="whichDay" value="everyDay">\n								</div>\n							</li>\n							<li class="leaf">\n								<div id="weekDays" class="control radio twoLine">\n									<label for="weekDays_radio" class="wrap">\n										{{- i18n["report.scheduling.job.edit.selecteddays"] }}:\n									</label>\n									<input id="weekDays_radio" type="radio" name="whichDay" value="selectedDays" />\n	                                <span class="control select multiple">\n	                                    <select name="daySelector" size="7" class="daySelector" multiple="multiple">\n		                                    <option value="1">{{- i18n["week.days.label.sun"] }}</option>\n		                                    <option value="2">{{- i18n["week.days.label.mon"] }}</option>\n		                                    <option value="3">{{- i18n["week.days.label.tue"] }}</option>\n		                                    <option value="4">{{- i18n["week.days.label.wed"] }}</option>\n		                                    <option value="5">{{- i18n["week.days.label.thu"] }}</option>\n		                                    <option value="6">{{- i18n["week.days.label.fri"] }}</option>\n		                                    <option value="7">{{- i18n["week.days.label.sat"] }}</option>\n	                                    </select>\n	                                    <div data-field="daySelector" class="warning message"></div>\n	                                </span>\n								</div>\n							</li>\n							<li class="leaf">\n								<div id="monthDays" class="control radio twoLine">\n									<label for="monthDays_radio" class="wrap">\n										{{- i18n["report.scheduling.job.edit.datesinmonth"] }}:\n									</label>\n									<input id="monthDays_radio" type="radio" name="whichDay" value="datesInMonth">\n\n									<div class="control input inline text">\n										<input id="theMonthDays" name="datesInMonth" type="text" />\n										<p class="message hint">\n											{{- i18n["report.scheduling.job.edit.enterdatesordateranges"] }}\n										</p>\n										<div data-field="datesInMonth" class="warning message"></div>\n									</div>\n								</div>\n							</li>\n						</ul>\n					</fieldset>\n				</li>\n\n				<li id="repeatTimes" class="node">\n					<fieldset class="group">\n						<legend>\n							<span>\n								{{- i18n["report.scheduling.job.edit.trigger.recurrence.times"] }}:\n							</span>\n						</legend>\n						<ul class="list inputSet">\n							<li class="leaf">\n								<div class="control text twoLine">\n									<label class="control input text">\n										<span class="wrap">\n											{{- i18n["report.scheduling.job.edit.trigger.label.hours"] }} ({{- i18n["required.field"] }}):\n										</span>\n										<input type="text" name="hours">\n\n										<p class="message hint">\n											{{- i18n["report.scheduling.job.edit.trigger.label.hours.tip"] }}\n										</p>\n\n										<div data-field="hours" class="warning message"></div>\n									</label>\n								</div>\n							</li>\n							<li class="leaf">\n								<div class="control text twoLine">\n									<label class="control input text">\n										<span class="wrap">\n											{{- i18n["report.scheduling.job.edit.trigger.label.minutes"] }} ({{- i18n["required.field"] }}):\n										</span>\n										<input type="text" name="minutes">\n\n										<p class="message hint">\n											{{- i18n["report.scheduling.job.edit.trigger.label.minutes.tip"] }}\n										</p>\n\n										<div data-field="minutes" class="warning message"></div>\n									</label>\n								</div>\n							</li>\n						</ul>\n					</fieldset>\n				</li>\n			</ul>\n		</fieldset>\n	</div>\n	<!-- *END calendar recurrence repetition -->\n	<!-- *END, CALENDAR RECURRENCE -->\n\n	<!-- *START calendar recurrence end date -->\n	<fieldset id="calendarEnd" class="section" data-recurrence="calendar">\n		<h4 class="title">\n			{{- i18n["report.scheduling.job.edit.scheduleend"] }}\n		</h4>\n		<fieldset id="calendarEnd" class="group first">\n			<label class="control twoLine">\n				<span class="wrap">\n					{{- i18n["report.scheduling.job.edit.enddate"] }}:\n				</span>\n			        <span class="control picker">\n			            <input id="trigger_endDate_calendar" name="calendarEndDate" type="text" class="datepicker">\n			            <div data-field="calendarEndDate" class="warning message"></div>\n			        </span>\n			</label>\n		</fieldset>\n	</fieldset>\n	<!-- *END calendar recurrence end date -->\n\n	<!-- *START holidays -->\n	<div class="section" name="calendarBlockHolder">\n	</div>\n	<!-- *END holidays -->\n</div>\n'}),define("text!scheduler/template/editor/holidayCalendarTemplate.htm",[],function(){return'<div class="section calendarBlock">\n	<div id="holidayCalendar" class="section holidayCalendar">\n		<h4 class="title">\n			{{- i18n["report.scheduling.job.edit.holidays"] }}\n		</h4>\n		<fieldset class="group first">\n			<label class="control twoLine">\n						<span class="wrap">\n							{{- i18n["report.scheduling.job.edit.calendar.ofdates.toexclude"] }}:\n						</span>\n				<select name="calendarSelect"></select>\n			</label>\n		</fieldset>\n	</div>\n</div>\n'}),define("scheduler/view/editor/holidayCalView",["require","jquery","underscore","bundle!all","backbone","text!scheduler/template/editor/holidayCalendarTemplate.htm"],function(e){"use strict";var t=e("jquery"),i=e("underscore"),n=e("bundle!all"),s=e("backbone"),o=e("text!scheduler/template/editor/holidayCalendarTemplate.htm");return s.View.extend({initialize:function(){this.collection.on("reset",this.onReset,this)},onReset:function(){this.$el.empty().append(t(i.template(o,{i18n:n})));var e=this.$el.find(".calendarBlock"),s=this.$el.find("[name=calendarSelect]");return e.removeClass("disabled").find("select").attr("disabled",!1),s.empty(""),0===this.collection.size()?(s.append(t("<option>").attr("value","").text(n["report.scheduling.job.edit.trigger.calendars.nocalendars"])),void e.addClass("disabled").find("select").attr("disabled","disabled")):(s.append(t("<option>").attr("value","").text(n["label.none"])),void this.collection.forEach(function(e){s.append(t("<option>").attr("value",e.id).text(e.id))},this))}})}),define("scheduler/model/holidayCal",["require","backbone","jrs.configs"],function(e){"use strict";var t=e("backbone"),i=e("jrs.configs");return t.Model.extend({urlRoot:i.contextPath+"/rest_v2/jobs/calendars"})}),define("scheduler/collection/holidayCalsCollection",["require","jquery","backbone","jrs.configs","scheduler/model/holidayCal"],function(e){"use strict";var t=e("jquery"),i=e("backbone"),n=e("jrs.configs"),s=e("scheduler/model/holidayCal");return i.Collection.extend({url:n.contextPath+"/rest_v2/jobs/calendars",model:s,parse:function(e){var i=[];return e&&e.calendarName&&t.each(e.calendarName,function(e,t){i.push({id:t})}),i}})}),define("scheduler/view/editor/scheduleTabView",["require","jquery","underscore","bundle!all","jrs.configs","backbone","text!scheduler/template/editor/scheduleTabTemplate.htm","scheduler/view/editor/holidayCalView","scheduler/collection/holidayCalsCollection","config/datepickerSettings","config/timepickerSettings"],function(e){"use strict";var t=e("jquery"),i=e("underscore"),n=e("bundle!all"),s=e("jrs.configs"),o=e("backbone"),r=e("text!scheduler/template/editor/scheduleTabTemplate.htm"),a=e("scheduler/view/editor/holidayCalView"),l=e("scheduler/collection/holidayCalsCollection");e("config/datepickerSettings"),e("config/timepickerSettings");var c=s.calendar.timepicker.dateFormat,u=s.calendar.timepicker.timeFormat.replace(":ss","");return o.View.extend({events:{"change [name=startType]":"setStartType","change [name=startDate]":"setStartDate","change [name=schedulerTimeZone]":"setTimeZone","change [name=recurrenceType]":"setRecurrenceType","change [name=recurrenceInterval]":"setRecurrenceInterval","change [name=recurrenceIntervalUnit]":"setRecurrenceIntervalUnit","change [name=endat]":"setEnDat","change [name=occurrenceCount]":"setOccurrenceCount","change [name=simpleEndDate]":"setEndDate","change [name=calendarEndDate]":"setEndDate","change [name=whichMonth]":"monthRadioSelector","change [name=monthSelector]":"setMonthSelector","change [name=whichDay]":"dayRadioSelector","change [name=daySelector]":"setDaySelector","change [name=datesInMonth]":"setDatesInMonth","change [name=hours]":"setHours","change [name=minutes]":"setMinutes","change [name=calendarSelect]":"setCalendar"},initialize:function(){this.calCollection=new l,this.calView=new a({collection:this.calCollection}),this.calCollection.fetch({reset:!0,data:{calendarType:"holiday"}}),this.listenTo(this.model,"change:trigger",this.triggerChanged)},render:function(){this.setElement(t(i.template(r,{_:i,i18n:n,timeZones:s.timeZones}))),this.$el.find("[name=calendarBlockHolder]").append(this.calView.$el),this.setupDatepickersOn()},setupDatepickersOn:function(){this.$el.find(".datepicker").each(function(e,i){t(i).datetimepicker({dateFormat:c,timeFormat:u,showOn:"button",buttonText:"",changeYear:!0,changeMonth:!0,showButtonPanel:!0,showSecond:!1,onChangeMonthYear:null,beforeShow:t.datepicker.movePickerRelativelyToTriggerIcon}).next().addClass("button").addClass("picker"),t(i)[0].getValue=function(){return t(this).val()}})},triggerChanged:function(){var e=this.model.get("trigger");this.$el.find("[name=startType]").filter("[value="+e.startType+"]").prop("checked",!0),this.$el.find("[name=startDate]").val(e.startDate),this.$el.find("[name=schedulerTimeZone]").val(e.timezone),this.$el.find("[name=recurrenceType]").val(e.type),this.$el.find("fieldset[data-recurrence]").addClass("hidden"),this.$el.find('fieldset[data-recurrence="'+e.type+'"]').removeClass("hidden"),"none"===e.type&&this.$el.find("[name=calendarBlockHolder]").addClass("hidden"),"simple"===e.type&&(this.$el.find("[name=recurrenceInterval]").val(e.recurrenceInterval),this.$el.find("[name=recurrenceIntervalUnit]").val(e.recurrenceIntervalUnit),this.$el.find("[name=endat]").filter("[value="+e.radioEndDate+"]").prop("checked",!0),this.$el.find("[name=occurrenceCount]").val(e.occurrenceCount),this.$el.find("[name=simpleEndDate]").val(e.endDate),this.$el.find("[name=calendarBlockHolder]").removeClass("hidden"),this.$el.find("[name=calendarSelect]").val(e.calendarName)),"calendar"===e.type&&(this.$el.find("[name=whichMonth]").filter("[value="+e.radioWhichMonth+"]").prop("checked",!0),this.$el.find("[name=monthSelector]").val(e.months.month),this.$el.find("[name=whichDay]").filter("[value="+e.radioWhichDay+"]").prop("checked",!0),this.$el.find("[name=daySelector]").val(e.weekDays.day),this.$el.find("[name=datesInMonth]").val(e.monthDays),this.$el.find("[name=hours]").val(e.hours),this.$el.find("[name=minutes]").val(e.minutes),this.$el.find("[name=calendarEndDate]").val(e.endDate),this.$el.find("[name=calendarBlockHolder]").removeClass("hidden"),this.$el.find("[name=calendarSelect]").val(e.calendarName))},setStartType:function(e){this.model.update("trigger",{startType:t(e.target).val()})},setStartDate:function(e){this.model.update("trigger",{startType:"2",startDate:t(e.target).val()})},setTimeZone:function(e){this.model.update("trigger",{timezone:t(e.target).val()})},setRecurrenceType:function(e){this.model.update("trigger",{type:t(e.target).val()})},setRecurrenceInterval:function(e){this.model.update("trigger",{recurrenceInterval:t(e.target).val()})},setRecurrenceIntervalUnit:function(e){this.model.update("trigger",{recurrenceIntervalUnit:t(e.target).val()})},setEnDat:function(e){this.model.update("trigger",{radioEndDate:t(e.target).val()})},setOccurrenceCount:function(e){this.model.update("trigger",{occurrenceCount:t(e.target).val()})},setEndDate:function(e){this.model.update("trigger",{endDate:t(e.target).val()})},monthRadioSelector:function(e){this.model.update("trigger",{radioWhichMonth:t(e.target).val()})},setMonthSelector:function(e){for(var i=t(e.target).val()||[],n=0,s=i.length;s>n;n++)i[n]=parseInt(i[n]);this.model.update("trigger",{months:{month:i}})},dayRadioSelector:function(e){this.model.update("trigger",{radioWhichDay:t(e.target).val()})},setDaySelector:function(e){for(var i=t(e.target).val()||[],n=0,s=i.length;s>n;n++)i[n]=parseInt(i[n]);this.model.update("trigger",{weekDays:{day:i}})},setDatesInMonth:function(e){this.model.update("trigger",{monthDays:t(e.target).val()})},setHours:function(e){this.model.update("trigger",{hours:t(e.target).val()})},setMinutes:function(e){this.model.update("trigger",{minutes:t(e.target).val()})},setCalendar:function(e){this.model.update("trigger",{calendarName:t(e.target).val()})}})});var ControlsBase={INPUT_CONTROLS_FORM:"inputControlsForm",INPUT_CONTROLS_CONTAINER:"inputControlsContainer",INPUT_CONTROLS_DIALOG:"inputControls",SAVE_REPORT_OPTIONS_DIALOG:"saveValues",REPORT_OPTIONS_SELECTOR:"savedValues",TOOLBAR_CONTROLS_BUTTON:"ICDialog",DEFAULT_OPTION_TEXT:"Options",NULL_SUBSTITUTION_VALUE:null,NULL_SUBSTITUTION_LABEL:null,NOTHING_SUBSTITUTION_VALUE:null,_BUTTON_OK:"ok",_BUTTON_SAVE:"save",_BUTTON_REMOVE:"remove",_BUTTON_APPLY:"apply",_BUTTON_CANCEL:"cancel",TEMP_REPORT_CONTAINER:"tempReportContainer",WRAPPER_ERROR_FLAG_PREFIX_SELECTOR:"div[id^=error_]",WRAPPERS_ERRORS_DIV:"wrappersErrors",EVAL_SCRIPT_ELEMENT_NAME:"_evalScript",CALENDAR_ICON_SPAN:'<span class="button picker calTriggerWrapper" />',_messages:{},getMessage:function(e,t){var i=this._messages[e];return i?new Template(i).evaluate(t?t:{}):""},setControlError:function(e,t){e&&(e=$(e),t?(e.up().addClassName(layoutModule.ERROR_CLASS),e.nextSiblings()[0].update(t)):(e.up().removeClassName(layoutModule.ERROR_CLASS),e.nextSiblings()[0].update("")))},setControlsErrors:function(e){var t=$$(ControlsBase.WRAPPER_ERROR_FLAG_PREFIX_SELECTOR),i=0,n=-1;t.each(function(t){var s=!1;e&&e.each(function(e){if(t.id.indexOf(e[0])>-1)throw ControlsBase.setControlError(t,e[1]),0>n&&(jQuery("#inputControlsForm .leaf").each(function(e,t){i>e&&(n+=t.clientHeight)}),jQuery(".groupBox .content .body")[0].scrollTop=n),s=!0,$break;i++}),s||ControlsBase.setControlError(t,"")})},buildParams:function(e){var t="";if(_.isObject(e)&&!_.isEmpty(e)){var i=function(e){return e.length>0&&"&"!=e[e.length-1]&&(e+="&"),e};_.each(e,function(e,n){t=i(t),_.isArray(e)?_.each(e,function(e){t=i(t),t+=n+"="+encodeURIComponent(e)}):t+=n+"="+encodeURIComponent(e)})}return t},buildSelectedDataUri:function(e,t){var i=ControlsBase.buildParams(e);if(_.isObject(t)&&!_.isEmpty(t)){var n=ControlsBase.buildParams(t);return i+"&"+n}return i}},ControlDialog=function(e){var t=this;this._dom=$(ControlsBase.INPUT_CONTROLS_DIALOG),this.buttonActions=e,jQuery("#"+ControlsBase.INPUT_CONTROLS_DIALOG).on("mouseup touchend","button",function(e){if(this.id&&!this.id.empty()){var i=t.buttonActions["button#"+this.id];i&&i()}})};ControlDialog.addMethod("_dialogClickHandler",function(e){var t=e.element();for(var i in this.buttonActions)if(matchAny(t,[i],!0))return this.buttonActions[i](),
void e.stop()}),ControlDialog.addMethod("show",function(){dialogs.popup.show(this._dom)}),ControlDialog.addMethod("hide",function(){dialogs.popup.hide(this._dom)});var OptionsDialog=function(e){this._dom=$(ControlsBase.SAVE_REPORT_OPTIONS_DIALOG),this.input=this._dom.select("input#savedValuesName")[0],this.overwrite=!1,this.buttonActions=e,this._dialogClickHandler=this._dialogClickHandler.bindAsEventListener(this),this._dom.observe("click",this._dialogClickHandler)};OptionsDialog.addMethod("remove",function(){this._dom.stopObserving("click",this._dialogClickHandler)}),OptionsDialog.addMethod("_dialogClickHandler",function(e){var t=e.element();for(var i in this.buttonActions)if(matchAny(t,[i],!0))return this.buttonActions[i](),void e.stop()}),OptionsDialog.addMethod("show",function(){this.input.setValue(ControlsBase.DEFAULT_OPTION_TEXT),dialogs.popup.show(this._dom)}),OptionsDialog.addMethod("hide",function(){dialogs.popup.hide(this._dom),this.hideWarning()}),OptionsDialog.addMethod("showWarning",function(e){var t=jQuery("#"+ControlsBase.SAVE_REPORT_OPTIONS_DIALOG).find(".warning");e&&t.text(e),t.show()}),OptionsDialog.addMethod("hideWarning",function(){var e=jQuery("#"+ControlsBase.SAVE_REPORT_OPTIONS_DIALOG).find(".warning");e.text(""),e.hide()}),define("controls.base",["jquery","underscore","utils.common"],function(e){return function(){var t;return t||e.ControlsBase}}(this)),JRS.Log=function(e){window.console||(window.console={log:function(){},debug:function(){},error:function(){}})}(),define("controls.logging",["namespace"],function(e){return function(){var t;return t||e.JRS}}(this)),JRS.Controls=function(e,t,i,n){var s=navigator.userAgent.toLowerCase().indexOf("msie")>-1;return{Base:t.extend(function(){},{extend:function(e,i){var n,s=this;n=e&&t.has(e,"constructor")?e.constructor:function(){return s.apply(this,arguments)},t.extend(n,s,i);var o=function(){this.constructor=n};return o.prototype=s.prototype,n.prototype=new o,e&&t.extend(n.prototype,e),n.__super__=s.prototype,n}}),TemplateEngine:{render:function(e,n,s){if(!s)return i.to_html(e,n);if(s==this.STD_PLACEHOLDERS){var o=String(e);return t.each(n,function(e,t){var i=new RegExp("\\{"+t+"\\}");o=o.replace(i,e)}),o}},renderUrl:function(e,t,n){var o=i.to_html(e,t);return s&&!n&&(o=encodeURI(o)),o},getTemplateText:function(t){var i=e("#"+t);return i.html()},createTemplate:function(t){var n=e("#"+t),s=n.html();return s&&s.length>0?function(e){return i.to_html(s,e)}:void 0},createTemplateSection:function(e,t){var n="\\{\\{#val\\}\\}(\\s|\\S)*\\{\\{/val\\}\\}",s=n.replace(/val/g,e),o=new RegExp(s,"g"),r=this.getTemplateText(t),a=r.match(o)[0];return function(e){return i.to_html(a,e)}},STD_PLACEHOLDERS:"std_placeholder"},Utils:{LOADING_DIALOG_DELAY:800,isElementInDom:function(e){var t=e.nextSibling,i=e.parentNode&&11!==e.parentNode.nodeType;return t||i},setInnerHtml:function(e,i,n){var o,r,a;if(this.isElementInDom(e)&&(o=e.nextSibling,r=e.parentNode,a=e.style.display,e.style.display="none",r.removeChild(e)),e.innerHTML="",s&&"SELECT"==e.tagName){var l=document.createDocumentFragment();t.each(n.data,function(e){var i=document.createElement("OPTION");i.value=t.isUndefined(e.value)?e.id:e.value,i.innerHTML=e.label,e.selected&&i.setAttribute("selected","selected"),l.appendChild(i)}),e.appendChild(l)}else e.innerHTML=i(n);if(o?r.insertBefore(e,o):r.appendChild(e),e.style.display=a,s&&"SELECT"==e.tagName){var c=e.getAttribute("style");e.removeAttribute("style"),e.setAttribute("style",c)}},wait:function(t){return e.Deferred(function(e){setTimeout(e.resolve,t)})},showLoadingDialogOn:function(i,s,o){this.wait(s?s:this.LOADING_DIALOG_DELAY).then(t.bind(function(){"pending"==i.state()&&(n.popup.show($(ajax.LOADING_ID),o,{focus:!1}),e.when(i).always(t.bind(function(){this.wait(500).then(function(){window.viewer&&window.viewer.loading?window.viewer.loaded&&n.popup.hide($(ajax.LOADING_ID)):n.popup.hide($(ajax.LOADING_ID))})},this)))},this))},createTimer:function(t){var i=new e.Deferred;return i.done(function(e){var i=(new Date).getTime(),n=i-e;console.log(t+" took time: "+n+" msec.")}),{start:function(){return this.startTime=(new Date).getTime(),this},stop:function(){return i.resolve(this.startTime),this}}}},listen:function(i,n){t.each(i,function(i,n){e(document).bind(n,t.bind(i,this))},n?n:this)},ignore:function(t,i){e(document).unbind(t,i)}}}(jQuery,_,Mustache,dialogs),define("controls.core",["jquery","underscore","mustache","components.dialogs","namespace","controls.logging"],function(e){return function(){var t;return t||e.JRS.Controls}}(this)),function(e,t,i){var n=i.Base.extend({structureFormater:function(e){if(!e)return e;var i=t.map(e.inputControl,function(e){return e.readOnly="true"==String(e.readOnly),e.uri=e.uri.replace("repo:",""),e}),n=t.map(i,function(e){return e.state});return n=t.compact(n),t.each(i,function(e){delete e.state}),t.extend({structure:i},this.convertResponseToControlsState(n))},convertResponseToControlsState:function(e){var i={},n=e.inputControlState?e.inputControlState:e,s=function(e){var t={value:e.value,label:e.label};return"true"==String(e.selected)&&(t.selected=!0),t},o=function(e){var i;return i=t.isArray(e)?t.map(e,s):[]},r=function(e){return t.isUndefined(e.value)||t.isNull(e.value)?o(e.options):e.value};return t.each(n,function(e){e&&e.uri&&(i[e.id]={error:t.isUndefined(e.error)?null:e.error,values:r(e)})}),{state:i}}});return e.DataConverter=n,e}(JRS.Controls,_,JRS.Controls),define("controls.dataconverter",["underscore","controls.core"],function(e){return function(){var t;return t||e.JRS.Controls}}(this)),JRS.Controls=function(e,t,i,n){function s(e){var s;try{try{s=t.parseJSON(e.responseText)}catch(o){}if(s&&s.error)i.each(s.error,function(e){var t=n.getViewModel(),i=e.inputControlUri.replace("repo:",""),s=t.find({uri:i});e.errorCode?s.set({error:e.errorCode}):e.defaultMessage&&s.set({error:e.defaultMessage})});else if(e.getResponseHeader("LoginRequested")||401===e.status)document.location=__jrsConfigs__.urlContext;else if(500==e.status||e.getResponseHeader("JasperServerError")&&!e.getResponseHeader("SuppressError")){var r="";r=s?Mustache.to_html("<div><b>{{message}}</b></div><p>{{#parameters}}<div>{{.}}</div>{{/parameters}}</p>",s):statusText,dialogs.errorPopup.show(r)}}catch(o){}}return i.extend(n,{DataTransfer:n.Base.extend({CONTROLS_STRUCTURE_TEMPLATE_URI:__jrsConfigs__.contextPath+"/rest_v2/reports{{reportUri}}/inputControls/{{controlIds}}",INITIAL_CONTROLS_VALUES_TEMPLATE_URL:__jrsConfigs__.contextPath+"/rest_v2/reports{{reportUri}}/inputControls/values",CONTROLS_VALUES_TEMPLATE_URL:__jrsConfigs__.contextPath+"/rest_v2/reports{{reportUri}}/inputControls/{{controlIds}}/values",constructor:function(e){this.dataConverter=e.dataConverter,this.initialize(e)},initialize:function(e){},setReportUri:function(e){this.currentReportUri=e},buildUrl:function(e,t,s){return t=i.isArray(t)?t.join(";"):t||"",n.TemplateEngine.renderUrl(s,{reportUri:e,controlIds:t})},sendRequest:function(n,o,r){var a={url:n,type:"GET",dataType:"json",cache:!1};i.isEmpty(o)||i.extend(a,{type:"POST",processData:!1,data:e.stringify(o),contentType:"application/json"});var l=i.defaults(r||{},a);return l.headers||(l.headers={}),i.defaults(l.headers,{"X-Suppress-Basic":"true","Accept-Language":__jrsConfigs__.userLocale.replace(/_/g,"-")}),t.ajax(l).fail(s)},fetchControlsStructure:function(e,t){var s=this.buildUrl(this.currentReportUri,e,this.CONTROLS_STRUCTURE_TEMPLATE_URI),o=this.sendRequest(s,t).then(i.bind(this.dataConverter.structureFormater,this.dataConverter));return n.Utils.showLoadingDialogOn(o),o},updateControlsStructure:function(e,t){var n=this.buildUrl(t||this.currentReportUri,null,this.CONTROLS_STRUCTURE_TEMPLATE_URI);return this.sendRequest(n,e,{type:"PUT"}).then(i.bind(this.dataConverter.structureFormater,this.dataConverter))},fetchInitialControlValues:function(e,t){var i=this.buildUrl(e,null,this.INITIAL_CONTROLS_VALUES_TEMPLATE_URL),s=this.sendRequest(i,t).then(this.dataConverter.convertResponseToControlsState);return n.Utils.showLoadingDialogOn(s),s},fetchControlsUpdatedValues:function(e,s){var o=this.buildUrl(this.currentReportUri,e,this.CONTROLS_VALUES_TEMPLATE_URL),r=this.dataConverter;this.fullUpdateDeferred&&"pending"==this.fullUpdateDeferred.state()&&this.fullUpdateDeferred.reject();var a=new t.Deferred,l=n.Utils.wait(n.DataTransfer.FREQUENT_CHANGES_MIN_DELAY);return l.done(i.bind(function(){this.sendRequest(o,s).then(r.convertResponseToControlsState).done(function(e){"pending"==a.state()&&a.resolve(e)}).fail(function(){a.reject(this,arguments)})},this)),a.fail(function(){l.reject()}),n.Utils.showLoadingDialogOn(a),this.fullUpdateDeferred=a,a}},{CONTROLS_STRUCTURE_TEMPLATE_URI:__jrsConfigs__.contextPath+"/rest_v2/reports{{reportUri}}/inputControls/{{controlIds}}",INITIAL_CONTROLS_VALUES_TEMPLATE_URL:__jrsConfigs__.contextPath+"/rest_v2/reports{{reportUri}}/inputControls/values",CONTROLS_VALUES_TEMPLATE_URL:__jrsConfigs__.contextPath+"/rest_v2/reports{{reportUri}}/inputControls/{{controlIds}}/values",FREQUENT_CHANGES_MIN_DELAY:400})})}(JSON,jQuery,_,JRS.Controls),define("controls.datatransfer",["json3","jquery","controls.core","backbone","controls.dataconverter"],function(e){return function(){var t;return t||e.JRS.Controls}}(this)),JRS.Controls=function(e,t,i){function n(e){if(t.isArray(e)){var i=t.filter(e,function(e){return e.selected});return t.map(i,function(e){return e.id||""===e.id?e:e.value})}return e}return t.extend(i,{BaseControl:i.Base.extend({id:null,elem:null,error:null,templateChunks:{},constructor:function(e){this.initialize.apply(this,arguments)},getElem:function(){return this.elem},setElem:function(e){this.elem=e},bindCustomEventListeners:function(){},isSingleSelect:function(){return!t.isArray(this.get("selection"))},isSingleValue:function(){return!t.isArray(this.get("values"))},getTemplateSection:function(e){return this.templateChunks[this.type+"_"+e]||(this.templateChunks[this.type+"_"+e]=i.TemplateEngine.createTemplateSection(e,this.type)),this.templateChunks[this.type+"_"+e]},initialize:function(e){this.baseRender(e),this.isVisible(e)&&this.bindCustomEventListeners()},fireControlSelectionChangeEvent:function(t){e(document).trigger(i.CHANGE_CONTROL,this,t)},baseRender:function(n){n&&t.extend(this,n);var s=i.TemplateEngine.createTemplate(this.type);if(s){var o=e(s(this));this.setElem(o)}},update:function(e){},get:function(e){return this[e]},isValid:function(){return null===this.error||this.error&&this.error instanceof String&&0===this.error.length},isVisible:function(e){return!e||void 0===e.visible||e.visible===!0},updateWarningMessage:function(){var e=null!=this.error?this.error:"";this.getElem()&&this.getElem().find(".warning").text(e)},refresh:function(){var e=this.get("values"),t=this.get("selection");e=this.isSingleValue()?t:i.BaseControl.merge(e,t),this.values=e,this.initialize(this),this.isVisible(this)&&this.update(e)},set:function(e,i){if(t.extend(this,e),void 0!==e.values&&(this.isVisible(this)&&this.update(e.values),this.isSingleValue()?this.selection=e.values:this.isSingleSelect()?this.selection=n(e.values)[0]:this.selection=n(e.values)),void 0!==e.selection&&(this.isSingleValue()&&(this.values=e.selection),!i&&this.fireControlSelectionChangeEvent()),void 0!==e.disabled&&!this.get("readOnly")){var s=e.disabled;i||(s?this.disable():this.enable())}void 0!==e.error&&this.updateWarningMessage()},find:function(e){if(void 0!==e&&e&&"object"==typeof e){var i=t.keys(e)[0],n=t.values(e)[0];return t.find(this.get("values"),function(e){return e[i]===n})}},enable:function(){this.getElem().find("input").prop("disabled",!1),this.getElem().find("select").prop("disabled",!1)},disable:function(){this.getElem().find("input").prop("disabled",!0),this.getElem().find("select").prop("disabled",!0)}},{merge:function(e,i){return t.isNull(e)||t.isUndefined(e)?i:t.isNull(i)||t.isUndefined(i)?e:t.isArray(i)?t.map(e,function(e){var n=t.find(i,function(t){return t===e.value});return void 0!==n?e.selected=!0:delete e.selected,e}):this.merge(e,[i])}}),CHANGE_CONTROL:"changed:control"})}(jQuery,_,JRS.Controls),define("controls.basecontrol",["jquery","underscore","controls.core"],function(e){return function(){var t;return t||e.JRS.Controls}}(this)),JRS.Controls=function(e,t,i){var n=i.Base.extend({constructor:function(e){this.containerSelector=e&&e.containerSelector||i.ViewModel.DEFAULT_CONTAINER,this.controls={},i.getViewModel=t.bind(function(){return this},this),t.bindAll(this),this.registerEvents()},registerEvents:function(){i.ignore("changed:control",this.onControlChange),i.listen({"changed:control":this.onControlChange})},onControlChange:function(n,s){var o,r,a=s.slaveDependencies&&s.slaveDependencies.length;if(a){r=this._getAllSlaveControlIds(s.id);var l=this._getParentControlIds(r),c=t.union(r,l);o=this.get("selection"),t.isEmpty(c)||t.each(o,function(e,i){-1===t.indexOf(c,i)&&delete o[i]})}else o=this.get("selection");e(document).trigger(i.ViewModel.CHANGE_SELECTION,[o,r,a]),a||e(document).trigger(i.ViewModel.CHANGE_VALUES,[this.state])},_getAllSlaveControlIds:function(e){var i=[],n=this.findControl({id:e});return n&&!t.isEmpty(n.slaveDependencies)&&t.each(n.slaveDependencies,function(e){i.push(e),i.push.apply(i,this._getAllSlaveControlIds(e))},this),t.uniq(i)},_getParentControlIds:function(e){var i=[];return t.each(e,function(e){var t=this.findControl({id:e});i.push.apply(i,t.masterDependencies)},this),t.uniq(i)}},{DEFAULT_CONTAINER:"#inputControlsContainer",CHANGE_VALUES:"viewmodel:values:changed",CHANGE_SELECTION:"viewmodel:selection:changed",CHANGE_ORDER:"viewmodel:order:changed",isSelectionChanged:function(e,i){var n=e?t(e).keys():[],s=i?t(i).keys():[],o=t.union(n,s);if(o.length===n.length){var r=e?t.flatten(t(e).values()):[],a=i?t.flatten(t(i).values()):[];return t.difference(r,a).length>0||t.difference(a,r).length>0}return!0}}),s={getControls:function(){return this.controls},instantiate:function(e){this.controls={},t.each(e,this.createControl,this)},createControl:function(e){var t=function(e){for(var t in i)if(e.toLowerCase()===t.toLowerCase())return i[t]}(e.type);if(!t)throw new Error("Can not find implementation of the control type: "+e.type);return this.controls[e.id]=new t(e),this.controls[e.id]},removeControl:function(e){delete this.controls[e]},reorderControl:function(t,n){if(1!=this.structure.length){for(var s,o=n>t?1:-1,r=n>t?Math.min(t,n):Math.max(t,n),a=n>t?Math.max(t,n):Math.min(t,n),l=r;l!=a;l+=o)s=this.structure[l],this.structure[l]=this.structure[l+o],this.structure[l+o]=s;e(document).trigger(i.ViewModel.CHANGE_ORDER,[this.structure])}},set:function(n,s){if(n){if(t.extend(this,n),void 0!==n.structure){var o=n.structure;this.instantiate(o),this.draw(o)}if(void 0!==n.state){var r=n.state;this.update(r),!s&&e(document).trigger(i.ViewModel.CHANGE_VALUES,[n.state])}}},get:function(e){if(e){if("selection"===e){var i={};return t.each(this.getControls(),function(e){var n=e.get("selection");n instanceof Array?i[e.id]=n:t.isUndefined(n)||(i[e.id]=[n])}),i}return this[e]}},findControl:function(e){var i=t.keys(e)[0],n=t.values(e)[0];return t.find(this.getControls(),function(e){return e[i]===n})},pluck:function(e){return t.pluck(this.getControls(),e)}},o={draw:function(i){var n=this.getContainer();if(n.empty(),t.each(i,function(e){if(e.visible){var t=this.findControl({id:e.id});t.makeResizable&&t.makeResizable(),n.append(t.getElem())}},this),window.Report&&window.Report.icReorderEnabled){var s=window.Controls.layouts.LAYOUT_TOP_OF_PAGE==Report.reportControlsLayout;/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)||e(n).sortable({delay:200,placeholder:s?"verticalPlaceholder":"horizontalPlaceholder",axis:s?"x":"y",items:"> .leaf",cancel:"input,textarea,button,select,option,.list.inputSet",start:function(e,t){t.item.data("oldIndex",t.item.index())},stop:t.bind(function(e,t){var i=t.item.data("oldIndex"),n=t.item.index();i!=n&&this.reorderControl(i,n)},this)})}},update:function(e){t.each(e,function(e,t){var i=this.findControl({id:t});i.set({values:e.values,error:e.error})},this)},getContainer:function(){return this.container&&1==this.container.length?this.container:(this.container=e(this.containerSelector),this.container)},removeValidationMessages:function(){t.each(this.getControls(),function(e){e.set({error:null})})},areAllControlsValid:function(){return t.isEmpty(t.filter(this.getControls(),function(e){return!e.isValid()}))},setContainer:function(t){this.container=e(t)},reloadContainer:function(){return this.container=e(this.containerSelector),this.container},disable:function(){t.each(this.getControls(),function(e){e.set({disabled:!0})})},enable:function(){t.each(this.getControls(),function(e){e.set({disabled:!1})})}};return t.extend(n.prototype,s,o),t.extend(i,{ViewModel:n})}(jQuery,_,JRS.Controls),define("controls.viewmodel",["jquery","underscore","controls.core","controls.basecontrol"],function(e){return function(){var t;return t||e.JRS.Controls}}(this)),define("common/component/singleSelect/manager/KeyboardManager",["require","underscore"],function(e){"use strict";var t=e("underscore"),i=200,n=function(e){return this.initialize(e),this};return t.extend(n.prototype,{systemKeyCodes:[16,17,91],keydownHandlers:{38:"onUpKey",40:"onDownKey",13:"onEnterKey",27:"onEscKey",36:"onHomeKey",35:"onEndKey",9:"onTabKey",33:"onPageUpKey",34:"onPageDownKey"},initialize:function(e){t.bindAll(this,"onKeydown"),e.keydownHandlers&&(this.keydownHandlers=e.keydownHandlers),this.stopPropagation=e.stopPropagation,this.keydownTimeout=e.keydownTimeout||i,this.context=e.context,this.deferredKeydownHandler=e.deferredKeydownHandler,this.immediateHandleCondition=e.immediateHandleCondition,this.immediateKeydownHandler=e.immediateKeydownHandler},onKeydown:function(e){this._isSystemKeyPressed(e)||(this._canImmediatelyHandleKeyboardEvent(e)?this._immediatelyHandleKeyboardEvent(e):this.deferredHandleKeyboardEvent(e),this.stopPropagation&&e.stopPropagation())},deferredHandleKeyboardEvent:function(e){this.deferredKeydownHandler&&(this.keydownTimeout>0?(clearTimeout(this.deferredTimeout),this.deferredTimeout=setTimeout(t.bind(this.deferredKeydownHandler,this.context,e),this.keydownTimeout)):this.deferredKeydownHandler.call(this.context,e))},_isSystemKeyPressed:function(e){return t.indexOf(this.systemKeyCodes,e.which)>-1},_immediateHandleCondition:function(e){return this.immediateHandleCondition&&this.immediateHandleCondition.call(this.context,e)},_canImmediatelyHandleKeyboardEvent:function(e){var t=this.keydownHandlers[""+e.which];return t&&"function"==typeof this.context[t]||this._immediateHandleCondition(e)},_immediatelyHandleKeyboardEvent:function(e){var t=this.keydownHandlers[""+e.which];t&&"function"==typeof this.context[t]?this.context[t].call(this.context,e):this._immediateHandleCondition(e)&&this.immediateKeydownHandler&&this.immediateKeydownHandler.call(this.context,e)}}),n}),define("common/component/list/model/ScalableListModel",["require","backbone","underscore"],function(e){"use strict";var t=e("backbone"),i=e("underscore"),n=100,s=.95,o=t.Model.extend({initialize:function(e){i.bindAll(this,"_fetchComplete","fetchFailed","afterFetchComplete","fetch"),this.set({items:[]},{silent:!0}),this.getData=e.getData,this.bufferSize=e.bufferSize||n,this.loadFactor=e.loadFactor||s},_fetchComplete:function(e){this.attributes.total=e.total,this.set({items:e.data},{silent:!0}),this.attributes.bufferEndIndex=Math.max(0,Math.min(this.attributes.bufferStartIndex+this.bufferSize-1,this.attributes.bufferStartIndex+e.data.length-1)),this.attributes.bufferEndIndex<this.attributes.bufferStartIndex+this.bufferSize-1&&(this.attributes.total=Math.min(e.total,this.attributes.bufferEndIndex+1)),this.afterFetchComplete&&this.afterFetchComplete(e.data,this.attributes.total),this.trigger("change",this)},_isBufferReloadNecessary:function(e,t){if("undefined"==typeof this.get("bufferStartIndex")||"undefined"==typeof this.get("bufferEndIndex"))return!0;if(e>=0&&e<this.get("bufferStartIndex")||t<this.get("total")&&t>this.get("bufferEndIndex"))return!0;if(e===this.get("bufferStartIndex")&&t===this.get("bufferEndIndex"))return!1;var i=1-(e-this.get("bufferStartIndex"))/this.bufferSize,n=1-(this.get("bufferEndIndex")-t)/this.bufferSize;return this.get("bufferStartIndex")>0&&i>=this.loadFactor||this.get("bufferEndIndex")<this.get("total")&&n>=this.loadFactor},afterFetchComplete:function(e,t){},fetchFailed:function(e,t){this.trigger("fetchFailed",e,t)},fetch:function(e){if(e=i.extend({top:this.get("bufferStartIndex")||0,bottom:this.get("bufferEndIndex")||this.bufferSize-1},e),e.force||this._isBufferReloadNecessary(e.top,e.bottom)){if(e.top!==this.attributes.bufferStartIndex||e.bottom!==this.attributes.bufferEndIndex||e.force){var t=e.top+Math.floor((e.bottom-e.top)/2),n=Math.floor(this.bufferSize/2);this.attributes.bufferStartIndex=Math.max(0,t-n),this.get("total")&&!e.force?this.attributes.bufferEndIndex=Math.min(this.get("total"),this.attributes.bufferStartIndex+this.bufferSize)-1:this.attributes.bufferEndIndex=this.attributes.bufferStartIndex+this.bufferSize-1}this.getData({offset:this.get("bufferStartIndex"),limit:this.get("bufferEndIndex")-this.get("bufferStartIndex")+1}).done(this._fetchComplete).fail(this.fetchFailed)}else this._fetchComplete({data:this.get("items"),total:this.get("total")})},reset:function(e){this.attributes={},this.set({items:[]},{silent:!0}),e&&e.silent||this.trigger("change",this)}});return o}),define("common/component/list/model/BaseListWithSelectionModel",["require","underscore","common/component/list/model/ScalableListModel"],function(e){"use strict";var t=e("underscore"),i=e("common/component/list/model/ScalableListModel"),n=i.extend({initialize:function(e){i.prototype.initialize.call(this,e),this.select(e.value,{silent:!0})},_addToSelection:function(e,t){throw"Not implemented"},_removeFromSelection:function(e,t){throw"Not implemented"},_clearSelection:function(){throw"Not implemented"},_selectionContains:function(e,t){throw"Not implemented"},_getSelection:function(){throw"Not implemented"},_triggerSelectionChange:function(e){e&&e.silent||this.trigger("change"),this.trigger("selection:change")},_addRangeToSelection:function(e,t,i){for(var n=0;n<e.length;n++)this._addToSelection(e[n].value,n+t);this.trigger("selection:addRange",{start:t,end:i,selection:this.getSelection()})},_fetchAllDataAndModifySelection:function(e,t){return this.getData().done(function(i){for(var n=0;n<i.data.length;n++)e(i.data[n].value,n);t&&t()}).fail(this.fetchFailed),this},addValueToSelection:function(e,t){return this.selectionStartIndex=t,this._addToSelection(e,t),this.trigger("selection:add",{value:e,index:t})},addRangeToSelection:function(e,t){if("undefined"==typeof this.selectionStartIndex)return void this.addValueToSelection(e,t);if(this.selectionStartIndex!==t){var i=Math.min(this.selectionStartIndex,t),n=Math.max(this.selectionStartIndex,t);if(this.selectionStartIndex=t,i>=this.get("bufferStartIndex")&&n<=this.get("bufferEndIndex")){var s=Array.prototype.slice.call(this.get("items"),i-this.get("bufferStartIndex"),n-this.get("bufferStartIndex")+1);this._addRangeToSelection(s,i,n)}else{var o=this;this.getData({offset:i,limit:n-i+1}).done(function(e){o._addRangeToSelection(e.data,i,n)}).fail(this.fetchFailed)}}},removeValueFromSelection:function(e,t){this._removeFromSelection(e,t),this.trigger("selection:remove",{value:e,index:t})},toggleSelection:function(e,t){this.selectionContains(e,t)?this.removeValueFromSelection(e,t):this.addValueToSelection(e,t)},selectionContains:function(e,t){return this._selectionContains(e,t)},clearSelection:function(){return this._clearSelection(),this.trigger("selection:clear")},getSelection:function(){return this._getSelection()},select:function(e,t){throw"Not implemented"},selectAll:function(){var e=this,i=!0;this._fetchAllDataAndModifySelection(function(t,n){i&&(e._clearSelection(),i=!1),e._addToSelection(t,n)},t.bind(this._triggerSelectionChange,this))},invertSelection:function(){var e=this;this._fetchAllDataAndModifySelection(function(t,i){e._selectionContains(t,i)?e._removeFromSelection(t,i):e._addToSelection(t,i)},t.bind(this._triggerSelectionChange,this))}});return n}),define("common/component/list/model/ListWithSelectionModel",["require","underscore","common/component/list/model/BaseListWithSelectionModel"],function(e){"use strict";var t=e("underscore"),i=e("common/component/list/model/BaseListWithSelectionModel"),n=i.extend({_addToSelection:function(e,t){this.selection[t]=e},_removeFromSelection:function(e,t){this.selection[t]=void 0},_clearSelection:function(){this.selection=[]},_selectionContains:function(e,t){return this.selection[t]===e},_getSelection:function(){return this.selection},_isSelectionEmpty:function(e){if(!e)return!0;if(t.isArray(e)&&0===e.length)return!0;if(t.isArray(e)||"string"==typeof e)return!1;for(var i in e)if(e.hasOwnProperty(i)&&void 0!==e[i])return!1;return!0},_selectPendingSelection:function(e,t){if(0===this.get("bufferStartIndex")&&this.get("bufferEndIndex")==this.get("total")-1)this._convertInitialArrayToSelection(this.get("items"),e,t);else{var i=this;this.getData().done(function(n){i._convertInitialArrayToSelection(n.data,e,t)}).fail(this.fetchFailed)}},_convertInitialArrayToSelection:function(e,t,i){for(var n=0;n<e.length;n++)t[e[n].value]&&this._addToSelection(e[n].value,n);this._triggerSelectionChange(i)},_triggerSelectionChange:function(e){this._calcSelectionStartIndex&&this._calcSelectionStartIndex(),i.prototype._triggerSelectionChange.call(this,e)},_calcSelectionStartIndex:function(){if("undefined"==typeof this.selectionStartIndex)for(var e in this.selection)if(this.selection.hasOwnProperty(e)&&void 0!==this.selection[e]){this.selectionStartIndex=parseInt(e,10);break}},select:function(e,i){if(this._clearSelection(),this._isSelectionEmpty(e))return void this._triggerSelectionChange(i);if(t.isArray(e)||"string"==typeof e){var n={};if("string"==typeof e)n[e]=!0;else for(var s=0;s<e.length;s++)n[e[s]]=!0;this._selectPendingSelection(n,i)}else{for(var o in e)if(e.hasOwnProperty(o)){var r=e[o];void 0!==r&&this._addToSelection(r,o)}this._triggerSelectionChange(i)}}});return n}),define("common/component/list/model/listWithNavigationModelTrait",["require","underscore"],function(e){"use strict";var t=e("underscore"),i={activate:function(e,i){if("number"!=typeof e)return void this.setActive(t.extend({},i));if(i=i||{},e>=this.get("bufferStartIndex")&&e<=this.get("bufferEndIndex")){var n=this.get("items")[e-this.get("bufferStartIndex")];n&&this.setActive(t.extend(i,{index:e,item:n}))}else{var s=this;this.getData({offset:e,limit:1}).done(function(n){s.setActive(t.extend(i,{index:e,item:n.data[0]}))}).fail(this.fetchFailed)}},setActive:function(e){this.active&&e.index===this.active.index&&e.item.value===this.active.value||(this.active=e&&"number"==typeof e.index?{index:e.index,value:e.item.value,label:e.item.label}:void 0,e&&e.silent||(this.trigger("change"),this.trigger("active:changed",this.active)))},getActive:function(){return this.active}};return i}),define("common/component/singleSelect/model/SingleSelectListModel",["require","underscore","common/component/list/model/ListWithSelectionModel","common/component/list/model/listWithNavigationModelTrait"],function(e){"use strict";var t=e("underscore"),i=e("common/component/list/model/ListWithSelectionModel"),n=e("common/component/list/model/listWithNavigationModelTrait"),s=i.extend(n);return s=s.extend({setActive:function(e){n.setActive.call(this,t.extend(e,{silent:!0}));var i={};"number"==typeof e.index&&(i[e.index]=e.item.value),this.select(i)},_convertInitialArrayToSelection:function(e,t,i){for(var s=0;s<e.length;s++)t[e[s].value]&&(this._addToSelection(e[s].value,s),this.getActive()||n.setActive.call(this,{index:s,item:e[s],silent:!0}));this._triggerSelectionChange(i)},_convertSelectionObject:function(e){for(var t in e)if(e.hasOwnProperty(t)&&void 0!==e[t]){var i=e[t];return{index:parseInt(t,10),value:i}}},_select:i.prototype.select,select:function(e,i){var s,o=!1;if(!e||"string"==typeof e||t.isArray(e))n.setActive.call(this,{silent:!0});else if(s=this._convertSelectionObject(e)){var r=this.getActive();r&&s.value===r.value&&s.index===r.index||(o=!0)}else n.setActive.call(this,{silent:!0});return o?this.activate(s.index):this._select(e,i),this}})}),define("text!common/component/list/templates/viewPortChunksTemplate.htm",[],function(){return'{{_.each(chunks, function(chunk) { }}\r\n<div class="j-view-port-chunk" style="height: {{- chunk.height}}px"></div>\r\n{{ }); }}\r\n'}),define("text!common/component/list/templates/itemsTemplate.htm",[],function(){return'<ul class="list" style="top: {{- top}}px; position: relative;">\r\n    {{_.each(items, function(item) { }}\r\n    <li class="leaf {{ if (item.selected) print(\'selected\'); }}" data-index="{{- item.index}}">\r\n        <div>{{ print(item.label && item.label.trim() ? _.xssEscape(item.label) : \'&nbsp;\')}}</div>\r\n    </li>\r\n    {{ }); }}\r\n</ul>\r\n'}),define("common/component/list/view/ScalableList",["require","jquery","backbone","underscore","common/component/list/model/ScalableListModel","text!common/component/list/templates/viewPortChunksTemplate.htm","text!common/component/list/templates/itemsTemplate.htm"],function(e){"use strict";var t=e("jquery"),i=e("backbone"),n=e("underscore"),s=e("common/component/list/model/ScalableListModel"),o=e("text!common/component/list/templates/viewPortChunksTemplate.htm"),r=e("text!common/component/list/templates/itemsTemplate.htm"),a=1e6,l=50,c=50,u=21,d=2,h=i.View.extend({ListModel:s,listItemSelector:"li",events:{scroll:"onScroll",touchmove:"onScroll"},attributes:{style:"overflow-y: auto; height: 100px"},initialize:function(e){return n.bindAll(this,"_fetchVisibleData"),this.model=e.model||new this.ListModel(e),this.chunksTemplate=n.template(e.chunksTemplate||o),this.itemsTemplate=n.template(e.itemsTemplate||r),this.defaultChunkHeight=this.chunkHeight=e.chunkHeight||a,this.scrollTimeout="undefined"!=typeof e.scrollTimeout?e.scrollTimeout:l,this.manualScrollInterval=e.manualScrollInterval||c,this.lazy=e.lazy,this.defaultItemHeight=e.listItemHeight||u,this.listItemSelector=e.listItemSelector||this.listItemSelector,this.render(),this.initListeners(),this.lazy||this.model.fetch(),this},initListeners:function(){this.listenTo(this.model,"change",this.onModelChange,this),this.listenTo(this.model,"fetchFailed",this.onFetchFailed,this)},render:function(){return this},onScroll:function(e){this.scrollTimeout>0?(clearTimeout(this.scrollTimer),this.scrollTimer=setTimeout(this._fetchVisibleData,this.scrollTimeout)):this._fetchVisibleData()},onModelChange:function(){this.renderData()},onFetchFailed:function(e,t){this.trigger("listRenderError",e,t)},postProcessChunkModelItem:function(e,i){e.index=this.model.get("bufferStartIndex")+i,void 0===e.label&&(e.label=e.value),e.label=t.trim(e.label)},_renderItems:function(){var e=this.model.get("bufferStartIndex"),i=this.model.get("bufferEndIndex"),n=this.itemsPerChunk?Math.ceil((e+1)/this.itemsPerChunk):1,s=this.itemsPerChunk?Math.ceil((i+1)/this.itemsPerChunk):1,o=this;this.$el.find(".j-view-port-chunk").each(function(r,a){var l=o._getChunkModel({index:r+1,firstChunkWithData:n,lastChunkWithData:s,bufferStart:e,bufferEnd:i,total:o.totalItems,itemsPerChunk:o.itemsPerChunk,itemHeight:o.itemHeight,chunkHeight:o.chunkHeight,model:o.model}),c=l?o.itemsTemplate(l):"";t(a).html(c)})},_renderViewChunks:function(e){(this.totalItems!==this.model.get("total")||e)&&(this.totalItems=this.model.get("total"),this.$el.html(this.chunksTemplate({_:n,chunks:this._getViewChunksModel()})),this.$firstViewChunk=this.$el.find(".j-view-port-chunk:first"))},_getViewChunksModel:function(){for(var e=this.itemsPerChunk?Math.ceil(this.totalItems/this.itemsPerChunk):1,t=e>0?this.itemHeight?this.totalItems*this.itemHeight-(e-1)*this.chunkHeight:this.chunkHeight:1,i=[],n=1;e>n;n++)i.push({height:this.chunkHeight});return i.push({height:t}),
i},_calcViewPortConstants:function(){this.viewPortConstantsInitialized||(this.itemHeight=this.defaultItemHeight,this.$firstViewChunk&&(this.itemHeight=this.$el.find(this.listItemSelector+":first").outerHeight(!0),!this.itemHeight||this.itemHeight<=d?(this.itemHeight=this.defaultItemHeight,this.viewPortConstantsInitialized=!1):this.viewPortConstantsInitialized=!0),this._calcViewPortHeight(),this.itemsPerChunk=Math.floor(this.defaultChunkHeight/this.itemHeight),this.chunkHeight=this.itemsPerChunk*this.itemHeight,this._renderViewChunks(!0),this._renderItems())},_calcViewPortHeight:function(){this.viewPortHeight=this.$el.height(),this.itemsPerView=Math.floor(this.viewPortHeight/this.itemHeight)-1},_getItemsPerView:function(){return this._calcViewPortConstants(),this.itemsPerView},_getChunkModel:function(e){var t=e.index;if(t<e.firstChunkWithData||t>e.lastChunkWithData)return null;var i=e.itemsPerChunk?Math.max(e.bufferStart,e.itemsPerChunk*(t-1)):e.bufferStart,s=e.itemsPerChunk?Math.min(e.bufferEnd,e.itemsPerChunk*t-1):e.bufferEnd,o=e.itemHeight?i*e.itemHeight-(t-1)*e.chunkHeight:0,r=Array.prototype.slice.call(e.model.get("items"),i-e.bufferStart,s-e.bufferStart+1);return n.each(r,function(t,n){this.postProcessChunkModelItem(t,n+(i-e.bufferStart))},this),{top:o,items:r}},_fetchVisibleData:function(){var e=this._getVisibleItems();this.model.fetch({top:e.top,bottom:e.bottom})},_getVisibleItems:function(){var e=this._getScrollPos(),t=this.model.get("total"),i=Math.min(t-this.itemsPerView,Math.floor(e/this.itemHeight)),n=Math.min(t-1,i+this.itemsPerView+1);return{top:i,bottom:n}},_getScrollPos:function(){this._calcViewPortConstants();var e=0;if(this.$firstViewChunk){var t=this.$el.offset(),i=this.$firstViewChunk.offset();t&&i&&(e=t.top-i.top)}return e},renderData:function(){return!this.lazy&&this.model.has("bufferStartIndex")&&this.model.has("bufferEndIndex")?(this._renderViewChunks(),this._renderItems(),this._calcViewPortConstants(),this.trigger("render:data")):(this.lazy=null,this.model.fetch()),this},resize:function(){if(this.$el.is(":visible")){var e=this.$el.outerHeight();e!==this._componentHeight&&(this._componentHeight=e,this.viewPortConstantsInitialized=!1,this._calcViewPortConstants())}},fetch:function(e,t){t=t||{};var i;t.keepPosition?i=this.$el.get(0).scrollTop:this.reset({silent:!0}),this.model.once("change",function(){t.keepPosition&&this.$el.scrollTop(i),e&&e.apply(this,arguments)},this).fetch({force:!0})},reset:function(e){this.$el.scrollTop(0),this.lazy=!0,this.model.reset(e)},scrollTo:function(e){if("number"==typeof e){var t=this._getScrollPos();if(this.viewPortConstantsInitialized){this._calcViewPortHeight();var i=null,n=e*this.itemHeight;t>n?i=n:n+this.itemHeight>t+this.viewPortHeight&&(i=n+this.itemHeight-this.viewPortHeight),null!==i&&this.$el.scrollTop(i)}}}});return h}),define("common/component/list/view/ListWithSelection",["require","jquery","underscore","common/component/list/model/ListWithSelectionModel","common/component/list/view/ScalableList"],function(e){"use strict";var t=e("jquery"),i=e("underscore"),n=e("common/component/list/model/ListWithSelectionModel"),s=e("common/component/list/view/ScalableList"),o=1,r={LEFT:"left",RIGHT:"right"},a=s.extend({ListModel:n,initialize:function(e){return i.bindAll(this,"onGlobalMouseup","onGlobalMousemove","_autoScroll","fetch"),this.eventListenerPattern=e.eventListenerPattern||"li",this.markerClass=e.markerClass?e.markerClass:"",this.selectedClass=e.selectedClass?e.selectedClass:"selected",this._initSelection(e.selection),s.prototype.initialize.call(this,e)},delegateEvents:function(){var e=s.prototype.delegateEvents.apply(this,arguments);return this.$el.on("mousedown",this.eventListenerPattern,i.bind(this.onMousedown,this)).on("mousemove",this.eventListenerPattern,i.bind(this.onMousemove,this)).on("dblclick",this.eventListenerPattern,i.bind(this.onMousedblclick,this)).on("contextmenu",this.eventListenerPattern,i.bind(this.onItemEvent,this,this.$el)).on("mouseout",this.eventListenerPattern,i.bind(this.onItemEvent,this,this.$el)).on("mouseover",this.eventListenerPattern,i.bind(this.onItemEvent,this,this.$el)),e},undelegateEvents:function(){var e=s.prototype.undelegateEvents.apply(this,arguments);return this.$el.off("mousedown").off("mousemove").off("dblclick").off("contextmenu").off("mouseout").off("mouseover"),e},_initSelection:function(e){e=i.extend({allowed:{}},e);var t=e.allowed,n=i.isObject(t)?t.left:t;this.selection={allowed:{left:"undefined"!=typeof n?n:!0,right:"undefined"!=typeof t.right?t.right:!1},multiple:"undefined"!=typeof e.multiple?e.multiple:!0}},initListeners:function(){s.prototype.initListeners.call(this),this.listenTo(this.model,"selection:clear",this.clearSelection,this),this.listenTo(this.model,"selection:add",this.selectValue,this),this.listenTo(this.model,"selection:addRange",this.selectRange,this),this.listenTo(this.model,"selection:remove",this.deselectValue,this),t("body").on("mouseup",this.onGlobalMouseup).on("mousemove",this.onGlobalMousemove)},postProcessChunkModelItem:function(e,t){s.prototype.postProcessChunkModelItem.call(this,e,t),e.addToSelection?(e.selected=!0,this.model.selectionContains&&!this.model.selectionContains(e.value,e.index,e)&&this.model.addValueToSelection(e.value,e.index,e),delete e.addToSelection):e.selected=this.model.selectionContains&&this.model.selectionContains(e.value,e.index,e)},onMousedblclick:function(e){if(!this.selection.multiple&&(this.selection.allowed.left||this.selection.allowed.right)&&!this.getDisabled()){var t=this._getDomItemData(e.currentTarget);this._singleSelect(e,t.value,t.index),this.selectionChanged&&(this._triggerSelectionChanged(),this._triggerDblclicked(),this.selectionChanged=!1)}},getItemByEvent:function(e){return this._getDomItemData(e.currentTarget).item},onItemEvent:function(e,t){var i=t.type,n=this.getItemByEvent(t);this.trigger("list:item:"+i,n,t)},onMousedown:function(e){if(!this.getDisabled()&&(this.selection.allowed.left&&1===e.which||this.selection.allowed.right&&3===e.which)){var t=1===e.which?r.LEFT:r.RIGHT;this.selection.multiple&&(this[t+"MouseButtonPressed"]=!0,this.mouseDownPos=this._getMousePos(e));var i=this._getDomItemData(e.currentTarget);this.selection.multiple?this._multiSelect(e,i.value,i.index):this._singleSelect(e,i.value,i.index)}},onMousemove:function(e){if(this._allowMouseMoveSelection()&&(this._stopAutoScroll(),this._mouseMoved(e,this.mouseDownPos))){this.mouseDownPos=this._getMousePos(e);var t=this._getDomItemData(e.currentTarget);this.model.selectionContains(t.value,t.index)||this.model.addRangeToSelection(t.value,t.index)}},onGlobalMouseup:function(e){var t=this;(this.leftMouseButtonPressed||this.rightMouseButtonPressed)&&(i.each(r,function(e){t[e+"MouseButtonPressed"]=!1}),delete this.mouseDownPos,this._stopAutoScroll(),this.selectionChanged&&(this._triggerSelectionChanged(),this.selectionChanged=!1))},onGlobalMousemove:function(e){this._allowMouseMoveSelection()&&(this.mousePosY=e.clientY,this.scrollInterval||(this.scrollInterval=setInterval(this._autoScroll,this.manualScrollInterval)))},clearSelection:function(){this.$el.find("li."+this.selectedClass+this.markerClass).removeClass(this.selectedClass),this.selectionChanged=!0},selectValue:function(e){this.$el.find("li"+this.markerClass+"[data-index='"+e.index+"']:not(."+this.selectedClass+")").addClass(this.selectedClass),this.selection.multiple?this.selectionChanged=!0:this._triggerSelectionChanged()},selectRange:function(e){var i=this,n=Math.max(this.model.get("bufferStartIndex"),e.start),s=Math.min(this.model.get("bufferEndIndex"),e.end);this.$el.find("li"+this.markerClass+":not(."+this.selectedClass+")").each(function(){var e=t(this),o=parseInt(e.attr("data-index"),10);if(o>=n&&s>=o){var r=i.model.get("items")[o-i.model.get("bufferStartIndex")];i.model.selectionContains(r.value,o)&&e.addClass(i.selectedClass)}}),this.selectionChanged=!0},deselectValue:function(e){this.$el.find("li[data-index='"+e.index+"']."+this.selectedClass+this.markerClass).removeClass(this.selectedClass),this.selection.multiple?this.selectionChanged=!0:this._triggerSelectionChanged()},_autoScroll:function(){var e,t=this.$el.offset().top,i=this.$el.scrollTop(),n="undefined"!=typeof this.scrollTop?this.scrollTop:i,s=!1;this.mousePosY<t?(e=n-3*this.itemHeight,s=i>e):this.mousePosY>t+this.viewPortHeight&&(e=n+3*this.itemHeight,s=e>i),s&&(this.$el.scrollTop(e),this.scrollTop=this.$el.scrollTop(),this._fetchVisibleData()),this._selectRangeOnAutoScroll(n,e)},_selectRangeOnAutoScroll:function(e,t){var i;if(t>e?i=this._getVisibleItems().bottom:e>t&&(i=this._getVisibleItems().top),i){var n=this.model.get("items")[i-this.model.get("bufferStartIndex")];n&&(this.model.selectionContains(n.value,i)||this.model.addRangeToSelection(n.value,i))}},_stopAutoScroll:function(){this.scrollInterval&&(clearInterval(this.scrollInterval),this.scrollInterval=void 0,this.scrollTop=void 0)},_multiSelect:function(e,t,i){e.shiftKey?this.model.addRangeToSelection(t,i):e.ctrlKey||e.metaKey?this._singleSelect(e,t,i):this.model.toggleSelection(t,i)},_singleSelect:function(e,t,i){this.model.clearSelection().addValueToSelection(t,i)},_triggerSelectionChanged:function(){this.trigger("selection:change",this.getValue())},_triggerDblclicked:function(){this.trigger("item:dblclick",this.getValue())},_getDomItemData:function(e){for(var i=t(e),n=i.attr("data-index");void 0===n;)i=i.parent(),n=i.attr("data-index");return n=parseInt(n,10),e=this.model.get("items")[n-this.model.get("bufferStartIndex")],{item:e,value:e.value,index:n}},_mouseMoved:function(e,t){return Math.abs(t.x-e.clientX)+Math.abs(t.y-e.clientY)>=o},_getMousePos:function(e){return{x:e.clientX,y:e.clientY}},_allowMouseMoveSelection:function(){return(this.selection.allowed.left&&this.leftMouseButtonPressed||this.selection.allowed.right&&this.rightMouseButtonPressed)&&this.selection.multiple&&!this.getDisabled()},getValue:function(){return this.model.getSelection()},setValue:function(e,t){return t=t||{},t&&t.silent||t.modelOptions&&t.modelOptions.silent||this.model.once("selection:change",this._triggerSelectionChanged,this),t=t.modelOptions,this.model.select(e,t),this},selectAll:function(e){return e&&e.silent||this.model.once("selection:change",this._triggerSelectionChanged,this),this.model.selectAll(),this},selectNone:function(e){return this.setValue({},e)},invertSelection:function(e){return e&&e.silent||this.model.once("selection:change",this._triggerSelectionChanged,this),this.model.invertSelection(),this},setDisabled:function(e){return this.disabled=e,this.disabled?this.$el.addClass("disabled"):this.$el.removeClass("disabled"),this},getDisabled:function(){return this.disabled},remove:function(){return t("body").off("mouseup",this.onGlobalMouseup).off("mousemove",this.onGlobalMousemove),s.prototype.remove.call(this)}});return a}),define("common/component/list/view/ListWithNavigation",["require","common/component/list/view/ListWithSelection","common/component/list/model/ListWithSelectionModel","common/component/list/model/listWithNavigationModelTrait"],function(e){"use strict";var t=e("common/component/list/view/ListWithSelection"),i=e("common/component/list/model/ListWithSelectionModel"),n=e("common/component/list/model/listWithNavigationModelTrait"),s=t.extend({canActivate:!0,initialize:function(e){e=e||{};var s=i.extend(n);e.model=e.model||new s(e),t.prototype.initialize.call(this,e)},onMousemove:function(e){if(t.prototype.onMousemove.call(this,e),!this.mouseMovePos||this._mouseMoved(e,this.mouseMovePos)){this.mouseMovePos=this._getMousePos(e);var i=this._getDomItemData(e.currentTarget);this.activate(i.index)}},setCanActivate:function(e){this.canActivate=e},getCanActivate:function(){return this.canActivate&&!this.getDisabled()},activateFirst:function(){this.activate(0)},activateLast:function(){this.activate(Math.max(0,this.model.get("total")-1))},activateNext:function(){this.activate(Math.min(this.model.get("total")-1,this._getActiveIndex()+1))},activatePrevious:function(){this.activate(Math.max(0,this._getActiveIndex()-1))},pageDown:function(){this.activate(Math.min(this.model.get("total")-1,this._getActiveIndex()+this._getItemsPerView()))},pageUp:function(){this.activate(Math.max(0,this._getActiveIndex()-this._getItemsPerView()))},getActiveValue:function(){return this.model.getActive&&this.model.getActive()},activate:function(e,t){if(this.getCanActivate()){var i=this.getActiveValue();if(i&&i.index===e)return;if(!t||!t.silent){var n=this;this.model.once("active:changed",function(){n.trigger("active:changed",n.getActiveValue())})}this.model.activate(e,t)}},postProcessChunkModelItem:function(e,i){t.prototype.postProcessChunkModelItem.call(this,e,i);var n=this._getActiveIndex&&this._getActiveIndex();e.active="undefined"!=typeof n&&n===this.model.get("bufferStartIndex")+i},_getActiveIndex:function(){var e=this.getActiveValue();return e&&e.index}});return s}),define("common/component/singleSelect/view/SingleSelectList",["require","underscore","common/component/singleSelect/model/SingleSelectListModel","common/component/list/view/ListWithNavigation"],function(e){"use strict";var t=e("underscore"),i=e("common/component/singleSelect/model/SingleSelectListModel"),n=e("common/component/list/view/ListWithNavigation"),s=n.extend({events:t.extend({},n.prototype.events,{"mouseup li":"onMouseup"}),initialize:function(e){var s=e.model||new i(e);n.prototype.initialize.call(this,t.extend({model:s,lazy:!0,selection:{allowed:!0,multiple:!1}},e))},onMouseup:function(){this.trigger("item:mouseup")},activate:function(e){if(this.getCanActivate()){var t=this.getActiveValue();if(t&&t.index===e)return;this.model.once("selection:change",this._triggerSelectionChanged,this).activate(e)}}});return s}),define("common/component/singleSelect/dataprovider/SearcheableDataProvider",["require","jquery","underscore"],function(e){"use strict";var t=e("jquery"),i=e("underscore"),n=function(e){i.bindAll(this,"getData","_filterValues","_shouldFilter"),this.indexMapping={},this.internalGetData=e.getData};return i.extend(n.prototype,{getData:function(e){var i=new t.Deferred;if(e&&"undefined"!=typeof e.criteria)return this.dataCache=null,this.criteria=e.criteria,i.resolve(),i.promise();var n=this;return n._shouldFilter()?(this.dataCache?this._resolvePromise(e,i):this.internalGetData().done(function(t){n.indexMapping={},n.reverseIndexMapping={},n.dataCache=n._filterValues(t.data),n._resolvePromise(e,i)}).fail(i.reject),i.promise()):(this.indexMapping=null,this.reverseIndexMapping=null,this.dataCache=null,this.internalGetData(e))},getIndexMapping:function(){return this.indexMapping},getReverseIndexMapping:function(){return this.reverseIndexMapping},_resolvePromise:function(e,t){var i=e&&e.offset?e.offset:0,n=e&&e.limit?i+e.limit:this.dataCache.length,s=this._getDataSegment(this.dataCache,i,n);t.resolve({data:s,total:this.dataCache.length})},_shouldFilter:function(){return this.criteria},_filterValues:function(e){for(var t=[],i=0,n=0;n<e.length;n++){var s=e[n],o=void 0===s.label?s.value:s.label;o.toLowerCase().indexOf(this.criteria.toLowerCase())>-1&&(t[i]=s,this.indexMapping[i]=n,this.reverseIndexMapping[n]=i,i+=1)}return t},_getDataSegment:function(e,t,i){i=Math.min(i,e.length);for(var n=[],s=t;i>s;s++)n.push({label:e[s].label,value:e[s].value});return n}}),n}),define("common/component/singleSelect/manager/DropDownManager",["require","underscore","jquery"],function(e){"use strict";var t=e("underscore"),i=e("jquery"),n=500,s=i("body"),o=function(e){return this.initialize(e),this};return t.extend(o.prototype,{initialize:function(e){t.bindAll(this,"checkOffset","setNewOffset"),this.$dropDownEl=e.dropDownEl,this.calcOffset=e.calcOffset,this.isOffsetChanged=e.isOffsetChanged||this._isOffsetChanged,this.recalcInterval=e.recalcInterval||n,this.onOffsetChanged=e.onOffsetChanged},startCalc:function(){this.checkOffset(this.setNewOffset),clearInterval(this.recalcTimer),this.recalcTimer=setInterval(t.bind(this.checkOffset,this,this.onOffsetChanged),this.recalcInterval)},stopCalc:function(){clearInterval(this.recalcTimer)},checkOffset:function(e){var t=this.calcOffset(),i=this.$dropDownEl.offset();this.$dropDownEl.width()!==t.width&&this.setNewOffset(t),this.isOffsetChanged(i,t)&&e&&e(t)},setNewOffset:function(e){this.$dropDownEl.css("top",e.top-s.offset().top).css("left",e.left-s.offset().left).css("width",e.width)},_isOffsetChanged:function(e,t){return Math.floor(e.top)!==Math.floor(t.top)||Math.floor(e.left)!==Math.floor(t.left)}}),o}),define("text!common/component/singleSelect/templates/singleSelectTemplate.htm",[],function(){return'<div class="sSelect {{ if (isIPad) print(\'ipad\'); }} {{ print(expanded ? \'expanded\' : \'collapsed\'); }}">\r\n    <label>{{- label}}{{ print(label ? \':\' : \'\'); }}</label>\r\n    <a class="sSelect-input" title="{{- value}}">\r\n        <span>{{ print(value != null ? _.xssEscape(value) : _.xssEscape(i18n[\'sic.singleselect.select.one\'])); }}</span>\r\n        <div class="sSelect-disclosureContainer">\r\n            <span class="sSelect-disclosure"></span>\r\n        </div>\r\n    </a>\r\n    <div class="sSelect-listContainer">\r\n        <div class="sSelect-sSearch">\r\n                <span data-component-type="search" class="control searchLockup ">\r\n                    <div class="wrap">\r\n                        <input type="text" autocomplete="off">\r\n                    </div>\r\n                    <a class="button search up"></a>\r\n                </span>\r\n        </div>\r\n        <!-- list position -->\r\n    </div>\r\n</div>'}),define("text!common/component/singleSelect/templates/listTemplate.htm",[],function(){return'<div class="sList" onselectstart="return false" unselectable="on" ondragstart="return false" draggable="false"></div>'}),define("text!common/component/singleSelect/templates/itemsTemplate.htm",[],function(){return'<ul class="sSelect-list" style="top: {{-top}}px;">\r\n    {{_.each(items, function(item) { }}\r\n    <li class="{{ if (item.selected) print(\'selected\'); }}" data-index="{{-item.index}}" title="{{ print(item.label && item.label.trim() ? _.xssEscape(item.label) : \'&nbsp;\')}}">\r\n        <div><a title="{{ print(item.label && item.label.trim() ? _.xssEscape(item.label) : \'&nbsp;\')}}">{{ print(item.label && item.label.trim() ? _.xssEscape(item.label) : \'&nbsp;\')}}</a></div>\r\n    </li>\r\n    {{ }); }}\r\n</ul>\r\n'}),define("text!common/component/singleSelect/templates/dropDownTemplate.htm",[],function(){return"<div class=\"sSelect-dropDown {{ if (isIPad) print('ipad'); }}\"></div>"}),define("common/component/singleSelect/view/SingleSelect",["require","jquery","backbone","underscore","common/component/singleSelect/manager/KeyboardManager","common/component/singleSelect/view/SingleSelectList","common/component/singleSelect/model/SingleSelectListModel","common/component/singleSelect/dataprovider/SearcheableDataProvider","common/component/singleSelect/manager/DropDownManager","text!common/component/singleSelect/templates/singleSelectTemplate.htm","text!common/component/singleSelect/templates/listTemplate.htm","text!common/component/singleSelect/templates/itemsTemplate.htm","text!common/component/singleSelect/templates/dropDownTemplate.htm","bundle!js-sdk/ScalableInputControlsBundle","common/util/browserDetection","common/util/xssUtil"],function(e){"use strict";var t=e("jquery"),i=e("backbone"),n=e("underscore"),s=e("common/component/singleSelect/manager/KeyboardManager"),o=e("common/component/singleSelect/view/SingleSelectList"),r=e("common/component/singleSelect/model/SingleSelectListModel"),a=e("common/component/singleSelect/dataprovider/SearcheableDataProvider"),l=e("common/component/singleSelect/manager/DropDownManager"),c=e("text!common/component/singleSelect/templates/singleSelectTemplate.htm"),u=e("text!common/component/singleSelect/templates/listTemplate.htm"),d=e("text!common/component/singleSelect/templates/itemsTemplate.htm"),h=e("text!common/component/singleSelect/templates/dropDownTemplate.htm"),p=e("bundle!js-sdk/ScalableInputControlsBundle"),f=e("common/util/browserDetection"),m=e("common/util/xssUtil"),g=t("body"),v=i.View.extend({events:function(){return{"keydown input":this.keyboardManager.onKeydown,"focus input":"onFocus","blur input":"onBlur",mousedown:"onMousedown",mouseup:"onMouseup","click .sSelect-input":"onClickOnInput"}},initialize:function(e){n.bindAll(this,"onGlobalMouseup","onGlobalMousedown","onGlobalMousemove","onMousedown","calcOffsetForListView","collapse"),this.model||(this.model=new i.Model),this.model.set("expanded",!1,{silent:!0}),this.model.set("criteria","",{silent:!0}),this.model.set("value",{},{silent:!0}),this.label=e.label,this.template=n.template(e.template||c),this.dropDownTemplate=n.template(e.dropDownTemplate||h),this.keyboardManager=new s({keydownTimeout:e.keydownTimeout,context:this,deferredKeydownHandler:this.processKeydown,immediateHandleCondition:this.immediateHandleCondition,immediateKeydownHandler:this.immediateKeydownHandler,stopPropagation:!0}),this.listViewModel=this._createListViewModel(e),this.listView=this._createListView(e),this.render(),this.dropDownManager=new l({dropDownEl:this.$dropDownEl,calcOffset:this.calcOffsetForListView,isOffsetChanged:this.isDimensionsChangedforListView,onOffsetChanged:this.collapse}),this.initListeners(),this.setValue(e.value,{modelOptions:{silent:!0}})},_createListView:function(e){return new o({el:e.listElement||t(u),model:this.listViewModel,chunksTemplate:e.chunksTemplate,itemsTemplate:e.itemsTemplate||d,scrollTimeout:e.scrollTimeout})},_createListViewModel:function(e){return this.searcheableDataProvider=new a({getData:e.getData}),new r({getData:this._getGetData(),bufferSize:e.bufferSize,loadFactor:e.loadFactor})},_getGetData:function(){return this.searcheableDataProvider.getData},_getActiveValueIndex:function(e){var t=this.searcheableDataProvider.getIndexMapping();return t?t[e.index]:e.index},initListeners:function(){this.listenTo(this.listView,"selection:change",this.selectionChange,this),this.listenTo(this.listView,"item:mouseup",this.itemMouseup,this),this.listenTo(this.model,"change:expanded",this.changeExpandedState,this),this.listenTo(this.model,"change:value",this.changeValue,this),this.listenTo(this.model,"change:disabled",this.changeDisabled,this),this.listenTo(this.model,"change:criteria",this.changeFilter,this),this.$dropDownEl.on("mousedown",this.onMousedown),t("body").on("mousedown",this.onGlobalMousedown).on("dataavailable",this.onGlobalMousedown).on("mouseup",this.onGlobalMouseup).on("mousemove",this.onGlobalMousemove)},render:function(){var e=t(this.template({label:this.label,isIPad:f.isIPad(),value:this.model.get("value").label,expanded:this.model.get("expanded"),i18n:p}));return this.renderListView(),this.$el.empty(),this.$el.append(e),this},renderListView:function(){this.listRendered||(this.$dropDownEl=t(this.dropDownTemplate({isIPad:"iPad"===navigator.platform})),this.listView.undelegateEvents(),this.$dropDownEl.append(this.listView.$el),t("body").append(this.$dropDownEl),this.listView.delegateEvents(),this.listRendered=!0),this.model.get("expanded")?this.$dropDownEl.show():this.$dropDownEl.hide()},renderData:function(){return this.listView.renderData(),this},itemMouseup:function(){if(!this.model.get("disabled")){delete this.preventBlur,this.$el.find("input").focus();var e=this.model.get("activeValue");e.value!==this.model.get("value").value?(this.model.unset("activeValue"),this.model.set("value",e)):this.collapse()}},selectionChange:function(){var e=this.listView.getActiveValue();e?(this.listView.scrollTo(e.index),this.model.set("activeValue",{value:e.value,label:e.label,index:this._getActiveValueIndex(e)}),this.updateValueFromActive()):this.model.unset("activeValue")},onClickOnInput:function(){this.model.get("expanded")?this.collapse():this.expand()},onFocus:function(){this.model.get("expanded")||this.$el.find(".sSelect").addClass("focused")},onBlur:function(){this.preventBlur||(this.collapse(),this.$el.find(".sSelect").removeClass("focused"))},onMousedown:function(){this.preventBlur=!0},onMouseup:function(){this.preventBlur&&(delete this.preventBlur,this.model.get("expanded")&&this.$el.find("input").focus())},changeExpandedState:function(e){e.get("expanded")?this.doExpand():this.doCollapse()},changeValue:function(){this.collapse(),this.updateControlLabel(),this.silent?delete this.silent:this.trigger("selection:change",this.model.get("value").value),this.$el.find("input").val(""),this.model.set("criteria","")},changeDisabled:function(){var e=this.model.get("disabled");e?(this.$el.addClass("disabled"),this.$el.find("input[type='text']").attr("disabled","disabled"),this.collapse()):(this.$el.find("input[type='text']").removeAttr("disabled"),this.$el.removeClass("disabled")),this.listView.setDisabled(e)},onGlobalMousedown:function(e){if(this.model.get("expanded")){if(e.target===this.el||this.$el.find(e.target).length>0||e.target===this.$dropDownEl[0]||this.$dropDownEl.find(e.target).length>0)return void this.$el.find("input").focus();this.preventBlur=!1,this.onBlur()}},onGlobalMouseup:function(){this.onMouseup()},onGlobalMousemove:function(e){this.preventBlur&&e.stopPropagation()},onUpKey:function(){if(this.model.get("expanded")){var e=this.listView.getActiveValue();if(!e||0===e.index)return void this.collapse();this.listView.activatePrevious()}else this.expand()},onDownKey:function(){if(this.model.get("expanded")){var e=this.listView.getActiveValue();e?this.listView.activateNext():this.listView.activateFirst()}else this.expand()},onEnterKey:function(e){e.preventDefault(),this.model.get("expanded")?this.model.get("activeValue")?this.itemMouseup():this.collapse():this.expand()},onEscKey:function(){this.model.get("expanded")&&this.collapse()},onHomeKey:function(){this.model.get("expanded")?this.listView.activateFirst():this.expand()},onEndKey:function(){this.model.get("expanded")?this.listView.activateLast():this.expand()},onPageUpKey:function(){this.model.get("expanded")?this.listView.pageUp():this.expand()},onPageDownKey:function(){this.model.get("expanded")?this.listView.pageDown():this.expand()},onTabKey:function(){},doExpand:function(){this.$el.find(".sSelect").removeClass("collapsed").addClass("expanded").addClass("focused"),this.$el.find("input").focus(),this.expandListView(),this.listView.lazy?this.listView.fetch(n.bind(this.listView.resize,this.listView)):this.listView.resize(),"undefined"!=typeof this.model.get("value").value&&this.setValueToList(),this.trigger("expand",this)},expandListView:function(){this.$dropDownEl.show(),this.dropDownManager.startCalc()},doCollapse:function(){this.model.unset("activeValue"),this.$el.find(".sSelect").removeClass("expanded").addClass("collapsed"),this.$el.find("input").val(""),this.$dropDownEl.hide(),this.model.set("criteria",""),this.dropDownManager.stopCalc(),this.trigger("collapse",this)},calcOffsetForListView:function(){var e=this.$el.offset(),t=g.offset().top+e.top+this.$el.height()+this.$el.find(".sSelect-listContainer").height()-2,i=g.offset().left+e.left;return{top:t,left:i,width:this.$el.find(".sSelect").width()}},isDimensionsChangedforListView:function(e,t){return Math.floor(e.top)!==Math.floor(t.top)||Math.floor(e.left)!==Math.floor(t.left)},immediateHandleCondition:function(e){return!this.model.get("expanded")},immediateKeydownHandler:function(e){this.expand(),this.keyboardManager.deferredHandleKeyboardEvent(e)},processKeydown:function(){this.model.set("criteria",this.$el.find("input").val())},changeFilter:function(){var e=this;this._getGetData()({criteria:this.model.get("criteria")}).done(function(){e.listView.fetch(function(){e.setValueToList()})})},setValueToList:function(e){var t=this.model.get("value"),i=t.value;if("undefined"!=typeof t.index){var n=this.searcheableDataProvider.getReverseIndexMapping(),s=n?n[t.index]:t.index;i={},"undefined"!=typeof s&&(i[s]=t.value)}this.listView.setValue(i,e)},convertExternalValueToInternalFormat:function(e){var t={};if("undefined"!=typeof e)if("string"==typeof e||null===e)t={value:e};else for(var i in e)if(e.hasOwnProperty(i)&&void 0!==e[i]){t={value:e[i],index:parseInt(i,10)};break}return t},updateValueFromActive:function(){var e=this.model.get("value"),t=this.model.get("activeValue");e.value===t.value&&"undefined"==typeof e.label&&(e.label=t.label,this.updateControlLabel())},updateControlLabel:function(){var e=this.model.get("value");if(n.isEmpty(e)||null==e.value)this.render();else{var t=this.getControlLabelByValue(e);this.$el.find(".sSelect-input").attr("title",t).find("> span").html(m.escape(t))}},getControlLabelByValue:function(e){return null==e.label?e.value:e.label},fetch:function(e,t){return this.listView.fetch(e,t),this},reset:function(e){return this.listView.reset(e),this},expand:function(){return this.model.get("disabled")?void 0:(this.model.set("expanded",!0),this)},collapse:function(){return this.model.set("expanded",!1),this},getValue:function(){return this.model.get("value").value},setValue:function(e,t){var e=this.convertExternalValueToInternalFormat(e);t&&t.silent&&(this.silent=!0),this.model.set("value",e),this.setValueToList()},setDisabled:function(e){return this.model.set("disabled",e),this},getDisabled:function(){return this.model.get("disabled")},remove:function(){this.$dropDownEl.off("mousedown",this.onMousedown).remove(),this.listView.remove(),i.View.prototype.remove.call(this),t("body").off("mousedown",this.onGlobalMousedown).off("dataavailable",this.onGlobalMousedown).off("mouseup",this.onGlobalMouseup).off("mousemove",this.onGlobalMousemove)}});return v}),define("common/component/list/model/ListWithSelectionAsObjectHashModel",["require","underscore","common/component/list/model/BaseListWithSelectionModel"],function(e){"use strict";var t=e("underscore"),i=e("common/component/list/model/BaseListWithSelectionModel"),n=i.extend({_addToSelection:function(e,t){this.selection[e]=!0},_removeFromSelection:function(e,t){delete this.selection[e]},_clearSelection:function(){this.selection={}},_selectionContains:function(e,t){return this.selection[e]},_getSelection:function(){return t.keys(this.selection)},select:function(e,i){if(this._clearSelection(),"string"==typeof e)this._addToSelection(e);else if(t.isArray(e))for(var n=0;n<e.length;n++)this._addToSelection(e[n]);else if("undefined"!=typeof e)for(var s in e)if(e.hasOwnProperty(s)){var o=e[s];void 0!==o&&this._addToSelection(o,s)}this._afterSelect&&this._afterSelect(e,i),this._triggerSelectionChange(i)}});return n}),define("common/component/list/util/domAndCssUtil",["require","underscore","jquery"],function(e){"use strict";var t=e("underscore"),i=e("jquery");return{doCalcOnVisibleNodeClone:function(e){if(!e||!e.el)throw"Missing required option: el";if(t.defaults(e,{css:{},classes:"",container:"<div/>",appendTo:"body",callback:function(){throw"no callback was defined"},alwaysClone:!1,cloneHandlers:!1}),t.defaults(e.css,{position:"absolute",left:"-9999px"}),!e.alwaysClone&&i(e.el).is(":visible"))e.callback(i(e.el));else{var n=i(e.el).clone(),s=i(e.container).css(e.css).addClass(e.classes).appendTo(i(e.appendTo)).append(n);e.callback(n),s.remove()}}}}),define("common/component/multiSelect/mixin/scalableListItemHeightCalculationTrait",["require","jquery","common/component/list/model/ScalableListModel","common/util/browserDetection","common/component/list/util/domAndCssUtil"],function(e){"use strict";var t=e("jquery"),i=e("common/component/list/model/ScalableListModel"),n=e("common/util/browserDetection"),s=e("common/component/list/util/domAndCssUtil").doCalcOnVisibleNodeClone,o={render:function(){return this._itemHeightSet||(this._calcItemHeight(),this._itemHeightSet=!0),this},_calcItemHeight:function(){var e=this;this._model=this.model,this._lazy=this.lazy,this._visibility=this.$el.css("visibility"),this._display=this.$el.css("display"),this.model=new i({getData:function(){var e=new t.Deferred;return e.resolve({total:1,data:[{value:"test value",label:"test label"}]}),
e}}),this.$el.css({visibility:"hidden",display:"block"}),this.model.once("change",this.onModelChange,this),this.renderData(),s({el:this.$el,css:{width:"100px"},classes:n.isIPad()?"ipad":"",callback:function(t){e.itemHeight=t.find("li").outerHeight(!0),e.itemsPerChunk=Math.floor(e.defaultChunkHeight/e.itemHeight),e.chunkHeight=e.itemsPerChunk*e.itemHeight}}),this.$el.empty().css({visibility:this._visibility,display:this._display}),delete this._visibility,delete this._display,this.totalItems=void 0,this.$firstViewChunk=void 0,this.model=this._model,delete this._model,this.lazy=this._lazy,this._lazy&&delete this._lazy},_calcViewPortConstants:function(){if(!this.viewPortConstantsInitialized){if(!this._itemHeightSet)return;this._calcViewPortHeight(),this._renderViewChunks(!0),this._renderItems(),this.viewPortConstantsInitialized=!0}}};return o}),define("text!common/component/multiSelect/templates/availableItemsTemplate.htm",[],function(){return'<div class="m-Multiselect-searchContainer jrs">\r\n    <input class="m-Multiselect-search jrs j-search" placeholder="{{- i18n[\'sic.multiselect.search\']}}" type="text">\r\n</div>\r\n<div class="j-available-list jrs" style="top: 0;"></div>\r\n<ul class="m-Multiselect-buttonContainer j-bulk-buttons jrs">\r\n    <li class="m-Multiselect-button u-width-30pc jrs j-select-all" title="{{- i18n[\'sic.multiselect.selectAll\'] }}">\r\n        <i class="m-Icon m-Multiselect-button-icon all jrs"></i>\r\n        <a class="m-Multiselect-button-label jrs">\r\n            <span class="j-button-text">\r\n                {{- i18n[\'sic.multiselect.selectAll\'] }}\r\n            </span>\r\n        </a>\r\n    </li>\r\n    <li class="m-Multiselect-button u-width-40pc jrs j-select-none" title="{{- i18n[\'sic.multiselect.deselectAll\'] }}">\r\n        <i class="m-Icon m-Multiselect-button-icon none jrs"></i>\r\n        <a class="m-Multiselect-button-label jrs">\r\n            <span class="j-button-text">\r\n                {{- i18n[\'sic.multiselect.deselectAll\'] }}\r\n            </span>\r\n        </a>\r\n    </li>\r\n    <li class="m-Multiselect-button u-width-30pc jrs j-invert" title="{{- i18n[\'sic.multiselect.inverse\'] }}">\r\n        <i class="m-Icon m-Multiselect-button-icon invert jrs"></i>\r\n        <a class="m-Multiselect-button-label jrs" >\r\n            <span class="j-button-text">\r\n                {{- i18n[\'sic.multiselect.inverse\'] }}\r\n            </span>\r\n        </a>\r\n    </li>\r\n</ul>\r\n'}),define("text!common/component/multiSelect/templates/availableItemsListTemplate.htm",[],function(){return'<ul class="m-Selectlist jrs" style="position: relative; top: {{- top}}px;">\r\n    {{ _.each(items, function(item) { }}\r\n        <li class="m-Selectlist-item jrs {{ if (item.selected) print(\' is-selected\'); }} {{ if (item.active) print(\' is-hovered\'); }}"\r\n            data-index="{{- item.index}}"\r\n            title="{{ print(item && item.label ? _.xssEscape(item.label) : \'\')}}">\r\n            <div class="m-Selectlist-item-wrapper jrs">\r\n                <a class="m-Selectlist-item-text jrs">{{ print(item && item.label ? _.xssEscape(item.label) : \'\')}}</a>\r\n            </div>\r\n        </li>\r\n    {{ }); }}\r\n</ul>'}),define("text!common/component/multiSelect/templates/listTemplate.htm",[],function(){return'<div class="m-Scalablelist jrs j-scalable-list" onselectstart="return false" unselectable="on" ondragstart="return false" draggable="false"></div>\r\n'}),define("common/component/multiSelect/view/AvailableItemsList",["require","jquery","backbone","underscore","common/component/singleSelect/manager/KeyboardManager","common/component/list/view/ListWithNavigation","common/component/list/model/ListWithSelectionModel","common/component/list/model/listWithNavigationModelTrait","common/component/list/model/ListWithSelectionAsObjectHashModel","common/component/multiSelect/mixin/scalableListItemHeightCalculationTrait","text!common/component/multiSelect/templates/availableItemsTemplate.htm","text!common/component/multiSelect/templates/availableItemsListTemplate.htm","text!common/component/multiSelect/templates/listTemplate.htm","common/util/browserDetection","bundle!js-sdk/ScalableInputControlsBundle","common/util/xssUtil","common/component/list/util/domAndCssUtil"],function(e){"use strict";var t=e("jquery"),i=e("backbone"),n=e("underscore"),s=e("common/component/singleSelect/manager/KeyboardManager"),o=e("common/component/list/view/ListWithNavigation"),r=(e("common/component/list/model/ListWithSelectionModel"),e("common/component/list/model/listWithNavigationModelTrait")),a=e("common/component/list/model/ListWithSelectionAsObjectHashModel"),l=e("common/component/multiSelect/mixin/scalableListItemHeightCalculationTrait"),c=e("text!common/component/multiSelect/templates/availableItemsTemplate.htm"),u=e("text!common/component/multiSelect/templates/availableItemsListTemplate.htm"),d=e("text!common/component/multiSelect/templates/listTemplate.htm"),h=e("common/util/browserDetection"),p=e("bundle!js-sdk/ScalableInputControlsBundle"),f=(e("common/util/xssUtil"),e("common/component/list/util/domAndCssUtil").doCalcOnVisibleNodeClone),m=[{selector:".j-select-all",strings:[p["sic.multiselect.selectAll"],p["sic.multiselect.all"],""]},{selector:".j-select-none",strings:[p["sic.multiselect.deselectAll"],p["sic.multiselect.none"],""]},{selector:".j-invert",strings:[p["sic.multiselect.inverse"],""]}],g=i.View.extend({className:"m-Multiselect-listContainer j-toggle-panel j-available jrs j-active",events:function(){return{"keydown input.j-search":this.keyboardManager.onKeydown,"focus input.j-search":"onFocus","blur input.j-search":"onBlur","click .j-select-all":"onSelectAll","click .j-select-none":"onSelectNone","click .j-invert":"onInvertSelection","click input.j-search":"onClickOnInput","touchend input.j-search":"onClickOnInput",mousedown:"onMousedown",mouseup:"onMouseup"}},keydownHandlers:n.extend({65:"onAKey"},s.prototype.keydownHandlers),initialize:function(e){n.bindAll(this,"onGlobalMouseup","onGlobalMousedown","onResize","onGlobalMousemove","onMousedown","onMouseup","onEscKey","onSelectAll","onSelectNone","onInvertSelection"),this._debouncedOnResize=n.debounce(this.onResize,500),this.model||(this.model=new i.Model),this.model.set("criteria","",{silent:!0}),this.label=e.label,this.template=n.template(e.availableItemsTemplate||c),this.keyboardManager=new s({keydownHandlers:this.keydownHandlers,keydownTimeout:e.keydownTimeout,context:this,deferredKeydownHandler:this.processKeydown,immediateHandleCondition:this.immediateHandleCondition,immediateKeydownHandler:this.immediateKeydownHandler,stopPropagation:!0}),this.listViewModel=this._createListViewModel(e),this.setValue(e.value,{silent:!0}),this.listView=this._createListView(e),this.render(),this.initListeners()},_createListViewModel:function(e){this.getData=e.getData;var t=a.extend(r);return e.listViewModel||new t({getData:e.getData,bufferSize:e.bufferSize,loadFactor:e.loadFactor})},_createListView:function(e){var i=e.listView||new o({el:e.listElement||t(d),model:this.listViewModel,chunksTemplate:e.chunksTemplate,itemsTemplate:e.itemsTemplate||u,scrollTimeout:e.scrollTimeout,lazy:!0,selectedClass:"is-selected",selection:{allowed:!0,multiple:!0}});return n.extend(i,l),i},initListeners:function(){this.listenTo(this.listView,"active:changed",this.activeChange,this),this.listenTo(this.listView,"mousedown",this.onMousedown,this),this.listenTo(this.listView,"render:data",this.onRenderData,this),this.listenTo(this.listViewModel,"change",this.onListViewModelChanged,this),this.listenTo(this.listViewModel,"selection:clear",this.selectionClear,this),this.listenTo(this.listViewModel,"selection:add",this.selectionAdd,this),this.listenTo(this.listViewModel,"selection:addRange",this.selectionAddRange,this),this.listenTo(this.listViewModel,"selection:remove",this.selectionRemove,this),this.listenTo(this.model,"change:totalValue",this.onChangeTotalValue,this),this.listenTo(this.model,"change:value",this.changeValue,this),this.listenTo(this.model,"change:disabled",this.changeDisabled,this),this.listenTo(this.model,"change:criteria",this.changeFilter,this),t("body").on("mousedown",this.onGlobalMousedown).on("mouseup",this.onGlobalMouseup).on("mousemove",this.onGlobalMousemove),t(window).on("resize",this._debouncedOnResize)},render:function(){return this.$el.empty(),this.$el.append(t(this.template(this.getModelForRendering()))),this.listView.undelegateEvents(),this.$el.find(".j-available-list").append(this.listView.el),this.listView.render(),this.listView.fetch(n.bind(this.listView.resize,this.listView)),this.listView.delegateEvents(),this._tuneCSS(),this.setBulkSelectionText(),this},_tuneCSS:function(){var e=this;this._paddingHeightsSet||(f({el:this.$el,css:{width:"500px"},classes:h.isIPad()?"ipad":"",callback:function(t){e.searchBarHeight=t.find(".m-Multiselect-searchContainer").outerHeight(),e.buttonsContainerHeight=t.find(".m-Multiselect-buttonContainer").outerHeight()}}),this._paddingHeightsSet=!0),this.$el.find(".j-available-list").css({height:"100%","padding-top":this.searchBarHeight,"padding-bottom":this.buttonsContainerHeight})},renderData:function(){return this.listView.renderData(),this},activeChange:function(e){e&&(this.activeChangedWithShift&&(delete this.activeChangedWithShift,this.listViewModel.addRangeToSelection(e.value,e.index)),this.listView.scrollTo(e.index))},selectionAdd:function(e){this.model.get("value")[e.value]=!0,this.model.trigger("change:value")},selectionAddRange:function(e){var t=e.selection,i=this.model.get("value"),n=0,s=t.length;for(n;s>n;n+=1)i[t[n]]=!0;this.model.trigger("change:value")},selectionRemove:function(e){delete this.model.get("value")[e.value],this.model.trigger("change:value")},selectionClear:function(){this.model.attributes.value={}},onSelectAll:function(){this.model.get("disabled")||(this.listView.once("selection:change",this.processSelectionThroughApi,this),this.clearFilter(n.bind(this.listView.selectAll,this.listView)))},onSelectNone:function(){this.model.get("disabled")||(this.listView.once("selection:change",this.processSelectionThroughApi,this),this.clearFilter(n.bind(this.listView.selectNone,this.listView)))},onInvertSelection:function(){this.model.get("disabled")||(this.listView.once("selection:change",this.processSelectionThroughApi,this),this.clearFilter(n.bind(this.listView.invertSelection,this.listView)))},onRenderData:function(){this.trigger("render:data")},onListViewModelChanged:function(){if("undefined"==typeof this.model.get("totalValues")){var e=this.listViewModel.get("total");e>0&&this.model.set("totalValues",e)}},onChangeTotalValue:function(){this.listView.resize()},setBulkSelectionText:function(){if(this.$el.is(":visible")){var e=this.$el.outerWidth();if(e!==this._componentWidth){this._componentWidth=e;var t=this.$el.find(".j-bulk-buttons"),i=t.outerWidth();f({el:t,css:{left:0-2*i+"px",width:i+"px"},classes:h.isIPad()?"ipad":"",alwaysClone:!0,callback:function(e){n.each(m,function(i){var s=!1;n.each(i.strings,function(n){if(!s){var o=e.find(i.selector),r=o.find(".j-button-text").text(n),a=o[0].getBoundingClientRect().right,l=r[0].getBoundingClientRect().right;(a-l>=3||""===n)&&(s=!0,t.find(i.selector+" .j-button-text").text(n))}})})}})}}},changeValue:function(){this.trigger("selection:change",this.getValue())},changeDisabled:function(){var e=this.model.get("disabled");e?this.$el.addClass("disabled").find("input[type='text']").attr("disabled","disabled"):this.$el.removeClass("disabled").find("input[type='text']").removeAttr("disabled"),this.listView.setDisabled(e)},onClickOnInput:function(){this.onFocus()},onFocus:function(){var e=this.$el.find("input");e.val()==e.attr("placeholder")&&(e.val(""),e.removeClass("placeholder"))},onBlur:function(){var e=this.$el.find("input");return(""===e.val()||e.val()===e.attr("placeholder"))&&(e.addClass("placeholder"),e.val(e.attr("placeholder"))),this.preventBlur?!1:void 0},onMousedown:function(){h.isIPad()||(this.preventBlur=!0)},onMouseup:function(){this.preventBlur&&(delete this.preventBlur,this.$el.find("input.j-search").focus())},onGlobalMousedown:function(e){this.preventBlur&&e.target!==this.el&&0===this.$el.find(e.target).length&&(delete this.preventBlur,this.onBlur())},onGlobalMouseup:function(){this.onMouseup()},onGlobalMousemove:function(e){this.preventBlur&&e.stopPropagation()},onResize:function(){this.resize()},onUpKey:function(e){e.shiftKey&&(this.activeChangedWithShift=!0),this.listView.activatePrevious()},onDownKey:function(e){var t=this.listView.getActiveValue();t?(e.shiftKey&&(this.activeChangedWithShift=!0),this.listView.activateNext()):this.listView.activateFirst()},onEnterKey:function(e){e.preventDefault();var t=this.listView.getActiveValue();t&&(e.shiftKey?this.listViewModel.addRangeToSelection(t.value,t.index):e.ctrlKey||e.metaKey?(this.listViewModel.clearSelection(),this.listViewModel.addValueToSelection(t.value,t.index)):this.listViewModel.toggleSelection(t.value,t.index))},onEscKey:function(){},onHomeKey:function(e){e.shiftKey&&(this.activeChangedWithShift=!0),this.listView.activateFirst()},onEndKey:function(e){e.shiftKey&&(this.activeChangedWithShift=!0),this.listView.activateLast()},onPageUpKey:function(e){e.shiftKey&&(this.activeChangedWithShift=!0),this.listView.pageUp()},onPageDownKey:function(e){e.shiftKey&&(this.activeChangedWithShift=!0),this.listView.pageDown()},onTabKey:function(){},onAKey:function(e){e.ctrlKey||e.metaKey?(e.stopPropagation(),this.onSelectAll()):this.keyboardManager.deferredHandleKeyboardEvent(e)},processKeydown:function(){this.model.set("criteria",this.$el.find("input.j-search").val())},changeFilter:function(e){var t=this,i=this.model.get("criteria");("undefined"==typeof i||""===i)&&this.model.unset("totalValues",{silent:!0}),this.listView.scrollTo(0),t.listView.activate(null,{silent:!0}),this.getData({criteria:i,offset:0,limit:1}).done(function(){t.listViewModel.once("change",e&&"function"==typeof e?e:function(){t.listView.setValue(n.keys(t.model.get("value")),{silent:!0}),t.listView.activate(0)}),t.listView.fetch()})},clearFilter:function(e){this.model.get("criteria")?(this.$el.find("input").val(""),this.model.set("criteria","",{silent:!0}),this.changeFilter(e)):(this.model.unset("totalValues",{silent:!0}),e&&e())},processSelectionThroughApi:function(e,t){var i={},n=0,s=e.length;for(this.selectionClear(),n;s>n;n+=1)i[e[n]]=!0;this.model.attributes.value=i,t&&t.silent||this.model.trigger("change:value")},convertSelectionForListViewModel:function(e){return e},getModelForRendering:function(){return{label:this.label,isIPad:h.isIPad(),disabled:this.model.get("disabled"),i18n:p}},fetch:function(e,t){var i=this;this.clearFilter(function(){i.listView.fetch(e,t)})},resize:function(){this.listView.resize(),this.setBulkSelectionText()},reset:function(e){var t=this;this.clearFilter(function(){t.listView.reset(e)})},getValue:function(){return n.keys(this.model.get("value"))},setValue:function(e,t){t=t||{},this.listViewModel.once("selection:change",function(){this.selectionClear();var e=this.listViewModel.getSelection(),i=0,n=e.length;for(i;n>i;i++)this.model.attributes.value[e[i]]=!0;t&&t.silent||this.changeValue()},this),n.isArray(e)||"string"==typeof e||(e=this.convertSelectionForListViewModel(e)),this.listViewModel.select(e,t.modelOptions)},setDisabled:function(e){this.model.set("disabled",e)},getDisabled:function(){return this.model.get("disabled")},remove:function(){this.listView.remove(),i.View.prototype.remove.call(this),t("body").off("mousedown",this.onGlobalMousedown).off("mouseup",this.onGlobalMouseup).off("mousemove",this.onGlobalMousemove),t(window).off("resize",this._debouncedOnResize)}});return g}),define("common/component/multiSelect/view/ListViewForSelectedItemsList",["require","jquery","common/component/list/view/ListWithNavigation"],function(e){"use strict";var t=e("jquery"),i=e("common/component/list/view/ListWithNavigation"),n=i.extend({_multiSelect:function(e,n,s){t(e.target).hasClass("j-remove-selection")?this.model.selectionContains(n,s)||this._singleSelect(e,n,s):i.prototype._multiSelect.call(this,e,n,s)}});return n}),define("text!common/component/multiSelect/templates/selectedItemsTemplate.htm",[],function(){return'<!--\r\nthis input only for technical purposes:\r\nit allows selected items list to get focus\r\nand have proper tab position\r\n(simple tabindex="0" on DOM element will broke tab index sequence)\r\n-->\r\n<input type="text" style="position: absolute; left: -9999px" {{ if (disabled) { }}disabled="disabled"{{ } }}>\r\n<!-- list position -->\r\n<div class="m-Multiselect-listContainer-message jrs j-no-selection" style="display:none">\r\n    {{- i18n[\'sic.multiselect.noSelection\'] }}\r\n</div>'}),define("text!common/component/multiSelect/templates/selectedItemsListTemplate.htm",[],function(){return'<ul class="m-Selectlist m-SelectlistSelected jrs" style="top: {{- top}}px; position: relative;">\r\n    {{_.each(items, function(item) { }}\r\n    <li class="m-Selectlist-item jrs {{ if (item.selected) print(\' is-selected\'); }}"\r\n        data-index="{{-item.index}}"\r\n        title="{{ print(item && item.label ? _.xssEscape(item.label) : \'\')}}">\r\n        <div class="m-Selectlist-item-wrapper jrs">\r\n            <a class="m-Selectlist-item-icon delete jrs j-remove-selection"></a>\r\n            <a class="m-Selectlist-item-text jrs">{{ print(item.label && item.label ? _.xssEscape(item.label) : \'\')}}</a>\r\n        </div>\r\n    </li>\r\n    {{ }); }}\r\n</ul>'}),define("common/component/multiSelect/view/SelectedItemsList",["require","jquery","backbone","underscore","common/component/singleSelect/manager/KeyboardManager","common/component/multiSelect/view/ListViewForSelectedItemsList","common/component/list/model/ListWithSelectionModel","common/component/list/model/listWithNavigationModelTrait","common/component/multiSelect/mixin/scalableListItemHeightCalculationTrait","text!common/component/multiSelect/templates/selectedItemsTemplate.htm","text!common/component/multiSelect/templates/selectedItemsListTemplate.htm","text!common/component/multiSelect/templates/listTemplate.htm","common/util/browserDetection","bundle!js-sdk/ScalableInputControlsBundle","common/util/xssUtil"],function(e){"use strict";var t=e("jquery"),i=e("backbone"),n=e("underscore"),s=e("common/component/singleSelect/manager/KeyboardManager"),o=e("common/component/multiSelect/view/ListViewForSelectedItemsList"),r=e("common/component/list/model/ListWithSelectionModel"),a=e("common/component/list/model/listWithNavigationModelTrait"),l=e("common/component/multiSelect/mixin/scalableListItemHeightCalculationTrait"),c=e("text!common/component/multiSelect/templates/selectedItemsTemplate.htm"),u=e("text!common/component/multiSelect/templates/selectedItemsListTemplate.htm"),d=e("text!common/component/multiSelect/templates/listTemplate.htm"),h=e("common/util/browserDetection"),p=e("bundle!js-sdk/ScalableInputControlsBundle"),f=(e("common/util/xssUtil"),i.View.extend({className:"m-Multiselect-listContainer j-toggle-panel j-selected j-inactive jrs",attributes:{style:"position: absolute; left: -9999px; top: 0"},events:function(){return{"keydown input":this.keyboardManager.onKeydown,"focus input":"onFocus","blur input":"onBlur","mouseup li .j-remove-selection":"onMouseupOnDeleteButton",mousedown:"onMousedown",mouseup:"onMouseup"}},keydownHandlers:n.extend({65:"onAKey",8:"onDeleteKey",46:"onDeleteKey"},s.prototype.keydownHandlers),initialize:function(e){this.model||(this.model=new i.Model),this.model.set("focused",!1,{silent:!0}),this.template=n.template(c),this.keyboardManager=new s({keydownHandlers:this.keydownHandlers,keydownTimeout:e.keydownTimeout,context:this,deferredKeydownHandler:this.processKeydown,immediateHandleCondition:this.immediateHandleCondition,immediateKeydownHandler:this.immediateKeydownHandler,stopPropagation:!0});var h=r.extend(a);this.listViewModel=e.listViewModel||new h({getData:e.getData,bufferSize:e.bufferSize,loadFactor:e.loadFactor}),this.listView=e.listView||n.extend(new o({el:e.listElement||t(d),model:this.listViewModel,chunksTemplate:e.chunksTemplate,itemsTemplate:e.itemsTemplate||u,scrollTimeout:e.scrollTimeout,lazy:!0,selectedClass:"is-selected",selection:{allowed:!0,multiple:!1}}),l),this.initListeners(),this.render().resize()},initListeners:function(){this.listenTo(this.listView,"active:changed",this.activeChange,this),this.listenTo(this.model,"change:focused",this.focusStateChanged,this),this.listenTo(this.model,"change:disabled",this.changeDisabled,this),this.listenTo(this.listViewModel,"change",this.onModelChange,this)},render:function(){this.listView.undelegateEvents();var e=t(this.template({disabled:this.model.get("disabled"),i18n:p}));return this.$el.empty().append(e).append(this.listView.el),this.listView.render(),this.listView.delegateEvents(),this},renderData:function(){return this.listView.renderData(),this},activeChange:function(e){e?(this.listViewModel.select(e.value,e.index),this.listView.scrollTo(e.index)):this.listViewModel.clearSelection()},changeDisabled:function(){var e=this.model.get("disabled");e?(this.$el.addClass("disabled"),this.$el.find("input[type='text']").attr("disabled","disabled"),this.listView.setValue({}),this.listView.activate(void 0)):(this.$el.find("input[type='text']").removeAttr("disabled"),this.$el.removeClass("disabled")),this.listView.setDisabled(e)},focusStateChanged:function(){this.model.get("focused")?this.$el.find(".mSelect-svListPlaceholder").addClass("focused"):this.$el.find(".mSelect-svListPlaceholder").removeClass("focused")},onModelChange:function(){this.listViewModel.get("total")?this.listView.$el.show():this.listView.$el.hide()},onFocus:function(){this.model.set("focused",!0)},onBlur:function(){this.preventBlur||this.model.set("focused",!1)},onMouseupOnDeleteButton:function(e){this.onDeleteKey(e)},onMousedown:function(){h.isIPad()||(this.preventBlur=!0,this.model.get("focused")||this.$el.find("input").focus())},onMouseup:function(){this.preventBlur&&(this.$el.find("input").focus(),delete this.preventBlur)},onUpKey:function(e){this.listView.activatePrevious()},onDownKey:function(e){var t=this.listView.getActiveValue();t?this.listView.activateNext():this.listView.activateFirst()},onEnterKey:function(e){},onHomeKey:function(e){this.listView.activateFirst()},onEndKey:function(e){this.listView.activateLast()},onPageUpKey:function(e){this.listView.pageUp()},onPageDownKey:function(e){this.listView.pageDown()},onTabKey:function(){},onAKey:function(e){},onDeleteKey:function(e){var t=this.listView.getValue();if(t&&t.length>0){var i=!0;for(var n in t)if(t.hasOwnProperty(n)&&void 0!==t[n]){i=!1;break}i||this.trigger("selection:remove",t)}},fetch:function(e,t){this.listView.setValue({}),this.listView.activate(void 0),this.listView.fetch(e,t)},resize:function(){this.listView.resize()},setDisabled:function(e){this.model.set("disabled",e)},getDisabled:function(){return this.model.get("disabled")},remove:function(){this.listView.remove(),i.View.prototype.remove.call(this)}}));return f}),define("common/component/singleSelect/dataprovider/CacheableDataProvider",["require","jquery","underscore"],function(e){"use strict";var t=e("jquery"),i=e("underscore"),n=function(e){i.bindAll(this,"getData"),this.data=e||[]};return i.extend(n.prototype,{setData:function(e){this.data=e||[]},getData:function(e){var i=new t.Deferred,n=e&&e.offset?e.offset:0,s=e&&e.limit?n+e.limit:this.data.length,o=this._getDataSegment(this.data,n,s);return i.resolve({data:o,total:this.data.length}),i.promise()},_getDataSegment:function(e,t,i){i=Math.min(i,e.length);for(var n=[],s=t;i>s;s++)n.push({label:e[s].label,value:e[s].value});return n}}),n}),define("common/component/multiSelect/dataprovider/SelectedItemsDataProvider",["require","underscore","common/component/singleSelect/dataprovider/CacheableDataProvider"],function(e){"use strict";var t=e("underscore"),i=e("common/component/singleSelect/dataprovider/CacheableDataProvider"),n=function(e){e=e||{},t.defaults(e,{sortFunc:this._sortFunc,formatLabel:this._formatLabel}),this.sortFunc=e.sortFunc,this.formatLabel=e.formatLabel,i.call(this,e)};return t.extend(n.prototype,i.prototype),t.extend(n.prototype,{setData:function(e){e=this._convertToStandardData(e),e=this._sortData(e),i.prototype.setData.call(this,e)},_sortFunc:function(e){return e.label},_formatLabel:function(e){return e},_sortData:function(e){return t.sortBy(e,this.sortFunc)},_convertToStandardData:function(e){var i=this;return t.map(e,function(e){return{value:e,label:i.formatLabel(e)}})}}),n}),define("text!common/component/multiSelect/templates/multiSelectTemplate.htm",[],function(){return'<div class="m-Multiselect jrs {{ if (isIPad) print(\'ipad\'); }}">\n    <div class="m-Multiselect-toggleContainer jrs">\n        <div class="m-Multiselect-toggle m-Multiselect-toggleAvailable is-active jrs j-toggle-ctrl j-available" title="">\n            <span class="m-Multiselect-toggleLabel jrs"></span>\n        </div>\n        <div class="m-Multiselect-toggle m-Multiselect-toggleSelected is-inactive jrs j-toggle-ctrl j-selected">\n            <span class="m-Multiselect-toggleLabel jrs"></span>\n        </div>\n    </div>\n</div>'}),define("common/component/multiSelect/view/MultiSelect",["require","jquery","backbone","underscore","common/component/multiSelect/view/AvailableItemsList","common/component/multiSelect/view/SelectedItemsList","common/component/multiSelect/dataprovider/SelectedItemsDataProvider","common/util/parse/NumberUtils","common/util/browserDetection","text!common/component/multiSelect/templates/multiSelectTemplate.htm","bundle!js-sdk/ScalableInputControlsBundle","common/util/xssUtil","common/component/list/util/domAndCssUtil","css!common/js_reset","css!common/base","css!common/layout","css!common/modules","css!common/state","css!common/utility"],function(e){"use strict";var t=e("jquery"),i=e("backbone"),n=e("underscore"),s=e("common/component/multiSelect/view/AvailableItemsList"),o=e("common/component/multiSelect/view/SelectedItemsList"),r=e("common/component/multiSelect/dataprovider/SelectedItemsDataProvider"),a=e("common/util/parse/NumberUtils"),l=new a,c=e("common/util/browserDetection"),u=e("text!common/component/multiSelect/templates/multiSelectTemplate.htm"),d=e("bundle!js-sdk/ScalableInputControlsBundle"),h=e("common/util/xssUtil"),p=e("common/component/list/util/domAndCssUtil").doCalcOnVisibleNodeClone;e("css!common/js_reset"),e("css!common/base"),e("css!common/layout"),e("css!common/modules"),e("css!common/state"),e("css!common/utility");var f=100,m=i.View.extend({className:"jrs",events:function(){return{"click  .j-toggle-ctrl":"toggleLists"}},initialize:function(e){this.template=n.template(u),this.visibleItemsCount=e.visibleItemsCount,this.i18n={selected:d["sic.multiselect.toggle.selected"],available:d["sic.multiselect.toggle.available"]},this.availableItemsListModel=this._createAvailableItemsListModel(e),this.availableItemsList=this._createAvailableItemsList(e),this.selectedItemsDataProvider=this._createSelectedItemsListDataProvider(e),this.selectedItemsList=this._createSelectedItemsList(e),this.initListeners(),"undefined"!=typeof e.value&&(this.silent=!0,this.availableItemsList.setValue(e.value)),this.render()},_createAvailableItemsListModel:function(e){return new i.Model},_createAvailableItemsList:function(e){return e.availableItemsList||new s({model:this.availableItemsListModel,getData:e.getData,bufferSize:e.bufferSize,loadFactor:e.loadFactor,chunksTemplate:e.chunksTemplate,scrollTimeout:e.scrollTimeout})},_createSelectedItemsListDataProvider:function(e){return new r(e.selectedListOptions)},_createSelectedItemsList:function(e){return this.formatValue=e.formatValue,new o({getData:this.selectedItemsDataProvider.getData,bufferSize:e.bufferSize,loadFactor:e.loadFactor,chunksTemplate:e.chunksTemplate,scrollTimeout:e.scrollTimeout})},initListeners:function(){this.listenTo(this.availableItemsList,"selection:change",this.selectionChange,this),this.listenTo(this.availableItemsListModel,"change:totalValues",this._updateAvailableItemsCountLabel,this),this.listenTo(this.selectedItemsList,"selection:remove",this.selectionRemoved,this)},render:function(){var e=t(this.template({isIPad:c.isIPad(),i18n:d}));return this.availableItemsList.undelegateEvents(),this.selectedItemsList.undelegateEvents(),this.selectedItemsList.$el.insertAfter(e.find(".m-Multiselect-toggleContainer")),this.availableItemsList.$el.insertAfter(e.find(".m-Multiselect-toggleContainer")),this.$el.empty(),this.$el.append(e[0]),this.availableItemsList.render(),this.selectedItemsList.render(),this._updateAvailableItemsCountLabel(),this.availableItemsList.delegateEvents(),this.selectedItemsList.delegateEvents(),this._tuneCSS(),this},_tuneCSS:function(){var e=this;this._cssDepententSizesSet||(p({el:this.$el,css:{width:"500px"},alwaysClone:!0,callback:function(t){e.toggleContainerHeight=t.find(".m-Multiselect-toggleContainer").outerHeight(),e._tuneCSSInternal(t),t.find(".j-scalable-list").css({height:"0"}),e.emptyContainerHeight=t.outerHeight()}}),this._cssDepententSizesSet=!0),this._tuneCSSInternal(this.$el)},_tuneCSSInternal:function(e){var t=this.toggleContainerHeight;e.find(".j-toggle-panel.j-available").css("padding-top",t),e.find(".j-toggle-panel.j-selected").css("padding-top",t),e.css("height","100%")},toggleLists:function(e){if(e.stopPropagation(),!t(e.currentTarget).hasClass("is-active")){this.$el.find(".j-toggle-ctrl").toggleClass("is-active is-inactive"),this.$el.find(".j-toggle-panel").toggleClass("j-active j-inactive");var i=this.$el.find(".j-toggle-panel.j-inactive");i.css({position:"absolute",left:"-9999px",top:"0",width:i.width()+"px"}),this.$el.find(".j-toggle-panel.j-active").css({position:"relative",left:"",top:"",width:""}),c.isIPad()||this.$el.find(".j-toggle-panel.j-active input").focus()}},selectionChange:function(e){clearTimeout(this.selectionChangeTimeout),this.selectionChangeTimeout=setTimeout(n.bind(this.selectionChangeInternal,this,e),f)},selectionRemoved:function(e){var t,i=this.availableItemsList.model.get("value"),s=e.length;for(t=0;s>t;t+=1)delete i[e[t]];this.availableItemsList.setValue(n.keys(i))},selectionChangeInternal:function(e){var t=this,i=this.selectedItemsList.listView.getActiveValue(),n=this.selectedItemsList.listView.$el.scrollTop();this.selectedItemsDataProvider.setData(e),this.selectedItemsList.fetch(function(){if(t._updateSelectedItemsCountLabel(),t.selectedItemsList.resize(),t.selectedItemsList.listView.$el.scrollTop(n),i&&t.selectedItemsList.$el.hasClass("j-active")){var e=t.selectedItemsList.listView.model.get("total");e&&e>i.index?t.selectedItemsList.listView.activate(i.index):e&&t.selectedItemsList.listView.activate(i.index-1)}}),this.silent?delete this.silent:this.triggerSelectionChange()},_setToggleLabel:function(e,t,i){var n=l.formatNumber(t),s=this.$el.find(e+" .m-Multiselect-toggleLabel"),o=i+": "+n;s.text(o).attr("title",h.escape(o))},_updateAvailableItemsCountLabel:function(){var e=this.availableItemsList.model.get("totalValues")||0;this._setToggleLabel(".j-available",e||0,this.i18n.available)},_updateSelectedItemsCountLabel:function(){var e=this.$el.find(".j-no-selection"),t=this.selectedItemsList.listView.model.get("total")||0;this._setToggleLabel(".j-selected",t,this.i18n.selected),0===t?e.show():e.hide()},triggerSelectionChange:function(){this.trigger("selection:change",this.getValue())},renderData:function(){return this.availableItemsList.renderData(),this.selectedItemsList.renderData(),this},fetch:function(e,t){this.availableItemsList.fetch(e,t)},reset:function(e){this.availableItemsList.reset(e)},resize:function(){this.availableItemsList.resize(),this.selectedItemsList.resize()},setValue:function(e,t){t&&t.silent&&(this.silent=!0),delete t.silent,this.availableItemsList.setValue(e,t)},getValue:function(){var e=this.availableItemsList.getValue(),t=[],i=0;for(var n in e)e.hasOwnProperty(n)&&void 0!==e[n]&&(t[i++]=e[n]);
return t},setDisabled:function(e){return this.availableItemsList.setDisabled(e),this.selectedItemsList.setDisabled(e),this},getDisabled:function(){return this.availableItemsList.getDisabled()},remove:function(){this.availableItemsList.remove(),this.selectedItemsList.remove(),i.View.prototype.remove.call(this)}});return m}),define("common/util/datetime/RelativeDate",["require","underscore"],function(e){"use strict";var t=e("underscore"),i=function(e,t,i){this.setKeyword(e),this.setSign(t),this.setNumber(i)};return i.prototype.setKeyword=function(e){this.keyword=e.toUpperCase()},i.prototype.setSign=function(e){this.sign=e},i.prototype.setNumber=function(e){if(t.isNumber(e))this.number=e;else{var i=parseInt(e,10);isNaN(i)?this.number=0:this.number=i}},i.prototype.toString=function(){return t.isNumber(this.number)&&!isNaN(this.number)&&this.number>0&&("+"===this.sign||"-"===this.sign)&&this.keyword in i.PATTERNS?this.keyword+this.sign+this.number.toString():this.keyword in i.PATTERNS?this.keyword:""},i.PATTERNS={DAY:/^(DAY)(([+|\-])(\d{1,9}))?$/i,WEEK:/^(WEEK)(([+|\-])(\d{1,9}))?$/i,MONTH:/^(MONTH)(([+|\-])(\d{1,9}))?$/i,QUARTER:/^(QUARTER)(([+|\-])(\d{1,9}))?$/i,SEMI:/^(SEMI)(([+|\-])(\d{1,9}))?$/i,YEAR:/^(YEAR)(([+|\-])(\d{1,9}))?$/i},i.parse=function(e){if(i.isValid(e))for(var n in i.PATTERNS){var s=i.PATTERNS[n].exec(e);if(null!==s&&t.isArray(s)&&5===s.length)return new i(s[1],s[3],s[4])}return void 0},i.isValid=function(e){if(e instanceof i)return""!==e.toString();if(t.isString(e))for(var n in i.PATTERNS)if(i.PATTERNS[n].test(e))return!0;return!1},i}),define("common/util/datetime/RelativeTimestamp",["require","common/util/datetime/RelativeDate","underscore"],function(e){"use strict";var t=e("common/util/datetime/RelativeDate"),i=e("underscore"),n=function(){t.apply(this,arguments)},s=function(){};return s.prototype=t.prototype,n.prototype=new s,n.prototype.constructor=n,n.PATTERNS={DAY:/^(DAY)(([+|\-])(\d{1,9}))?$/i,WEEK:/^(WEEK)(([+|\-])(\d{1,9}))?$/i,MONTH:/^(MONTH)(([+|\-])(\d{1,9}))?$/i,QUARTER:/^(QUARTER)(([+|\-])(\d{1,9}))?$/i,SEMI:/^(SEMI)(([+|\-])(\d{1,9}))?$/i,YEAR:/^(YEAR)(([+|\-])(\d{1,9}))?$/i},n.parse=function(e){if(n.isValid(e))for(var t in n.PATTERNS){var s=n.PATTERNS[t].exec(e);if(null!==s&&i.isArray(s)&&5===s.length)return new n(s[1],s[3],s[4])}return void 0},n.isValid=function(e){if(e instanceof n)return""!==e.toString();if(i.isString(e))for(var t in n.PATTERNS)if(n.PATTERNS[t].test(e))return!0;return!1},n}),define("common/util/parse/date",["require","moment","settings/localeSettings","underscore","common/util/datetime/RelativeDate","common/util/datetime/RelativeTimestamp"],function(e){"use strict";function t(e){var t=e;return t=e.indexOf("yy")>-1?t.replace("yy","YYYY"):t.replace("y","YY"),e.indexOf("mm")>-1?t=t.replace("mm","MM"):e.indexOf("MM")>-1?t=t.replace("MM","MMMM"):e.indexOf("m")>-1?t=t.replace("m","M"):e.indexOf("M")>-1&&(t=t.replace("M","MMM")),e.indexOf("dd")>-1?t=t.replace("dd","DD"):e.indexOf("DD")>-1?t=t.replace("DD","dddd"):e.indexOf("d")>-1?t=t.replace("d","D"):e.indexOf("D")>-1&&(t=t.replace("D","ddd")),t}function i(e){return e.toLowerCase().replace("hh","HH")}function n(e,n,s){var o=t(e),r=i(n);return o+(null!=s?s:" ")+r}function s(e){return S(e,t(C.dateFormat),!0)}function o(e){return S(e,n(C.dateFormat,C.timeFormat,C.timestampSeparator),!0)}function r(e){return x.isValid(e)}function a(e){return D.isValid(e)}function l(e){return E.isDate(e)&&S(e).isValid()||E.isString(e)&&""!==e&&s(e).isValid()}function c(e){return E.isDate(e)&&S(e).isValid()||E.isString(e)&&""!==e&&o(e).isValid()}function u(e){return S(e,M,!0).isValid()}function d(e,t){if(l(e)&&l(t)){var i=E.isDate(e)?S(e):s(e),n=E.isDate(t)?S(t):s(t);return p(i,n)}}function h(e,t){if(c(e)&&c(t)){var i=E.isDate(e)?S(e):o(e),n=E.isDate(t)?S(t):o(t);return p(i,n)}}function p(e,t){return e.isBefore(t)?-1:e.isAfter(t)?1:0}function f(e){var t=S(e);return E.isDate(e)&&t.isValid()?t.format(M):void 0}function m(e){var t=S(e,M,!0);return t.isValid()?t.toDate():void 0}function g(e){return w(e,n(C.dateFormat,C.timeFormat,C.timestampSeparator),M)}function v(e){return w(e,M,n(C.dateFormat,C.timeFormat,C.timestampSeparator))}function _(e){return w(e,t(C.dateFormat),I)}function b(e){return w(e,I,t(C.dateFormat))}function y(e){return w(e,i(C.timeFormat),N)}function T(e){return w(e,N,i(C.timeFormat))}function w(e,t,i){if(x.isValid(e))return e;var n=S(e,t,!0);return n.isValid()?n.format(i):e}var S=e("moment"),C=e("settings/localeSettings").localeSettings,E=e("underscore"),x=e("common/util/datetime/RelativeDate"),D=e("common/util/datetime/RelativeTimestamp"),M="YYYY-MM-DD[T]HH:mm:ss",I="YYYY-MM-DD",N="hh:mm:ss";return{isRelativeDate:r,isRelativeTimestamp:a,isDate:l,isTimestamp:c,isIso8601Timestamp:u,compareDates:d,compareTimestamps:h,dateObjectToIso8601Timestamp:f,iso8601TimestampToDateObject:m,localizedTimestampToIsoTimestamp:g,isoTimestampToLocalizedTimestamp:v,localizedDateToIsoDate:_,isoDateToLocalizedDate:b,localizedTimeToIsoTime:y,isoTimeToLocalizedTime:T}}),define("common/component/multiSelect/dataprovider/DataProviderWithLabelHash",["require","underscore","common/component/singleSelect/dataprovider/CacheableDataProvider"],function(e){"use strict";var t=e("underscore"),i=e("common/component/singleSelect/dataprovider/CacheableDataProvider"),n=function(){i.apply(this,arguments)};return t.extend(n.prototype,i.prototype),t.extend(n.prototype,{setData:function(e){i.prototype.setData.call(this,e),this.dataLabelsHash={};for(var t=0;t<this.data.length;t++)this.dataLabelsHash[this.data[t].value]=this.data[t].label},getDataLabelHash:function(){return this.dataLabelsHash}}),n}),define("common/component/multiSelect/mixin/resizableMultiSelectTrait",["require","underscore","jquery","../view/MultiSelect","jquery.ui"],function(e){"use strict";var t=e("underscore"),i=e("jquery"),n=e("../view/MultiSelect");e("jquery.ui");var s=10,o=3,r={_checkDataSize:function(){var e=this.resizableOptions,t=e.sizer,i=e.el,n=e.defaultItemsCount,s=this.availableItemsList.listViewModel.get("total");return this.resized?void t.removeClass("hidden"):void(s<=e.defaultItemsCount?(t.addClass("hidden"),i.css("height",this.calcHeightByItemsCount(s)+"px")):(t.removeClass("hidden"),i.css("height",this.calcHeightByItemsCount(n)+"px")))},makeResizable:function(e){if(e=e||{},!e.el||!e.sizer)throw"resizableMultiSelectTrait expect el and sizable to be defined";t.defaults(e,{defaultItemsCount:s,minItemsCount:o,sizerOptions:{}}),this.resizableOptions=e,e.el=i(e.el),e.sizer=i(e.sizer);var n=e.el,r=e.sizer,a=e.sizerOptions,l=e.minItemsCount,c=Math.max(e.defaultItemsCount,l),u=this.calcHeightByItemsCount(c);return t.defaults(a,{handles:{s:r},minHeight:this.calcHeightByItemsCount(l),stop:t.bind(function(){this.resize(),this.resized=!0},this)}),r.addClass(e.sizerClass),n.css("height",u+"px").resizable(a),this.listenTo(this.availableItemsList.model,"change:totalValues",this._checkDataSize,this),this},calcHeightByItemsCount:function(e){var t=this.availableItemsList.listView.itemHeight;return e*t+this.emptyContainerHeight},destroyResizable:function(){try{this.resizableOptions&&this.resizableOptions.el.resizable("destroy")}catch(e){}},enableResizable:function(){try{this.resizableOptions&&this.resizableOptions.el.resizable("disable")}catch(e){}},disableResizable:function(){try{this.resizableOptions&&this.resizableOptions.el.resizable("enable")}catch(e){}},remove:function(){this.destroyResizable(),n.prototype.remove.call(this)}};return r}),JRS.Controls=function(e,t,i){function n(e){this.set({selection:e})}function s(e){var t=e.toUpperCase().replace(/([\s]+$|^[\s]+)/g,"");return t.replace(/[\s]*(\+|\-)[\s]*/g,"$1")}function o(e,t){if(!e)return null;for(var i={},n=0;n<e.length;n++){var s=e[n];if(s.selected&&(i[n]=s.value,t))break}return i}var r;require(["common/util/parse/date"],function(e){r=e});var a,l,c,u,d,h;return require(["common/component/singleSelect/view/SingleSelect","common/component/multiSelect/view/MultiSelect","common/component/singleSelect/dataprovider/CacheableDataProvider","common/component/multiSelect/dataprovider/DataProviderWithLabelHash","common/component/singleSelect/dataprovider/SearcheableDataProvider","common/component/multiSelect/mixin/resizableMultiSelectTrait"],function(e,t,i,n,s,o){a=e,l=t,c=i,u=n,d=s,h=o}),t.extend(i,{Bool:i.BaseControl.extend({update:function(e){var t=this.getElem(),i=t.find("input");"true"==e?i.prop("checked",!0):i.removeAttr("checked")},bindCustomEventListeners:function(){this.getElem().on("change","input",t.bind(function(e){var t=null==e.target.getValue()?"false":"true";this.set({selection:t})},this))}}),SingleValueText:i.BaseControl.extend({update:function(e){var t=e==ControlsBase.NULL_SUBSTITUTION_VALUE?ControlsBase.NULL_SUBSTITUTION_LABEL:e,i=this.getElem();i&&(i.find("input").attr("value",t),i.find("input").val(t))},bindCustomEventListeners:function(){this.getElem().on("change","input",t.bind(function(e){var t=e.target.value,i=t==ControlsBase.NULL_SUBSTITUTION_LABEL?ControlsBase.NULL_SUBSTITUTION_VALUE:t;this.set({selection:i})},this))}}),SingleValueNumber:i.BaseControl.extend({update:function(e){this.getElem().find("input").attr("value",e),this.getElem().find("input").val(e)},bindCustomEventListeners:function(){this.getElem().on("change","input",t.bind(function(e){this.set({selection:e.target.value})},this))}}),SingleValueDate:i.BaseControl.extend({initialize:function(e){this.baseRender(e),e.visible&&this.setupCalendar()},get:function(e){var t=i.BaseControl.prototype.get.call(this,e);return r.localizedDateToIsoDate(t)},set:function(e,t){e.values&&(e.values=r.isoDateToLocalizedDate(e.values)),i.BaseControl.prototype.set.call(this,e,t)},setupCalendar:function(){var i=this.getElem().find("input");i.datepicker({showOn:"button",dateFormat:JRS.i18n.bundledCalendarFormat,changeMonth:!0,changeYear:!0,showButtonPanel:!0,disabled:i[0].disabled,onSelect:t.bind(n,this),onChangeMonthYear:null,beforeShow:e.datepicker.movePickerRelativelyToTriggerIcon,constrainInput:!1}),i.change(t.bind(function(t){t.stopPropagation(),e(t.target).val(s(t.target.value)),n.call(this,e(t.target).val())},this)),i.after("&nbsp;");var o=this.getElem().find("button");o.wrap(ControlsBase.CALENDAR_ICON_SPAN).empty()},update:function(e){var t=this.getElem();t.find("input").attr("value",e),t.find("input").val(e)}}),SingleValueDatetime:i.BaseControl.extend({initialize:function(e){this.baseRender(e),e.visible&&this.setupCalendar()},setupCalendar:function(){var i=this.getElem().find("input");i.datetimepicker({showOn:"button",dateFormat:JRS.i18n.bundledCalendarFormat,timeFormat:JRS.i18n.bundledCalendarTimeFormat,showSecond:!0,changeMonth:!0,changeYear:!0,showButtonPanel:!0,disabled:i[0].disabled,onSelect:t.bind(n,this),onChangeMonthYear:null,beforeShow:e.datepicker.movePickerRelativelyToTriggerIcon,constrainInput:!1}),i.change(t.bind(function(t){t.stopPropagation(),e(t.target).val(s(t.target.value)),n.call(this,e(t.target).val())},this)),i.after("&nbsp;");var o=this.getElem().find("button");o.wrap(ControlsBase.CALENDAR_ICON_SPAN).empty()},get:function(e){var t=i.BaseControl.prototype.get.call(this,e);return r.localizedTimestampToIsoTimestamp(t)},set:function(e,t){e.values&&(e.values=r.isoTimestampToLocalizedTimestamp(e.values)),i.BaseControl.prototype.set.call(this,e,t)},update:function(e){var t=this.getElem();t.find("input").attr("value",e),t.find("input").val(e)}}),SingleValueTime:i.BaseControl.extend({initialize:function(e){this.baseRender(e),e.visible&&this.setupCalendar()},setupCalendar:function(){var i=this.getElem().find("input");i.timepicker({showOn:"button",timeFormat:JRS.i18n.bundledCalendarTimeFormat,showSecond:!0,disabled:i[0].disabled,onClose:t.bind(n,this),beforeShow:e.datepicker.movePickerRelativelyToTriggerIcon,constrainInput:!1}),i.change(t.bind(function(t){t.stopPropagation(),e(t.target).val(s(t.target.value)),n.call(this,e(t.target).val())},this)),i.after("&nbsp;");var o=this.getElem().find("button");o.wrap(ControlsBase.CALENDAR_ICON_SPAN).empty()},get:function(e){var t=i.BaseControl.prototype.get.call(this,e);return r.localizedTimeToIsoTime(t)},set:function(e,t){e.values&&(e.values=r.isoTimeToLocalizedTime(e.values)),i.BaseControl.prototype.set.call(this,e,t)},update:function(e){var t=this.getElem();t.find("input").attr("value",e),t.find("input").val(e)}}),SingleSelect:i.BaseControl.extend({baseRender:function(n){this.singleSelect||(this.dataProvider=new c,this.singleSelect=new a({getData:this.dataProvider.getData}).setDisabled(n.readOnly)),n&&t.extend(this,n);var s=i.TemplateEngine.createTemplate(this.type);if(s){this.singleSelect.undelegateEvents();var o=e(s(this));this.singleSelect.render().renderData(),o.find(".ssPlaceholder").append(this.singleSelect.el),this.setElem(o),this.singleSelect.delegateEvents()}},update:function(e){this.dataProvider.setData(e);var t=this;this.singleSelect.fetch(function(){t.singleSelect.setValue(o(e,!0),{silent:!0})})},bindCustomEventListeners:function(){this.singleSelect.off("selection:change").on("selection:change",function(e){this.set({selection:e})},this)}}),MultiSelect:i.BaseControl.extend({baseRender:function(n){var s=this;this.multiSelect||(this.dataProvider=new u,this.multiSelect=new l({getData:new d({getData:this.dataProvider.getData}).getData,selectedListOptions:{formatLabel:function(e){return s.dataProvider.getDataLabelHash()[e]}}}).setDisabled(n.readOnly),this._resize=t.debounce(t.bind(this.multiSelect.resize,this.multiSelect),500)),n&&t.extend(this,n);var o=i.TemplateEngine.createTemplate(this.type);if(o){this.multiSelect.undelegateEvents();var r=e(o(this));this.multiSelect.render().renderData(),r.find(".msPlaceholder").append(this.multiSelect.el),this.setElem(r),this.multiSelect.delegateEvents()}},update:function(e){this.dataProvider.setData(e);var t=this;this.multiSelect.fetch(function(){var i=o(e);t.multiSelect.setValue(i,{silent:!0}),t._resize()})},bindCustomEventListeners:function(){this.multiSelect.off("selection:change").on("selection:change",function(e){this.set({selection:e})},this)},get:function(e){var i=this[e];return"selection"==e&&t.isEmpty(i)?[ControlsBase.NOTHING_SUBSTITUTION_VALUE]:i},makeResizable:function(){t.extend(this.multiSelect,h),this.multiSelect.makeResizable({el:this.getElem().find(".msPlaceholder"),sizer:this.getElem().find(".msPlaceholder").parents(".leaf").find(".sizer").removeClass("hidden"),sizerClass:"ui-resizable-handle ui-resizable-s"})}}),SingleSelectRadio:i.BaseControl.extend({update:function(n){var s=((new Date).getTime(),this.getElem().find("ul")[0]),o=t.map(n,function(e){var i=t.clone(e);return i.readOnly=this.readOnly,i.name=this.getOptionName(),i.uuid=t.uniqueId(this.id),i},this),r=this.getTemplateSection("data");i.Utils.setInnerHtml(s,r,{data:o}),s.innerHTML+="&nbsp;",e(s).find("li").length<5&&this.getElem()[0].clientHeight<125?(this.getElem().find(".sizer").addClass("hidden"),this.getElem().find(".inputSet").removeClass("sizable").attr("style",!1)):this.resizable&&(this.getElem().find(".sizer").removeClass("hidden"),this.getElem().find(".inputSet").addClass("sizable"))},getOptionName:function(){return this.id+"_option"},bindCustomEventListeners:function(){this.getElem().on("change","input",t.bind(function(e){var t=e.target.value,i=this;setTimeout(function(){i.set({selection:t})})},this))},makeResizable:function(){this.resizable=!0;var e=this.getElem().find("ul"),t=this.getElem().find(".sizer").removeClass("hidden");t.addClass("ui-resizable-handle ui-resizable-s"),e.resizable({handles:{s:t}})}}),MultiSelectCheckbox:i.BaseControl.extend({update:function(n){var s=t.map(n,function(e){var i=t.clone(e);return i.readOnly=this.readOnly,i.uuid=t.uniqueId(this.id),i},this),o=this.getElem().find("ul")[0],r=this.getTemplateSection("data");i.Utils.setInnerHtml(o,r,{data:s}),e(o).find("li").length<5&&this.getElem()[0].clientHeight<125?(this.getElem().find(".sizer").addClass("hidden"),this.getElem().find(".inputSet").removeClass("sizable").attr("style",!1)):this.resizable&&(this.getElem().find(".sizer").removeClass("hidden"),this.getElem().find(".inputSet").addClass("sizable"))},getSelection:function(){var i=this.getElem().find(":checkbox").filter(":checked");return t.map(i,function(t){return e(t).val()})},bindCustomEventListeners:function(){this.getElem().on("change","input",t.bind(function(e){var t=this.getSelection(),i=this;setTimeout(function(){i.set({selection:t})})},this)),this.getElem().on("click","a",t.bind(function(i){var n=this.getElem().find("input"),s=e(i.target)[0].name;"multiSelectAll"===s||"multiSelectNone"===s?t.each(n,function(e){e.checked="multiSelectAll"===s}):"multiSelectInverse"===s&&t.each(n,function(e){e.checked=!e.checked}),this.getElem().find("input").change()},this))},get:function(e){var i=this[e];return"selection"==e&&t.isEmpty(i)?[ControlsBase.NOTHING_SUBSTITUTION_VALUE]:i},makeResizable:function(){this.resizable=!0;var e=this.getElem().find("ul"),t=this.getElem().find(".sizer").removeClass("hidden");t.addClass("ui-resizable-handle ui-resizable-s"),e.resizable({handles:{s:t}})}})})}(jQuery,_,JRS.Controls),define("controls.components",["jquery","underscore","controls.basecontrol","config/datepickerSettings","config/timepickerSettings","common/component/singleSelect/view/SingleSelect","common/component/multiSelect/view/MultiSelect","common/component/singleSelect/dataprovider/CacheableDataProvider","common/util/parse/date"],function(e){return function(){var t;return t||e.JRS.Controls}}(this)),function(e){e.Report={_messages:{},_scroll:null,pageActions:{},viewReportForm:null,pageIndex:0,lastPageIndex:0,pageTimestamp:null,checkPageUpdatedTimeoutId:null,emptyReport:!0,reportForceControls:!1,hasInputControls:!1,reportControlsLayout:null,refreshReportCanceled:!1,reportParameterValues:null,allRequestParameters:null,requestedInputParameters:{},parametersWithoutDefaultValues:null,isLoaded:!1,EXPORT_ACTION_FORM:"exportActionForm",TOOLBAR_SUBMENU:"toolbarText",PAGINATION_CONTAINER:"pagination",PAGINATION_PAGE_FIRST:"page_first",PAGINATION_PAGE_PREV:"page_prev",PAGINATION_PAGE_CURRENT:"page_current",PAGINATION_PAGE_NEXT:"page_next",PAGINATION_PAGE_LAST:"page_last",PAGINATION_PAGE_TOTAL:"page_total",DATA_TIMESTAMP_SPAN:"dataTimestampMessage",DATA_REFRESH_BUTTON:"dataRefreshButton",ASYNC_CANCEL_BUTTON:"asyncCancel",getMessage:function(e,t){var i=this._messages[e];return i?new Template(i).evaluate(t?t:{}):""},commonInit:function(e){var t=jQuery("#"+ajax.LOADING_ID);t.length>0&&(t.addClass(layoutModule.CANCELLABLE_CLASS),t.find("#cancel").click(function(){Report.cancelReportExecution()})),document.location.href.indexOf("frame=0")>0&&(jQuery("#reportViewFrame > .content > .header").hide(),jQuery("#reportViewFrame").css("margin",0),jQuery("#innerPagination").css("margin","none"),jQuery("#reportViewFrame > .content > .body").css({top:0,"margin-top":0}))},navigateToReportPage:function(e,t,i){viewer.jive&&viewer.jive.hide(),viewer.reportInstance.gotoPage(e)},goToPage:function(e){parseInt(e,10)&&parseInt(e,10)>0&&(null==Report.lastPageIndex||parseInt(e,10)<=Report.lastPageIndex+1)?Report.navigateToReportPage(parseInt(e,10)-1):doNothing()},reportExecutionKey:function(){return Report.flowExecutionKeyOutput?Report.flowExecutionKeyOutput:window.dashboardViewFrame?dashboardViewFrame.flowExecutionKey:Report.flowExecutionKey},refreshReport:function(e,t,i){var n=/(\?|&)output=([^&]*)/.exec(location.href),s=n&&3===n.length?n[2]:"";dialogs.popup.show($(ajax.LOADING_ID),!0),e=e||{},e._flowExecutionKey=e._flowExecutionKey?e._flowExecutionKey:Report.reportExecutionKey(),e._eventId=e._eventId?e._eventId:"refreshReport",e.decorate="no",e.confirm="true",e.decorator="empty",e.ajax||(e.ajax="true");var o="flow.html?"+Object.toQueryString(e);return Report.requestedInputParameters=i?i:this.getParametersFromRequest(),e.freshData&&(Report.requestedInputParameters+="&freshData=true"),""===s||"html"===s?Report.isLoaded?(viewer.reportInstance.eventManager.triggerEvent("beforeAction",{name:"beforeAction",type:"reportRefresh"}),viewer.reportInstance.refreshPage(0)):viewer.loadReport().always(function(){Report.isLoaded=!0}):"pdf"===s||"swf"===s?Report.exportReport(s,o):void(window.location.href=o+"&"+Report.requestedInputParameters)},cancelReportExecution:function(){document.body.style.cursor="default",dialogs.popup.hide($(ajax.LOADING_ID)),viewer.reportInstance?viewer.reportInstance.cancelExecution().then(function(){Report.isLoaded||Report.goBack()},function(){}):Report.goBack()},getParametersFromRequest:function(){return ControlsBase.buildParams(Report.getAllRequestParameters())},getAllRequestParameters:function(){return _.isObject(Report.allRequestParameters)?Report.allRequestParameters:{}},canSaveReport:function(){return!Report.isReportReadOnly},confirmExit:function(){return!0},confirmAndLeave:function(){return Report.confirmExit()?Report.closeViewerOnExit:!1},closeViewerOnExit:function(e){viewer.exit().then(function(){e()})},showAjaxDialog:function(){dialogs.popup.show($(ajax.LOADING_ID),!0)},hideAjaxDialog:function(){dialogs.popup.hide($(ajax.LOADING_ID))}}}(window),define("report.view.base",["jquery","underscore","controls.basecontrol","controls.base","core.ajax"],function(e){return function(){var t;return t||e.Report}}(this)),jQuery.url=function(e){function t(e){for(var t="",i=0,n=0,s=0;i<e.length;)n=e.charCodeAt(i),128>n?(t+=String.fromCharCode(n),i++):n>191&&224>n?(s=e.charCodeAt(i+1),t+=String.fromCharCode((31&n)<<6|63&s),i+=2):(s=e.charCodeAt(i+1),c3=e.charCodeAt(i+2),t+=String.fromCharCode((15&n)<<12|(63&s)<<6|63&c3),i+=3);return t}function i(t,i){var n={},s={"true":!0,"false":!1,"null":null};return e.each(t.replace(/\+/g," ").split("&"),function(t,o){var a,l=o.split("="),c=r(l[0]),u=n,d=0,h=c.split("]["),p=h.length-1;if(/\[/.test(h[0])&&/\]$/.test(h[p])?(h[p]=h[p].replace(/\]$/,""),h=h.shift().split("[").concat(h),p=h.length-1):p=0,2===l.length)if(a=r(l[1]),i&&(a=a&&!isNaN(a)?+a:"undefined"===a?void 0:void 0!==s[a]?s[a]:a),p)for(;p>=d;d++)c=""===h[d]?u.length:h[d],u=u[c]=p>d?u[c]||(h[d+1]&&isNaN(h[d+1])?{}:[]):a;else e.isArray(n[c])?n[c].push(a):void 0!==n[c]?n[c]=[n[c],a]:n[c]=a;else c&&(n[c]=i?void 0:"")}),n}function n(e){e=e||window.location;for(var t=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],s=t.exec(e),o={},r=n.length;r--;)o[n[r]]=s[r]||"";return o.query&&(o.params=i(o.query,!1)),o}function s(t){if(t.source)return encodeURI(t.source);var i=[];return t.protocol&&("file"==t.protocol?i.push("file:///"):"mailto"==t.protocol?i.push("mailto:"):i.push(t.protocol+"://")),t.authority?i.push(t.authority):(t.userInfo?i.push(t.userInfo+"@"):t.user&&(i.push(t.user),t.password&&i.push(":"+t.password),i.push("@")),t.host&&(i.push(t.host),t.port&&i.push(":"+t.port))),t.path?i.push(t.path):(t.directory&&i.push(t.directory),t.file&&i.push(t.file)),t.query?i.push("?"+t.query):t.params&&i.push("?"+e.param(t.params)),t.anchor&&i.push("#"+t.anchor),i.join("")}function o(e){return encodeURIComponent(e)}function r(e){return t(unescape(e.replace(/\+/g," ")))}return{encode:o,decode:r,parse:n,build:s}}(jQuery),define("jquery.urldecoder",["jquery"],function(e){return function(){var t;return t||e.jQuery}}(this)),function(e,t,i){function n(t){var i=e.url.parse(location.href).params;return i&&i[t]}return t.extend(i,{Controller:i.Base.extend({constructor:function(n){this.viewModel=n&&n.viewModel?n.viewModel:new i.ViewModel,this.dataTransfer=n&&n.dataTransfer?n.dataTransfer:new i.DataTransfer({dataConverter:new i.DataConverter}),this.initialize(n),i.listen({"viewmodel:selection:changed":t.bind(function(e,t,i,n){t&&n&&this.updateControlsValues(t,i)},this),"reportoptions:selection:changed":t.bind(function(e,t){var i=t&&t.reportOption,n=t&&t.selectedData;this.reset(i&&i.uri,n)},this)}),i.getController=t.bind(function(){return this},this),t.bindAll(this),e(document).trigger("controls:initialized",[this.getViewModel()])},initialize:function(e){this.dataTransfer.setReportUri(this.detectReportUri(e))},fetchControlsStructure:function(e,i){var n=this.dataTransfer,s=this.viewModel,o=i&&!t.isEmpty(e)?t.keys(e):[];return n.fetchControlsStructure(o,e).done(function(e){e&&s.set({structure:e.structure,state:e.state})})},detectReportUri:function(e){if(this.reportUri=e&&e.reportUri||n("reportUnitURI"),!this.reportUri)throw Error("Can't initialize without reportUri");return this.reportOptionUri=e&&e.reportOptionUri||n("reportOptionsURI"),this.getReportUri()},getReportUri:function(){return this.reportOptionUri||this.reportUri},getDataTransfer:function(){return this.dataTransfer},getViewModel:function(){return this.viewModel},updateControlsValues:function(e,i){var n=this.getDataTransfer(),s=this.getViewModel(),o=i||t.map(s.getControls(),function(e){return e.id});return n.fetchControlsUpdatedValues(o,e).done(s.set)},reset:function(e,t){return this.getDataTransfer().fetchInitialControlValues(e||this.getReportUri(),t).done(this.getViewModel().set)},update:function(e){return e||(e=this.getViewModel().get("selection")),this.updateControlsValues(e)},validate:function(){var e=this.getDataTransfer(),i=this.getViewModel(),n=t.map(i.getControls(),function(e){return e.id}),s=i.get("selection");return e.fetchControlsUpdatedValues(n,s).then(function(e){var n=t(e.state).reduce(function(e,t,i){return e[i]={error:t.error},e},{});i.set({state:n})}).then(function(){return i.areAllControlsValid()})}})})}(jQuery,_,JRS.Controls),define("controls.controller",["jquery","underscore","controls.core","controls.datatransfer","controls.viewmodel","controls.components","report.view.base","jquery.urldecoder"],function(e){return function(){var t;return t||e.JRS.Controls}}(this)),define("text!scheduler/template/editor/parametersTabTemplate.htm",[],function(){return'<div class="parametersTab">\n\n	{{ if (config.isProVersion) { }}\n	<div class="saveCurrentValuesContainer">\n		<button name="saveCurrentValuesButton" id="save" type="button" class="button options up ">\n			<span class="wrap">{{- i18n[\'report.scheduling.job.edit.parameters.save\'] }}</span><span class="icon"></span>\n		</button>\n	</div>\n	{{ } }}\n\n	<ul class="list inputControls inputControlsContainer" id="inputControlsContainer"></ul>\n\n	<!-- The next block needed just to create standard for Scheduler behavior, when we are switching to the\n	tab where the error happened. To indicate what on this tab an error happened we introduce dummy control, which may have\n	special error class. The warning element is also dummy -->\n	<label class="hidden">\n		<input type="text" name="parametersErrorNotifierStub" class="">\n		<span class="message warning" data-field="parametersErrorNotifierStub"></span>\n	</label>\n</div>'}),define("scheduler/view/editor/parametersTabView",["require","controls.options","controls.controller","jquery","underscore","bundle!all","jrs.configs","backbone","text!scheduler/template/editor/parametersTabTemplate.htm"],function(e){"use strict";e("controls.options"),e("controls.controller");var t=e("jquery"),i=e("underscore"),n=e("bundle!all"),s=e("jrs.configs"),o=e("backbone"),r=e("text!scheduler/template/editor/parametersTabTemplate.htm");return i.extend(ControlsBase,s.inputControlsConstants),o.View.extend({events:{"click [name=saveCurrentValuesButton]":"saveCurrentValuesClick"},initialize:function(e){this.options=i.extend({},e),this.listenTo(this.model,"change:source",this.sourceChange),this.listenTo(this.model,"change:source",this.sourceChange2),t(document).on("viewmodel:values:changed",i.bind(this.viewModelValuesChange,this))},remove:function(){this.reportOptionsDialog&&this.reportOptionsDialog.remove(),o.View.prototype.remove.apply(this,arguments)},render:function(){this.setElement(t(i.template(r,{i18n:n,config:s}))),s.isProVersion&&(this.reportOptions=new JRS.Controls.ReportOptions,t(document).on("viewmodel:selection:changed",i.bind(this.viewModelSelectionChange,this)),this.reportOptionsDialog=new OptionsDialog({"button#saveAsBtnSave":i.bind(this.saveAsDialogButtonSaveClick,this),"button#saveAsBtnCancel":i.bind(this.saveAsDialogButtonCancelClick,this)}))},saveCurrentValuesClick:function(){this.reportOptionsDialog.show()},saveAsDialogButtonSaveClick:function(){var e=this,i=this.reportOptionsDialog.input.getValue(),n=this.model.controlsController.getViewModel().get("selection"),s=i===this.reportOptionsDialog.optionNameToOverwrite;t.when(this.reportOptions.add(this.reportOptions.optionsUrl||this.reportOptions.url,i,n,s)).done(function(){e.reportOptionsDialog.hideWarning();var t=e.reportOptions.getElem().parent();0===t.length&&(t=e.$el.find(".saveCurrentValuesContainer"),t.prepend(e.reportOptions.getElem())),e.reportOptionsDialog.hide(),delete e.reportOptionsDialog.optionNameToOverwrite}).fail(function(n){try{var o=t.parseJSON(n.responseText);"report.options.dialog.confirm.message"===o.errorCode&&!s&&(e.reportOptionsDialog.optionNameToOverwrite=i),e.reportOptionsDialog.showWarning(o.message)}catch(r){}})},saveAsDialogButtonCancelClick:function(){this.reportOptionsDialog.hide()},sourceChange:function(e,t){var i=t&&t.reportUnitURI,n=this.model.get("source").parameters;if(n){var s=n.parameterValues;for(var o in s)s.hasOwnProperty(o)&&null===s[o]&&delete s[o];this.reportOptions&&(this.reportOptions.url=void 0),this.model.controlsController=new JRS.Controls.Controller({reportUri:i,reportOptionUri:"",preSelectedData:s});var r=this;this.model.controlsController.fetchControlsStructure(s).done(function(){r.trigger("IC_Displayed")}).fail(function(){r.trigger("failedToGet_IC")})}},sourceChange2:function(e,i){var n=this,s=i&&i.reportUnitURI;if(this.reportOptions&&s!==this.reportOptions.url){this.reportOptions.optionsUrl=void 0,this.model.resource("reportOptions",function(e,i){e||(n.reportOptions.optionsUrl=i.reportUri,t.when(n.reportOptions.fetch(i.reportUri||s,"")).done(function(){n.$el.find(".saveCurrentValuesContainer").prepend(n.reportOptions.getElem()),t(document).trigger("viewmodel:selection:changed")}))});var o=this.model.get("repositoryDestination").folderURI;this.model.checkPermissionOnFolder(o,function(e,t){var i=!1;e||(i=1===t||30===t),n.$el.find("[name=saveCurrentValuesButton]").attr("disabled",i?null:"disabled")}),this.reportOptions.url=s}},viewModelValuesChange:function(){this.model.set("source",{reportUnitURI:this.model.get("source").reportUnitURI,parameters:{parameterValues:this.model.controlsController.getViewModel().get("selection")}},{validate:!1,silent:!0})},viewModelSelectionChange:function(){var e=this.reportOptions.find({uri:this.reportOptions.url});this.reportOptions.set({selection:e},!0)}})});var dynamicTree={trees:{},nodes:{},treeNodeEdited:null,editaborted:!1,activeTreeId:null,Tree:function(e,t){this.id=e,t?(this.setRootNode(t.root),this.bShowRoot=!!t.bShowRoot,this.handleNodeOnDblclick=void 0!==t.handleNodeOnDblclick?t.handleNodeOnDblclick:!0,this.multiSelectEnabled=!!t.multiSelectEnabled,this.showAllNodesOnStartup=!!t.showAllNodesOnStartup,this.treeClassName=t.treeClassName?t.treeClassName:"",this.dragPattern=t.dragPattern,this.dragClasses=t.dragClasses,this.dropClasses=t.dropClasses,this.selectOnMousedown=t.selectOnMousedown,this.regionID=t.regionID,this.scroll=t.scroll,this.templateDomId=t.templateDomId?t.templateDomId:this.DEFAULT_TREE_TEMPLATE_ID):(this.templateDomId=this.DEFAULT_TREE_TEMPLATE_ID,this.handleNodeOnDblclick=!0),this.stateObject={},this.sortNodes=!0,this.sorters=[this.sortByOrder,this.sortByName],this.selectedNodes=[],this.TREE_NN_ITEMS_SELECTED="#{count} items selected",dynamicTree.trees[this.id]=this,this._createFromTemplate(),this.refreshStyle(),this._registerEvents(),this._registerCustomScroll()},getNextId:function(){var e=1;return function(){return e++}}(),getActiveTree:function(){return dynamicTree.trees[dynamicTree.activeTreeId]},getTreeNode:function(e){return dynamicTree.nodes[e];
},getStorageVal:function(e){var t=JSON.parse(window.localStorage.getItem("dynamicTree"))||{};return t[e]||null},setStorageVal:function(e,t){var i=window.localStorage,n=JSON.parse(i.getItem("dynamicTree"))||{};n[e]=t;try{i.setItem("dynamicTree",JSON.stringify(n))}catch(s){window.console&&console.log(s)}},_templateHash:{}};dynamicTree.Tree.addVar("DEFAULT_TREE_TEMPLATE_ID","list_responsive_collapsible"),dynamicTree.Tree.addVar("HIDE_ROOT_CLASS_NAME","hideRoot"),dynamicTree.Tree.addMethod("getId",function(){return this.id}),dynamicTree.Tree.addMethod("_getElement",function(){return this._element||(this._element=$(this.id)),this._element}),dynamicTree.Tree.addMethod("_createFromTemplate",function(){this._getElement()&&(this._getElement().insert({after:this._getTemplateElement(this._getElement())}),this._getElement().remove(),this._element=null,this._getElement().update())}),dynamicTree.Tree.addMethod("_registerCustomScroll",function(){if(!this.scroll&&this._getElement()){var e=this._getElement().up(layoutModule.SWIPE_SCROLL_PATTERN);if(e){var t=layoutModule.scrolls.get(e.identify());t&&(this.scroll=t)}}}),dynamicTree.Tree.addMethod("setRootNode",function(e){this.rootNode=e,this.rootNode&&(this.rootNode.treeId=this.id)}),dynamicTree.Tree.addMethod("getRootNode",function(){return this.rootNode}),dynamicTree.Tree.addMethod("refreshStyle",function(){var e=this._getElement();e.templateClassName&&(e.className=e.templateClassName),this.treeClassName&&e.addClassName(this.treeClassName),this.bShowRoot?e.removeClassName(this.HIDE_ROOT_CLASS_NAME):e.addClassName(this.HIDE_ROOT_CLASS_NAME)}),dynamicTree.Tree.addMethod("resetSelected",function(){this._prevSelectedNodes=this.selectedNodes.clone(),this.selectedNodes=[]}),dynamicTree.Tree.addMethod("revertSelection",function(e){var t=this._prevSelectedNodes.clone();t=t.concat(this.selectedNodes),this.selectedNodes=this._prevSelectedNodes.clone();for(var i=0;i<t.length;i++)t[i].refreshStyle()}),dynamicTree.Tree.addMethod("getSelectedNode",function(){return 0===this.selectedNodes.length?null:this.selectedNodes[0]}),dynamicTree.Tree.addMethod("addNodeToSelected",function(e){this.selectedNodes.push(e),this._prevSelectedNodes=this.selectedNodes.clone()}),dynamicTree.Tree.addMethod("removeNodeFromSelected",function(e){for(var t=0;t<this.selectedNodes.length;t++)if(this.selectedNodes[t]==e)return this._prevSelectedNodes=this.selectedNodes.clone(),void this.selectedNodes.splice(t,1)}),dynamicTree.Tree.addMethod("isNodeSelected",function(e){var t=this.selectedNodes&&this.selectedNodes.length;if(t)for(var i=0;t>i;i++)if(this.selectedNodes[i]==e)return!0;return!1}),dynamicTree.Tree.addMethod("resortSubtree",function(e){if(e){e.resortChilds();for(var t=0;t<e.childs.length;t++)this.resortSubtree(e.childs[t])}}),dynamicTree.Tree.addMethod("resortTree",function(){this.sortNodes&&this.resortSubtree(this.rootNode)}),dynamicTree.Tree.addMethod("readStates",function(){var e=dynamicTree.getStorageVal("tree"+this.id);if(e)for(var t in e)this.stateObject[t]=e[t]}),dynamicTree.Tree.addMethod("getState",function(e){var t,i=this.stateObject;return i[e]?(t=i[e],(null===t||""===t)&&(t=dynamicTree.TreeNode.State.CLOSED),t):dynamicTree.TreeNode.State.CLOSED}),dynamicTree.Tree.addMethod("writeStates",function(e,t){var i={},n=this.stateObject;for(var s in n)i[s]=n[s];n[e]=t,null!=t&&(i[e]=t),dynamicTree.setStorageVal("tree"+this.id,i)}),dynamicTree.Tree.addMethod("resetStates",function(){this.stateObject={},dynamicTree.setStorageVal("tree"+this.id,"")}),dynamicTree.Tree.addMethod("comparer",function(e,t){var i,n;if(this.sorters&&this.sorters.length)for(i=0;i<this.sorters.length;i++)if(n=this.sorters[i](e,t),0!==n)return n;return 0}),dynamicTree.Tree.addMethod("renderTree",function(){this.readStates(),this.stopWaiting(),this.refreshStyle();var e=this._getElement();this.rootNode&&(this.writeStates(this.rootNode.id,dynamicTree.TreeNode.State.OPEN),this.rootNode.showNode(),this.rootNode.render(e),this.refreshScroll())}),dynamicTree.Tree.addMethod("refreshScroll",function(e){e?setTimeout(function(){this.scroll&&this.scroll.refresh()}.bind(this),e):this.scroll&&this.scroll.refresh()}),dynamicTree.Tree.addMethod("binarySearchOfNode",function(e,t){for(var i=0,n=e.length-1;n>=i;){var s=Math.round((i+n)/2),o=e[s];if(this.comparer(o,t)<0)i=s+1;else{if(!(this.comparer(o,t)>0))return s;n=s-1}}return-(i+1)}),dynamicTree.Tree.addMethod("_deselectAllNodes",function(e){if(this.selectedNodes.length>0){var t=this.selectedNodes.clone();this.resetSelected();for(var i=0;i<t.length;i++)t[i].refreshStyle();if(e){var n=dynamicTree.trees[this.id];n.fireUnSelectAllEvent(e)}}}),dynamicTree.Tree.addMethod("_selectOrEditNode",function(e,t,i,n,s,o){var r,a,l,c=t.isSelected()&&s,u=this.multiSelectEnabled&&t.isSelected()&&i&&!c,d=t.isSelected()&&dynamicTree.treeNodeEdited!==t&&!this.multiSelectEnabled&&!i&&!c,h=null!=dynamicTree.treeNodeEdited&&(m||u),p=this.multiSelectEnabled&&!t.isSelected()&&n&&isNotNullORUndefined(this._lastSelectedNode)&&this._lastSelectedNode.parent===t.parent,f=this.multiSelectEnabled&&t.isSelected()&&n&&isNotNullORUndefined(this._lastSelectedNode)&&this._lastSelectedNode.parent===t.parent,m=!this.multiSelectEnabled&&!t.isSelected()||this.multiSelectEnabled&&!i&&!t.isSelected(),g=!t.isSelected()||m&&this.selectedNodes.length>1;if(n&&this._lastSelectedNode||(this._lastSelectedNode=t),u&&t.deselect(e),m&&this._deselectAllNodes(e),d)return void t.edit(e);if(h&&dynamicTree.treeNodeEdited.doEndEdit(e),p||f){l=t.parent;var v=l.childs.indexOf(this._lastSelectedNode),_=l.childs.indexOf(t);r=Math.min(v,_),a=Math.max(v,_)}if(p)if(r>-1)for(var b=r;a>=b;b++)l.childs[b].select(e);else l.childs[a].select(e);else if(f){for(var b=0;r>b;b++)l.childs[b].deselect(e);for(var b=a+1;b<l.childs.length;b++)l.childs[b].deselect(e)}else g&&t.select(e,t.nofocus,o)}),dynamicTree.Tree.addMethod("_deselectOthers",function(e,t,i,n,s){var o=this.multiSelectEnabled&&this.selectedNodes.length>1&&t.isSelected()&&!(i||n||s);o&&this.selectedNodes.findAll(function(e){return e!=t}.bind(this)).invoke("deselect",e)}),dynamicTree.Tree.addMethod("_selectNextNode",function(e,t){function i(e){return e=e.parent,e?e.nextSibling?e.nextSibling:i(e):null}var n=e.isOpen()&&e.getFirstChild()||e.nextSibling||i(e);n&&e.deselect()&&n.select(t)}),dynamicTree.Tree.addMethod("_selectPreviousNode",function(e,t){function i(e){return!(e.isOpen()&&e.hasChilds())&&e||i(e.getLastChild())}var n=e.prevSibling&&i(e.prevSibling)||e.parent;n&&e.deselect()&&n.select(t)}),dynamicTree.Tree.addMethod("_selectInwards",function(e,t){var i=e.isOpen()&&e.getFirstChild();i?e.deselect()&&i.select(t):e.handleNode(t)}),dynamicTree.Tree.addMethod("_selectOutwards",function(e,t){if(!e.isHiddenRootNode()){var i=e.isOpen()?null:e.parent;i?e.deselect()&&i.select(t):e.handleNode(t)}}),dynamicTree.Tree.addMethod("sortByOrder",function(e,t){var i=e.orderNumber,n=t.orderNumber;return null==i&&null==n?0:null==i?1:null==n?-1:i-n}),dynamicTree.Tree.addMethod("sortByName",function(e,t){var i=e.name.toLowerCase(),n=t.name.toLowerCase();return i>n?1:n>i?-1:0}),dynamicTree.Tree.addVar("TREE_WAIT_TEMPLATE_DOM_ID","list_responsive_collapsible:loading"),dynamicTree.Tree.addMethod("wait",function(){$(this.id).update($(this.TREE_WAIT_TEMPLATE_DOM_ID).cloneNode(!0))}),dynamicTree.Tree.addMethod("stopWaiting",function(){$(this.id).update("")}),dynamicTree.Tree.addMethod("_getTemplateElement",function(e){var t=this.templateDomId,i=$(t).cloneNode(!0);return i.writeAttribute("id",this.getId()),i.templateId=t,i.templateClassName=i.className,cloneCustomAttributes(e,i),i}),define("dynamicTree.tree",["prototype","dragdrop.extra","touchcontroller","utils.common","core.layout","json3"],function(e){return function(){var t;return t||e.dynamicTree}}(this)),dynamicTree.TreeNode=function(e){this.id=dynamicTree.getNextId(),this.treeId=null,this.name=null!=e.name?e.name:this.DEFAULT_NAME,this.param=null!=e.param?e.param:{},this.orderNumber=null!=e.orderNumber?e.orderNumber:null,this.childs=[],this.parent=null,this.Types={Folder:new dynamicTree.TreeNode.Type(this.FOLDER_TYPE_NAME)},this.isloaded=!1,this.delayedRendering=!0,this.haschilds=!1,this.editable=!1,this.isWaiting=!1,this.hidden=!1,this.isDropTarget=!1,dynamicTree.nodes[this.id]=this},dynamicTree.TreeNode.Type=function(e,t){this.name=e,t&&(this.cssClassName=t.cssClassName,this.templateDomId=t.templateDomId)},dynamicTree.TreeNode.State={OPEN:"open",CLOSED:"closed"},dynamicTree.TreeNode.addVar("FOLDER_TYPE_NAME","com.jaspersoft.jasperserver.api.metadata.common.domain.Folder"),dynamicTree.TreeNode.addVar("DEFAULT_NAME","unset name"),dynamicTree.TreeNode.addVar("NODE_ID_PREFIX","node"),dynamicTree.TreeNode.addVar("SUB_NODE_ID_SUFFIX","sub"),dynamicTree.TreeNode.addVar("HANDLER_ID_PREFIX","handler"),dynamicTree.TreeNode.addVar("NODE_CLASS_NAME","node").addVar("LEAF_CLASS_NAME","leaf").addVar("OPEN_CLASS_NAME","open").addVar("CLOSED_CLASS_NAME","closed").addVar("SELECTED_CLASS_NAME","selected").addVar("LOADING_CLASS_NAME","loading").addVar("ROOTS_CLASS_NAME","roots"),dynamicTree.TreeNode.addVar("nodeHeaderTemplateDomId","list_responsive_collapsible:leaf"),dynamicTree.TreeNode.addVar("nodeFooterTemplateDomId","list_responsive_collapsible"),dynamicTree.TreeNode.addVar("nodeInputTemplateDomId","list_responsive_collapsible:input"),dynamicTree.TreeNode.addVar("isSelectable",!1),dynamicTree.TreeNode.addMethod("getTreeId",function(){return this.treeId||this.parent&&this.parent.getTreeId()}),dynamicTree.TreeNode.addMethod("getState",function(){return dynamicTree.trees[this.getTreeId()].getState(this.id)}),dynamicTree.TreeNode.addMethod("isParent",function(){return this.param.type==this.Types.Folder.name}),dynamicTree.TreeNode.addMethod("addChild",function(e){if(this.isParent()){var t=this.childs[this.childs.length-1];t&&(t.nextSibling=e,e.prevSibling=t),this.childs.push(e),e.parent=this,this.resortChilds(),this.delayedRendering||(e.showNode(),e.render(this._getChildrenElement(),e.nextSibling))}}),dynamicTree.TreeNode.addMethod("removeChild",function(e){for(var t=0;t<this.childs.length;t++)if(this.childs[t]==e){this.childs.splice(t,1);break}if(e.deselect(),!this.delayedRendering){var i=e._getElement();i&&i.remove()}}),dynamicTree.TreeNode.addMethod("resortChilds",function(){var e=this.getTreeId(),t=dynamicTree.trees[e];if(t&&t.sortNodes&&isArray(this.childs)){this.childs.sort(function(e,i){return t.comparer(e,i)});for(var i=this.childs.length;i--;){var n=this.childs[i];n.prevSibling=this.childs[i-1],n.nextSibling=this.childs[i+1]}}}),dynamicTree.TreeNode.addMethod("resetChilds",function(){this.childs=[]}),dynamicTree.TreeNode.addMethod("setHasChilds",function(e){this.haschilds=e}),dynamicTree.TreeNode.addMethod("hasChilds",function(){return this.haschilds?!0:this.getChildCount()>0}),dynamicTree.TreeNode.addMethod("getChildCount",function(){return this.childs.length}),dynamicTree.TreeNode.addMethod("getFirstChild",function(){return this.hasChilds()?this.childs[0]:null}),dynamicTree.TreeNode.addMethod("getLastChild",function(){return this.hasChilds()?this.childs[this.childs.length-1]:null}),dynamicTree.TreeNode.addMethod("_getElement",function(e){return this._element||(this._element=$(this.NODE_ID_PREFIX+this.id)),this._element}),dynamicTree.TreeNode.addMethod("_getTitle",function(){var e=this._getElement().childElements()[0];e.cleanWhitespace();var t=e.childNodes[e.childNodes.length-1];return"#text"!==t.nodeName&&(t=document.createTextNode(""),e.appendChild(t)),t}),dynamicTree.TreeNode.addMethod("_getTitleInputElement",function(){return $(this._getElement().getElementsByTagName("input")[0])}),dynamicTree.TreeNode.addMethod("_getChildrenElement",function(){return this._childrenElement||(this._childrenElement=$(this.NODE_ID_PREFIX+this.id+this.SUB_NODE_ID_SUFFIX)),this._childrenElement}),dynamicTree.TreeNode.addMethod("isOpen",function(){return this.getState()===dynamicTree.TreeNode.State.OPEN}),dynamicTree.TreeNode.addMethod("changeName",function(e){this.name=e,this._getTitle().data=this.name}),dynamicTree.TreeNode.addMethod("getType",function(){for(var e in this.Types)if(this.param.type===this.Types[e].name)return this.Types[e];return void 0}),dynamicTree.TreeNode.addMethod("refreshStyle",function(e){if(e=$(e)||this._getElement()){e.templateClassName&&(e.className=e.templateClassName),this.isParent()?(e.addClassName(this.NODE_CLASS_NAME).removeClassName(this.LEAF_CLASS_NAME),this.isWaiting||(this.isOpen()?e.addClassName(this.OPEN_CLASS_NAME).removeClassName(this.CLOSED_CLASS_NAME):e.addClassName(this.CLOSED_CLASS_NAME).removeClassName(this.OPEN_CLASS_NAME))):e.addClassName(this.LEAF_CLASS_NAME).removeClassName(this.NODE_CLASS_NAME),this.isWaiting?e.addClassName(this.LOADING_CLASS_NAME):e.removeClassName(this.LOADING_CLASS_NAME),this.isSelected()?e.addClassName(this.SELECTED_CLASS_NAME):e.removeClassName(this.SELECTED_CLASS_NAME),this.hidden?e.addClassName(layoutModule.HIDDEN_CLASS):e.removeClassName(layoutModule.HIDDEN_CLASS),this.param.cssClass&&e.addClassName(this.param.cssClass);var t=this.getType();t&&t.cssClassName&&e.addClassName(t.cssClassName);var i=e.down();this.isDropTarget&&i&&i.addClassName(layoutModule.DROP_TARGET_CLASS),!this.isDropTarget&&i&&i.removeClassName(layoutModule.DROP_TARGET_CLASS)}}),dynamicTree.TreeNode.addMethod("_createNode",function(){var e=this.id,t=dynamicTree.trees[this.getTreeId()],i=this._getHeaderTemplateElement();i.id=this.NODE_ID_PREFIX+e,i.tabIndex=-1,this.refreshStyle(i),this.treeId=t.id,i.treeNode=this;var n=i.childElements()[0];n.insert(xssUtil.escape(this.name,{softHTMLEscape:!0,whiteList:["a"]})),null!=this.tooltip&&this.tooltip.length>0&&(n.title=this.tooltip),n.childElements().each(function(t,i){0===i&&(t.id=this.HANDLER_ID_PREFIX+e);var n=this.iconTooltip;n&&(t.title=isArray(n)?n[i]:n)}.bind(this)),this._element=i}),dynamicTree.TreeNode.addMethod("_createNodeChildren",function(){var e=this._getFooterTemplateElement();e.id=this.NODE_ID_PREFIX+this.id+this.SUB_NODE_ID_SUFFIX,this._childrenElement=e}),dynamicTree.TreeNode.addMethod("showNode",function(e){var t=dynamicTree.trees[this.getTreeId()];if(this._createNode(),this.isParent()){var i=this.isOpen()||t.showAllNodesOnStartup;if(i){this._createNodeChildren();for(var n=0;n<this.getChildCount();n++)this.childs[n].showNode(this._getChildrenElement());this.delayedRendering=!1,t.fireOpenEvent(this)}}this.render(e)}),dynamicTree.TreeNode.addMethod("render",function(e,t){if(!Object.isUndefined(e)){var i=$(e);i&&(this._getChildrenElement()&&this._getElement().insert(this._getChildrenElement()),t?i.insert(this._getElement(),{before:t._getElement()}):i.insert(this._getElement()))}}),dynamicTree.TreeNode.addMethod("_renderChildren",function(){var e=this._getElement();e&&this._getChildrenElement()&&e.insert(this._getChildrenElement())}),dynamicTree.TreeNode.addMethod("refreshNode",function(){if(this.refreshStyle(),this.isParent()&&this.isOpen()&&this.isloaded){this.delayedRendering?(this._createNodeChildren(),this._renderChildren()):this._getChildrenElement().update("");for(var e=0;e<this.getChildCount();e++)this.childs[e].showNode(this._getChildrenElement());this.delayedRendering=!1}var t=dynamicTree.trees[this.getTreeId()];t.refreshScroll()}),dynamicTree.TreeNode.addMethod("wait",function(){this.isWaiting=!0,this.refreshStyle()}),dynamicTree.TreeNode.addMethod("stopWaiting",function(){this.isWaiting=!1,this.refreshStyle()}),dynamicTree.TreeNode.addMethod("isHiddenRootNode",function(){var e=dynamicTree.trees[this.getTreeId()];return e.rootNode==this&&!e.bShowRoot}),dynamicTree.TreeNode.addMethod("deselect",function(e){var t=dynamicTree.trees[this.getTreeId()];return t&&this.isSelected()?(t.removeNodeFromSelected(this),this.refreshStyle(),e&&t.fireUnSelectEvent(this,e),!0):!1}),dynamicTree.TreeNode.addMethod("select",function(e,t,i){if(i=i||{},!t&&this.focus(),this.isSelected())return!1;var n=dynamicTree.trees[this.getTreeId()];return n.addNodeToSelected(this),this.refreshStyle(),!i.silent&&n.fireSelectEvent(this,e),!0}),dynamicTree.TreeNode.addMethod("focus",function(){!isIPad()&&this._getElement()&&this._getElement().focus()}),dynamicTree.TreeNode.addMethod("isSelected",function(){var e=dynamicTree.trees[this.getTreeId()];return e&&e.isNodeSelected(this)}),dynamicTree.TreeNode.addMethod("_removeTitle",function(){var e=this._getTitle();e.data="",$(e.parentNode).cleanWhitespace()}),dynamicTree.TreeNode.addMethod("edit",function(e){if(this.editable){if(dynamicTree.treeNodeEdited==this)return;dynamicTree.treeNodeEdited=this;var t=this.name,i=$(this._getTitle().parentNode),n=this._getInputTemplateElement();this._getTitle().data="",i.cleanWhitespace(),i.insert(n),n.value=xssUtil.unescape(this.name),n.focus(),n.select(e),n.onclick=function(e){cancelEventBubbling(e)},n.ondblclick=function(e){cancelEventBubbling(e)},n.onmousedown=function(e){cancelEventBubbling(e)},n.onmouseup=function(e){cancelEventBubbling(e)},n.onkeydown=function(e){var i=window.event?window.event:e;13==i.keyCode?(n.onblur=null,this.doEndEdit(i)):27==i.keyCode&&(n.onblur=null,n.value=t,this.doEndEdit(i))}.bindAsEventListener(this),n.onblur=function(e){this.doEndEdit(e)}.bindAsEventListener(this),dynamicTree.trees[this.getTreeId()].fireStartEditEvent(this,n)}}),dynamicTree.TreeNode.addMethod("doEndEdit",function(e){this.editEnded(),dynamicTree.trees[this.getTreeId()].fireEndEditEvent(this)}),dynamicTree.TreeNode.addMethod("editEnded",function(){var e=dynamicTree.trees[this.getTreeId()];if(null!=dynamicTree.treeNodeEdited){var t=this._getTitleInputElement(),i=($(t.parentNode),t.value);if(i==dynamicTree.treeNodeEdited.name)return t.remove(),this._getTitle().data=dynamicTree.treeNodeEdited.name,void(dynamicTree.treeNodeEdited=null);e.fireEditEvent(dynamicTree.treeNodeEdited,i),dynamicTree.editaborted||(dynamicTree.treeNodeEdited.name=i,t.remove(),this._getTitle().data=i),dynamicTree.treeNodeEdited=null}}),dynamicTree.TreeNode.addMethod("scroll",function(e){var t=dynamicTree.trees[this.getTreeId()].rootNode._getElement(),i=e?$(e):$(t.parentNode),n=this._getElement();if(i){var s=i.clientHeight,o=i.clientWidth,r=i.scrollTop,a=i.scrollLeft,l=n.cumulativeOffset().top-i.cumulativeOffset().top,c=n.offsetLeft,u=n.clientHeight,d=n.clientWidth;l>r+s?i.scrollTop=l-(s/2-u/2):r>l+u&&(i.scrollTop=l-(s/2-u/2)),c>a+o?i.scrollLeft=c-(o/2-d/2):a>c+d&&(i.scrollTop=c-(o/2-d/2))}}),dynamicTree.TreeNode.addMethod("handleNode",function(e){if(this.isParent()){var t=dynamicTree.trees[this.getTreeId()];this.isOpen()?t.writeStates(this.id,dynamicTree.TreeNode.State.CLOSED):(t.writeStates(this.id,dynamicTree.TreeNode.State.OPEN),t.fireOpenEvent(this,e)),this.refreshNode()}}),dynamicTree.TreeNode.addMethod("openNode",function(e){if(this.isParent()){var t=dynamicTree.trees[this.getTreeId()];this.isOpen()||(t.writeStates(this.id,dynamicTree.TreeNode.State.OPEN),t.fireOpenEvent(this,e)),this.refreshNode()}}),dynamicTree.TreeNode.addMethod("_getHeaderTemplateElement",function(){var e=this.getType(),t=e&&e.templateDomId?e.templateDomId:this.nodeHeaderTemplateDomId,i=$(t).cloneNode(!0);return i.templateId=t,i.templateClassName=i.className,i}),dynamicTree.TreeNode.addMethod("_getFooterTemplateElement",function(){var e=this.nodeFooterTemplateDomId,t=$(e).cloneNode(!0);return t.templateId=e,t.update(""),t}),dynamicTree.TreeNode.addMethod("_getInputTemplateElement",function(){var e=this.nodeInputTemplateDomId,t=$(e).cloneNode(!0);return t.templateId=e,t}),define("dynamicTree.treenode",["prototype","underscore","dynamicTree.tree"],function(e){return function(){var t;return t||e.dynamicTree}}(this)),dynamicTree.Tree.addVar("NODE_PATTERN",".node").addVar("NODE_WRAPPER_PATTERN",".node > .wrap").addVar("NODE_ICON_PATTERN",".node > .wrap .icon").addVar("NODE_CUSTOM_PATTERNS",[]),dynamicTree.Tree.addVar("LEAF_PATTERN",".leaf").addVar("LEAF_WRAPPER_PATTERN",".leaf > .wrap").addVar("LEAF_ICON_PATTERN",".leaf > .wrap .icon").addVar("LEAF_CUSTOM_PATTERNS",[]),dynamicTree.Tree.addVar("EXPANDING_TIME",1e3),dynamicTree.Tree.addVar("draggables",[]),dynamicTree.Tree.addMethod("getTreeNodeByEvent",function(e){var t=Event.element(e);return this.getTreeNodeByElement(t)}),dynamicTree.Tree.addMethod("getTreeNodeByElement",function(e){for(;e&&e.readAttribute&&e.readAttribute("id")!==this.id;){var t=e.treeNode;if(t&&t.getTreeId()===this.getId())return t;e=$(e.parentNode)}return null}),dynamicTree.Tree.addMethod("isNodeEvent",function(e){var t=matchMeOrUp(e.element().parentNode,"LI");return t&&t.hasClassName(layoutModule.NODE_CLASS)}),dynamicTree.Tree.addMethod("isLeafEvent",function(e){var t=matchMeOrUp(e.element().parentNode,"LI");return t&&t.hasClassName(layoutModule.LEAF_CLASS)}),dynamicTree.Tree.addMethod("isIconEvent",function(e){return e.element().hasClassName(layoutModule.ICON_CLASS)}),dynamicTree.Tree.addMethod("_registerEvents",function(){this._cleanUpListeners(),this._registerClickEvents(),this._registerCustomEvents(),this._registerKeyEvents(),this._registerMouseEvents()}),dynamicTree.Tree.addMethod("_cleanUpListeners",function(){var e=this._getElement();e.stopObserving("click"),e.stopObserving("dblclick"),isSupportsTouch()?(e.stopObserving("touchstart"),e.stopObserving("drag:touchstart"),e.stopObserving("touchend")):(e.stopObserving("mousedown"),e.stopObserving("drag:mousedown"),e.stopObserving("mouseup")),e.stopObserving("mouseover"),e.stopObserving("mouseout")}),dynamicTree.Tree.addMethod("_registerClickEvents",function(){var e=this._getElement();e.observe("click",function(t){var i=matchMeOrUp(t.element(),layoutModule.BUTTON_PATTERN)&&this.getTreeNodeByEvent(t);if(i){var n=this.isIconEvent(t),s=this.isNodeEvent(t),o=this.isLeafEvent(t);s?(n&&e.fire("nodeIcon:click",{targetEvent:t,node:i}),e.fire("node:click",{targetEvent:t,node:i})):o&&(n&&e.fire("nodeIcon:click",{targetEvent:t,node:i}),e.fire("leaf:click",{targetEvent:t,node:i})),!isIPad()&&s&&n&&i.handleNode(t)}}.bindAsEventListener(this)),e.observe("dblclick",function(t){var i=matchMeOrUp(t.element(),layoutModule.BUTTON_PATTERN)&&this.getTreeNodeByEvent(t);if(i){var n=this.isIconEvent(t),s=this.isNodeEvent(t),o=this.isLeafEvent(t);s?(n&&e.fire("nodeIcon:dblclick",{targetEvent:t,node:i}),e.fire("node:dblclick",{targetEvent:t,node:i})):o&&(n&&e.fire("leafIcon:dblclick",{targetEvent:t,node:i}),e.fire("leaf:dblclick",{targetEvent:t,node:i})),this.handleNodeOnDblclick&&(s||o)&&!n&&i.handleNode(t)}}.bindAsEventListener(this))}),dynamicTree.Tree.addMethod("_registerMouseEvents",function(){var e=this._getElement();e.observe(isSupportsTouch()?"touchstart":"mousedown",function(t){var i=t.element(),n=matchMeOrUp(i,layoutModule.BUTTON_PATTERN)&&this.getTreeNodeByEvent(t);if(n){t.treeEvent=!0;var s=this.isIconEvent(t),o=this.isNodeEvent(t),r=this.isLeafEvent(t);if(isSupportsTouch())if(JRS.vars.ajax_in_progress)alert("please wait");else if(this.twofingers=!1,2==t.touches.length&&(this.twofingers=!0,this._selectOrEditNode(t,n,isMetaHeld(t),isShiftHeld(t),isRightClick(t)),n.isSelected()||designerBase&&designerBase.isInSelection(n))){var a=jQuery(i).parents("li:first");return void(a.hasClass("selected")&&document.fire(layoutModule.ELEMENT_CONTEXTMENU,{targetEvent:t,node:i}))}isSupportsTouch()&&JRS.vars.ajax_in_progress||(!this.selectOnMousedown||isSupportsTouch()&&1!=t.touches.length||this._selectOrEditNode(t,n,isMetaHeld(t),isShiftHeld(t),isRightClick(t)),o?(s&&e.fire("nodeIcon:mousedown",{targetEvent:t,node:n}),e.fire("node:mousedown",{targetEvent:t,node:n})):r&&(s&&e.fire("leafIcon:mousedown",{targetEvent:t,node:n}),e.fire("leaf:mousedown",{targetEvent:t,node:n})))}}.bindAsEventListener(this)),e.observe(isSupportsTouch()?"drag:touchstart":"drag:mousedown",function(t){var i=t.memo.targetEvent,n=matchMeOrUp(i.element(),layoutModule.BUTTON_PATTERN)&&this.getTreeNodeByEvent(i);if(n){i.treeEvent=!0;var s=this.isIconEvent(i),o=this.isNodeEvent(i),r=this.isLeafEvent(i);this.selectOnMousedown&&!isRightClick(i)&&this._selectOrEditNode(i,n,isMetaHeld(i),isShiftHeld(i),isRightClick(i)),o?(s&&e.fire("nodeIcon.drag:mousedown",{targetEvent:i,node:n}),e.fire("node.drag:mousedown",{targetEvent:i,node:n})):r&&(s&&e.fire("leafIcon.drag:mousedown",{targetEvent:i,node:n}),e.fire("leaf.drag:mousedown",{targetEvent:i,node:n}))}}.bindAsEventListener(this)),e.observe(isSupportsTouch()?"touchend":"mouseup",function(t){var i=matchMeOrUp(t.element(),layoutModule.BUTTON_PATTERN)&&this.getTreeNodeByEvent(t);if(i){t.treeEvent=!0;var n=this.isIconEvent(t),s=this.isNodeEvent(t),o=this.isLeafEvent(t);if(this.twofingers&&(t.isEmulatedRightClick=!0),isSupportsTouch()&&!this.twofingers&&(this.clickid==i.id&&!JRS.vars.ajax_in_progress&&t.timeStamp-this.clicktime<700&&(s?(n&&e.fire("nodeIcon:dblclick",{targetEvent:t,node:i}),e.fire("node:dblclick",{targetEvent:t,node:i})):o&&(n&&e.fire("leafIcon:dblclick",{targetEvent:t,node:i}),e.fire("leaf:dblclick",{targetEvent:t,node:i})),this.handleNodeOnDblclick&&(s||o)&&!n&&i.handleNode(t)),this.clicktime=t.timeStamp,this.clickid=i.id),!isSupportsTouch()||!JRS.vars.ajax_in_progress){this.selectOnMousedown||TouchController.element_scrolled||isSupportsTouch()&&1!=t.changedTouches.length||this._selectOrEditNode(t,i,isMetaHeld(t),isShiftHeld(t),isRightClick(t)),this._deselectOthers(t,i,isMetaHeld(t),isShiftHeld(t),isRightClick(t));s?(n&&e.fire("nodeIcon:mouseup",{targetEvent:t,node:i}),e.fire("node:mouseup",{targetEvent:t,node:i})):o&&(n&&e.fire("leafIcon:mouseup",{targetEvent:t,node:i}),e.fire("leaf:mouseup",{targetEvent:t,node:i})),isSupportsTouch()&&s&&n&&!TouchController.element_scrolled&&i.handleNode(t)}}}.bindAsEventListener(this)),"createTouch"in document||(e.observe("mouseover",function(t){var i=t.element(),n=matchMeOrUp(i,layoutModule.BUTTON_PATTERN)&&this.getTreeNodeByEvent(t);n&&(Draggables.dragging&&(clearTimeout(this.timeout_id),this.timeout_id=setTimeout(function(e){n.openNode(e)},this.EXPANDING_TIME)),this.createDraggableIfNeeded(t,n),!isIE7()&&e.fire("tree:mouseover",{targetEvent:t,node:n}))}.bindAsEventListener(this)),isIE7()||e.observe("mouseout",function(t){var i=matchMeOrUp(t.element(),layoutModule.BUTTON_PATTERN)&&this.getTreeNodeByEvent(t);i&&e.fire("tree:mouseout",{targetEvent:t,node:i})}.bindAsEventListener(this))),Droppables.add(e,{accept:this.dropClasses,onDrop:function(e){this.elementDropped=e}.bind(this)})}),dynamicTree.Tree.addMethod("_registerKeyEvents",function(){var e=this._getElement();e.observe("key:down",function(e){var t=this.getTreeNodeByEvent(e);dynamicTree.treeNodeEdited!==t&&t&&this._selectNextNode(t,e.memo.targetEvent)}.bindAsEventListener(this)),e.observe("key:up",function(e){var t=this.getTreeNodeByEvent(e);dynamicTree.treeNodeEdited!==t&&t&&this._selectPreviousNode(t,e.memo.targetEvent)}.bindAsEventListener(this)),e.observe("key:right",function(e){var t=this.getTreeNodeByEvent(e);dynamicTree.treeNodeEdited!==t&&t&&this._selectInwards(t,e.memo.targetEvent)}.bindAsEventListener(this)),e.observe("key:left",function(e){var t=this.getTreeNodeByEvent(e);dynamicTree.treeNodeEdited!==t&&t&&this._selectOutwards(t,e.memo.targetEvent)}.bindAsEventListener(this))}),dynamicTree.Tree.addMethod("_registerCustomEvents",function(){var e=this._getElement();e.observe("mousedown",function(t){dynamicTree.activeTreeId&&dynamicTree.activeTreeId===this.getId()||(e.fire("tree:blur",{targetEvent:t,tree:dynamicTree.getActiveTree()}),dynamicTree.activeTreeId=this.getId(),e.fire("tree:focus",{targetEvent:t,tree:dynamicTree.getActiveTree()}))}.bindAsEventListener(this)),e.observe("mouseover",function(t){var i=this.getTreeNodeByEvent(t);i||e.fire("tree:mouseover",{targetEvent:t,tree:this})}.bindAsEventListener(this)),e.observe("mouseout",function(t){var i=this.getTreeNodeByEvent(t);i||e.fire("tree:mouseout",{targetEvent:t,tree:this})}.bindAsEventListener(this))}),dynamicTree.Tree.addMethod("fireOpenEvent",function(e,t){var i=this._getElement();i.fire("node:open",{node:e,targetEvent:t})}),dynamicTree.Tree.addMethod("fireSelectEvent",function(e,t){var i=this._getElement();i.fire(e.isParent()?"node:selected":"leaf:selected",{node:e,targetEvent:t})}),dynamicTree.Tree.addMethod("fireUnSelectEvent",function(e,t){var i=this._getElement();i.fire(e.isParent()?"node:unselected":"leaf:unselected",{node:e,targetEvent:t})}),dynamicTree.Tree.addMethod("fireUnSelectAllEvent",function(e){var t=this._getElement();t.fire("items:unselected",{targetEvent:e})}),dynamicTree.Tree.addMethod("fireEditEvent",function(e,t){var i=this._getElement();i.fire(e.isParent()?"node:edit":"leaf:edit",{node:e,newValue:t})}),dynamicTree.Tree.addMethod("fireStartEditEvent",function(e,t){var i=this._getElement();i.fire(e.isParent()?"node:startEdit":"leaf:startEdit",{node:e,input:t})}),dynamicTree.Tree.addMethod("fireEndEditEvent",function(e){var t=this._getElement();t.fire(e.isParent()?"node:endEdit":"leaf:endEdit",{node:e})}),dynamicTree.Tree.addMethod("observe",function(e,t){this._getElement().observe(e,t)}),dynamicTree.Tree.addMethod("stopObserving",function(e,t){this._getElement().stopObserving(e,t)}),dynamicTree.Tree.addMethod("createDraggableIfNeeded",function(e,t){var i=e?e.element():t._getElement().down(this.dragPattern),n=this.draggables[i.identify()];if(this.dragPattern&&!n){var s=matchAny(i,[this.dragPattern],!0);if(s&&i.className.toLowerCase().indexOf("icon")<0&&!this.draggables[s.identify()])return this.draggables[s.identify()]=new Draggable(i,{superghosting:!0,mouseOffset:!0,delay:isIE()||isSupportsTouch()?200:0,onStart:this.setDragStartState.bind(this,t),onEnd:this.setDragEndState.bind(this,t)}),this.draggables[s.identify()]}return null}),dynamicTree.Tree.addMethod("setDragStartState",function(e,t,i){var n=e._getElement().templateClassName;n&&t.element.addClassName(n),t.element.setStyle({width:null,height:null}),t.element.addClassName(layoutModule.DRAGGING_CLASS).addClassName(this.getId()),this.dragClasses&&t.element.addClassName(this.dragClasses),this.selectedNodes.length>1&&t.element.update(new Template(this.TREE_NN_ITEMS_SELECTED).evaluate({count:this.selectedNodes.length})),t.element.node=e,t.element.nodes=this.selectedNodes,t.options.scroll=this._getElement(),t.options.scrollSensitivity=layoutModule.SCROLL_SENSITIVITY,Draggables.dragging=this.regionID||!0}),dynamicTree.Tree.addMethod("setDragEndState",function(e,t,i){delete Draggables.dragging}),define("dynamicTree.events",["prototype","dynamicTree.tree"],function(e){return function(){var t;return t||e.dynamicTree}}(this)),dynamicTree.TreeSupport=function(e,t){if(dynamicTree.Tree.call(this,e,t),this.providerId=t.providerId,this.hideLoader=t.hideLoader,this.rootUri=Object.isUndefined(t.rootUri)?"/":t.rootUri,this.nodeClass=t.nodeClass&&Object.isFunction(t.nodeClass)?t.nodeClass:dynamicTree.TreeNode,t.rootObjectModifier&&(this.modifyRootObject=t.rootObjectModifier),this.resetStatesOnShow=Object.isUndefined(t.resetStatesOnShow)||t.resetStatesOnShow,this.inInit=!0,this.ajaxBufferId="ajaxbuffer",this.nodeTextId="treeNodeText",this.urlGetNode=t.urlGetNode?t.urlGetNode:this._getFlowUrl("getNode"),this.urlGetChildren=t.urlGetChildren?t.urlGetChildren:this._getFlowUrl("getChildren"),this.urlGetMultipleChildren=t.urlGetMultipleChildren?t.urlGetMultipleChildren:this._getFlowUrl("getMultipleChildren"),this.urlGetMessage=t.urlGetMessage?t.urlGetMessage:this._getFlowUrl("getMessage"),this.additionalParams=t.additionalParams?t.additionalParams:{},null==this.TREE_NN_ITEMS_SELECTED){var i=function(e){this.TREE_NN_ITEMS_SELECTED=e}.bind(this);this.getMessage("TREE_NN_ITEMS_SELECTED",i,null)}this._initOpenListener()},dynamicTree.TreeSupport.prototype=deepClone(dynamicTree.Tree.prototype),dynamicTree.TreeSupport.addMethod("_initOpenListener",function(){this.observe("node:open",function(e){var t=e.memo.node;t&&!t.isloaded&&this.getTreeNodeChildren(t)}.bindAsEventListener(this))}),dynamicTree.TreeSupport.addMethod("stopObserving",function(e,t){this._getElement().stopObserving(e,t),"node:open"!==e||t||this._initOpenListener()}),dynamicTree.TreeSupport.addMethod("_getFlowUrl",function(e){return __jrsConfigs__.contextPath+"/flow.html?_flowId=treeFlow&method="+e;
}),dynamicTree.TreeSupport.addMethod("showTree",function(e,t,i,n){var s=this.urlGetNode+"&provider="+this.providerId+"&uri="+this.rootUri+"&depth="+e;n&&(s+="&forceHtmlEscape=true"),s+="&"+this._evaluateAdditionalParams(),this._showTree(s,t,i)}),dynamicTree.TreeSupport.addMethod("_evaluateAdditionalParams",function(){var e=this.additionalParams;return _.isFunction(e)&&(e=e.call(null)),_.isObject(e)?Object.toQueryString(e):null}),dynamicTree.TreeSupport.addMethod("showTreePrefetchNodes",function(e,t,i){var n=this.urlGetNode+"&provider="+this.providerId+"&uri="+this.rootUri;e&&(n+="&prefetch="+encodeURIComponent(e)),n+="&"+this._evaluateAdditionalParams(),this._showTree(n,t,i)}),dynamicTree.TreeSupport.addMethod("_showTree",function(e,t,i){var n=this;this.inInit=!0,this.wait();var s=function(e,t,i){return function(){return e.showTreeCallback(t,i)}}(this,t,i),o=function(){var e=!1;return n.httpErrorHandler&&(e=n.httpErrorHandler.apply(window,arguments)),e===!1&&(e=baseErrorHandler.apply(window,arguments)),e};ajaxTargettedUpdate(e,{fillLocation:this.ajaxBufferId,callback:s,errorHandler:o,hideLoader:this.hideLoader})}),dynamicTree.TreeSupport.addMethod("showTreeCallback",function(e,t){var i=document.getElementById(this.nodeTextId);if(null==i)return void(t?t():this.fireServerErrorEvent());var n=xssUtil.unescape(jQuery(i).text()),s=n.evalJSON();this.modifyRootObject&&(s=this.modifyRootObject(s,!1)),i=document.getElementById(this.ajaxBufferId),i.innerHTML="",this.setRootNode(this.processNode(s)),this.resortTree(),this.resetStatesOnShow&&this.resetStates(),this.renderTree(),this.inInit=!1,e?e():this.fireTreeLoadedEvent({tree:this})}),dynamicTree.TreeSupport.addMethod("processNode",function(e){var t={};t.id=e.id,t.type=e.type,t.uri=e.uri,t.extra=deepClone(e.extra),e.cssClass&&(t.cssClass=e.cssClass);var i=this.nodeClass,n=new i({name:unescapeBackslash(e.label),param:t,orderNumber:e.order});e.tooltip&&(n.tooltip=e.tooltip);var s=e.children;if(null!=s){var o=s.length;if(0===o)n.setHasChilds(!1);else for(var r=0;o>r;r++){var a=s[r];if(a){var l=this.processNode(a);n.addChild(l)}}n.isloaded=!0}return n}),dynamicTree.TreeSupport.addMethod("getTreeNodeChildren",function(e,t,i){var n=e.param.uri,s=function(e,t,i,n){return function(){return e.getTreeNodeChildrenCallback(t,i,n)}}(this,e.id,t,i),o=function(t){(500==t.status||t.getResponseHeader("JasperServerError"))&&e.stopWaiting(),baseErrorHandler(t)};ajaxTargettedUpdate(this.urlGetChildren+"&provider="+this.providerId+"&uri="+encodeURIComponent(encodeURIComponent(n))+"&"+this._evaluateAdditionalParams(),{fillLocation:this.ajaxBufferId,callback:s,errorHandler:o,hideLoader:this.hideLoader}),this.inInit||e.wait()}),dynamicTree.TreeSupport.addMethod("getTreeNodeChildrenCallback",function(e,t,i){var n=document.getElementById(this.nodeTextId);if(null==n)return void(i?i():this.fireServerErrorEvent());var s=xssUtil.unescape(jQuery(n).text()).evalJSON(),o=dynamicTree.nodes[e];this.modifyRootObject&&(s=this.modifyRootObject(s,!0,o)),n=document.getElementById(this.ajaxBufferId),n.innerHTML="",o.resetChilds(),o.stopWaiting();var r=s.length;if(0===r)o.setHasChilds(!1);else{var a=o.getTreeId(),l=a?dynamicTree.trees[a]:null,c=l?l.sortNodes:null;l&&(l.sortNodes=!1);for(var u=0;r>u;u++){var d=this.processNode(s[u]);o.addChild(d)}l&&(l.sortNodes=c,o.resortChilds())}o.isloaded=!0,o.refreshNode(),t?t(o.childs):this.fireChildrenLoadedEvent(o.childs)}),dynamicTree.TreeSupport.addMethod("getTreeMultipleNodesChildren",function(e,t,i){var n,s="",o=[];if(e&&e.length)for(n=0;n<e.length;n++)n>0&&(s+=","),s+=encodeURIComponent(encodeURIComponent(e[n].param.uri)),o[n]=e[n].id;if(s.length){var r=function(e,t,i,n){return function(){return e.getTreeMultipleNodesChildrenCallback(t,i,n)}}(this,o,t,i);if(ajaxTargettedUpdate(this.urlGetMultipleChildren+"&provider="+this.providerId,{fillLocation:this.ajaxBufferId,callback:r,postData:"uris="+s,errorHandler:baseErrorHandler,hideLoader:this.hideLoader}),!this.inInit)for(n=0;n<e.length;n++)e[n].wait()}}),dynamicTree.TreeSupport.addMethod("getTreeMultipleNodesChildrenCallback",function(e,t,i){var n=document.getElementById(this.nodeTextId);if(null==n)return void(i?i():this.fireServerErrorEvent());var s=xssUtil.unescape(jQuery(n).text()).evalJSON();n=document.getElementById(this.ajaxBufferId),n.innerHTML="",t?t(e,s):(this.setMultipleNodesChilden(e,s),this.fireMultipleChildrenLoadedEvent(e,s))}),dynamicTree.TreeSupport.addMethod("setMultipleNodesChilden",function(e,t,i){if(e&&t)for(var n=0;n<t.length;n++){for(var s=t[n],o=s.children,r=null,a=0;a<e.length;a++){var l=dynamicTree.nodes[e[a]];if(l.param.uri==s.parentUri){r=l;break}}if(r){r.resetChilds(),r.stopWaiting();var c=o.length;if(0===c)r.setHasChilds(!1);else{var u=r.getTreeId(),d=u?dynamicTree.trees[u]:null,h=d?d.sortNodes:null;d&&(d.sortNodes=!1);for(var p=0;c>p;p++){var f=this.processNode(o[p]);r.addChild(f)}d&&(d.sortNodes=h,r.resortChilds())}r.isloaded=!0,i||r.refreshNode()}}}),dynamicTree.TreeSupport.addMethod("getTreeNodeChildrenPrefetched",function(e,t,i,n,s,o,r){var a=e.param.uri,l=this.urlGetNode+"&provider="+this.providerId+"&uri="+a,c="";t&&(c="&prefetch="+t),s&&(l+="&depth="+s);var u=function(e,t,i,n,s,o){return function(){return e.getTreeNodeChildrenPrefetchedCallback(t,i,n,s,o)}}(this,e.id,i,n,o,r);ajaxTargettedUpdate(l,{fillLocation:this.ajaxBufferId,callback:u,postData:c,errorHandler:baseErrorHandler,hideLoader:this.hideLoader}),this.inInit||e.wait()}),dynamicTree.TreeSupport.addMethod("getTreeNodeChildrenPrefetchedCallback",function(e,t,i,n,s){var o=document.getElementById(this.nodeTextId);if(null==o)return void(i?i():this.fireServerErrorEvent());var r=xssUtil.unescape(jQuery(o).text()).evalJSON();o=document.getElementById(this.ajaxBufferId),o.innerHTML="";var a=dynamicTree.nodes[e];if(a.resetChilds(),a.stopWaiting(),r.children){var l=a.getTreeId(),c=l?dynamicTree.trees[l]:null,u=c?c.sortNodes:null;c&&(c.sortNodes=!1);for(var d=0;d<r.children.length;d++){var h=this.processNode(r.children[d]);a.addChild(h)}c&&(c.sortNodes=u,n||a.resortChilds())}a.isloaded=!0,s||a.refreshNode(),t?t():this.fireChildredPrefetchedLoadedEvent(a.childs)}),dynamicTree.TreeSupport.addMethod("openAndSelectNode",function(e,t,i,n){var s=function(e){var t=dynamicTree.trees[e.getTreeId()];e.parent&&t&&t.rootNode!=e.parent&&t.getState(e.parent.id)==dynamicTree.TreeNode.State.CLOSED&&e.parent.handleNode(),e&&jQuery("#dataChooserSource").length&&(e.nofocus=!0),t._selectOrEditNode(void 0,e,!1,!1,!1,n)};this.processNodePath(e,s,i);var o=this.getSelectedNode();o&&o.scroll(),t&&t()}),dynamicTree.TreeSupport.addMethod("processNodePath",function(e,t,i){var n=this.getRootNode();if("/"===e)t(n);else{var s,o=e.split("/");for(s=0;s<o.length;s++)if(o[s]){var r=n;if(n=this.findNodeChildByMetaName(n,o[s]),!n){if(!i)return;if(n=this.findNodeFirstNodeChildByAlphabeticalOrder(r),!n)return}t(n)}}}),dynamicTree.TreeSupport.addMethod("findLastLoadedNode",function(e){var t={node:null},i=function(e){return function(t){e.node=t}}(t);return this.processNodePath(e,i),t.node}),dynamicTree.TreeSupport.addMethod("findNodeChildByMetaName",function(e,t){if(e.hasChilds())for(var i=0;i<e.childs.length;i++)if(e.childs[i].param.id==t)return e.childs[i];return null}),dynamicTree.TreeSupport.addMethod("findNodeFirstNodeChildByAlphabeticalOrder",function(e){var t=null,i=null;if(e.childs.length>0){t=e.childs[0].param.id,i=0;for(var n=null,s=null,o=1;o<e.childs.length;o++){n=e.childs[o].param.id,s=o;for(var r=n.length<t.length?n.length:t.length,a=0;r>a;a++){if(n.charCodeAt(a)<t.charCodeAt(a)){t=n,i=s;break}if(n.charCodeAt(a)>t.charCodeAt(a))break}}return e.childs[i]}return null}),dynamicTree.TreeSupport.addMethod("findNodeById",function(e,t){return function i(e,t){if(!t||!e)return null;if(t.param.id===e)return t;if(t.hasChilds())for(var n=0;n<t.childs.length;++n){var s=i(e,t.childs[n]);if(s)return s}return null}(e,t?t:this.getRootNode())}),dynamicTree.TreeSupport.addMethod("hasVisibleFolders",function(e){if(this.bShowRoot)return!0;var t=e.children;if(t)for(var i=0;i<t.length;i++){var n=e.children[i].children;if(n&&n.length>0)return!0}return!1}),dynamicTree.TreeSupport.addMethod("getMessage",function(e,t,i){var n=this.urlGetMessage+"&messageId="+e,s=function(e,t,i){return function(){return e.getMessageCallback(t,i)}}(this,t,i);ajaxTargettedUpdate(n,{fillLocation:this.ajaxBufferId,callback:s,errorHandler:baseErrorHandler,hideLoader:this.hideLoader})}),dynamicTree.TreeSupport.addMethod("getMessageCallback",function(e,t){var i=document.getElementById(this.ajaxBufferId);if(null==i)return void(t&&t());var n=trim(i.innerHTML);i.innerHTML="",e&&e(n)}),dynamicTree.TreeSupport.addMethod("fireServerErrorEvent",function(){this._getElement().fire("server:error",{})}),dynamicTree.TreeSupport.addMethod("fireTreeLoadedEvent",function(e){this._getElement().fire("tree:loaded",{tree:e})}),dynamicTree.TreeSupport.addMethod("fireChildrenLoadedEvent",function(e){this._getElement().fire("children:loaded",{nodes:e})}),dynamicTree.TreeSupport.addMethod("fireMultipleChildrenLoadedEvent",function(e,t){this._getElement().fire("multipleChildren:loaded",{parentNodeIds:e,metaNodes:t})}),dynamicTree.TreeSupport.addMethod("fireChildredPrefetchedLoadedEvent",function(e){this._getElement().fire("childredPrefetched:loaded",{nodes:e})}),define("components.dynamicTree",["prototype","dynamicTree.tree","dynamicTree.treenode","dynamicTree.events","core.ajax"],function(e){return function(){var t;return t||e.dynamicTree}}(this)),dynamicTree.RepositoryFolder=function(e){dynamicTree.TreeNode.call(this,e),this.Types={Folder:new dynamicTree.TreeNode.Type("com.jaspersoft.jasperserver.api.metadata.common.domain.Folder"),SuperRoot:new dynamicTree.TreeNode.Type("superroot"),Root:new dynamicTree.TreeNode.Type("root")},this.nodeHeaderTemplateDomId="list_responsive_collapsible_folders:folders",this.param.extra&&this.param.extra.isActiveThemeFolder&&(this.param.cssClass=this.ACTIVE_THEME_CLASS)},dynamicTree.TreeNode&&(dynamicTree.RepositoryFolder.prototype=deepClone(dynamicTree.TreeNode.prototype)),dynamicTree.RepositoryFolder.addVar("ACTIVE_THEME_CLASS","activeTheme"),dynamicTree.RepositoryFolder.addMethod("isParent",function(){return this.param.type==this.Types.Folder.name||this.param.type==this.Types.SuperRoot.name||this.param.type==this.Types.Root.name}),dynamicTree.RepositoryFolder.addMethod("isSuperRoot",function(){return this.param.type==this.Types.SuperRoot.name}),dynamicTree.RepositoryFolder.addMethod("isPublic",function(){return"public"===this.param.id}),dynamicTree.createRepositoryTree=function(e,t){var i=null!=t.organizationId&&""!==t.organizationId;null==t.bShowRoot&&(t.bShowRoot=!i),t.nodeClass||(t.nodeClass=dynamicTree.RepositoryFolder),t.templateDomId="list_responsive_collapsible_folders";var n=new dynamicTree.TreeSupport(e,t);if(n.organizationId=t.organizationId,n.publicFolderUri=t.publicFolderUri,n.orgMode=i,n.modifyRootObject=function(e,t,i){var n;if(t){n=[];for(var s=0;s<e.length;s++)e[s].uri==this.publicFolderUri&&i&&"/"!=i.param.uri||n.push(e[s])}else if(this.orgMode&&null!=e.children){for(var o,r=e.children,a=[],s=0;s<r.length;s++)r[s].uri==this.publicFolderUri?o=r[s]:a.push(r[s]);e.children=a,n={type:"superroot",label:"",extra:{}},n.children=[e,o]}else n=e;return n},n.getRootNode=function(){var e=this.rootNode;return e.isSuperRoot()?e.childs[0].isPublic()?e.childs[1]:e.childs[0]:e},n.findNodeChildByMetaName=function(e,t){if(e.isSuperRoot()){var i,s;if(e.childs[0].isPublic()?(i=e.childs[0],s=e.childs[1]):(i=e.childs[1],s=e.childs[0]),"public"===t)return i;e=s}if(e.hasChilds())for(var o=0;o<e.childs.length;o++)if(e.childs[o].param.id==t)return e.childs[o];return"public"==t&&e.parent&&e.parent.isSuperRoot()?n.findNodeChildByMetaName(e.parent,t):null},isIPad()){var s=$(e);n.touchController=new TouchController(s,s.up(1),{absolute:!0})}return n},define("dynamicTree.utils",["components.dynamicTree","touchcontroller","dynamicTree.treenode"],function(e){return function(){var t;return t||e.dynamicTree}}(this));var picker={};picker.FileSelector=function(e){this._disabled=void 0!==e.disabled?e.disabled:!1,this._uriTextbox=$(e.uriTextboxId),this._browseButtonId=$(e.browseButtonId),this._onChange=e.onChange||!1,this._options=e,this._disabled?(buttonManager.disable(this._uriTextbox),buttonManager.disable(this._browseButtonId)):(this._id=e.id,this._suffix=e.suffix?e.suffix:(new Date).getTime(),this._treeDomId=e.treeId,this._selectLeavesOnly=void 0!==e.selectLeavesOnly?e.selectLeavesOnly:!1,this._selectedUri=$F(this._uriTextbox),this._process(e),this._assignHandlers(),this._refreshButtonsState())},picker.FileSelector.addVar("DEFAULT_TEMPLATE_DOM_ID","selectFromRepository"),picker.FileSelector.addVar("DEFAULT_TREE_ID","selectFromRepoTree"),picker.FileSelector.addVar("OK_BUTTON_ID","selectFromRepoBtnSelect"),picker.FileSelector.addVar("CANCEL_BUTTON_ID","selectFromRepoBtnCancel"),picker.FileSelector.addVar("TITLE_PATTERN","div.title"),picker.FileSelector.addMethod("_process",function(e){!this._id&&(this._id=this.DEFAULT_TEMPLATE_DOM_ID),!$(this._id)&&this._options.template&&this._options.i18n?(this._dom=jQuery(_.template(this._options.template,{i18n:this._options.i18n})),this._dom=this._dom[0]):this._dom=$(this._id).cloneNode(!0),this._dom.writeAttribute("id",this._id+this._suffix),this._okButton=this._dom.select("#"+this.OK_BUTTON_ID)[0],this._okButton.writeAttribute("id",this.OK_BUTTON_ID+this._suffix),this._cancelButton=this._dom.select("#"+this.CANCEL_BUTTON_ID)[0],this._cancelButton.writeAttribute("id",this.CANCEL_BUTTON_ID+this._suffix),!this._treeDomId&&(this._treeDomId=this.DEFAULT_TREE_ID),this._treeDom=this._dom.select("#"+this._treeDomId)[0],this._treeDom.writeAttribute("id",this._treeDomId+this._suffix),this._visible=!1,e.title&&this._dom.select(this.TITLE_PATTERN)[0].update(e.title),this._onOk=e.onOk,this._onCancel=e.onCancel,jQuery(document.body).append(this._dom);var t,i=this._dom.down(layoutModule.SWIPE_SCROLL_PATTERN);i&&(t=layoutModule.createScroller(i));var n=Object.extend({providerId:e.providerId,scroll:t},e.treeOptions);this._tree=dynamicTree.createRepositoryTree(this._treeDomId+this._suffix,n),this._selectedUri&&this._selectedUri.length>0?this._tree.showTreePrefetchNodes(this._selectedUri):this._tree.showTree(1)}),picker.FileSelector.addMethod("_assignHandlers",function(){this._dom.observe("click",this._dialogClickHandler.bindAsEventListener(this)),["node:dblclick","leaf:dblclick"].each(function(e){this._tree.observe(e,this._treeClickHandler.bindAsEventListener(this))},this),["node:click","leaf:click","node:selected","leaf:selected"].each(function(e){this._tree.observe(e,this._refreshButtonsState.bindAsEventListener(this))},this),["childredPrefetched:loaded","tree:loaded"].each(function(e){this._tree.observe(e,this._treeLoadHandler.bindAsEventListener(this))},this),this._browseButtonId.observe("click",this._browseClickHandler.bindAsEventListener(this))}),picker.FileSelector.addMethod("_canClickOk",function(e){return this._tree.getSelectedNode()&&(this._selectLeavesOnly?this._tree.getSelectedNode().param.type!==this._tree.getSelectedNode().FOLDER_TYPE_NAME:!0)}),picker.FileSelector.addMethod("_dialogClickHandler",function(e){var t=e.element();if(matchAny(t,["#"+this.OK_BUTTON_ID+this._suffix],!0)){e.stop();var i=this._tree.getSelectedNode().param.uri;this._uriTextbox.setValue(i),this._onChange&&this._onChange(i),this._hide(),this._onOk&&this._onOk()}else matchAny(t,["#"+this.CANCEL_BUTTON_ID+this._suffix],!0)&&(e.stop(),this._hide(),this._onCancel&&this._onCancel())}),picker.FileSelector.addMethod("_treeClickHandler",function(e){if(this._canClickOk()){var t=this._tree.getSelectedNode().param.uri;this._uriTextbox.setValue(t),this._onChange&&this._onChange(t),this._hide(),this._onOk&&this._onOk()}}),picker.FileSelector.addMethod("_treeLoadHandler",function(e){this._visible&&this._selectedUri&&this._tree.openAndSelectNode(this._selectedUri)}),picker.FileSelector.addMethod("_browseClickHandler",function(e){e.stop(),this._show()}),picker.FileSelector.addMethod("_refreshButtonsState",function(){this._canClickOk()?buttonManager.enable(this._okButton):buttonManager.disable(this._okButton)}),picker.FileSelector.addMethod("_hide",function(){dialogs.popup.hide(this._dom),this._visible=!1}),picker.FileSelector.addMethod("_show",function(){this._selectedUri=$F(this._uriTextbox),this._selectedUri&&this._selectedUri.length>0?this._tree.showTreePrefetchNodes(this._selectedUri):this._tree.showTree(1),dialogs.popup.show(this._dom,!0),this._visible=!0,this._selectedUri&&this._tree.openAndSelectNode(this._selectedUri),this._refreshButtonsState()}),picker.FileSelector.addMethod("remove",function(){jQuery(this._dom).remove()}),define("components.pickers",["utils.common","components.dialogs","core.layout","core.events.bis","prototype","jquery","dynamicTree.utils"],function(e){return function(){var t;return t||e.picker}}(this));var resource={messages:{},resourceLabelMaxLength:100,resourceIdMaxLength:100,resourceDescriptionMaxLength:250,PROPAGATE_EVENT:"propagateEvent",STEP_DISPLAY_ID:"stepDisplay",FLOW_CONTROLS_ID:"flowControls",initSwipeScroll:function(){var e=$(resource.STEP_DISPLAY_ID);e&&new TouchController(e.up(),e.up(1),{})},submitForm:function(e,t,i){if(t){var n=buildActionUrl(t);i&&i(),$(e).writeAttribute("method","post").writeAttribute("action",n),$(e).submit()}},registerClickHandlers:function(e,t,i){if(resource._bodyClickEventHandlers)return void(i?Array.prototype.unshift:Array.prototype.push).apply(resource._bodyClickEventHandlers,e);resource._bodyClickEventHandlers=e;var n=t||"body";$$(n)[0].observe("click",function(e){resource._bodyClickEventHandlers&&resource._bodyClickEventHandlers.each(function(t){var i=t(e);if(i)throw i!==resource.PROPAGATE_EVENT&&Event.stop(e),$break})})},TreeWrapper:function(e){var t=this;if(this._treeId=e.treeId,this._resourceUriInput=$(e.resourceUriInput||"resourceUri"),this._uri=this._resourceUriInput&&this._resourceUriInput.getValue()||e.uri||"/",!e.providerId)throw"There is no tree provider set for tree #{id}".interpolate({id:this._treeId});var i=["providerId","rootUri","organizationId","publicFolderUri","urlGetNode","urlGetChildren"].inject({},function(t,i){return null!==e[i]&&(t[i]=e[i]),t});return this._tree=new dynamicTree.createRepositoryTree(this._treeId,i),this._tree.observe("tree:loaded",function(){t._tree.openAndSelectNode($(t._resourceUriInput).getValue())}),this._tree.observe("leaf:selected",function(e){t._uri=e.memo.node.param.uri,t._resourceUriInput.setValue(t._uri)}),this._tree.observe("node:selected",function(){t._resourceUriInput.setValue(t._uri="")}),{getTreeId:function(){return t._treeId},getTree:function(){return t._tree},selectFolder:function(e){t._tree.openAndSelectNode(e)},getSelectedFolderUri:function(){return t._uri}}},switchButtonState:function(e,t){buttonManager[t?"enable":"disable"].call(buttonManager,e)},switchDisableState:function(e,t){(e=$(e))&&e[t?"disable":"enable"].call(e)},generateResourceId:function(e){if(localContext&&localContext.initOptions&&localContext.initOptions.resourceIdNotSupportedSymbols)return e.replace(new RegExp(localContext.initOptions.resourceIdNotSupportedSymbols,"g"),"_");throw"There is no resourceIdNotSupportedSymbols property in init options."},testResourceId:function(e){if(localContext&&localContext.initOptions&&localContext.initOptions.resourceIdNotSupportedSymbols)return new RegExp(localContext.initOptions.resourceIdNotSupportedSymbols,"g").test(e);throw"There is no resourceIdNotSupportedSymbols property in init options."},labelValidator:function(e){var t=!0,i="";return e.blank()?(i=resource.messages.labelIsEmpty,t=!1):e.length>resource.resourceLabelMaxLength&&(i=resource.messages.labelToLong,t=!1),{isValid:t,errorMessage:i}},getLabelValidationEntry:function(e){return{element:e,validators:[{method:"mandatory",messages:{mandatory:resource.messages.labelIsEmpty}},{method:"minMaxLength",messages:{tooLong:resource.messages.labelToLong},options:{maxLength:resource.resourceLabelMaxLength}}]}},getIdValidationEntry:function(e){return{element:e,validators:[{method:"resourceIdChars",messages:resource.messages},{method:"mandatory",messages:{mandatory:resource.messages.resourceIdIsEmpty}},{method:"minMaxLength",messages:{tooLong:resource.messages.resourceIdToLong},options:{maxLength:resource.resourceIdMaxLength}}]}},resourceIdValidator:function(e){var t=!0,i="";return this._isEditMode||(e.blank()?(i=resource.messages.resourceIdIsEmpty,t=!1):e.length>resource.resourceIdMaxLength?(i=resource.messages.resourceIdToLong,t=!1):resource.testResourceId(e)&&(i=resource.messages.resourceIdInvalidChars,t=!1)),{isValid:t,errorMessage:i}},getDescriptionValidationEntry:function(e){return{element:e,validators:[{method:"minMaxLength",messages:{tooLong:resource.messages.descriptionToLong},options:{maxLength:resource.resourceDescriptionMaxLength}}]}},descriptionValidator:function(e){var t=!0,i="";return e.length>resource.resourceDescriptionMaxLength&&(i=resource.messages.descriptionToLong,t=!1),{isValid:t,errorMessage:i}},dataSourceValidator:function(e){var t=!0,i="";return""===e.trim()&&(i=resource.messages.dataSourceInvalid,t=!1),{isValid:t,errorMessage:i}},queryValidator:function(e){var t=!0,i="";return""===e.trim()&&(i=resource.messages.queryInvalid,t=!1),{isValid:t,errorMessage:i}},getValidationEntries:function(e){return e.collect(function(e){return e.validationEntry?e.validationEntry:{validator:e.validator,element:e}})}};"undefined"==typeof require&&isIPad()&&document.observe("dom:loaded",resource.initSwipeScroll.bind(resource)),define("resource.base",["prototype","utils.common","core.layout"],function(e){return function(){var t;return t||e.resource}}(this)),define("text!scheduler/template/editor/outputTabTemplate.htm",[],function(){return'<div class="outputTab">\n\n	<div class="outputFileOptions section">\n\n		<!-- not sure what the fieldset below is for -->\n		<!-- <fieldset class="row instructions">\n			<legend class="offLeft"><span>Instructions</span></legend>\n		</fieldset> -->\n\n		<h4 class="title">\n			{{- i18n["report.scheduling.job.edit.output.label"] }}\n		</h4>\n\n		<!-- start name and description -->\n		<fieldset id="outputFileName" class="group first" title="{{- i18n["report.scheduling.job.edit.parameters.tooltip.baseFileName"] }}">\n			<label class="control input text">\n				<span class="wrap">\n					{{- i18n["report.scheduling.job.edit.output.filename"] }} ({{- i18n["required.field"] }}):\n				</span>\n				<input name="baseOutputFilename" type="text" value="" maxlength="200">\n				<span data-field="baseOutputFilename" class="message warning"></span>\n			</label>\n		</fieldset>\n		<fieldset id="outputDescription" class="group">\n			<label class="control textArea">\n				<span class="wrap">\n					{{- i18n["report.scheduling.job.edit.label.description"] }}:\n				</span>\n				<textarea name="outputDescription"></textarea>\n				<span data-field="outputDescription" class="message warning"></span>\n			</label>\n		</fieldset>\n		<!-- end name and description -->\n\n		<!-- start time zone -->\n		<fieldset id="timeZone" class="group">\n			<label class="control select inline twoLine">\n				<span class="wrap">\n					{{- i18n["report.scheduling.job.edit.output.label.timezone"] }}:\n				</span>\n				<select name="timeZone">\n					{{\n						_.each(timeZones, function(zone) {\n						}}\n							<option value="{{- zone.value }}">\n								{{- zone.title }}\n							</option>\n						{{\n						});\n					}}\n				</select>\n			</label>\n		</fieldset>\n		<!-- end time zone -->\n\n		<!-- start output locale -->\n		<fieldset id="outputLocale" class="group">\n			<label class="control select inline twoLine">\n				<span class="wrap">\n					{{- i18n["report.scheduling.job.edit.output.label.locale"] }}:\n				</span>\n				<select name="outputLocale">\n					<option value="" selected="">({{- i18n["report.scheduling.job.edit.output.locale.default"] }})</option>\n					<option value="en">en - English</option>\n					<option value="fr">fr - French</option>\n					<option value="it">it - Italian</option>\n					<option value="es">es - Spanish</option>\n					<option value="de">de - German</option>\n					<option value="ro">ro - Romanian</option>\n					<option value="ja">ja - Japanese</option>\n					<option value="zh_TW">zh_TW - Chinese (Taiwan)</option>\n					<option value="zh_CN">zh_CN - Chinese (China)</option>\n				</select>\n			</label>\n		</fieldset>\n		<!-- end output locale -->\n\n		<!-- start formats -->\n		<fieldset id="outputFormat" class="group">\n			<input id="outputFormats" type="hidden">\n			<legend>\n				<span class="wrap">\n					{{- i18n["report.scheduling.job.edit.output.label.outputFormat"] }}:\n				</span>\n			</legend>\n			<ul class="list inputSet">\n				<li class="leaf">\n					<div class="control checkBox">\n						<label class="wrap" for="scheduler_box_5" title="{{- i18n["report.output.csv.label.tooltip"] }}">\n							{{- i18n["report.output.csv.label"] }}\n						</label>\n						<input id="scheduler_box_5" name="outputFormats" value="CSV" type="checkbox">\n					</div>\n				</li>\n\n				<li class="leaf">\n					<div class="control checkBox">\n						<label class="wrap" for="scheduler_box_2" title="{{- i18n["report.output.html.label.tooltip"] }}">\n							{{- i18n["report.output.html.label"] }}\n						</label>\n						<input id="scheduler_box_2" name="outputFormats" value="HTML" type="checkbox">\n					</div>\n				</li>\n\n				<li class="leaf">\n					<div class="control checkBox">\n						<label class="wrap" for="scheduler_box_4" title="{{- i18n["report.output.rtf.label.tooltip"] }}">\n							{{- i18n["report.output.rtf.label"] }}\n						</label>\n						<input id="scheduler_box_4" name="outputFormats" value="RTF" type="checkbox">\n					</div>\n				</li>\n\n				<li class="leaf">\n					<div class="control checkBox">\n						<label class="wrap" for="scheduler_box_8" title="{{- i18n["report.output.docx.label.tooltip"] }}">\n							{{- i18n["report.output.docx.label"] }}\n						</label>\n						<input id="scheduler_box_8" name="outputFormats" value="DOCX" type="checkbox">\n					</div>\n				</li>\n\n				<li class="leaf">\n					<div class="control checkBox">\n						<label class="wrap" for="scheduler_box_9" title="{{- i18n["report.output.ods.label.tooltip"] }}">\n							{{- i18n["report.output.ods.label"] }}\n						</label>\n						<input id="scheduler_box_9" name="outputFormats" value="ODS" type="checkbox">\n					</div>\n				</li>\n\n				<li class="leaf">\n					<div class="control checkBox">\n						<label class="wrap" for="scheduler_box_12" title="{{- i18n["report.output.xlsx.nopag.label.tooltip"] }}">\n							{{- i18n["report.output.xlsx.nopag.label"] }}\n						</label>\n						<input id="scheduler_box_12" name="outputFormats" value="XLSX_NOPAG" type="checkbox">\n					</div>\n				</li>\n\n				<li class="leaf">\n					<div class="control checkBox">\n						<label class="wrap" for="scheduler_box_11" title="{{- i18n["report.output.xls.nopag.label.tooltip"] }}">\n							{{- i18n["report.output.xls.nopag.label"] }}\n						</label>\n						<input id="scheduler_box_11" name="outputFormats" value="XLS_NOPAG" type="checkbox">\n					</div>\n				</li>\n\n				<li class="leaf">\n					<div class="control checkBox">\n						<label class="wrap" for="scheduler_box_6" title="{{- i18n["report.output.odt.label.tooltip"] }}">\n							{{- i18n["report.output.odt.label"] }}\n						</label>\n						<input id="scheduler_box_6" name="outputFormats" value="ODT" type="checkbox">\n					</div>\n				</li>\n\n				<li class="leaf">\n					<div class="control checkBox">\n						<label class="wrap" for="scheduler_box_10" title="{{- i18n["report.output.xlsx.label.tooltip"] }}">\n							{{- i18n["report.output.xlsx.label"] }}\n						</label>\n						<input id="scheduler_box_10" name="outputFormats" value="XLSX" type="checkbox">\n					</div>\n				</li>\n\n				<li class="leaf">\n					<div class="control checkBox">\n						<label class="wrap" for="scheduler_box_3" title="{{- i18n["report.output.xls.label.tooltip"] }}">\n							{{- i18n["report.output.xls.label"] }}\n						</label>\n						<input id="scheduler_box_3" name="outputFormats" value="XLS" type="checkbox">\n					</div>\n				</li>\n\n				<li class="leaf">\n					<div class="control checkBox">\n						<label class="wrap" for="scheduler_box_1" title="{{- i18n["report.output.pdf.label.tooltip"] }}">\n							{{- i18n["report.output.pdf.label"] }}\n						</label>\n						<input id="scheduler_box_1" name="outputFormats" value="PDF" type="checkbox">\n					</div>\n				</li>\n\n\n				<li class="leaf">\n					<div class="control checkBox">\n						<label class="wrap" for="scheduler_box_14" title="{{- i18n["report.output.pptx.label.tooltip"] }}">\n							{{- i18n["report.output.pptx.label"] }}\n						</label>\n						<input id="scheduler_box_14" name="outputFormats" value="PPTX" type="checkbox">\n					</div>\n				</li>\n\n			</ul>\n\n			<span data-field="outputFormats" class="message warning"></span>\n		</fieldset>\n		<!-- end formats -->\n\n		<!-- start file handling -->\n		<fieldset id="fileHandling" class="group">\n			<legend class="">\n				<span class="wrap">\n					{{- i18n["report.scheduling.job.edit.file.handling"] }}:\n				</span>\n			</legend>\n			<ul class="list inputSet">\n				<li class="leaf">\n					<div class="control checkBox">\n						<label class="wrap" for="scheduler_overwriteFiles">\n							{{- i18n["report.scheduling.job.edit.repository.label.overwriteFiles"] }}\n						</label>\n						<input id="scheduler_overwriteFiles" type="checkbox" name="overwriteFiles" value="overwrite">\n					</div>\n				</li>\n				<li class="leaf">\n					<div class="control checkBox twoLine">\n						<label class="wrap" for="scheduler_sequentialFilenames">\n							{{- i18n["report.scheduling.job.edit.file.handling.sequential"] }}\n						</label>\n						<span class="wrap">\n							{{- i18n["report.scheduling.job.edit.repository.label.timestampPattern"] }}:\n						</span>\n						<input id="scheduler_sequentialFilenames" type="checkbox" name="sequentialFilenames" value="sequential">\n						<label class="control inline twoLine" title="{{- i18n["report.scheduling.job.edit.parameters.tooltip.timestamp.pattern.sequential"] }}">\n							<input name="timestampPattern" type="text" maxlength="100" title="{{- i18n["report.scheduling.job.edit.parameters.tooltip.timestamp.pattern.simple.data"] }}">\n							<span data-field="timestampPattern" class="message warning"></span>\n						</label>\n					</div>\n				</li>\n			</ul>\n		</fieldset>\n		<!-- end file handling -->\n	</div>\n\n	<!-- start output destinations -->\n	<div class="outputDestination section">\n		<h4 class="title">\n			{{- i18n["report.scheduling.job.edit.destination"] }}\n		</h4>\n		<ul class="list group first inputSet">\n\n			<li id="repositoryOutput" class="leaf">\n				<div class="control checkBox">\n					<label class="control browser" for="scheduler_outputToRepository">\n						<span class="wrap">\n							{{- i18n["report.scheduling.job.edit.destination.repository"] }}\n						</span>\n					</label>\n					<input id="scheduler_outputToRepository" type="checkbox" name="outputToRepository">\n				</div>\n				<div class="control browser">\n					<input type="text" name="outputRepository">\n					<button name="outputRepositoryButton" class="button action" type="button">\n						<span class="wrap">\n							{{- i18n["report.scheduling.job.edit.destination.browse"] }}\n							<span class="icon"></span>\n						</span>\n					</button>\n					<span data-field="outputRepository" class="message warning"></span>\n				</div>\n			</li>\n\n			<li id="fileSystemOutput" class="leaf">\n				<div class="control checkBox">\n					<label class="control browser" for="scheduler_outputToHostFileSystem">\n						<span class="wrap">\n							{{- i18n["report.scheduling.job.edit.destination.fs"] }}\n						</span>\n					</label>\n					<input id="scheduler_outputToHostFileSystem" type="checkbox" name="outputToHostFileSystem">\n				</div>\n				<div class="control browser">\n					<input type="text" name="outputHostFileSystem" />\n					<span data-field="outputHostFileSystem" disabled="" class="message warning"></span>\n				</div>\n			</li>\n\n			<li id="ftpServerOutput" class="leaf">\n				<ul class="list">\n					<li class="leaf">\n						<div class="control checkBox">\n							<label class="control browser" for="scheduler_outputToFTPServer">\n								<span class="wrap">\n									{{- i18n["report.scheduling.job.edit.destination.ftp"] }}\n								</span>\n							</label>\n							<input id="scheduler_outputToFTPServer" type="checkbox"\n							       name="outputToFTPServer">\n						</div>\n						<div class="control text">\n							<label class="control input text" for="ftpAddress">\n								<span class="wrap">\n									{{- i18n["report.scheduling.job.edit.destination.ftp.server"] }}\n								</span>\n								<input id="ftpAddress" type="text" name="ftpAddress">\n								<span data-field="ftpAddress" class="message warning"></span>\n							</label>\n						</div>\n						<div class="control text">\n							<label class="control input text" for="ftpDirectory">\n								<span class="wrap">\n									{{- i18n["report.scheduling.job.edit.destination.ftp.dir"] }}\n								</span>\n								<input id="ftpDirectory" type="text" name="ftpDirectory">\n								<span data-field="ftpDirectory" class="message warning"></span>\n							</label>\n						</div>\n						<div class="control text">\n							<label class="control input text" for="ftpUsername">\n								<span class="wrap"></span>\n								{{- i18n["report.scheduling.job.edit.destination.ftp.user"] }}\n								<input id="ftpUsername" type="text" name="ftpUsername">\n								<span data-field="ftpUsername" class="message warning"></span>\n							</label>\n						</div>\n						<div class="control text">\n							<label class="control input text" for="ftpPassword">\n								{{- i18n["report.scheduling.job.edit.destination.ftp.password"] }}\n								<span class="wrap">\n									<input type="password" id="ftpPassword" name="ftpPassword">\n								</span>\n								<span data-field="ftpPassword" class="message warning"></span>\n							</label>\n						</div>\n					</li>\n					<li class="leaf">\n						<div class="control checkBox">\n							<label for="scheduler_useFTPS">\n								<span class="wrap">\n									{{- i18n["report.scheduling.job.edit.destination.ftp.useftps"] }}\n								</span>\n							</label>\n							<input id="scheduler_useFTPS" type="checkbox" name="useFTPS">\n						</div>\n						<div class="control text">\n							<label class="control input text">\n								<span class="wrap">\n									{{- i18n["report.scheduling.job.edit.destination.ftp.port"] }}\n								</span>\n								<input type="text" name="ftpPort">\n								<span data-field="ftpPort" class="message warning"></span>\n							</label>\n						</div>\n					</li>\n				</ul>\n			</li>\n		</ul>\n\n		<fieldset id="testConnection" class="group inputSet">\n			<button name="ftpTestButton" id="ftpTestButton" class="button action ftp-test" type="button">\n	            <span class="wrap">\n		            {{- i18n["report.scheduling.job.edit.destination.ftp.test"] }}\n	                <span class="icon"></span>\n	            </span>\n			</button>\n			<span data-field="ftpTest" class="message warning"></span>\n		</fieldset>\n	</div>\n</div>';
}),define("bi/repo/enum/repositoryResourceTypes",{RESOURCE_LOOKUP:"resourceLookup",DASHBOARD:"dashboard",LEGACY_DASHBOARD:"legacyDashboard",REPORT_UNIT:"reportUnit",TOPIC:"topic",ADHOC_DATA_VIEW:"adhocDataView",FILE:"file",FOLDER:"folder",DATA_TYPE:"dataType",JDBC_DATA_SOURCE:"jdbcDataSource",AWS_DATA_SOURCE:"awsDataSource",JNDI_DATA_SOURCE:"jndiJdbcDataSource",VIRTUAL_DATA_SOURCE:"virtualDataSource",CUSTOM_DATA_SOURCE:"customDataSource",BEAN_DATA_SOURCE:"beanDataSource",XMLA_CONNECTION:"xmlaConnection",LIST_OF_VALUES:"listOfValues",REPORT_OPTIONS:"reportOptions",QUERY:"query",OLAP_UNIT:"olapUnit",DOMAIN_TOPIC:"domainTopic",SEMANTIC_LAYER_DATA_SOURCE:"semanticLayerDataSource",SECURE_MONDRIAN_CONNECTION:"secureMondrianConnection",MONDRIAN_XMLA_DEFINITION:"mondrianXmlaDefinition",MONDRIAN_CONNECTION:"mondrianConnection",INPUT_CONTROL:"inputControl",ORGANIZATION:"organization"}),define("common/component/panel/trait/collapsiblePanelTrait",["require","underscore","jquery","./abstractPanelTrait"],function(e){"use strict";function t(e,t){!t&&e.stopPropagation(),this.onCollapseControlPressed?this.onCollapseControlPressed(e):this.toggleCollapsedState()}function i(){this.$collapser&&this.$collapser.off("mousedown"),this.$el&&this.$el.find(this.expandOnDblClickSelector).off("dblclick")}var n=e("underscore"),s=e("jquery"),o=e("./abstractPanelTrait");return n.extend({},o,{onConstructor:function(e){this.collapserClass=e.collapserClass||"buttonIconToggle",this.collapserSelector=e.collapserSelector||".buttonIconToggle",this.collapsiblePanelClass=e.collapsiblePanelClass||"collapsiblePanel",this.expandOnDblClickSelector=e.expandOnDblClickSelector||"> p:first",this.allowEventPropagation=!!e.allowMouseDownEventPropagation,this.onCollapseControlPressed=e.onCollapseControlPressed},beforeSetElement:function(){i.call(this)},afterSetElement:function(){this.$el.addClass(this.collapsiblePanelClass),this.$collapser=this.$(this.collapserSelector),this.$collapser.length||(this.$collapser=s("<button></button>").addClass(this.collapserClass),this.$("> .header").prepend(this.$collapser)),this.$collapser.on("mousedown",n.bind(t,this,this.allowEventPropagation)),this.$el.find(this.expandOnDblClickSelector).on("dblclick",n.bind(t,this))},onRemove:function(){i.call(this)}})}),define("common/component/tree/trait/addToSelectionModelTrait",["require","underscore","common/component/list/model/ScalableListModel"],function(e){"use strict";var t=e("underscore"),i=e("common/component/list/model/ScalableListModel");return{afterFetchComplete:function(e,n){i.prototype.afterFetchComplete.apply(this,arguments);var s,o;t.each(e,function(e,t){e.addToSelection&&(e.selected=!0,s=e.value,o=this.get("bufferStartIndex")+t,this.selectionContains&&!this.selectionContains(s,o)&&this.addValueToSelection(s,o),delete e.addToSelection)},this)}}}),define("common/component/tree/plugin/TreePlugin",["require","backbone"],function(e){"use strict";var t=e("backbone");return t.View.extend({dataLayerObtained:function(){},itemsRendered:function(){}},{processors:null,treeInitialized:function(){},treeRemoved:function(){}})}),define("text!common/component/tooltip/template/tooltipTemplate.htm",[],function(){return'<div class="{{- cssClasses }}" style="position: absolute; z-index: 100000;">\n    <div class="content">\n        <div class="body"></div>\n    </div>\n</div>\n'}),define("common/component/tooltip/Tooltip",["require","jquery","underscore","backbone","text!./template/tooltipTemplate.htm"],function(e){"use strict";var t=e("jquery"),i=e("underscore"),n=e("backbone"),s=e("text!./template/tooltipTemplate.htm");return n.View.extend({template:i.template(s),delay:500,offset:{x:10,y:10},attribute:"data-tooltip",cssClasses:"panel info tooltip",contentSelector:".body",triggerEvents:!1,el:function(){return this.template({cssClasses:this.cssClasses})},constructor:function(e){if(e||(e={}),!e.attachTo||0===t(e.attachTo).length)throw new Error("Tooltip should be attached to an element");if(!e.contentTemplate)throw new Error("Tooltip should have contentTemplate");this._shown=!1,this.$attachTo=t(e.attachTo),this.$attachTo[0].tooltip=this,e.delay&&(this.delay=e.delay),e.offset&&(this.offset=e.offset),e.attribute&&(this.attribute=e.attribute),e.cssClasses&&(this.cssClasses=e.cssClasses),this.contentTemplate=e.contentTemplate,this.i18n=e.i18n||{},!i.isUndefined(e.triggerEvents)&&(this.triggerEvents=e.triggerEvents),this.selector="["+this.attribute+"]",i.bindAll(this,"show","_onMouseMove","_onMouseLeave"),this.$attachTo.delegate(this.selector,"mousemove touchmove",this._onMouseMove),this.$attachTo.delegate(this.selector,"mouseleave touchend",this._onMouseLeave),n.View.prototype.constructor.apply(this,arguments)},_render:function(e,t,s){if(this._event){e=e instanceof n.Model?e.toJSON():e;var o=i.template(this.contentTemplate)({model:e,i18n:this.i18n,options:t||{}});this.$el.find(".body").empty().append(o),this._showTooltip()}s.resolve()},show:function(e,n){var s=new t.Deferred;return this._timer=setTimeout(i.bind(this._render,this,e,n,s),this.delay),s},_showTooltip:function(){t("body").append(this.$el),this._updatePosition(),this._shown=!0,this.triggerEvents&&this.trigger("show",this)},hide:function(){this.contentTemplate&&this._timer&&clearTimeout(this._timer),this.$el.detach(),this._shown=!1,this.triggerEvents&&this.trigger("hide",this)},_updatePosition:function(){var e=this.$el.innerHeight(),i=this.$el.innerWidth(),n=t(window).height(),s=t(window).width(),o=this.offset.y,r=this.offset.x;e+this._event.pageY+this.offset.y+3>=n&&(o=-this.offset.y-e),i+this._event.pageX+this.offset.x+3>=s&&(r=-this.offset.x-i),this.$el.css({top:this._event.pageY+o,left:this._event.pageX+r})},_onMouseMove:function(e){this._event=e},_onMouseLeave:function(){this._shown&&this.hide(),this._timer&&clearTimeout(this._timer),this._event=null},remove:function(){this._shown&&this.hide(),this._timer&&clearTimeout(this._timer),this.$attachTo.undelegate(this.selector,"mousemove touchmove",this._onMouseMove),this.$attachTo.undelegate(this.selector,"mouseleave touchend",this._onMouseLeave),n.View.prototype.remove.apply(this,arguments)}},{attachTo:function(e,t){var i=this;return t||(t={}),t.attachTo=e||"body",new i(t)},detachFrom:function(e){e=t(e)[0],e.tooltip&&e.tooltip.remove()}})}),define("common/component/tree/plugin/TooltipPlugin",["require","./TreePlugin","underscore","common/component/tooltip/Tooltip"],function(e){"use strict";var t=e("./TreePlugin"),i=e("underscore"),n=e("common/component/tooltip/Tooltip");return t.extend({initialize:function(e){this.tooltip=n.attachTo(e.attachTo,i.omit(e,"el")),this.listensToList=!1,t.prototype.initialize.apply(this,arguments)},itemsRendered:function(e,t){var i=this;this.listensToList||(this.listensToList=!0,this.listenTo(t,"list:item:mouseover",function(e,t){i.tooltip.show(e)}),this.listenTo(t,"list:item:mouseout",function(){i.tooltip.hide()}))},remove:function(){n.detachFrom(this.$el),this.tooltip.remove(),t.prototype.remove.apply(this,arguments)}})}),define("common/component/singleSelect/dataprovider/DataProviderNew",["require","underscore","jquery"],function(e){"use strict";var t=e("underscore"),i=e("jquery"),n=999,s=50,o=50,r="criteria",a=2147483647,l=function(e){t.bindAll(this,"getData"),e=e||{},this.dataCache=[],this.dataCacheTotal=null,this.dataCachePages=[],this.pageSize=e.pageSize||n,this.criteriaKey=e.searchKey||r,this.maxSearchCacheSize=e.maxSearchCacheSize||s,this.getDataByCriteriaHolder={},this.controlGetTotal="undefined"!=typeof e.controlGetTotal?e.controlGetTotal:!1,this.dataConverter=e.dataConverter,this.saveLastCriteria="undefined"!=typeof e.saveLastCriteria?e.saveLastCriteria:!1,this.lastCriteria=null,this.serialRequestsDelay="undefined"!=typeof e.serialRequestsDelay?e.serialRequestsDelay:o,this.serialRequestsDelayedPromise=null,this.request=e.request};return t.extend(l.prototype,{getData:function(e){if(e=e||{},e[this.criteriaKey])return this._getDataByCriteria(e[this.criteriaKey])(e);if("undefined"==typeof e[this.criteriaKey]&&this.saveLastCriteria&&this.lastCriteria)return this._getDataByCriteria(this.lastCriteria)(e);this.lastCriteria=null;var t=i.Deferred(),n=this._getPagesToLoad(e);return n?this._requestData(e,n,t):this._resolveDeferredUsingDataFromCache(t,e),t.promise()},clear:function(){this.dataCache=[],this.dataCacheTotal=null,this.dataCachePages=[],this.getDataByCriteriaHolder={},this.lastCriteria=null},_requestData:function(e,i,n){var s=(i[i.length-1]-i[0]+1)*this.pageSize,o=t.extend({},e,{offset:i[0]*this.pageSize,limit:s});this.controlGetTotal&&(o.skipGetTotal=!0),s>=a/this.pageSize*this.pageSize&&delete o.limit,this.controlGetTotal&&"number"!=typeof this.dataCacheTotal&&delete o.skipGetTotal,this.serialRequestsDelay>0?(clearTimeout(this.deferredTimeout),this.deferredTimeout=setTimeout(t.bind(this._requestDataDeferred,this,e,o,n),this.serialRequestsDelay)):this._requestDataDeferred(e,o,n)},_requestDataDeferred:function(e,i,n){var s=this._getPagesToLoad(e);s?this.serialRequestsDelayedPromise&&t.isEqual(i,this.serialRequestsDelayedPromise.query)?this.serialRequestsDelayedPromise.promise.done(n.resolve).fail(n.reject):(this.serialRequestsDelayedPromise={promise:n.promise(),query:i},this.request(i).done(t.bind(this._requestDone,this,e,i,n)).fail(n.reject)):this._resolveDeferredUsingDataFromCache(n,e)},_requestDone:function(e,t,i,n){this._putDataToCache(t,n),this.serialRequestsDelayedPromise=null,this._resolveDeferredUsingDataFromCache(i,e)},_resolveDeferredUsingDataFromCache:function(e,t){var i=this._getDataFromCache(t);e.resolve({total:this.dataCacheTotal,data:i})},_getPagesToLoad:function(e){var t,i=this._convertLimitOffsetToFirstLast(e),n=this._findPageIndex(i.first),s=this._findPageIndex(i.last),o=[];for(t=n;s>=t;t++)if(!this.dataCachePages[t]){o.push(t);break}for(t=s;t>=n;t--)if(!this.dataCachePages[t]){o.push(t);break}return o.length>0?o:null},_findPageIndex:function(e){return Math.floor(e/this.pageSize)},_convertLimitOffsetToFirstLast:function(e){var t=e&&e.offset?e.offset:0,i=e&&e.limit?t+e.limit-1:this.dataCacheTotal?this.dataCacheTotal-1:a;return this.dataCacheTotal&&i>this.dataCacheTotal-1&&(i=this.dataCacheTotal-1),{first:t,last:i}},_getDataFromCache:function(e){e=t.defaults(e,{offset:0,limit:a});var i=Math.max(0,e.offset),n=Math.min(i+e.limit,this.dataCacheTotal);return this.dataCache.slice(i,n)},_putDataToCache:function(e,t){var i;for("undefined"!=typeof t.total&&(this.dataCacheTotal=t.total),e.limit=e.limit||a,i=0;i<t.data.length;i++)this.dataCache[i+e.offset]=this.dataConverter?this.dataConverter(t.data[i]):t.data[i];var n=e.offset/this.pageSize,s=Math.floor((Math.min(e.limit,t.data.length)+e.offset-1)/this.pageSize);for(i=n;s>=i;i++)this.dataCachePages[i]=!0},_getDataByCriteria:function(e){if(!this.getDataByCriteriaHolder[e]){var t,i=Number.MAX_VALUE,n=0,s=0;for(var o in this.getDataByCriteriaHolder)if(this.getDataByCriteriaHolder.hasOwnProperty(o)){s+=1;var r=this.getDataByCriteriaHolder[o];r.index<i&&(i=r.index,t=o),r.index>n&&(n=r.index)}s>=this.maxSearchCacheSize&&delete this.getDataByCriteriaHolder[t],this.getDataByCriteriaHolder[e]={getData:this._createDataProviderForCriteria(e),index:n+1}}return this.lastCriteria=e,this.getDataByCriteriaHolder[e].getData},_createDataProviderForCriteria:function(e){var i=this.request,n=this,s=new l({pageSize:this.pageSize,dataConverter:this.dataConverter,serialRequestsDelay:this.serialRequestsDelay,searchKey:this.criteriaKey,controlGetTotal:this.controlGetTotal,request:function(s){var o=t.extend({},s);return o[n.criteriaKey]=e,i(o)}}),o=s.getData;return s.getData=function(e){var i=t.extend({},e);return delete i[n.criteriaKey],o.call(s,i)},s.getData}}),l}),define("common/component/tree/TreeLevel",["require","underscore","common/component/panel/Panel","common/component/panel/trait/collapsiblePanelTrait","common/component/list/view/ListWithSelection","common/component/tree/trait/addToSelectionModelTrait","common/component/list/model/ListWithSelectionModel","common/component/tree/plugin/TooltipPlugin","common/component/singleSelect/dataprovider/DataProviderNew"],function(e){"use strict";function t(){this.$el.removeClass(this.loadingClass).addClass(this.openClass),l.invoke(this.plugins,"itemsRendered",this.list.model,this.list);var e=this.list.$("> .j-view-port-chunk > ul > li").addClass(this.cid).length,t=l.isFunction(this.levelHeight)?this.levelHeight():this.levelHeight;t&&e*this.listItemHeight>t?this.list.$el.css({height:t+"px","overflow-y":"auto"}):this.list.$el.css({height:"auto",overflow:"auto"}),this.list._calcViewPortHeight(),this.trigger("ready",this)}function i(e,t){this.listRenderError=!0,this.trigger("listRenderError",e,t,this)}function n(e){var t=[];l.chain(e).keys(e).each(function(i){t.push(e[i])}),this.selection.multiple||a(this),this.trigger("selection:change",t,this,[])}function s(e){var t=[];l.chain(e).keys(e).each(function(i){t.push(e[i])}),this.selection.multiple||a(this),this.trigger("item:dblclick",t)}function o(e,t){for(var i=0;i<t.length;i++)if(t[i]===e)return!0}function r(e,t,i,n){i&&i.exclude&&l.isArray(i.exclude)&&o(e,i.exclude)||(void 0===n||n>0)&&l.chain(e.items).keys().each(function(s){i&&i.exclude&&l.isArray(i.exclude)&&o(e.items[s],i.exclude)||t.call(e.items[s],i),r(e.items[s],t,i,void 0===n?n:--n)})}function a(e,t){t=t&&{exclude:t.exclude},r(e,function(e){this.list.clearSelection(),this.list.model.selection=[]},t)}var l=e("underscore"),c=e("common/component/panel/Panel"),u=e("common/component/panel/trait/collapsiblePanelTrait"),d=e("common/component/list/view/ListWithSelection"),h=e("common/component/tree/trait/addToSelectionModelTrait"),p=e("common/component/list/model/ListWithSelectionModel").extend(h),f=(e("common/component/tree/plugin/TooltipPlugin"),e("common/component/singleSelect/dataprovider/DataProviderNew"));return c.extend({constructor:function(e){e||(e={}),l.extend(e,{traits:[u]}),c.prototype.constructor.call(this,e)},initialize:function(e){e||(e={}),this.item=e.item||{},this.id=this.item.id,this.owner=e.owner,this.parent=e.parent,this.itemsTemplate=e.itemsTemplate,this.listItemHeight=e.listItemHeight,this.levelHeight=e.levelHeight,this.lazyLoad=!!e.lazyLoad,this.selection=e.selection||{allowed:!1,multiple:!1},this.resource=this.item.value,this.bufferSize=e.bufferSize,this.cache="undefined"!=typeof e.cache?e.cache:!1,this.allowMouseDownEventPropagation=e.allowMouseDownEventPropagation,this.items={},this.plugins=[];for(var t={el:this.el,model:this.model},i=0,n=e.plugins.length;n>i;i++){var s=e.plugins[i].constr;this.plugins.push(new s(l.extend({},t,e.plugins[i].options)))}this.dataLayer=this.owner.getDataLayer(this),l.invoke(this.plugins,"dataLayerObtained",this.dataLayer),c.prototype.initialize.apply(this,arguments)},render:function(){var e=new p({bufferSize:this.bufferSize,getData:this._getDataProvider(this.cache)});return this.list=new d({markerClass:"."+this.cid,eventListenerPattern:"."+this.cid+":not(.readonly) > p",el:this.$contentContainer,itemsTemplate:this.itemsTemplate,listItemHeight:this.listItemHeight,lazy:!0,selection:this.selection,allowMouseDownEventPropagation:this.allowMouseDownEventPropagation,model:e}),this.list.on("render:data",l.bind(t,this)),this.list.on("listRenderError",l.bind(i,this)),this.list.on("selection:change",l.bind(n,this)),this.list.on("item:dblclick",l.bind(s,this)),this.lazyLoad?this.on("open",this._onOpen,this):this.list.renderData(),this},_getDataProvider:function(e){var t=this,i=l.bind(function(e){return this.obtainData(e,t)},this.dataLayer),n={};return e&&("object"==typeof e&&(n=l.extend(n,e)),n.request=n.request||i,this.dataProvider=new f(n),i=this.dataProvider.getData),function(e){return e||(e={offset:0,limit:100}),e.id=t.id,i(l.extend({},t.owner.context,e),t)}},_onOpen:function(){this.$el.removeClass(this.openClass).addClass(this.loadingClass),this.list.renderData()},setElement:function(e){var t=c.prototype.setElement.apply(this,arguments);return this.list&&(this.list.setElement(this.$contentContainer),this.list.totalItems=-1),l.each(this.plugins,function(t){t.setElement(e)}),this.lazyLoad||this.list&&this.list.renderData(),this.collapsed||(this.open({silent:!0,depth:0}),this.lazyLoad&&this.list.renderData()),t},open:function(e){r(this,c.prototype.open,e,e?e.depth:0),c.prototype.open.call(this,e)},close:function(e){c.prototype.close.call(this,e),r(this,c.prototype.close,e,e?e.depth:void 0),a(this)},getLevel:function(e){return l(this.items).reduce(function(t,i){return t||(i.id===e?i:i.getLevel(e))},!1)},refresh:function(e){this.listRenderError||(this.lazyLoad&&!this.collapsed||!this.lazyLoad?(this.once("ready",l.bind(r,this,this,this.refresh,e,1)),this.list.model.fetch({top:0,bottom:this.list.model.bufferSize,force:!0})):(this.list.model.set("bufferStartIndex",void 0,{silent:!0}),this.list.model.set("bufferEndIndex",void 0,{silent:!0}),this.list.model.set("total",void 0,{silent:!0}),r(this,this.refresh,e)))},recalcConstraints:function(){this.list.resize()},fetchVisibleData:function(){this.list._fetchVisibleData()},resetSelection:function(e){a(this,e),e&&e.silent||this.trigger("selection:change",[])},hasItems:function(){return!!this.$("> .subcontainer > .j-view-port-chunk > ul > li").length},clearCache:function(){l.each(this.items,function(e){e.clearCache()}),this.dataProvider&&this.dataProvider.clear()},remove:function(){var e=this,t=-1;if(l.forEach(l.keys(this.items),function(t){e.items[t].remove()}),this.dataProvider&&this.dataProvider.clear(),this.list.remove(),this.parent){var i=this.parent.id,n=this.owner.getDataLayer(i);if(n.predefinedData&&n.predefinedData[i]&&l.isArray(n.predefinedData[i])){for(var s=0;s<n.predefinedData[i].length;s++)if(n.predefinedData[i][s].id===this.id){t=s;break}t>-1&&(n.predefinedData[i].splice(t,1),delete n.predefinedData[this.id])}delete this.parent.items[this.id]}c.prototype.remove.apply(this,arguments)}})}),define("common/component/tree/TreeDataLayer",["require","jquery.ui","underscore","jquery","common/util/classUtil","./TreeLevel","request"],function(e){"use strict";function t(e,t){return n.call(this,i.call(this,e),t)}function i(e){for(var t=0,i=e.length;i>t;t++)e[t]={id:this.extractId(e[t]),value:e[t]};return e}function n(e,t){var i,n;if(this.processors&&this.processors.length)for(var s=0,o=this.processors.length;o>s;s++){i=[];for(var r=0,a=e.length;a>r;r++)n=this.processors[s].processItem(e[r],t,this),n&&i.push(n);e=i}return e}e("jquery.ui");var s=e("underscore"),o=e("jquery"),r=e("common/util/classUtil"),a=(e("./TreeLevel"),e("request"));return r.extend({constructor:function(e){this.requestType=e.requestType?e.requestType:"GET",e.getDataUri&&(this.getDataUri=e.getDataUri),this.getDataUri||(this.getDataUri=s.template(e.dataUriTemplate)),e.getDataArray&&(this.getDataArray=e.getDataArray),e.getDataSize&&(this.getDataSize=e.getDataSize),e.extractId&&(this.extractId=e.extractId),this.levelDataId=e.levelDataId?e.levelDataId:"id",this.processors=e.processors||[],this.initialize(e)},initialize:function(e){},extractId:function(e){return e[this.levelDataId]},getDataSize:function(e,t,i){return this.getDataArray(e,t,i).length},getDataArray:function(e,t,i){return e},obtainData:function(e,i){var n=new o.Deferred,s=this;return this.predefinedData&&this.predefinedData[e.id]?n.resolve({total:this.predefinedData[e.id].length,data:this.predefinedData[e.id]}):a({type:this.requestType,dataType:this.dataType||"json",headers:{Accept:this.accept||"application/json","Content-Type":this.contentType||void 0},data:this.data||void 0,url:this.getDataUri(e)}).done(function(){s.dataSize=s.getDataSize.call(s,arguments[0],e,arguments[2]),n.resolve({total:s.dataSize,data:t.call(s,s.getDataArray.call(s,arguments[0],e,arguments[2]),e)})}).fail(function(e){n.reject(e.status,e.responseText)}),n},_process:t})}),define("text!common/component/tree/template/treeLevelListTemplate.htm",[],function(){return'<ul class="list collapsible folders" style="top: {{- top}}px; position: relative;">\n    {{ _.each(items, function(item){ }}\n    <li class="{{- item._node ? \'node closed\' : \'leaf\'}} {{- item.selected ? \'selected\' : \'\'}}" data-index="{{- item.index }}" tabindex="-1">\n        <p class="wrap button draggable" data-tooltip="{{- item.value.label }}"><b class="icon"/> {{- item.value.label }} </p>\n        <div class="subcontainer" />\n    </li>\n    {{ }) }}\n</ul>\n'}),define("text!common/component/tree/template/treeLevelTemplate.htm",[],function(){return'<div>\n    <ul class="list collapsible folders">\n        <li class="node">\n            <p class="wrap button">\n                <b class="icon" id="handler2" title=""></b>root\n            </p>\n            <div class="subcontainer"/>\n        </li>\n    </ul>\n</div>\n'}),define("common/component/tree/Tree",["require","jquery.ui","css!lists","underscore","backbone","./TreeLevel","./TreeDataLayer","text!./template/treeLevelListTemplate.htm","text!./template/treeLevelTemplate.htm"],function(e){"use strict";function t(e){var n=e.list.model.get("items"),o=this;n=i.where(n,{_node:!0}),e.$(".node").each(function(r,a){var l=n[r].id;e.items[l]?e.items[l].setElement(a):(e.items[l]=new s(i.extend({},o._options,{el:a,item:n[r],parent:e})),o.listenTo(e.items[l],"listRenderError",i.bind(function(e,t,i){this.trigger("levelRenderError",e,t,i)},o)),e.listenTo(e.items[l],"ready",i.bind(t,o)),e.listenTo(e.items[l],"selection:change",function(t,i,n){i&&n.push(i),e.list.model.clearSelection(),e.trigger("selection:change",t,e,n)}),e.listenTo(e.items[l],"item:dblclick",function(t){e.list.model.clearSelection(),e.trigger("item:dblclick",t)}),e.items[l].render())}).length&&e.$(".j-view-port-chunk").css({height:"auto"})}e("jquery.ui"),e("css!lists");var i=e("underscore"),n=e("backbone"),s=e("./TreeLevel"),o=e("./TreeDataLayer"),r=e("text!./template/treeLevelListTemplate.htm"),a=e("text!./template/treeLevelTemplate.htm"),l={ADD:"add",UPDATE:"update"},c=n.View.extend({template:i.template(a),_plugins:[],el:function(){return this.template()},constructor:function(e){e||(e={}),this.defaultDataLayer=new o(e),this.customDataLayers=e.customDataLayers,e.collapserSelector||(e.collapserSelector="b.icon:eq(0)"),e.predefinedData?(this.defaultDataLayer.predefinedData=e.predefinedData,e.predefinedData=void 0):this.defaultDataLayer.predefinedData={},e.rootless&&(this.rootless=e.rootless,e.rootless=void 0),e.additionalCssClasses&&(this.additionalCssClasses=e.additionalCssClasses,e.additionalCssClasses=void 0),e.getDataLayer&&(this.getDataLayer=e.getDataLayer,e.getDataLayer=void 0),this._options=i.extend({itemsTemplate:r,plugins:this._plugins,owner:this},e),this.context=e.context||{};for(var t=0,s=this._plugins.length;s>t;t++)this._plugins[t].processors&&(this.processors=this.processors.concat(this._plugins[t].processors));n.View.apply(this,arguments)},initialize:function(e){this.rootLevel=new s(i.extend({},this._options,{levelHeight:e.rootLevelHeight},{el:this.$("li")[0]},{item:{id:"/",value:{id:"/",resourceType:"folder"}}})),this.rootless&&this.$el.find("ul:first").addClass("hideRoot"),this.additionalCssClasses&&this.$el.find("ul:first").addClass(this.additionalCssClasses),this.listenTo(this.rootLevel,"ready",i.bind(t,this)),this.listenTo(this.rootLevel,"selection:change",i.bind(function(e,t,n){t&&n&&i.isArray(n)&&(this.rootLevel.selection.multiple||this.rootLevel.resetSelection({silent:!0,exclude:[n[0]]})),this.trigger("selection:change",e)},this)),this.listenTo(this.rootLevel,"item:dblclick",i.bind(function(e){this.trigger("item:dblclick",e)},this));for(var n=0,o=this._plugins.length;o>n;n++)this._plugins[n].constr.treeInitialized.call(this,this._plugins[n].options);this.rootLevel.render(),e.collapsed&&e.lazyLoad&&this.rootless&&this.expand("/")},remove:function(){for(var e=0,t=this._plugins.length;t>e;e++)this._plugins[e].constr.treeRemoved.call(this);this.rootLevel.remove(),n.View.prototype.remove.apply(this,arguments)},expand:function(e,t){var i=this.getLevel(e);return i&&i.open(t),this},collapse:function(e,t){var i=this.getLevel(e);return i&&i.close(t),this},select:function(e){var t=this.getLevel(e);if(t){var i=t.parent.list,n=t.item;i.model.clearSelection().addValueToSelection(n.value,n.index),this.trigger("selection:change",i.getValue())}},deselect:function(e){},addItem:function(e,t){var i=this.getLevel(e),n=l.ADD;return i&&this._getNodeItems(e,i,t,n),this},updateItem:function(e,t){var i=t?this.getLevel(t):this.rootLevel;return i&&this._getNodeItems(i.id,i,e),this},resetSelection:function(e){return this.rootLevel.list.clearSelection(),this.rootLevel.list.model.selection=[],this.rootLevel.resetSelection(e),this},refresh:function(e){e&&(this.context=e),this.rootLevel.refresh()},recalcConstraints:function(){this.rootLevel.recalcConstraints()},fetchVisibleData:function(){this.rootLevel.fetchVisibleData()},clearCache:function(){this.rootLevel.clearCache()},getLevel:function(e){return this.rootLevel.id===e?this.rootLevel:this.rootLevel.getLevel(e)},getDataLayer:function(e){return this.customDataLayers&&this.customDataLayers[e.id]?this.customDataLayers[e.id]:this.defaultDataLayer},_addItem:function(e,t,n){return!i.findWhere(e,{id:n.id})&&e.push(n),e},_updateItem:function(e,t){return i.each(e,function(e){e.id===t.id&&i.extend(e,t)},this),e},_getNodeItems:function(e,t,n,s){var o,r=this.getDataLayer(t),a=t.list.model.get("items")?t.list.model.get("items"):[];r.predefinedData=r.predefinedData||{},o=s===l.ADD?this._addItem(a,e,n):this._updateItem(a,n),r.predefinedData[e]=i.sortBy(o,"label"),t.list.lazy=!1,t.list.fetch()}},{instance:function(e){return new this(e)}});return{use:function(e,t){return function(e){return{use:function(t,i){return e.prototype._plugins.push({constr:t,options:i}),this},create:function(){return e}}}(c.extend({_plugins:[{constr:e,options:t}]}))},create:function(){return c}}}),define("text!common/component/panel/template/tabbedPanelButtonTemplate.htm",[],function(){return'<button class="button up">\n    <span class="wrap">{{- label }}<span class="icon"></span></span>\n</button>\n'}),define("common/component/panel/trait/tabbedPanelTrait",["require","underscore","jquery","backbone","./abstractPanelTrait","common/component/base/OptionContainer","text!../template/tabbedPanelButtonTemplate.htm"],function(e){"use strict";function t(e,t){var i=t.get("action");this._contentRendered[i]||(this._contentRendered[i]=!0,this.tabs[i].render&&this.tabs[i].render()),this.$tabs.hide(),this.$tabs.filter(function(){return n(this).data("tab")===i}).show(),this.selectedTab=i,this.trigger("tab:"+i,e,t)}var i=e("underscore"),n=e("jquery"),s=e("backbone"),o=e("./abstractPanelTrait"),r=e("common/component/base/OptionContainer"),a=e("text!../template/tabbedPanelButtonTemplate.htm");return i.extend({},o,{onConstructor:function(e){if(e||(e={}),!e.tabs||!i.isArray(e.tabs)||0===e.tabs.length)throw new Error("Tabbed panel should have at least one tab");this.tabContainerClass=e.tabContainerClass||"tabContainer",this.tabHeaderContainerSelector=e.tabHeaderContainerSelector||"> .header > .tabHeaderContainer",this.tabHeaderContainerClass=e.tabHeaderContainerClass||"tabHeaderContainer",this.tabbedPanelClass=e.tabbedPanelClass||"tabbedPanel",this.tabs={},i.each(e.tabs,i.bind(function(e){this.tabs[e.action]=e.content,delete e.content},this))},afterSetElement:function(){this.$el.addClass(this.tabbedPanelClass),this.$tabHeaderContainer=this.$(this.tabHeaderContainerSelector),this.$tabHeaderContainer.length||(this.$tabHeaderContainer=n("<div></div>").addClass(this.tabHeaderContainerClass),this.$("> .header").append(this.$tabHeaderContainer)),this.$contentContainer.empty(),i.each(this.tabs,i.bind(function(e,t){var i=n("<div></div>").addClass(this.tabContainerClass);i.data("tab",t),i.html(e instanceof s.View?e.$el:e),this.$contentContainer.append(i)},this));var e=this.tabContainerClass.split(" ");this.$tabs=this.$("."+e[0])},afterInitialize:function(e){this.tabHeaderContainer=new r({options:e.tabs,el:this.$tabHeaderContainer,contextName:"tab",toggleClass:e.toggleClass||"active",toggle:!0,optionTemplate:e.optionTemplate||a}),this._contentRendered={},this.listenTo(this.tabHeaderContainer,i.map(e.tabs,function(e){return"tab:"+e.action}).join(" "),i.bind(t,this));for(var n=0;n<e.tabs.length;n++)if(e.tabs[n].primary){this.openTab(e.tabs[n].action);break}},onRemove:function(){i.each(this.tabs,function(e){e.remove&&e.remove()}),this.tabHeaderContainer.remove()},extension:{openTab:function(e){var t=this.tabHeaderContainer.getOptionView(e);t&&t.select()},showTab:function(e){var t=this.tabHeaderContainer.getOptionView(e);t&&t.show()},hideTab:function(e){var t=this.tabHeaderContainer.getOptionView(e);t&&t.hide()}}})}),define("text!common/component/tree/template/searchPluginTemplate.htm",[],function(){return'<span class="control searchLockup ">\n    <div class="wrap">\n        <input type="text" tabindex="">\n    </div>\n    <b class="right">\n        <a class="button searchClear"></a>\n    </b>\n    <a class="button search up"></a>\n</span>\n'}),define("common/component/tree/plugin/SearchPlugin",["require","underscore","jquery","backbone","./TreePlugin","text!../template/searchPluginTemplate.htm"],function(e){"use strict";var t=e("underscore"),i=e("jquery"),n=e("backbone"),s=e("./TreePlugin"),o=e("text!../template/searchPluginTemplate.htm"),r=n.View.extend({template:t.template(o),el:function(){return this.template()},events:{"click .button.search":"clickHandler","click .button.searchClear":"clear","keydown input[type=text]":"keyHandler"},initialize:function(e){this.owner=e.owner,this.$searchInput=this.$el.find("input[type=text]")},search:function(e){var i=this.$searchInput.val();this.owner.refresh(t.extend({searchString:i},e)),i?this.$el.find(".button.searchClear").addClass("up"):this.$el.find(".button.searchClear").removeClass("up")},clear:function(){this.$el.find("input[type=text]").val(""),this.clickHandler(),this.trigger("clear",this)},clickHandler:function(){delete this.owner.context.searchString,this.search(this.owner.context),this.trigger("search",this.owner.context)},keyHandler:function(e){13===e.which&&this.clickHandler()},setSearchString:function(e){this.$searchInput.val(e)}});return s.extend({initialize:function(e){this.searchParameter=e&&e.searchParameter||"q",this.additionalParams=e&&e.additionalParams},dataLayerObtained:function(e){var n=this;if(!e.__searchPluginExtended){var s=e.getDataUri,o=this.searchParameter;e.getDataUri=function(e){var r=s.apply(this,arguments),a={};return e.searchString&&(a[o]=e.searchString),n.additionalParams&&t.extend(a,n.additionalParams,t.pick(e,t.keys(n.additionalParams))),r+=(-1===r.indexOf("?")?"?":"&")+i.param(a,!0)},e.__searchPluginExtended=!0}}},{treeInitialized:function(e){e=e||{};var t=this;this.searchForm=new r({owner:this}),e.dfdRenderTo?e.dfdRenderTo.done(function(e){e.prepend(t.searchForm.render().el)}):this.$el.prepend(this.searchForm.render().el)},treeRemoved:function(){this.searchForm.remove()}})}),define("common/component/tree/plugin/InfiniteScrollPlugin",["require","./TreePlugin"],function(e){"use strict";var t=e("./TreePlugin");return t.extend({itemsRendered:function(){this.$("> .subcontainer > .j-view-port-chunk").css({height:"auto"})}})}),define("text!common/component/tree/template/noResourcesFoundMessageTemplate.htm",[],function(){return'<div class="noSearchResults">{{- msg}}</div>'}),define("common/component/tree/plugin/NoSearchResultsMessagePlugin",["require","underscore","jquery","bundle!js-sdk/CommonBundle","./TreePlugin","text!../template/noResourcesFoundMessageTemplate.htm"],function(e){"use strict";var t=e("underscore"),i=(e("jquery"),e("bundle!js-sdk/CommonBundle")),n=e("./TreePlugin"),s=e("text!../template/noResourcesFoundMessageTemplate.htm"),o=function(e){!e.list.totalItems&&e.list.$el.html(this.noResourcesFoundMessage)};return n.extend({},{treeInitialized:function(e){this.noResourcesFoundMessage=t.template(s,{msg:i["no.resources.found"]}),this.listenTo(this.rootLevel,"ready",o)},treeRemoved:function(){this.stopListening(this.rootLevel,"ready",o);
}})}),define("text!bi/repo/dialog/RepositoryChooserDialog/template/resourceDialogTemplate.htm",[],function(){return'<div class="m-Dialog u-width-450px u-height-525px jrs reportChooserDialog {{- additionalCssClasses }}" tabindex="-1">\n    <div class="m-Dialog-header mover jrs">\n        <h1 class="m-Dialog-header-title jrs">{{- title }}</h1>\n    </div>\n    <div class="sub header tabHeaderContainer"></div>\n    <div class="m-Dialog-body subcontainer u-height-300px jrs"></div>\n    <p class="itemDescription"></p>\n    <div class="m-Dialog-footer jrs"></div>\n</div>\n'}),define("text!bi/repo/dialog/RepositoryChooserDialog/template/sidebarTreeLeafTemplate.htm",[],function(){return'<ul class="list collapsible" style="top: {{- top}}px; position: relative;">\n    {{ _.each(items, function(item){ }}\n    <li class="{{- item._node ? \'node folders closed\' : \'leaf\'}} {{- item.selected ? \'selected\' : \'\'}} {{- item.cssClass }}" data-index="{{- item.index }}" tabindex="-1">\n        <p class="wrap button {{- item._node ? \'\' : \'draggable\'}} " {{ if (item.value.description || item.value.uri) { }}data-tooltip=\'{{ if (item.value.description) { }}<p class="message label">Description: </p><p class="message">{{- item.value.description }}</p>{{ } }} {{ if (item.value.uri) { }} <p class="message label">Path: </p><p class="message">{{- item.value.uri }}</p> {{ } }}\' {{ } }}><b class="icon"/> {{- item.value.label }} </p>\n        <div class="subcontainer" />\n    </li>\n    {{ }) }}\n</ul>'}),define("text!bi/repo/dialog/RepositoryChooserDialog/template/tabPanelButtonTemplate.htm",[],function(){return'<button class="button {{- additionalCssClasses }}{{ if (exposeAction) { }} {{- action}} {{ } }} up" title="{{ if(action === \'list\') { }} {{- i18n.ADH_108_DATA_CHOOSER_LIST_TAB_TOOLTIP }} {{ } else { }} {{- i18n.ADH_108_DATA_CHOOSER_FOLDERS_TAB_TOOLTIP }} {{ } }}">\n    <span class="wrap">{{- label }}<span class="icon"></span></span>\n</button>'}),define("bi/repo/dialog/RepositoryChooserDialog/RepositoryItemChooserDialogView",["require","underscore","jquery","json3","common/component/dialog/Dialog","common/component/dialog/AlertDialog","common/component/tree/Tree","common/component/tree/TreeDataLayer","common/component/panel/trait/tabbedPanelTrait","common/component/tree/plugin/SearchPlugin","common/component/tree/plugin/InfiniteScrollPlugin","common/component/tree/plugin/NoSearchResultsMessagePlugin","jrs.configs","bi/repo/enum/repositoryResourceTypes","bundle!adhoc_messages","common/util/browserDetection","text!./template/resourceDialogTemplate.htm","text!./template/sidebarTreeLeafTemplate.htm","text!./template/tabPanelButtonTemplate.htm"],function(e){"use strict";function t(e){switch(e.value.resourceType){case f.REPORT_UNIT:e.cssClass="topic";break;case f.ADHOC_DATA_VIEW:e.cssClass="adhocDataView"}return e}var i=e("underscore"),n=e("jquery"),s=e("json3"),o=e("common/component/dialog/Dialog"),r=e("common/component/dialog/AlertDialog"),a=e("common/component/tree/Tree"),l=e("common/component/tree/TreeDataLayer"),c=e("common/component/panel/trait/tabbedPanelTrait"),u=e("common/component/tree/plugin/SearchPlugin"),d=e("common/component/tree/plugin/InfiniteScrollPlugin"),h=e("common/component/tree/plugin/NoSearchResultsMessagePlugin"),p=e("jrs.configs").contextPath,f=e("bi/repo/enum/repositoryResourceTypes"),m=e("bundle!adhoc_messages"),g=e("common/util/browserDetection"),v=e("text!./template/resourceDialogTemplate.htm"),_=e("text!./template/sidebarTreeLeafTemplate.htm"),b=e("text!./template/tabPanelButtonTemplate.htm"),y=22,T="list",w=5e3,S=p+"/rest_v2/api/resources?{{= id != '@fakeRoot' ? 'folderUri=' + id : ''}}",C="&offset={{= offset }}&limit={{= limit }}&forceTotalCount=true&forceFullPage=true",E=S+"&recursive=false&containerType="+f.FOLDER+C,x=S+"&recursive=true"+C,D=p+"/flow.html?_flowId=searchFlow&method=getNode&provider=repositoryExplorerTreeFoldersProvider&uri=/&depth=1";return o.extend({constructor:function(e){e||(e={}),this.options=e,this._dfdRenderSerachFormTo=n.Deferred();var r=a.use(d).create(),p=a.use(h).use(u,{dfdRenderTo:this._dfdRenderSerachFormTo}).create(),g={treeNodeProcessor:{processItem:function(e){return e._node=i.contains([f.FOLDER],e.value.resourceType),e}},filterPublicFolderProcessor:{processItem:function(e){return"/public"!==e.value.uri?e:void 0}},filterTempFolderProcessor:{processItem:function(e){return-1===e.value.uri.indexOf("/temp")?e:void 0}},filterEmptyFoldersProcessor:{processItem:function(e){return"folder"!==e.value.resourceType||""!==e.value._links.content?e:void 0}},cssClassItemProcessor:{processItem:t}};this.prepareSpecificChooserDialog(),this.resourcesTreeView=r.instance({itemsTemplate:_,listItemHeight:y,selection:{allowed:!0,multiple:!1},rootless:!0,collapsed:!0,lazyLoad:!0,bufferSize:w,additionalCssClasses:"folders",dataUriTemplate:E,levelDataId:"uri",customDataLayers:{"/":i.extend(new l({dataUriTemplate:D,processors:i.chain(g).omit("filterPublicFolderProcessor").values().value(),getDataArray:function(e){e=s.parse(n(e).text());var t=i.find(e.children,function(e){return"/public"===e.uri}).label;return[{id:"@fakeRoot",label:e.label,uri:"/",resourceType:"folder",_links:{content:"@fakeContentLink"}},{id:"/public",label:t,uri:"/public",resourceType:"folder",_links:{content:"@fakeContentLink"}}]}}),{accept:"text/html",dataType:"text"})},processors:i.values(g),getDataArray:function(e,t,i){return e&&e[f.RESOURCE_LOOKUP]?e[f.RESOURCE_LOOKUP]:[]},getDataSize:function(e,t,i){return+i.getResponseHeader("Total-Count")}}),this.resourcesListView=p.instance({rootLevelHeight:i.bind(this.getContentHeight,this),itemsTemplate:_,listItemHeight:y,selection:{allowed:!0,multiple:!1},rootless:!0,collapsed:!0,lazyLoad:!0,dataUriTemplate:x,levelDataId:"uri",cache:{searchKey:"searchString",pageSize:100},processors:[g.cssClassItemProcessor,g.filterTempFolderProcessor],getDataArray:function(e,t,i){return e&&e[f.RESOURCE_LOOKUP]?e[f.RESOURCE_LOOKUP]:[]},getDataSize:function(e,t,i){return+i.getResponseHeader("Total-Count")}}),o.prototype.constructor.call(this,{template:v,modal:!0,resizable:!0,additionalCssClasses:"sourceDialogNew",title:m.ADH_108_DATA_CHOOSER_DIALOG_TITLE,traits:[c],tabHeaderContainerSelector:".tabHeaderContainer",tabContainerClass:"tabContainer control groupBox treeBox",optionTemplate:b,toggleClass:"down",tabs:[{label:m.ADH_108_DATA_CHOOSER_FOLDERS_TAB,action:"tree",content:this.resourcesTreeView,exposeAction:!0,additionalCssClasses:"action square small",i18n:m},{label:m.ADH_108_DATA_CHOOSER_LIST_TAB,action:"list",content:this.resourcesListView,exposeAction:!0,additionalCssClasses:"action square small",i18n:m}],buttons:[{label:m.ADH_016_BUTTON_OK,action:"apply",primary:!0},{label:m.ADH_010_BUTTON_CANCEL,action:"cancel",primary:!1}]}),this.disableButton("apply"),this.on("button:apply",i.bind(this._onSelectDataDialogOkButtonClick,this)),this.on("button:cancel",i.bind(this._onSelectDataDialogCancelButtonClick,this))},prepareSpecificChooserDialog:function(){this.options.resourcesTypeToSelect&&this.options.resourcesTypeToSelect.length||(this.options.resourcesTypeToSelect=[f.REPORT_UNIT]);for(var e=[],t=0;t<this.options.resourcesTypeToSelect.length;t++)e.push("type="+this.options.resourcesTypeToSelect[t]);e=e.join("&"),E=E+"&"+e,x=x+"&"+e},initialize:function(e){this.listenTo(this.resourcesTreeView,"selection:change",this.selectionListener),this.listenTo(this.resourcesTreeView,"levelRenderError",i.bind(this._onLevelRenderError,this)),this.listenTo(this.resourcesTreeView,"item:dblclick",this._onSelectDataDialogOkButtonClick),this.listenTo(this.resourcesListView,"selection:change",this.selectionListener),this.listenTo(this.resourcesListView,"levelRenderError",i.bind(this._onLevelRenderError,this)),this.listenTo(this.resourcesListView,"item:dblclick",this._onSelectDataDialogOkButtonClick),this.listenTo(this.resourcesListView.searchForm,"search",this._onSearch),this.listenTo(this.resourcesListView.searchForm,"clear",this._resetItemSelection),this.on("tab:tree tab:list",this._resetItemSelection,this),o.prototype.initialize.apply(this,arguments)},getErrorDialog:function(){return this.errorDialog?this.errorDialog:this.errorDialog=new r},events:{resize:"_onResizeHeight"},getContentHeight:function(){return this.$el.height()-this._resizableContainerShiftHeight-6},render:function(){return o.prototype.render.apply(this,arguments),this._dfdRenderSerachFormTo.resolve(this.$tabHeaderContainer),this.openTab(T),this},open:function(){var e=this;this._resizableContainerShiftHeight=6,o.prototype.open.apply(this,arguments);var t=i.bind(function(){this.$contentContainer.find(".tabContainer").css({height:"inherit","overflow-y":"auto"})},this);g.isIE8()||g.isIE9()?setTimeout(t,1):t(),this.$el.children().not(".subcontainer").not(".ui-resizable-e").not(".ui-resizable-se").each(function(){e._resizableContainerShiftHeight+=e.$(this).outerHeight(!0)}),this.$contentContainer.height(this.$el.height()-this._resizableContainerShiftHeight)},close:function(){this.resourcesTreeView&&(this.resourcesTreeView.collapse("@fakeRoot",{silent:!0}),this.resourcesTreeView.collapse("/public",{silent:!0}),this.resourcesTreeView.resetSelection()),o.prototype.close.apply(this,arguments)},selectionListener:function(e){var t=i.find(this.buttons.options,function(e){return"apply"===e.model.attributes.action}).$el,n=e&&i.isArray(e)&&e[0],s=n?e[0].uri:void 0,o=n?e[0].resourceType:void 0;return n||s||o?(o===f.FOLDER?this.$(".itemDescription").empty():this.$(".itemDescription").text(n.description||""),t.find(".wrap").text(m.ADH_016_BUTTON_OK),i.contains(i.union([f.FOLDER]),o)?(this.selectedResource=!1,void this.disableButton("apply")):(this.selectedResource={resourceUri:s,event:this._getAdHocFlowEvent(o)},void this.enableButton("apply"))):(this.disableButton("apply"),void this.$(".itemDescription").empty())},_onResizeHeight:function(){this.$contentContainer.height(this.$el.height()-this._resizableContainerShiftHeight),this.resourcesListView.rootLevel.list.$el.height(this.$el.height()-this._resizableContainerShiftHeight-6),this.resourcesTreeView.rootLevel.list.$el.css("height","100%")},_onSearch:function(){this.openTab(T),this.disableButton("apply")},_resetItemSelection:function(){this.resourcesTreeView.resetSelection(),this.resourcesListView.resetSelection(),this.$(".itemDescription").empty()},_getAdHocFlowEvent:function(e){var t="";return e==f.REPORT_UNIT||e==f.DOMAIN_TOPIC?t="startAdHocWithTopic":e==f.SEMANTIC_LAYER_DATA_SOURCE&&(t="startQueryBuilder"),t},_onSelectDataDialogOkButtonClick:function(){this.selectedResource&&this.close()},_onLevelRenderError:function(e,t,i){t=s.parse(t);var n=this.getErrorDialog();n.setMessage(t.parameters[0].substring(t.parameters[0].indexOf(": ")+2,t.parameters[0].indexOf("\n"))),n.open(),i.$el.removeClass(i.loadingClass).addClass(i.openClass)},_onSelectDataDialogCancelButtonClick:function(){this.selectedResource=!1,this.close()},_getParameterByName:function(e){var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),i=t.exec(location.search);return null==i?"":decodeURIComponent(i[1].replace(/\+/g," "))}})}),define("common/component/tree/plugin/ContextMenuTreePlugin",["require","./TreePlugin","underscore","jquery"],function(e){"use strict";var t=e("./TreePlugin"),i=e("underscore"),n=(e("jquery"),i.memoize(function(e){var t=i.map(e.options,function(e){return e.model.get("action")});return t},function(e){return e.cid}));return t.extend({initialize:function(e){if(!e)throw new Error("Initialization error. Options required.");if(this.contextMenus=e.contextMenus,this.contextMenu=e.contextMenu,this.defaultSelectedItems=e.defaultSelectedItems||function(){},!this.contextMenus&&!this.contextMenu)throw new Error("contextMenu or contextMenus must be specified.");if(this.showContextMenuCondition=e.showContextMenuCondition,!this.showContextMenuCondition&&!this.contextMenu)throw new Error("contextMenu must be specified for default behaviour");!this.showContextMenuCondition&&(this.showContextMenuCondition=function(){return this.contextMenu}),this.model=e.model,t.prototype.initialize.apply(this,arguments)},itemAction:function(e){var t=e.get("action");this.treeItem.action=t},itemsRendered:function(e,t){var i=this;this.listenTo(t,"list:item:contextmenu",function(e,t){if(this.currentContextMenu=i.showContextMenuCondition(e),this.lastContextMenu&&this.lastContextMenu.hide(),this.lastContextMenu=this.currentContextMenu,this.currentContextMenu){this.currentContextMenu.treeItem=e;var s=this.currentContextMenu.treeItem.action;s||(s=i.defaultSelectedItems.call(this.currentContextMenu,e,n(this.currentContextMenu)))?this.currentContextMenu.resetSelection([s]):this.currentContextMenu.resetSelection(),this.currentContextMenu.show({left:t.pageX,top:t.pageY}),this.listenTo(this.currentContextMenu.collection,"select",function(e,t){this.itemAction.call(this.currentContextMenu,t)},this)}},this)},remove:function(){this.stopListening(),this.contextMenu&&this.contextMenu.remove()}})}),define("text!bi/repo/dialog/RepositoryChooserDialog/template/repositoryFoldersTreeLevelTemplate.htm",[],function(){return'<ul class="list collapsible" style="top: {{- top}}px; position: relative;">\n	{{ _.each(items, function(item){ }}\n	<li class="{{- item._node ? \'node closed\' : \'leaf\'}} {{- item.selected ? \'selected\' : \'\'}} {{- item._readonly ? \'readonly\' : \'\'}}" data-index="{{- item.index }}" tabindex="-1">\n		<p class="wrap button draggable" data-tooltip=\'true\'><b class="icon"/> {{- item.value.label }} </p>\n		<div class="subcontainer" />\n	</li>\n	{{ }) }}\n</ul>\n'}),define("bi/repo/dialog/RepositoryChooserDialog/RepositoryFolderTreeFactory",["require","common/component/tree/Tree","jquery","underscore","json3","common/component/tree/TreeDataLayer","common/component/tree/plugin/TooltipPlugin","common/component/tree/plugin/ContextMenuTreePlugin","bi/repo/enum/repositoryResourceTypes","text!bi/repo/dialog/RepositoryChooserDialog/template/repositoryFoldersTreeLevelTemplate.htm","bundle!CommonBundle","settings/generalSettings"],function(e){"use strict";function t(e){var t=2;return e.isWritable&&(t=4|t),e.isRemovable&&(t=16|t),e.isAdministrable&&(t=1),t}var i=e("common/component/tree/Tree"),n=e("jquery"),s=e("underscore"),o=e("json3"),r=e("common/component/tree/TreeDataLayer"),a=e("common/component/tree/plugin/TooltipPlugin"),l=(e("common/component/tree/plugin/ContextMenuTreePlugin"),e("bi/repo/enum/repositoryResourceTypes")),c=e("text!bi/repo/dialog/RepositoryChooserDialog/template/repositoryFoldersTreeLevelTemplate.htm"),u=e("bundle!CommonBundle"),d=e("settings/generalSettings"),h={folderTreeProcessor:{processItem:function(e){return e._node=!0,e._readonly=!(1==e.value.permissionMask||4&e.value.permissionMask),e}},filterPublicFolderProcessor:{processItem:function(e){return e.value.uri!==p.settings.publicFolderUri&&e.value.uri!==p.settings.tempFolderUri?e:void 0}},i18n:{processItem:function(e){return e.i18n=u,e}},tenantProcessor:{processItem:function(e){return e._node=!0,e.value.label=e.value.tenantName,e.value.uri=e.value.tenantUri,e}}},p=function(e){return i.use(a,{i18n:u,contentTemplate:e.tooltipContentTemplate}).create().instance({additionalCssClasses:"folders",dataUriTemplate:e.contextPath+"/rest_v2/resources?{{= id != '@fakeRoot' ? 'folderUri=' + id : ''}}&recursive=false&type="+l.FOLDER+"&offset={{= offset }}&limit={{= limit }}",levelDataId:"uri",itemsTemplate:c,collapsed:!0,lazyLoad:!0,rootless:!0,selection:{allowed:!0,multiple:!1},customDataLayers:{"/":s.extend(new r({dataUriTemplate:e.contextPath+"/flow.html?_flowId=searchFlow&method=getNode&provider=repositoryExplorerTreeFoldersProvider&uri=/&depth=1",processors:s.chain(h).omit("filterPublicFolderProcessor","tenantProcessor").values().value(),getDataArray:function(e){e=o.parse(n(e).text());var i=s.find(e.children,function(e){return"/public"===e.uri}),r=[{id:"@fakeRoot",label:e.label,uri:"/",resourceType:"folder",permissionMask:t(e.extra),_links:{content:"@fakeContentLink"}}];return i&&r.push({id:"/public",label:i.label,uri:"/public",resourceType:"folder",permissionMask:t(i.extra),_links:{content:"@fakeContentLink"}}),r}}),{accept:"text/html",dataType:"text"})},processors:[h.i18n,h.folderTreeProcessor,h.filterPublicFolderProcessor],getDataArray:function(e,t,i){return e?e[l.RESOURCE_LOOKUP]:[]}})};return p.settings=d,p}),define("text!bi/repo/dialog/RepositoryChooserDialog/template/repositoryFolderChooserDialogTemplate.htm",[],function(){return'<div class="control groupBox treeBox">\n	<div class="content">\n		<div class="header ">\n			<div class="title"></div>\n		</div>\n		<div class="body"></div>\n	</div>\n</div>'}),define("text!bi/repo/dialog/RepositoryChooserDialog/template/repositoryFolderChooserDialogTooltipTemplate.htm",[],function(){return'<p class="message label">{{- model.i18n[\'tooltip.name\'] }}</p>\n<p class="message">{{- model.value.label }}</p>\n<p class="message label">{{- model.i18n[\'tooltip.path\'] }}</p>\n<p class="message">{{- model.value.uri }}</p>'}),define("bi/repo/dialog/RepositoryChooserDialog/RepositoryFolderChooserDialogView",["require","underscore","bundle!all","jrs.configs","common/component/dialog/Dialog","bi/repo/dialog/RepositoryChooserDialog/RepositoryFolderTreeFactory","text!./template/repositoryFolderChooserDialogTemplate.htm","text!./template/repositoryFolderChooserDialogTooltipTemplate.htm"],function(e){"use strict";var t=e("underscore"),i=e("bundle!all"),n=e("jrs.configs"),s=e("common/component/dialog/Dialog"),o=e("bi/repo/dialog/RepositoryChooserDialog/RepositoryFolderTreeFactory"),r=e("text!./template/repositoryFolderChooserDialogTemplate.htm"),a=e("text!./template/repositoryFolderChooserDialogTooltipTemplate.htm");return s.extend({constructor:function(e){e||(e={});var n="selectFolder newResizeableDialog";e.additionalCssClasses&&(n+=" "+e.additionalCssClasses),s.prototype.constructor.call(this,{modal:!0,resizable:!0,minWidth:400,minHeight:400,additionalCssClasses:n,title:i["repository.content"],content:t.template(r)({i18n:i}),buttons:[{label:i["button.select"],action:"select",primary:!0},{label:i["button.cancel"],action:"cancel",primary:!1}]}),this.on("button:select",t.bind(this._onSelectDialogButtonClick,this)),this.on("button:cancel",t.bind(this._onCancelDialogButtonClick,this))},initialize:function(e){s.prototype.initialize.apply(this,arguments),this.foldersTree=o({contextPath:n.contextPath,tooltipContentTemplate:a}),this.selectedResource={resourceUri:""},this.listenTo(this.foldersTree,"selection:change",function(e){var i;e&&t.isArray(e)&&e[0]&&e[0].uri&&(i=e[0].uri),this.selectedResource.resourceUri=i,this.enableButton("select")});var i=this.$contentContainer.find(".control.groupBox .body");i.append(this.foldersTree.render().el),this.disableButton("select")},open:function(){s.prototype.open.apply(this,arguments)},close:function(){s.prototype.close.apply(this,arguments)},remove:function(){this.foldersTree.remove(),s.prototype.remove.apply(this,arguments)},_onSelectDialogButtonClick:function(){this.close()},_onCancelDialogButtonClick:function(){this.selectedResource.resourceUri="",this.close()}})}),define("bi/repo/dialog/RepositoryChooserDialog/RepositoryChooserDialogFactory",["require","bi/repo/enum/repositoryResourceTypes","bi/repo/dialog/RepositoryChooserDialog/RepositoryItemChooserDialogView","bi/repo/dialog/RepositoryChooserDialog/RepositoryFolderChooserDialogView"],function(e){"use strict";var t=(e("bi/repo/enum/repositoryResourceTypes"),e("bi/repo/dialog/RepositoryChooserDialog/RepositoryItemChooserDialogView")),i=e("bi/repo/dialog/RepositoryChooserDialog/RepositoryFolderChooserDialogView"),n={item:t,folder:i};return{getDialog:function(e){var i;return i=t,n[e]&&(i=n[e]),i}}}),define("scheduler/view/editor/outputTabView",["require","jquery","underscore","bundle!all","jrs.configs","backbone","components.pickers","resource.base","text!scheduler/template/editor/outputTabTemplate.htm","bi/repo/dialog/RepositoryChooserDialog/RepositoryChooserDialogFactory"],function(e){"use strict";function t(e,i,n){var s,o=this,r=e.split("/");n=n||0;var a=r[n]?e.match(new RegExp(".*\\/"+r[n]))[0]:"/";return s=this.getLevel(a),n===r.length?i.resolve(r):void(s&&(s.collapsed?(s.once("ready",function(){t.call(o,e,i,n+1)}),s.open()):t.call(this,e,i,n+1)))}var i=e("jquery"),n=e("underscore"),s=e("bundle!all"),o=e("jrs.configs"),r=e("backbone"),a=(e("components.pickers"),e("resource.base"),e("text!scheduler/template/editor/outputTabTemplate.htm")),l=e("bi/repo/dialog/RepositoryChooserDialog/RepositoryChooserDialogFactory");return r.View.extend({events:{"click .ftp-test":"testFTPConnection","click [name=outputRepositoryButton]":"outputRepositoryButtonClick"},initialize:function(){var e=this;this.model.on("change:repositoryDestination",function(t,i){var n=t.get("repositoryDestination");e.$el.find("[name=ftpPort]").val(n.outputFTPInfo.port),e.$el.find("[name=useFTPS]").prop("checked","TYPE_FTPS"===n.outputFTPInfo.type)})},getFolderChooserDialog:function(){if(this.folderChooserDialog)return this.folderChooserDialog;var e=this,t=l.getDialog("folder");return this.folderChooserDialog=new t,this.listenTo(this.folderChooserDialog,"close",function(){var t;this.folderChooserDialog.selectedResource&&this.folderChooserDialog.selectedResource.resourceUri&&(t=this.folderChooserDialog.selectedResource.resourceUri,e.$el.find("[name=outputRepository]").val(t).trigger("change"))}),this.folderChooserDialog},outputRepositoryButtonClick:function(){var e=new i.Deferred,n=this.model.get("repositoryDestination").folderURI,s=n.split("/"),o=this.getFolderChooserDialog(),r=o.foldersTree,a=s.splice(0,s.length-1).join("/");o.open(),r.rootLevel.on("ready",function(){e.done(function(){r.select(n);var e=r.$el,t=e.parent(),i=r.getLevel(n).$el,s=i.offset().top-e.offset().top-t.height()/2;t.scrollTop(s)}),t.call(r,a,e)})},render:function(){var e=n.extend({},{_:n,i18n:s,timeZones:o.timeZones},this.model.attributes);this.setElement(i(n.template(a,e)));var t=this;this.$el.find("[name=outputToHostFileSystem]").attr("disabled","true"===o.enableSaveToHostFS||o.enableSaveToHostFS===!0?!1:"disabled"),this.map=[{attr:"baseOutputFilename",control:"baseOutputFilename"},{attr:"repositoryDestination/outputDescription",control:"outputDescription"},{attr:"outputTimeZone",control:"timeZone"},{attr:"outputLocale",control:"outputLocale"},{attr:"outputFormats/outputFormat",control:"outputFormats"},{attr:"repositoryDestination/overwriteFiles",control:"overwriteFiles"},{attr:"repositoryDestination/sequentialFilenames",control:"sequentialFilenames"},{attr:"repositoryDestination/timestampPattern",control:"timestampPattern"},{attr:"repositoryDestination",control:"timestampPattern",depends:"repositoryDestination/sequentialFilenames"},{attr:"repositoryDestination/saveToRepository",control:"outputToRepository"},{attr:"repositoryDestination",control:"outputRepository, outputRepositoryButton",depends:"repositoryDestination/saveToRepository"},{attr:"repositoryDestination/folderURI",control:"outputRepository"},{attr:"repositoryDestination",control:"outputHostFileSystem",depends:"repositoryDestination/outputLocalFolder",disabled:!("true"===o.enableSaveToHostFS||o.enableSaveToHostFS===!0)},{attr:"repositoryDestination/outputLocalFolder",control:"outputToHostFileSystem",getter:function(e){return!1===e?null:""},setter:function(e){return""===e||!!e}},{attr:"repositoryDestination/outputLocalFolder",control:"outputHostFileSystem"},{attr:"repositoryDestination/outputFTPInfo/enabled",control:"outputToFTPServer",getter:function(e){return e===!1&&t.$el.find("#ftpServerOutput").find(".error").removeClass("error"),e}},{attr:"repositoryDestination/outputFTPInfo",control:"ftpAddress, ftpDirectory, ftpUsername, ftpPassword, ftpTestButton, ftpPort, useFTPS",depends:"repositoryDestination/outputFTPInfo/enabled"},{attr:"repositoryDestination/outputFTPInfo/serverName",control:"ftpAddress"},{attr:"repositoryDestination/outputFTPInfo/folderPath",control:"ftpDirectory"},{attr:"repositoryDestination/outputFTPInfo/userName",control:"ftpUsername",setter:function(e){return"anonymous"==e?null:e}},{attr:"repositoryDestination/outputFTPInfo/password",control:"ftpPassword"},{attr:"repositoryDestination/outputFTPInfo/port",control:"ftpPort"}],n.each(this.map,function(e){if(e.control=e.control.split(","),e.control=e.control.map(function(e){return"[name="+e+"]"}),e.control=t.$el.find(e.control.join(",")),e.attr&&(e.attr=e.attr.split("/")),e.depends&&"!"===e.depends[0]&&(e.invert=!0,e.depends=e.depends.substr(1)),e.depends&&!e.attr){e.depends=t.$el.find("[name="+e.depends+"]");var s=function(){var t=e.setter?e.setter(e.depends):e.depends.val();e.control.attr("disabled",e.disabled?"disabled":e.invert?!!t:!t)};return e.depends.on("change",s),s()}t.model.on("change:"+e.attr[0],function(t,i){if(i=t.value(e.attr.join("/")),e.setter&&(i=e.setter(i)),e.depends){var n=t.value(e.depends);return e.setter?n=e.setter(n):""===n&&(n=!0),e.control.attr("disabled",e.disabled?"disabled":e.invert?!!n:!n)}e.control.is("[type=checkbox]")&&1===e.control.length?e.control.prop("checked",i):e.control.is("[type=radio]")?e.control.filter("[value="+i+"]").prop("checked",!0):e.control.val(i)}),e.control.length&&!e.depends&&e.control.on("change",function(){var s,o,r,a;if(o=e.control.is("[type=checkbox]")?e.control.filter(":checked").map(function(){return i(this).val()}).get():e.control.val(),e.control.is("[type=checkbox]")&&1===e.control.length&&(o=!!o[0]),e.control.is("[type=radio]")&&(o=e.control.filter(":checked").val()),e.getter&&(o=e.getter(o,n.clone(t.model.value(e.attr.join("/"))))),e.attr.length>1){a=r=n.clone(t.model.get(e.attr[0]));for(var l=1,c=e.attr.length-1;c>l;l++)s=e.attr[l],a[s]=a[s]?n.clone(a[s]):{},a=a[s];a[e.attr[e.attr.length-1]]=o}t.model.update(e.attr[0],r||o)})}),this.$el.find("[name=useFTPS]").on("click",function(){var e="TYPE_FTP",n="21";i(this).is(":checked")&&(e="TYPE_FTPS",n="990");var s=i.extend(!0,{},t.model.get("repositoryDestination"));s=s||{},s.outputFTPInfo=s.outputFTPInfo||{},s.outputFTPInfo.type=e,s.outputFTPInfo.port=n,t.model.update("repositoryDestination",s)})},testFTPConnection:function(){i("#ftpTestButton").addClass("disabled"),this.model.testFTPConnection(function(){i("#ftpTestButton").removeClass("disabled")})}})}),define("text!scheduler/template/editor/notificationsTabTemplate.htm",[],function(){return'<div class="notificationsTab">\n	<fieldset class="row inputs twoColumn_equal">\n		<div class="column secondary">\n			<div class="content">\n				<div id="jobSuccess" class="section">\n					<h4 class="title">\n						{{- i18n["report.scheduling.job.edit.email.header"] }}\n					</h4>\n					<fieldset class="group first">\n						<legend><span>\n							{{- i18n["report.scheduling.job.edit.sendreportwhenschedulerrunssuccessfully"] }}\n						</span></legend>\n						<label class="control input text">\n							<span class="wrap">\n								{{- i18n["report.scheduling.job.edit.email.label.to"] }}:\n							</span>\n							<input type="text" name="to_suc" />\n							<span class="message hint">\n								{{- i18n["report.scheduling.job.edit.usecommastoseparateaddresses"] }}\n							</span>\n							<div data-field="to_suc" class="warning message"></div>\n						</label>\n						<label class="control input text">\n							<span class="wrap">\n								{{- i18n["report.scheduling.job.edit.email.label.cc"] }}:\n							</span>\n							<input type="text" name="cc_suc" />\n							<div data-field="cc_suc" class="warning message"></div>\n						</label>\n						<label class="control input text">\n							<span class="wrap">\n								{{- i18n["report.scheduling.job.edit.email.label.bcc"] }}:\n							</span>\n							<input type="text" name="bcc_suc" />\n							<div data-field="bcc_suc" class="warning message"></div>\n						</label>\n						<label class="control input text">\n							<span class="wrap">\n								{{- i18n["report.scheduling.job.edit.email.label.subject"] }}:\n							</span>\n							<input type="text" name="subject_suc" />\n							<div data-field="subject_suc" class="warning message"></div>\n						</label>\n						<label class="control textArea">\n							<span class="wrap">\n								{{- i18n["report.scheduling.job.edit.email.label.message"] }}:\n							</span>\n							<textarea type="text" name="message_suc"></textarea>\n						</label>\n						<ul class="list inputSet">\n							<li class="leaf">\n								<div class="control radio">\n									<label for="jrsSchedule_resultTypeRadio1" class="wrap">\n										{{- i18n["report.scheduling.job.edit.includereportasrepositorylinksinemailbody"] }}\n									</label>\n									<input value="asRepoLinks" type="radio" name="resultSendTypeRadio" id="jrsSchedule_resultTypeRadio1" />\n								</div>\n							</li>\n							<li class="leaf">\n								<div class="control radio">\n									<label for="jrsSchedule_resultTypeRadio2" class="wrap">\n										{{- i18n["report.scheduling.job.edit.includereportfilesasattachments"] }}\n									</label>\n									<input value="asAttachedFiles" type="radio" name="resultSendTypeRadio" id="jrsSchedule_resultTypeRadio2">\n								</div>\n							</li>\n							<li class="leaf">\n								<div class="control radio">\n									<label for="jrsSchedule_resultTypeRadio3" class="wrap">\n										{{- i18n["report.scheduling.job.edit.includereportfiesaszip"] }}\n									</label>\n									<input value="asAttachedZip" type="radio" name="resultSendTypeRadio" id="jrsSchedule_resultTypeRadio3">\n								</div>\n							</li>\n							<li class="leaf">\n								<div class="control radio">\n									<label for="jrsSchedule_includeHtmlReport" class="wrap">\n										{{- i18n["report.scheduling.job.edit.includehtmlreportinemailbody"] }}\n									</label>\n									<input type="checkbox" name="includeHtmlReport" id="jrsSchedule_includeHtmlReport">\n								</div>\n							</li>\n							<li class="leaf">\n								<div class="control checkBox">\n									<label for="jrsSchedule_dont_send_empty_report" class="wrap">\n										{{- i18n["report.scheduling.job.edit.donotsendemailsforemptyreports"] }}\n									</label>\n									<input type="checkbox" name="dontSendEmptyReport" id="jrsSchedule_dont_send_empty_report">\n								</div>\n							</li>\n						</ul>\n					</fieldset>\n				</div>\n			</div>\n		</div>\n\n		<div class="column primary">\n			<div class="content">\n				<div id="jobNotification" class="section">\n					<fieldset class="group first">\n						<legend><span>\n							{{- i18n["report.scheduling.job.edit.sendjobstatusnotifications"] }}\n						</span></legend>\n						<label class="control input text">\n							<span class="wrap">\n								{{- i18n["report.scheduling.job.edit.email.label.to"] }}:\n							</span>\n							<input type="text" name="job_status_to">\n							<span class="message hint">\n								{{- i18n["report.scheduling.job.edit.usecommastoseparateaddresses"] }}\n							</span>\n							<div data-field="job_status_to" class="warning message"></div>\n						</label>\n						<label class="control input text">\n							<span class="wrap">\n								{{- i18n["report.scheduling.job.edit.email.label.subject"] }}:\n							</span>\n							<input type="text" name="job_status_subject">\n							<div data-field="job_status_subject" class="warning message"></div>\n						</label>\n						<ul class="list inputSet">\n							<li class="leaf last">\n								<div class="control checkBox">\n									<label for="jrsSchedule_send_success_notification" class="wrap">\n										{{- i18n["report.scheduling.job.edit.sendsuccessnotification"] }}\n									</label>\n									<input type="checkBox" name="send_success_notification" id="jrsSchedule_send_success_notification">\n								</div>\n								<label class="control textArea twoLine subItem">\n									<span class="wrap">\n										{{- i18n["report.scheduling.job.edit.email.label.successmessage"] }}:\n									</span>\n									<textarea type="text" name="job_status_success_message"></textarea>\n									<div data-field="job_status_success_message" class="warning message"></div>\n								</label>\n							</li>\n						</ul>\n						<ul id="failureIncludes" class="list inputSet">\n							<li class="leaf">\n								<div class="control checkBox">\n									<label for="jrsSchedule_send_failure_notification" class="wrap">\n										{{- i18n["report.scheduling.job.edit.sendfailurenotification"] }}\n									</label>\n									<input type="checkBox" name="send_failure_notification" id="jrsSchedule_send_failure_notification">\n								</div>\n								<label class="control textArea twoLine subItem">\n									<span class="wrap">\n										{{- i18n["report.scheduling.job.edit.email.label.failuremessage"] }}:\n									</span>\n									<textarea type="text" name="job_status_failed_message"></textarea>\n									<div data-field="job_status_failed_message" class="warning message"></div>\n								</label>\n							</li>\n							<ul class="list inputSet">\n								<li class="leaf">\n									<div class="control checkBox">\n										<label for="jrsSchedule_include_report" class="wrap">\n											{{- i18n["report.scheduling.job.edit.includereport"] }}\n										</label>\n										<input type="checkBox" name="include_report" id="jrsSchedule_include_report">\n									</div>\n								</li>\n								<li class="leaf">\n									<div class="control checkBox">\n										<label for="jrsSchedule_include_stack_trace" class="wrap">\n											{{- i18n["report.scheduling.job.edit.includestacktrace"] }}\n										</label>\n										<input type="checkBox" name="include_stack_trace" id="jrsSchedule_include_stack_trace">\n									</div>\n								</li>\n							</ul>\n						</ul>\n					</fieldset>\n				</div>\n			</div>\n		</div>\n	</fieldset>\n</div>';
}),define("scheduler/view/editor/notificationsTabView",["require","jquery","underscore","bundle!all","backbone","text!scheduler/template/editor/notificationsTabTemplate.htm"],function(e){"use strict";var t=e("jquery"),i=e("underscore"),n=e("bundle!all"),s=e("backbone"),o=e("text!scheduler/template/editor/notificationsTabTemplate.htm");return s.View.extend({events:{"change [name=to_suc]":"to_suc_Change","change [name=cc_suc]":"cc_suc_Change","change [name=bcc_suc]":"bcc_suc_Change","change [name=subject_suc]":"subject_suc_Change","change [name=message_suc]":"message_suc_Change","change [name=resultSendTypeRadio]":"setResultSendType","change [name=includeHtmlReport]":"setResultSendType","change [name=dontSendEmptyReport]":"dont_send_empty_report_Change","change [name=job_status_to]":"job_status_to_Change","change [name=job_status_subject]":"job_status_subject_Change","change [name=job_status_success_message]":"job_status_success_message_Change","change [name=job_status_failed_message]":"job_status_failed_message_Change","change [name=send_success_notification]":"twoCheckboxes_Change","change [name=send_failure_notification]":"twoCheckboxes_Change","change [name=include_report]":"include_report_Change","change [name=include_stack_trace]":"include_stack_trace_Change"},initialize:function(){var e=this;this.model.on("change:mailNotification",function(t){var i=t.get("mailNotification");if(i){e.$el.find("[name=to_suc]").val(i.toAddresses.address),e.$el.find("[name=cc_suc]").val(i.ccAddresses.address),e.$el.find("[name=bcc_suc]").val(i.bccAddresses.address),e.$el.find("[name=subject_suc]").val(i.subject),e.$el.find("[name=message_suc]").val(i.messageText),e.message_suc_DisabledEnabled(t);var n=!1,s="";switch(i.resultSendType){case"SEND":n=!1,s="asRepoLinks";break;case"SEND_EMBED":n=!0,s="asAttachedFiles";break;case"SEND_EMBED_ZIP_ALL_OTHERS":n=!0,s="asAttachedZip";break;case"SEND_ATTACHMENT":n=!1,s="asAttachedFiles";break;case"SEND_ATTACHMENT_ZIP_ALL":n=!1,s="asAttachedZip"}e.$el.find("[name=resultSendTypeRadio]").filter("[value="+s+"]").prop("checked",!0),e.asRepoLinks_DisabledEnabled(t),e.$el.find("[name=includeHtmlReport]").prop("checked",n),e.includeHtmlReport_DisabledEnabled(t),e.$el.find("[name=dontSendEmptyReport]").prop("checked",i.skipEmptyReports)}}),this.model.on("change:alert",function(t){var i=t.get("alert");i&&(e.$el.find("[name=job_status_to]").val(i.toAddresses.address),e.$el.find("[name=send_success_notification]").prop("checked",-1!==i.jobState.indexOf("SUCCESS_ONLY")||-1!==i.jobState.indexOf("ALL")),e.$el.find("[name=send_failure_notification]").prop("checked",-1!==i.jobState.indexOf("FAIL_ONLY")||-1!==i.jobState.indexOf("ALL")),e.$el.find("[name=job_status_subject]").val(i.subject),e.$el.find("[name=job_status_success_message]").val(i.messageText),e.$el.find("[name=job_status_failed_message]").val(i.messageTextWhenJobFails),e.$el.find("[name=include_report]").prop("checked",!!i.includingReportJobInfo),e.$el.find("[name=include_stack_trace]").prop("checked",!!i.includingStackTrace))}),this.model.on("change:outputFormats",function(t,i){var n=i.outputFormat.indexOf("HTML")>=0;if(!n){var s=e.model.get("mailNotification");if(s&&s.resultSendType&&("SEND_EMBED"===s.resultSendType||"SEND_EMBED_ZIP_ALL_OTHERS"===s.resultSendType)){var o="SEND",r=t.get("repositoryDestination");return r&&(r.saveToRepository||(o="SEND_ATTACHMENT")),void t.update("mailNotification",{resultSendType:o})}}e.includeHtmlReport_DisabledEnabled(t)}),this.model.on("change:repositoryDestination",function(t,i){var n=i.saveToRepository;if(!n){var s=e.model.get("mailNotification");if(s&&s.resultSendType&&"SEND"===s.resultSendType)return void t.update("mailNotification",{resultSendType:"SEND_ATTACHMENT"})}e.asRepoLinks_DisabledEnabled(t)})},render:function(){this.setElement(t(i.template(o,{i18n:n})))},includeHtmlReport_DisabledEnabled:function(e){var t=!0,i=e.get("mailNotification");i&&"SEND"===i.resultSendType&&(t=!1);var n=e.get("outputFormats");n&&-1===n.outputFormat.indexOf("HTML")&&(t=!1),this.$el.find("[name=includeHtmlReport]").prop("disabled",t?!1:"disabled")},message_suc_DisabledEnabled:function(e){var t=!0,i=e.get("mailNotification");i&&("SEND_EMBED"===i.resultSendType||"SEND_EMBED_ZIP_ALL_OTHERS"===i.resultSendType)&&(t=!1),this.$el.find("[name=message_suc]").prop("disabled",t?!1:"disabled")},asRepoLinks_DisabledEnabled:function(e){var t=!0,i=e.get("repositoryDestination");i&&(i.saveToRepository||(t=!1)),this.$el.find("[name=resultSendTypeRadio][value=asRepoLinks]").prop("disabled",t?!1:"disabled")},to_suc_Change:function(e){this.model.update("mailNotification",{toAddresses:{address:t(e.target).val()}})},cc_suc_Change:function(e){this.model.update("mailNotification",{ccAddresses:{address:t(e.target).val()}})},bcc_suc_Change:function(e){this.model.update("mailNotification",{bccAddresses:{address:t(e.target).val()}})},subject_suc_Change:function(e){this.model.update("mailNotification",{subject:t(e.target).val()})},message_suc_Change:function(e){this.model.update("mailNotification",{messageText:t(e.target).val()})},setResultSendType:function(e){var t=this.$el.find("[name=resultSendTypeRadio]").filter(":checked").val(),i=this.$el.find("[name=includeHtmlReport]").is(":checked"),n="";i?"asRepoLinks"===t?n="SEND":"asAttachedFiles"===t?n="SEND_EMBED":"asAttachedZip"===t&&(n="SEND_EMBED_ZIP_ALL_OTHERS"):"asRepoLinks"===t?n="SEND":"asAttachedFiles"===t?n="SEND_ATTACHMENT":"asAttachedZip"===t&&(n="SEND_ATTACHMENT_ZIP_ALL"),this.model.update("mailNotification",{resultSendType:n})},dont_send_empty_report_Change:function(e){this.model.update("mailNotification",{skipEmptyReports:t(e.target).is(":checked")})},job_status_to_Change:function(e){this.model.update("alert",{toAddresses:{address:t(e.target).val()}})},job_status_subject_Change:function(e){this.model.update("alert",{subject:t(e.target).val()})},twoCheckboxes_Change:function(e){var t=this.$el.find("[name=send_success_notification]").is(":checked"),i=this.$el.find("[name=send_failure_notification]").is(":checked"),n=[];t&&n.push("SUCCESS_ONLY"),i&&n.push("FAIL_ONLY"),0===n.length&&(n=["NONE"]),2===n.length&&(n=["ALL"]),n=n.join("|"),this.model.update("alert",{jobState:n})},job_status_success_message_Change:function(e){this.model.update("alert",{messageText:t(e.target).val()})},job_status_failed_message_Change:function(e){this.model.update("alert",{messageTextWhenJobFails:t(e.target).val()})},include_report_Change:function(e){this.model.update("alert",{includingReportJobInfo:t(e.target).is(":checked")})},include_stack_trace_Change:function(e){this.model.update("alert",{includingStackTrace:t(e.target).is(":checked")})}})}),define("text!scheduler/template/jobEditorViewTemplate.htm",[],function(){return'<div class="schedulerEditor page column decorated primary tabbed">\n	<div class="content hasFooter ">\n\n		<div class="header ">\n			<div class="title">{{- i18n["report.scheduling.new.schedule"] }}</div>\n			<div class="tabs">\n				<ul name="tabs" disableCoreEvents="true" class="control tabSet buttons horizontal">\n					<li data-tab="scheduleTab" class="tab">\n						<a class="button">\n							<span class="wrap">{{- i18n["report.scheduling.schedule"] }}</span>\n						</a>\n					</li>\n					<li data-tab="parametersTab" class="tab">\n						<a class="button">\n							<span class="wrap">{{- i18n["report.scheduling.job.edit.parameters.button"] }}</span>\n						</a>\n					</li>\n					<li data-tab="outputTab" class="tab">\n						<a class="button">\n							<span class="wrap">{{- i18n["report.scheduling.job.edit.output"] }}</span>\n						</a>\n					</li>\n					<li data-tab="notificationsTab" class="tab">\n						<a class="button">\n							<span class="wrap">{{- i18n["report.scheduling.job.edit.notifications"] }}</span>\n						</a>\n					</li>\n				</ul>\n\n				<div class="control tabSet anchor"></div>\n			</div>\n		</div>\n\n		<div class="body">\n			<fieldset class="schedule_for">\n				<legend class="title">{{- i18n["report.scheduling.job.edit.shedulefor"] }}:\n					<span class="path">{{- reportUri }}</span>\n				</legend>\n			</fieldset>\n\n			<div name="tabHolder">\n				<div class="tab" name="scheduleTab"></div>\n				<div class="tab" name="parametersTab"></div>\n				<div class="tab" name="outputTab"></div>\n				<div class="tab" name="notificationsTab"></div>\n			</div>\n		</div>\n\n		<div class="footer">\n			<fieldset>\n				{{ if (!runNowMode) { }}\n					<button name="openSaveDialog" class="button primary action up">\n						<span class="wrap">{{- i18n["button.save"] }}</span><span class="icon"></span>\n					</button>\n				{{ } else { }}\n					<button name="openSaveDialog" class="button primary action up">\n						<span class="wrap">{{- i18n["button.submit"] }}</span><span class="icon"></span>\n					</button>\n				{{ } }}\n				<button name="cancelJobCreation" class="button action up">\n					<span class="wrap">{{- i18n["button.cancel"] }}</span><span class="icon"></span>\n				</button>\n			</fieldset>\n		</div>\n	</div>\n</div>'}),define("scheduler/view/jobEditorView",["require","jquery","underscore","backbone","scheduler/model/jobModel","bundle!all","common/component/dialog/AlertDialog","scheduler/saveDialog/SaveDialogView","scheduler/view/editor/scheduleTabView","scheduler/view/editor/parametersTabView","scheduler/view/editor/outputTabView","scheduler/view/editor/notificationsTabView","scheduler/util/schedulerUtils","text!scheduler/template/jobEditorViewTemplate.htm"],function(e){"use strict";var t=e("jquery"),i=e("underscore"),n=e("backbone"),s=e("scheduler/model/jobModel"),o=e("bundle!all"),r=e("common/component/dialog/AlertDialog"),a=e("scheduler/saveDialog/SaveDialogView"),l=e("scheduler/view/editor/scheduleTabView"),c=e("scheduler/view/editor/parametersTabView"),u=e("scheduler/view/editor/outputTabView"),d=e("scheduler/view/editor/notificationsTabView"),h=(e("scheduler/util/schedulerUtils"),e("text!scheduler/template/jobEditorViewTemplate.htm"));return n.View.extend({editMode:!1,runNowMode:!1,events:{"mouseup [name=tabs] li":"tabChangeClickEvent","touchend [name=tabs] li":"tabChangeClickEvent","click [name=openSaveDialog]":"openSaveDialogClick","click [name=cancelJobCreation]":"cancelJobCreationClick"},initialize:function(e){this.options=i.extend({},e),this.model=new s,this.listenTo(this.model,"valid",this.validModelListener),this.listenTo(this.model,"invalid",this.invalidModelListener),this.listenTo(this.model,"clearAllErrors",this.clearAllValidationErrors),this.listenTo(this.model,"change:source",this.sourceKeyInModelChanged),this.listenTo(this.model,"failedToGet_IC",this.InputControlsNotLoaded),this.tabs={};var t={model:this.model,reportUri:this.options.reportUri,parentReportURI:this.options.parentReportURI};this.tabs.scheduleTab=new l(t),this.tabs.parametersTab=new c(t),this.tabs.outputTab=new u(t),this.tabs.notificationsTab=new d(t),this.listenTo(this.tabs.parametersTab,"IC_Displayed",this.InputControlsLoaded),this.listenTo(this.tabs.parametersTab,"failedToGet_IC",this.InputControlsNotLoaded)},remove:function(){this.tabs.scheduleTab.remove(),this.tabs.parametersTab.remove(),this.tabs.outputTab.remove(),this.tabs.notificationsTab.remove(),n.View.prototype.remove.apply(this,arguments)},tabChangeClickEvent:function(e){var i=t(e.currentTarget);if(!i.hasClass("disabled")){this.model.isValid();var n=this.$el.find("[name=tabHolder]").find(".error");if(n.length)return void this.changeActiveTab("error");var s=i.attr("data-tab");this.changeActiveTab(s)}},openSaveDialogClick:function(){this.startSavingProcess()},cancelJobCreationClick:function(){this.trigger("cancelJobCreation")},renderCreateNewJobInterface:function(){this.editMode=!1,this._render(),this.options.runInBackgroundMode||this.runNowMode?this.changeActiveTab("outputTab"):this.changeActiveTab("scheduleTab"),this.prepareSaveOrSubmitButton()},prepareModelForCreatingNewJob:function(){this.model.clear({silent:!0}),delete this.model.id,this.dontReactOnModelChange=!0,this.model.createFromUri(this.options.reportUri),this.dontReactOnModelChange=!1,this.runNowMode&&this.model.set("label","Immediate Execution"),this.model.loadParameters(this.options.parentReportURI||!1)},editExistingJob:function(e){this.editMode=!0;var t=this;this.model.clear({silent:!0}),this._render(),this.changeActiveTab("scheduleTab"),this.model.id=e,this.prepareSaveOrSubmitButton(),this.model.fetch({success:function(){t.setTitle(t.model.get("label"))}})},prepareSaveOrSubmitButton:function(){var e=this.$el.find("[name=openSaveDialog]"),i=this.$el.find(".footer #cancel");e.attr("disabled","disabled").addClass("disabled"),i.attr("disabled",null).removeClass("disabled"),this.saveButtonReady=new t.Deferred,this.saveButtonReady.done(function(){e.attr("disabled",null).removeClass("disabled")})},InputControlsLoaded:function(){this.saveButtonReady.resolve()},InputControlsNotLoaded:function(){this.saveButtonReady.resolve(),this.toggleEnableTab("parametersTab",!1)},setRunNowMode:function(e){this.runNowMode=!!e},_render:function(){var e={i18n:o,reportUri:this.options.reportUri,runNowMode:this.runNowMode};this.setElement(t(i.template(h,i.extend({},e)))),this.runNowMode&&this.$el.find("li[data-tab=scheduleTab]").addClass("disabled"),this.tabs.scheduleTab.render(),this.tabs.parametersTab.render(),this.tabs.outputTab.render(),this.tabs.notificationsTab.render(),this.$el.find("[name=scheduleTab]").append(this.tabs.scheduleTab.$el),this.$el.find("[name=parametersTab]").append(this.tabs.parametersTab.$el),this.$el.find("[name=outputTab]").append(this.tabs.outputTab.$el),this.$el.find("[name=notificationsTab]").append(this.tabs.notificationsTab.$el),this.currentActiveTabName=""},setTitle:function(e){this.$el.find(".header .title").text(e)},changeActiveTab:function(e){e&&("error"===e&&(e=this.$el.find("[name=tabHolder] > div").find(".error").first().parents(".tab").attr("name")),this.currentActiveTabName!==e&&(this.$el.find("[name=tabs] li").removeClass("selected").filter("[data-tab="+e+"]").addClass("selected"),this.$el.find("[name=tabHolder] > div").addClass("hidden").filter("[name="+e+"]").removeClass("hidden"),this.currentActiveTabName=e))},toggleEnableTab:function(e,t){var i=this.$el.find("[name=tabs] li").filter("[data-tab="+e+"]");i.attr("disabled",!t).toggleClass("disabled",!t),!t&&i.hasClass("selected")&&this.changeActiveTab(i.nextAll(":not(.disabled):first").data("tab"))},sourceKeyInModelChanged:function(e,t){var n;if(this.dontReactOnModelChange!==!0){t.parameters&&(n=1===i.keys(t.parameters.parameterValues).length,n&=!!t.parameters.parameterValues.REPORT_TIME_ZONE);var s=t.parameters&&!n;s||this.saveButtonReady.resolve(),this.toggleEnableTab("parametersTab",s),this.$el.find(".schedule_for").find(".path").text(t.reportUnitURI)}},_prepareSaveDialog:function(){this.saveDialog&&this.saveDialog.remove();var e=this;this.saveDialog=new a(i.extend({},this.options,{model:this.model,onSaveDone:i.bind(this._onSaveDone,this),onSaveFail:i.bind(this._onSaveFail,this)})),this.listenTo(this.saveDialog,"saveValidationFailed",function(){e.saveDialog.closeDialog()})},startSavingProcess:function(){return this.model.isValid(this.editMode)?(this._prepareSaveDialog(),void this.saveDialog.startSaveDialog()):void this.changeActiveTab("error")},_onSaveDone:function(){this.trigger("jobHasBeenCreated")},_onSaveFail:function(e,t,n){this.saveDialog.closeDialog();var s=this,a=!1,l=!1,c=!1;try{a=JSON.parse(t.responseText)}catch(u){}if(a.error&&(a=a.error),i.isArray(a)||(a=[a]),i.each(a,function(e){var t="",i="";if("mandatory.parameter.error"===e.errorCode&&(t=o["report.scheduling.saveDialog.parameterIsMissing"],e.parameters&&e.parameters[0]&&(i=e.parameters[0].substr(e.parameters[0].indexOf(".")+1))),"error.duplicate.report.job.output.filename"===e.errorCode&&(i="baseOutputFilename",t=o["error.duplicate.report.job.output.filename"].replace("{0}",e.errorArguments[0]).replace("{1}",e.errorArguments[1])),e.message&&-1!==e.message.indexOf("will never fire")&&(i="triggerWillNeverFire",t=o["error.report.job.trigger.no.fire"]),"error.pattern"===e.errorCode&&("trigger.hours"===e.field&&(i="hours",t=o["error.pattern.trigger.hours"]),"trigger.minutes"===e.field&&(i="minutes",t=o["error.pattern.trigger.minutes"]),"trigger.monthDays"===e.field&&(i="datesInMonth",t=o["error.pattern.trigger.monthDays"]),"contentRepositoryDestination.timestampPattern"===e.field&&(i="timestampPattern",t=o["error.pattern.contentRepositoryDestination.timestampPattern"])),"resource.not.found"===e.errorCode){var n=new r({modal:!0,additionalCssClasses:"schedulerJobRemovedAlertDialog"});return n.setMessage(o["report.scheduling.editing.jobHasBeenRemoved"]),s.listenTo(n,"close",function(){s.trigger("errorEditingJob")}),n.open(),void(l=!0)}""!==t&&(s.showValidationMessage("error",{field:i,message:t}),c=!0)}),l!==!0&&(c&&this.changeActiveTab("error"),c===!1)){var d=o["report.scheduling.editing.failedToSave"]+".";a[0]&&a[0].errorCode?d+="<br/>The reason is: "+a[0].errorCode:a.message&&(d+="<br/>The reason is: "+a.message),d+="<br/><br/>The full response from the server is: "+t.responseText,dialogs.errorPopup.show(d)}},clearAllValidationErrors:function(){this.$el.find(".error").removeClass("error")},validModelListener:function(e){var t=this;i.each(e,function(e){t.showValidationMessage("success",e)})},invalidModelListener:function(e,t){var n=this;i.each(e,function(e){n.showValidationMessage("error",e)}),t&&t.switchToErrors&&n.changeActiveTab("error")},showValidationMessage:function(e,t){if(t.field){"contentRepositoryDestination.folderURI"===t.field&&(t.field="contentRepositoryDestination.outputRepository"),t.field=t.field.replace("trigger.",""),t.field=t.field.replace("mailNotification.",""),t.field=t.field.replace("contentRepositoryDestination.","");var i=this.$el.find(".warning[data-field="+t.field+"]");i.parent().addClass("error"),i.removeClass("success").removeClass("error"),i.addClass(e);var n="";if(t.message)n=t.message;else if(t.errorCode){if(n=o[t.errorCode],!n)return;if(t.errorArguments)for(var s=0,r=t.errorArguments.length;r>s;s++)n=n.replace("{"+s+"}",t.errorArguments[s])}""!==n&&i.text(n)}}})}),define("scheduler/view/SchedulerApp",["require","jquery","underscore","bundle!all","backbone","!domReady","jrs.configs","scheduler/util/schedulerUtils","scheduler/view/jobsView","scheduler/view/jobEditorView"],function(e){"use strict";var t=e("jquery"),i=e("underscore"),n=(e("bundle!all"),e("backbone")),s=e("!domReady"),o=e("jrs.configs"),r=e("scheduler/util/schedulerUtils"),a=e("scheduler/view/jobsView"),l=e("scheduler/view/jobEditorView");return s(function(){i.extend(ControlsBase,o.inputControlsConstants)}),n.View.extend({className:"schedulerApp",jobsView:!1,initialize:function(e){this.options=i.extend({},e),this.runInBackgroundMode=0===document.location.hash.indexOf("#runInBackground@"),r.saveCurrentLocation(),this.schedulerStartupParams=r.getParamsFromUri(),this.masterViewMode=!this.schedulerStartupParams.reportUnitURI,this.childViewInitParams={runInBackgroundMode:this.runInBackgroundMode,masterViewMode:this.masterViewMode,reportUri:this.schedulerStartupParams.reportUnitURI,parentReportURI:this.schedulerStartupParams.parentReportURI||null},t.ajaxSetup({headers:{"X-Suppress-Basic":!0}}),t(document).on("ajaxError",function(e,t,i,n){(401===t.status||"Unauthorized"===n)&&location.reload()}),this.runInBackgroundMode?this.runNowRequest():this.openJobsListInterface()},prepareJobsView:function(){this.jobsView||(this.jobsView=new a(this.childViewInitParams),this.listenTo(this.jobsView,"createNewJobRequest",this.createNewJobRequest),this.listenTo(this.jobsView,"runNowRequest",this.runNowRequest),this.listenTo(this.jobsView,"backButtonPressed",this.backButtonPressed),this.listenTo(this.jobsView,"editJobPressed",this.openEditJobInterface))},prepareJobEditorView:function(){this.jobEditorView&&this.jobEditorView.remove(),this.jobEditorView=new l(this.childViewInitParams),this.listenTo(this.jobEditorView,"errorEditingJob",this.errorEditingJob),this.listenTo(this.jobEditorView,"cancelJobCreation",this.cancelJobCreation),this.listenTo(this.jobEditorView,"jobHasBeenCreated",this.jobHasBeenCreated)},openJobsListInterface:function(){this.prepareJobsView(),this.$el.empty(),this.jobsView.render(),this.$el.append(this.jobsView.$el),this.jobsView.refresh()},createNewJobRequest:function(){this._openNewJobInterface(!1)},runNowRequest:function(){this._openNewJobInterface(!0)},editJob:function(e){this.openEditJobInterface(e)},_openNewJobInterface:function(e){this.prepareJobEditorView(),this.jobEditorView.setRunNowMode(e),this.$el.empty(),this.jobEditorView.renderCreateNewJobInterface(),this.$el.append(this.jobEditorView.$el),this.jobEditorView.prepareModelForCreatingNewJob()},openEditJobInterface:function(e){this.prepareJobEditorView(),this.$el.empty(),this.jobEditorView.editExistingJob(e),this.$el.append(this.jobEditorView.$el)},backButtonPressed:function(){r.getBackToPreviousLocation()},errorEditingJob:function(){this.openJobsListInterface()},cancelJobCreation:function(){this.runInBackgroundMode?r.getBackToPreviousLocation():this.openJobsListInterface()},jobHasBeenCreated:function(){this.runInBackgroundMode?r.getBackToPreviousLocation():this.openJobsListInterface()}})}),define("scheduler/SchedulerController",["require","commons.main","jquery","scheduler/view/SchedulerApp","domReady"],function(e){"use strict";e("commons.main");var t=e("jquery"),i=e("scheduler/view/SchedulerApp"),n=e("domReady");n(function(){var e=new i;t("#display").append(e.$el)})});